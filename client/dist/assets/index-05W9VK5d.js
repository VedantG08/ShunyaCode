var fne=Object.defineProperty;var hne=(e,t,n)=>t in e?fne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var on=(e,t,n)=>hne(e,typeof t!="symbol"?t+"":t,n);function pne(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Y8e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var B9={exports:{}},_5={},S9={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv=Symbol.for("react.element"),gne=Symbol.for("react.portal"),mne=Symbol.for("react.fragment"),vne=Symbol.for("react.strict_mode"),yne=Symbol.for("react.profiler"),bne=Symbol.for("react.provider"),wne=Symbol.for("react.context"),Cne=Symbol.for("react.forward_ref"),Bne=Symbol.for("react.suspense"),Sne=Symbol.for("react.memo"),xne=Symbol.for("react.lazy"),aO=Symbol.iterator;function kne(e){return e===null||typeof e!="object"?null:(e=aO&&e[aO]||e["@@iterator"],typeof e=="function"?e:null)}var x9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k9=Object.assign,E9={};function Zp(e,t,n){this.props=e,this.context=t,this.refs=E9,this.updater=n||x9}Zp.prototype.isReactComponent={};Zp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function T9(){}T9.prototype=Zp.prototype;function MT(e,t,n){this.props=e,this.context=t,this.refs=E9,this.updater=n||x9}var RT=MT.prototype=new T9;RT.constructor=MT;k9(RT,Zp.prototype);RT.isPureReactComponent=!0;var oO=Array.isArray,_9=Object.prototype.hasOwnProperty,DT={current:null},P9={key:!0,ref:!0,__self:!0,__source:!0};function I9(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)_9.call(t,r)&&!P9.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Nv,type:e,key:a,ref:o,props:i,_owner:DT.current}}function Ene(e,t){return{$$typeof:Nv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function QT(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nv}function Tne(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sO=/\/+/g;function B4(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Tne(""+e.key):t.toString(36)}function _2(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Nv:case gne:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+B4(o,0):r,oO(i)?(n="",e!=null&&(n=e.replace(sO,"$&/")+"/"),_2(i,t,n,"",function(l){return l})):i!=null&&(QT(i)&&(i=Ene(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(sO,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",oO(e))for(var s=0;s<e.length;s++){a=e[s];var c=r+B4(a,s);o+=_2(a,t,n,c,i)}else if(c=kne(e),typeof c=="function")for(e=c.call(e),s=0;!(a=e.next()).done;)a=a.value,c=r+B4(a,s++),o+=_2(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ny(e,t,n){if(e==null)return e;var r=[],i=0;return _2(e,r,"","",function(a){return t.call(n,a,i++)}),r}function _ne(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xa={current:null},P2={transition:null},Pne={ReactCurrentDispatcher:xa,ReactCurrentBatchConfig:P2,ReactCurrentOwner:DT};function F9(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:ny,forEach:function(e,t,n){ny(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ny(e,function(){t++}),t},toArray:function(e){return ny(e,function(t){return t})||[]},only:function(e){if(!QT(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};jt.Component=Zp;jt.Fragment=mne;jt.Profiler=yne;jt.PureComponent=MT;jt.StrictMode=vne;jt.Suspense=Bne;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pne;jt.act=F9;jt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=k9({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=DT.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_9.call(t,c)&&!P9.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&s!==void 0?s[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];r.children=s}return{$$typeof:Nv,type:e.type,key:i,ref:a,props:r,_owner:o}};jt.createContext=function(e){return e={$$typeof:wne,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bne,_context:e},e.Consumer=e};jt.createElement=I9;jt.createFactory=function(e){var t=I9.bind(null,e);return t.type=e,t};jt.createRef=function(){return{current:null}};jt.forwardRef=function(e){return{$$typeof:Cne,render:e}};jt.isValidElement=QT;jt.lazy=function(e){return{$$typeof:xne,_payload:{_status:-1,_result:e},_init:_ne}};jt.memo=function(e,t){return{$$typeof:Sne,type:e,compare:t===void 0?null:t}};jt.startTransition=function(e){var t=P2.transition;P2.transition={};try{e()}finally{P2.transition=t}};jt.unstable_act=F9;jt.useCallback=function(e,t){return xa.current.useCallback(e,t)};jt.useContext=function(e){return xa.current.useContext(e)};jt.useDebugValue=function(){};jt.useDeferredValue=function(e){return xa.current.useDeferredValue(e)};jt.useEffect=function(e,t){return xa.current.useEffect(e,t)};jt.useId=function(){return xa.current.useId()};jt.useImperativeHandle=function(e,t,n){return xa.current.useImperativeHandle(e,t,n)};jt.useInsertionEffect=function(e,t){return xa.current.useInsertionEffect(e,t)};jt.useLayoutEffect=function(e,t){return xa.current.useLayoutEffect(e,t)};jt.useMemo=function(e,t){return xa.current.useMemo(e,t)};jt.useReducer=function(e,t,n){return xa.current.useReducer(e,t,n)};jt.useRef=function(e){return xa.current.useRef(e)};jt.useState=function(e){return xa.current.useState(e)};jt.useSyncExternalStore=function(e,t,n){return xa.current.useSyncExternalStore(e,t,n)};jt.useTransition=function(){return xa.current.useTransition()};jt.version="18.3.1";S9.exports=jt;var y=S9.exports;const O9=Gu(y),L9=pne({__proto__:null,default:O9},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ine=y,Fne=Symbol.for("react.element"),One=Symbol.for("react.fragment"),Lne=Object.prototype.hasOwnProperty,Une=Ine.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nne={key:!0,ref:!0,__self:!0,__source:!0};function U9(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Lne.call(t,r)&&!Nne.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Fne,type:e,key:a,ref:o,props:i,_owner:Une.current}}_5.Fragment=One;_5.jsx=U9;_5.jsxs=U9;B9.exports=_5;var L=B9.exports,Zx={},N9={exports:{}},Po={},M9={exports:{}},R9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,te){var de=W.length;W.push(te);e:for(;0<de;){var pe=de-1>>>1,R=W[pe];if(0<i(R,te))W[pe]=te,W[de]=R,de=pe;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var te=W[0],de=W.pop();if(de!==te){W[0]=de;e:for(var pe=0,R=W.length,z=R>>>1;pe<z;){var X=2*(pe+1)-1,re=W[X],oe=X+1,ce=W[oe];if(0>i(re,de))oe<R&&0>i(ce,re)?(W[pe]=ce,W[oe]=de,pe=oe):(W[pe]=re,W[X]=de,pe=X);else if(oe<R&&0>i(ce,de))W[pe]=ce,W[oe]=de,pe=oe;else break e}}return te}function i(W,te){var de=W.sortIndex-te.sortIndex;return de!==0?de:W.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],A=1,u=null,d=3,f=!1,h=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(W){for(var te=n(l);te!==null;){if(te.callback===null)r(l);else if(te.startTime<=W)r(l),te.sortIndex=te.expirationTime,t(c,te);else break;te=n(l)}}function C(W){if(p=!1,B(W),!h)if(n(c)!==null)h=!0,ae(S);else{var te=n(l);te!==null&&ie(C,te.startTime-W)}}function S(W,te){h=!1,p&&(p=!1,m(F),F=-1),f=!0;var de=d;try{for(B(te),u=n(c);u!==null&&(!(u.expirationTime>te)||W&&!T());){var pe=u.callback;if(typeof pe=="function"){u.callback=null,d=u.priorityLevel;var R=pe(u.expirationTime<=te);te=e.unstable_now(),typeof R=="function"?u.callback=R:u===n(c)&&r(c),B(te)}else r(c);u=n(c)}if(u!==null)var z=!0;else{var X=n(l);X!==null&&ie(C,X.startTime-te),z=!1}return z}finally{u=null,d=de,f=!1}}var k=!1,_=null,F=-1,P=5,U=-1;function T(){return!(e.unstable_now()-U<P)}function O(){if(_!==null){var W=e.unstable_now();U=W;var te=!0;try{te=_(!0,W)}finally{te?H():(k=!1,_=null)}}else k=!1}var H;if(typeof w=="function")H=function(){w(O)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Z=$.port2;$.port1.onmessage=O,H=function(){Z.postMessage(null)}}else H=function(){v(O,0)};function ae(W){_=W,k||(k=!0,H())}function ie(W,te){F=v(function(){W(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){h||f||(h=!0,ae(S))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(W){switch(d){case 1:case 2:case 3:var te=3;break;default:te=d}var de=d;d=te;try{return W()}finally{d=de}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,te){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var de=d;d=W;try{return te()}finally{d=de}},e.unstable_scheduleCallback=function(W,te,de){var pe=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?pe+de:pe):de=pe,W){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=de+R,W={id:A++,callback:te,priorityLevel:W,startTime:de,expirationTime:R,sortIndex:-1},de>pe?(W.sortIndex=de,t(l,W),n(c)===null&&W===n(l)&&(p?(m(F),F=-1):p=!0,ie(C,de-pe))):(W.sortIndex=R,t(c,W),h||f||(h=!0,ae(S))),W},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(W){var te=d;return function(){var de=d;d=te;try{return W.apply(this,arguments)}finally{d=de}}}})(R9);M9.exports=R9;var Mne=M9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rne=y,So=Mne;function Me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D9=new Set,O0={};function Mf(e,t){wp(e,t),wp(e+"Capture",t)}function wp(e,t){for(O0[e]=t,e=0;e<t.length;e++)D9.add(t[e])}var Yl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),e3=Object.prototype.hasOwnProperty,Dne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cO={},lO={};function Qne(e){return e3.call(lO,e)?!0:e3.call(cO,e)?!1:Dne.test(e)?lO[e]=!0:(cO[e]=!0,!1)}function jne(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hne(e,t,n,r){if(t===null||typeof t>"u"||jne(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ka(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Vi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vi[e]=new ka(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vi[t]=new ka(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vi[e]=new ka(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vi[e]=new ka(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vi[e]=new ka(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vi[e]=new ka(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vi[e]=new ka(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vi[e]=new ka(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vi[e]=new ka(e,5,!1,e.toLowerCase(),null,!1,!1)});var jT=/[\-:]([a-z])/g;function HT(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jT,HT);Vi[t]=new ka(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jT,HT);Vi[t]=new ka(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jT,HT);Vi[t]=new ka(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vi[e]=new ka(e,1,!1,e.toLowerCase(),null,!1,!1)});Vi.xlinkHref=new ka("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vi[e]=new ka(e,1,!1,e.toLowerCase(),null,!0,!0)});function $T(e,t,n,r){var i=Vi.hasOwnProperty(t)?Vi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hne(t,n,i,r)&&(n=null),r||i===null?Qne(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var pA=Rne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ry=Symbol.for("react.element"),Fh=Symbol.for("react.portal"),Oh=Symbol.for("react.fragment"),KT=Symbol.for("react.strict_mode"),t3=Symbol.for("react.profiler"),Q9=Symbol.for("react.provider"),j9=Symbol.for("react.context"),VT=Symbol.for("react.forward_ref"),n3=Symbol.for("react.suspense"),r3=Symbol.for("react.suspense_list"),zT=Symbol.for("react.memo"),ZA=Symbol.for("react.lazy"),H9=Symbol.for("react.offscreen"),AO=Symbol.iterator;function am(e){return e===null||typeof e!="object"?null:(e=AO&&e[AO]||e["@@iterator"],typeof e=="function"?e:null)}var ir=Object.assign,S4;function Hm(e){if(S4===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);S4=t&&t[1]||""}return`
`+S4+e}var x4=!1;function k4(e,t){if(!e||x4)return"";x4=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=s);break}}}finally{x4=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Hm(e):""}function $ne(e){switch(e.tag){case 5:return Hm(e.type);case 16:return Hm("Lazy");case 13:return Hm("Suspense");case 19:return Hm("SuspenseList");case 0:case 2:case 15:return e=k4(e.type,!1),e;case 11:return e=k4(e.type.render,!1),e;case 1:return e=k4(e.type,!0),e;default:return""}}function i3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Oh:return"Fragment";case Fh:return"Portal";case t3:return"Profiler";case KT:return"StrictMode";case n3:return"Suspense";case r3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case j9:return(e.displayName||"Context")+".Consumer";case Q9:return(e._context.displayName||"Context")+".Provider";case VT:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zT:return t=e.displayName||null,t!==null?t:i3(e.type)||"Memo";case ZA:t=e._payload,e=e._init;try{return i3(e(t))}catch{}}return null}function Kne(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return i3(t);case 8:return t===KT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $9(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vne(e){var t=$9(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function iy(e){e._valueTracker||(e._valueTracker=Vne(e))}function K9(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$9(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Bb(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function a3(e,t){var n=t.checked;return ir({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function uO(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Mu(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function V9(e,t){t=t.checked,t!=null&&$T(e,"checked",t,!1)}function o3(e,t){V9(e,t);var n=Mu(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?s3(e,t.type,n):t.hasOwnProperty("defaultValue")&&s3(e,t.type,Mu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dO(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function s3(e,t,n){(t!=="number"||Bb(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $m=Array.isArray;function Jh(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Mu(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function c3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Me(91));return ir({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fO(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Me(92));if($m(n)){if(1<n.length)throw Error(Me(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Mu(n)}}function z9(e,t){var n=Mu(t.value),r=Mu(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function hO(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function W9(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function l3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?W9(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ay,G9=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ay=ay||document.createElement("div"),ay.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ay.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function L0(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var s0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zne=["Webkit","ms","Moz","O"];Object.keys(s0).forEach(function(e){zne.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),s0[t]=s0[e]})});function q9(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||s0.hasOwnProperty(e)&&s0[e]?(""+t).trim():t+"px"}function Y9(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=q9(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Wne=ir({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function A3(e,t){if(t){if(Wne[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Me(62))}}function u3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d3=null;function WT(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var f3=null,Zh=null,ep=null;function pO(e){if(e=Dv(e)){if(typeof f3!="function")throw Error(Me(280));var t=e.stateNode;t&&(t=L5(t),f3(e.stateNode,e.type,t))}}function X9(e){Zh?ep?ep.push(e):ep=[e]:Zh=e}function J9(){if(Zh){var e=Zh,t=ep;if(ep=Zh=null,pO(e),t)for(e=0;e<t.length;e++)pO(t[e])}}function Z9(e,t){return e(t)}function ej(){}var E4=!1;function tj(e,t,n){if(E4)return e(t,n);E4=!0;try{return Z9(e,t,n)}finally{E4=!1,(Zh!==null||ep!==null)&&(ej(),J9())}}function U0(e,t){var n=e.stateNode;if(n===null)return null;var r=L5(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Me(231,t,typeof n));return n}var h3=!1;if(Yl)try{var om={};Object.defineProperty(om,"passive",{get:function(){h3=!0}}),window.addEventListener("test",om,om),window.removeEventListener("test",om,om)}catch{h3=!1}function Gne(e,t,n,r,i,a,o,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(A){this.onError(A)}}var c0=!1,Sb=null,xb=!1,p3=null,qne={onError:function(e){c0=!0,Sb=e}};function Yne(e,t,n,r,i,a,o,s,c){c0=!1,Sb=null,Gne.apply(qne,arguments)}function Xne(e,t,n,r,i,a,o,s,c){if(Yne.apply(this,arguments),c0){if(c0){var l=Sb;c0=!1,Sb=null}else throw Error(Me(198));xb||(xb=!0,p3=l)}}function Rf(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gO(e){if(Rf(e)!==e)throw Error(Me(188))}function Jne(e){var t=e.alternate;if(!t){if(t=Rf(e),t===null)throw Error(Me(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return gO(i),e;if(a===r)return gO(i),t;a=a.sibling}throw Error(Me(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(Me(189))}}if(n.alternate!==r)throw Error(Me(190))}if(n.tag!==3)throw Error(Me(188));return n.stateNode.current===n?e:t}function rj(e){return e=Jne(e),e!==null?ij(e):null}function ij(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ij(e);if(t!==null)return t;e=e.sibling}return null}var aj=So.unstable_scheduleCallback,mO=So.unstable_cancelCallback,Zne=So.unstable_shouldYield,ere=So.unstable_requestPaint,kr=So.unstable_now,tre=So.unstable_getCurrentPriorityLevel,GT=So.unstable_ImmediatePriority,oj=So.unstable_UserBlockingPriority,kb=So.unstable_NormalPriority,nre=So.unstable_LowPriority,sj=So.unstable_IdlePriority,P5=null,Nc=null;function rre(e){if(Nc&&typeof Nc.onCommitFiberRoot=="function")try{Nc.onCommitFiberRoot(P5,e,void 0,(e.current.flags&128)===128)}catch{}}var Vs=Math.clz32?Math.clz32:ore,ire=Math.log,are=Math.LN2;function ore(e){return e>>>=0,e===0?32:31-(ire(e)/are|0)|0}var oy=64,sy=4194304;function Km(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Eb(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Km(s):(a&=o,a!==0&&(r=Km(a)))}else o=n&~i,o!==0?r=Km(o):a!==0&&(r=Km(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Vs(t),i=1<<n,r|=e[n],t&=~i;return r}function sre(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cre(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Vs(a),s=1<<o,c=i[o];c===-1?(!(s&n)||s&r)&&(i[o]=sre(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}}function g3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cj(){var e=oy;return oy<<=1,!(oy&4194240)&&(oy=64),e}function T4(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Mv(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vs(t),e[t]=n}function lre(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Vs(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function qT(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Vs(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gn=0;function lj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Aj,YT,uj,dj,fj,m3=!1,cy=[],bu=null,wu=null,Cu=null,N0=new Map,M0=new Map,au=[],Are="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vO(e,t){switch(e){case"focusin":case"focusout":bu=null;break;case"dragenter":case"dragleave":wu=null;break;case"mouseover":case"mouseout":Cu=null;break;case"pointerover":case"pointerout":N0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":M0.delete(t.pointerId)}}function sm(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Dv(t),t!==null&&YT(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ure(e,t,n,r,i){switch(t){case"focusin":return bu=sm(bu,e,t,n,r,i),!0;case"dragenter":return wu=sm(wu,e,t,n,r,i),!0;case"mouseover":return Cu=sm(Cu,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return N0.set(a,sm(N0.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,M0.set(a,sm(M0.get(a)||null,e,t,n,r,i)),!0}return!1}function hj(e){var t=Rd(e.target);if(t!==null){var n=Rf(t);if(n!==null){if(t=n.tag,t===13){if(t=nj(n),t!==null){e.blockedOn=t,fj(e.priority,function(){uj(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function I2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=v3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);d3=r,n.target.dispatchEvent(r),d3=null}else return t=Dv(n),t!==null&&YT(t),e.blockedOn=n,!1;t.shift()}return!0}function yO(e,t,n){I2(e)&&n.delete(t)}function dre(){m3=!1,bu!==null&&I2(bu)&&(bu=null),wu!==null&&I2(wu)&&(wu=null),Cu!==null&&I2(Cu)&&(Cu=null),N0.forEach(yO),M0.forEach(yO)}function cm(e,t){e.blockedOn===t&&(e.blockedOn=null,m3||(m3=!0,So.unstable_scheduleCallback(So.unstable_NormalPriority,dre)))}function R0(e){function t(i){return cm(i,e)}if(0<cy.length){cm(cy[0],e);for(var n=1;n<cy.length;n++){var r=cy[n];r.blockedOn===e&&(r.blockedOn=null)}}for(bu!==null&&cm(bu,e),wu!==null&&cm(wu,e),Cu!==null&&cm(Cu,e),N0.forEach(t),M0.forEach(t),n=0;n<au.length;n++)r=au[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<au.length&&(n=au[0],n.blockedOn===null);)hj(n),n.blockedOn===null&&au.shift()}var tp=pA.ReactCurrentBatchConfig,Tb=!0;function fre(e,t,n,r){var i=gn,a=tp.transition;tp.transition=null;try{gn=1,XT(e,t,n,r)}finally{gn=i,tp.transition=a}}function hre(e,t,n,r){var i=gn,a=tp.transition;tp.transition=null;try{gn=4,XT(e,t,n,r)}finally{gn=i,tp.transition=a}}function XT(e,t,n,r){if(Tb){var i=v3(e,t,n,r);if(i===null)R4(e,t,r,_b,n),vO(e,r);else if(ure(i,e,t,n,r))r.stopPropagation();else if(vO(e,r),t&4&&-1<Are.indexOf(e)){for(;i!==null;){var a=Dv(i);if(a!==null&&Aj(a),a=v3(e,t,n,r),a===null&&R4(e,t,r,_b,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else R4(e,t,r,null,n)}}var _b=null;function v3(e,t,n,r){if(_b=null,e=WT(r),e=Rd(e),e!==null)if(t=Rf(e),t===null)e=null;else if(n=t.tag,n===13){if(e=nj(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _b=e,null}function pj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tre()){case GT:return 1;case oj:return 4;case kb:case nre:return 16;case sj:return 536870912;default:return 16}default:return 16}}var Au=null,JT=null,F2=null;function gj(){if(F2)return F2;var e,t=JT,n=t.length,r,i="value"in Au?Au.value:Au.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return F2=i.slice(e,1<r?1-r:void 0)}function O2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ly(){return!0}function bO(){return!1}function Io(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ly:bO,this.isPropagationStopped=bO,this}return ir(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ly)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ly)},persist:function(){},isPersistent:ly}),t}var eg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ZT=Io(eg),Rv=ir({},eg,{view:0,detail:0}),pre=Io(Rv),_4,P4,lm,I5=ir({},Rv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:e_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lm&&(lm&&e.type==="mousemove"?(_4=e.screenX-lm.screenX,P4=e.screenY-lm.screenY):P4=_4=0,lm=e),_4)},movementY:function(e){return"movementY"in e?e.movementY:P4}}),wO=Io(I5),gre=ir({},I5,{dataTransfer:0}),mre=Io(gre),vre=ir({},Rv,{relatedTarget:0}),I4=Io(vre),yre=ir({},eg,{animationName:0,elapsedTime:0,pseudoElement:0}),bre=Io(yre),wre=ir({},eg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cre=Io(wre),Bre=ir({},eg,{data:0}),CO=Io(Bre),Sre={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xre={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kre={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ere(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kre[e])?!!t[e]:!1}function e_(){return Ere}var Tre=ir({},Rv,{key:function(e){if(e.key){var t=Sre[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=O2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xre[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:e_,charCode:function(e){return e.type==="keypress"?O2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?O2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_re=Io(Tre),Pre=ir({},I5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BO=Io(Pre),Ire=ir({},Rv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:e_}),Fre=Io(Ire),Ore=ir({},eg,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lre=Io(Ore),Ure=ir({},I5,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nre=Io(Ure),Mre=[9,13,27,32],t_=Yl&&"CompositionEvent"in window,l0=null;Yl&&"documentMode"in document&&(l0=document.documentMode);var Rre=Yl&&"TextEvent"in window&&!l0,mj=Yl&&(!t_||l0&&8<l0&&11>=l0),SO=" ",xO=!1;function vj(e,t){switch(e){case"keyup":return Mre.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lh=!1;function Dre(e,t){switch(e){case"compositionend":return yj(t);case"keypress":return t.which!==32?null:(xO=!0,SO);case"textInput":return e=t.data,e===SO&&xO?null:e;default:return null}}function Qre(e,t){if(Lh)return e==="compositionend"||!t_&&vj(e,t)?(e=gj(),F2=JT=Au=null,Lh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mj&&t.locale!=="ko"?null:t.data;default:return null}}var jre={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jre[e.type]:t==="textarea"}function bj(e,t,n,r){X9(r),t=Pb(t,"onChange"),0<t.length&&(n=new ZT("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var A0=null,D0=null;function Hre(e){Ij(e,0)}function F5(e){var t=Mh(e);if(K9(t))return e}function $re(e,t){if(e==="change")return t}var wj=!1;if(Yl){var F4;if(Yl){var O4="oninput"in document;if(!O4){var EO=document.createElement("div");EO.setAttribute("oninput","return;"),O4=typeof EO.oninput=="function"}F4=O4}else F4=!1;wj=F4&&(!document.documentMode||9<document.documentMode)}function TO(){A0&&(A0.detachEvent("onpropertychange",Cj),D0=A0=null)}function Cj(e){if(e.propertyName==="value"&&F5(D0)){var t=[];bj(t,D0,e,WT(e)),tj(Hre,t)}}function Kre(e,t,n){e==="focusin"?(TO(),A0=t,D0=n,A0.attachEvent("onpropertychange",Cj)):e==="focusout"&&TO()}function Vre(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return F5(D0)}function zre(e,t){if(e==="click")return F5(t)}function Wre(e,t){if(e==="input"||e==="change")return F5(t)}function Gre(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qs=typeof Object.is=="function"?Object.is:Gre;function Q0(e,t){if(qs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!e3.call(t,i)||!qs(e[i],t[i]))return!1}return!0}function _O(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function PO(e,t){var n=_O(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_O(n)}}function Bj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sj(){for(var e=window,t=Bb();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bb(e.document)}return t}function n_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qre(e){var t=Sj(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Bj(n.ownerDocument.documentElement,n)){if(r!==null&&n_(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=PO(n,a);var o=PO(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yre=Yl&&"documentMode"in document&&11>=document.documentMode,Uh=null,y3=null,u0=null,b3=!1;function IO(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;b3||Uh==null||Uh!==Bb(r)||(r=Uh,"selectionStart"in r&&n_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),u0&&Q0(u0,r)||(u0=r,r=Pb(y3,"onSelect"),0<r.length&&(t=new ZT("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Uh)))}function Ay(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nh={animationend:Ay("Animation","AnimationEnd"),animationiteration:Ay("Animation","AnimationIteration"),animationstart:Ay("Animation","AnimationStart"),transitionend:Ay("Transition","TransitionEnd")},L4={},xj={};Yl&&(xj=document.createElement("div").style,"AnimationEvent"in window||(delete Nh.animationend.animation,delete Nh.animationiteration.animation,delete Nh.animationstart.animation),"TransitionEvent"in window||delete Nh.transitionend.transition);function O5(e){if(L4[e])return L4[e];if(!Nh[e])return e;var t=Nh[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xj)return L4[e]=t[n];return e}var kj=O5("animationend"),Ej=O5("animationiteration"),Tj=O5("animationstart"),_j=O5("transitionend"),Pj=new Map,FO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qu(e,t){Pj.set(e,t),Mf(t,[e])}for(var U4=0;U4<FO.length;U4++){var N4=FO[U4],Xre=N4.toLowerCase(),Jre=N4[0].toUpperCase()+N4.slice(1);qu(Xre,"on"+Jre)}qu(kj,"onAnimationEnd");qu(Ej,"onAnimationIteration");qu(Tj,"onAnimationStart");qu("dblclick","onDoubleClick");qu("focusin","onFocus");qu("focusout","onBlur");qu(_j,"onTransitionEnd");wp("onMouseEnter",["mouseout","mouseover"]);wp("onMouseLeave",["mouseout","mouseover"]);wp("onPointerEnter",["pointerout","pointerover"]);wp("onPointerLeave",["pointerout","pointerover"]);Mf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zre=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vm));function OO(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Xne(r,t,void 0,e),e.currentTarget=null}function Ij(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;OO(i,s,l),a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;OO(i,s,l),a=c}}}if(xb)throw e=p3,xb=!1,p3=null,e}function Nn(e,t){var n=t[x3];n===void 0&&(n=t[x3]=new Set);var r=e+"__bubble";n.has(r)||(Fj(t,e,2,!1),n.add(r))}function M4(e,t,n){var r=0;t&&(r|=4),Fj(n,e,r,t)}var uy="_reactListening"+Math.random().toString(36).slice(2);function j0(e){if(!e[uy]){e[uy]=!0,D9.forEach(function(n){n!=="selectionchange"&&(Zre.has(n)||M4(n,!1,e),M4(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[uy]||(t[uy]=!0,M4("selectionchange",!1,t))}}function Fj(e,t,n,r){switch(pj(t)){case 1:var i=fre;break;case 4:i=hre;break;default:i=XT}n=i.bind(null,t,n,e),i=void 0,!h3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function R4(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Rd(s),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}s=s.parentNode}}r=r.return}tj(function(){var l=a,A=WT(n),u=[];e:{var d=Pj.get(e);if(d!==void 0){var f=ZT,h=e;switch(e){case"keypress":if(O2(n)===0)break e;case"keydown":case"keyup":f=_re;break;case"focusin":h="focus",f=I4;break;case"focusout":h="blur",f=I4;break;case"beforeblur":case"afterblur":f=I4;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=wO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=mre;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Fre;break;case kj:case Ej:case Tj:f=bre;break;case _j:f=Lre;break;case"scroll":f=pre;break;case"wheel":f=Nre;break;case"copy":case"cut":case"paste":f=Cre;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=BO}var p=(t&4)!==0,v=!p&&e==="scroll",m=p?d!==null?d+"Capture":null:d;p=[];for(var w=l,B;w!==null;){B=w;var C=B.stateNode;if(B.tag===5&&C!==null&&(B=C,m!==null&&(C=U0(w,m),C!=null&&p.push(H0(w,C,B)))),v)break;w=w.return}0<p.length&&(d=new f(d,h,null,n,A),u.push({event:d,listeners:p}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",d&&n!==d3&&(h=n.relatedTarget||n.fromElement)&&(Rd(h)||h[Xl]))break e;if((f||d)&&(d=A.window===A?A:(d=A.ownerDocument)?d.defaultView||d.parentWindow:window,f?(h=n.relatedTarget||n.toElement,f=l,h=h?Rd(h):null,h!==null&&(v=Rf(h),h!==v||h.tag!==5&&h.tag!==6)&&(h=null)):(f=null,h=l),f!==h)){if(p=wO,C="onMouseLeave",m="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(p=BO,C="onPointerLeave",m="onPointerEnter",w="pointer"),v=f==null?d:Mh(f),B=h==null?d:Mh(h),d=new p(C,w+"leave",f,n,A),d.target=v,d.relatedTarget=B,C=null,Rd(A)===l&&(p=new p(m,w+"enter",h,n,A),p.target=B,p.relatedTarget=v,C=p),v=C,f&&h)t:{for(p=f,m=h,w=0,B=p;B;B=sh(B))w++;for(B=0,C=m;C;C=sh(C))B++;for(;0<w-B;)p=sh(p),w--;for(;0<B-w;)m=sh(m),B--;for(;w--;){if(p===m||m!==null&&p===m.alternate)break t;p=sh(p),m=sh(m)}p=null}else p=null;f!==null&&LO(u,d,f,p,!1),h!==null&&v!==null&&LO(u,v,h,p,!0)}}e:{if(d=l?Mh(l):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var S=$re;else if(kO(d))if(wj)S=Wre;else{S=Vre;var k=Kre}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=zre);if(S&&(S=S(e,l))){bj(u,S,n,A);break e}k&&k(e,d,l),e==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&s3(d,"number",d.value)}switch(k=l?Mh(l):window,e){case"focusin":(kO(k)||k.contentEditable==="true")&&(Uh=k,y3=l,u0=null);break;case"focusout":u0=y3=Uh=null;break;case"mousedown":b3=!0;break;case"contextmenu":case"mouseup":case"dragend":b3=!1,IO(u,n,A);break;case"selectionchange":if(Yre)break;case"keydown":case"keyup":IO(u,n,A)}var _;if(t_)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Lh?vj(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(mj&&n.locale!=="ko"&&(Lh||F!=="onCompositionStart"?F==="onCompositionEnd"&&Lh&&(_=gj()):(Au=A,JT="value"in Au?Au.value:Au.textContent,Lh=!0)),k=Pb(l,F),0<k.length&&(F=new CO(F,e,null,n,A),u.push({event:F,listeners:k}),_?F.data=_:(_=yj(n),_!==null&&(F.data=_)))),(_=Rre?Dre(e,n):Qre(e,n))&&(l=Pb(l,"onBeforeInput"),0<l.length&&(A=new CO("onBeforeInput","beforeinput",null,n,A),u.push({event:A,listeners:l}),A.data=_))}Ij(u,t)})}function H0(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pb(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=U0(e,n),a!=null&&r.unshift(H0(e,a,i)),a=U0(e,t),a!=null&&r.push(H0(e,a,i))),e=e.return}return r}function sh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function LO(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(c!==null&&c===r)break;s.tag===5&&l!==null&&(s=l,i?(c=U0(n,a),c!=null&&o.unshift(H0(n,c,s))):i||(c=U0(n,a),c!=null&&o.push(H0(n,c,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var eie=/\r\n?/g,tie=/\u0000|\uFFFD/g;function UO(e){return(typeof e=="string"?e:""+e).replace(eie,`
`).replace(tie,"")}function dy(e,t,n){if(t=UO(t),UO(e)!==t&&n)throw Error(Me(425))}function Ib(){}var w3=null,C3=null;function B3(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var S3=typeof setTimeout=="function"?setTimeout:void 0,nie=typeof clearTimeout=="function"?clearTimeout:void 0,NO=typeof Promise=="function"?Promise:void 0,rie=typeof queueMicrotask=="function"?queueMicrotask:typeof NO<"u"?function(e){return NO.resolve(null).then(e).catch(iie)}:S3;function iie(e){setTimeout(function(){throw e})}function D4(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),R0(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);R0(t)}function Bu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function MO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var tg=Math.random().toString(36).slice(2),Fc="__reactFiber$"+tg,$0="__reactProps$"+tg,Xl="__reactContainer$"+tg,x3="__reactEvents$"+tg,aie="__reactListeners$"+tg,oie="__reactHandles$"+tg;function Rd(e){var t=e[Fc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xl]||n[Fc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=MO(e);e!==null;){if(n=e[Fc])return n;e=MO(e)}return t}e=n,n=e.parentNode}return null}function Dv(e){return e=e[Fc]||e[Xl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Me(33))}function L5(e){return e[$0]||null}var k3=[],Rh=-1;function Yu(e){return{current:e}}function Dn(e){0>Rh||(e.current=k3[Rh],k3[Rh]=null,Rh--)}function Fn(e,t){Rh++,k3[Rh]=e.current,e.current=t}var Ru={},la=Yu(Ru),ja=Yu(!1),hf=Ru;function Cp(e,t){var n=e.type.contextTypes;if(!n)return Ru;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ha(e){return e=e.childContextTypes,e!=null}function Fb(){Dn(ja),Dn(la)}function RO(e,t,n){if(la.current!==Ru)throw Error(Me(168));Fn(la,t),Fn(ja,n)}function Oj(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Me(108,Kne(e)||"Unknown",i));return ir({},n,r)}function Ob(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ru,hf=la.current,Fn(la,e),Fn(ja,ja.current),!0}function DO(e,t,n){var r=e.stateNode;if(!r)throw Error(Me(169));n?(e=Oj(e,t,hf),r.__reactInternalMemoizedMergedChildContext=e,Dn(ja),Dn(la),Fn(la,e)):Dn(ja),Fn(ja,n)}var Il=null,U5=!1,Q4=!1;function Lj(e){Il===null?Il=[e]:Il.push(e)}function sie(e){U5=!0,Lj(e)}function Xu(){if(!Q4&&Il!==null){Q4=!0;var e=0,t=gn;try{var n=Il;for(gn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Il=null,U5=!1}catch(i){throw Il!==null&&(Il=Il.slice(e+1)),aj(GT,Xu),i}finally{gn=t,Q4=!1}}return null}var Dh=[],Qh=0,Lb=null,Ub=0,Jo=[],Zo=0,pf=null,jl=1,Hl="";function Ed(e,t){Dh[Qh++]=Ub,Dh[Qh++]=Lb,Lb=e,Ub=t}function Uj(e,t,n){Jo[Zo++]=jl,Jo[Zo++]=Hl,Jo[Zo++]=pf,pf=e;var r=jl;e=Hl;var i=32-Vs(r)-1;r&=~(1<<i),n+=1;var a=32-Vs(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,jl=1<<32-Vs(t)+i|n<<i|r,Hl=a+e}else jl=1<<a|n<<i|r,Hl=e}function r_(e){e.return!==null&&(Ed(e,1),Uj(e,1,0))}function i_(e){for(;e===Lb;)Lb=Dh[--Qh],Dh[Qh]=null,Ub=Dh[--Qh],Dh[Qh]=null;for(;e===pf;)pf=Jo[--Zo],Jo[Zo]=null,Hl=Jo[--Zo],Jo[Zo]=null,jl=Jo[--Zo],Jo[Zo]=null}var vo=null,ho=null,zn=!1,Ns=null;function Nj(e,t){var n=ns(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function QO(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vo=e,ho=Bu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vo=e,ho=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pf!==null?{id:jl,overflow:Hl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ns(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vo=e,ho=null,!0):!1;default:return!1}}function E3(e){return(e.mode&1)!==0&&(e.flags&128)===0}function T3(e){if(zn){var t=ho;if(t){var n=t;if(!QO(e,t)){if(E3(e))throw Error(Me(418));t=Bu(n.nextSibling);var r=vo;t&&QO(e,t)?Nj(r,n):(e.flags=e.flags&-4097|2,zn=!1,vo=e)}}else{if(E3(e))throw Error(Me(418));e.flags=e.flags&-4097|2,zn=!1,vo=e}}}function jO(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vo=e}function fy(e){if(e!==vo)return!1;if(!zn)return jO(e),zn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!B3(e.type,e.memoizedProps)),t&&(t=ho)){if(E3(e))throw Mj(),Error(Me(418));for(;t;)Nj(e,t),t=Bu(t.nextSibling)}if(jO(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ho=Bu(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ho=null}}else ho=vo?Bu(e.stateNode.nextSibling):null;return!0}function Mj(){for(var e=ho;e;)e=Bu(e.nextSibling)}function Bp(){ho=vo=null,zn=!1}function a_(e){Ns===null?Ns=[e]:Ns.push(e)}var cie=pA.ReactCurrentBatchConfig;function Am(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Me(309));var r=n.stateNode}if(!r)throw Error(Me(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Me(284));if(!n._owner)throw Error(Me(290,e))}return e}function hy(e,t){throw e=Object.prototype.toString.call(t),Error(Me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function HO(e){var t=e._init;return t(e._payload)}function Rj(e){function t(m,w){if(e){var B=m.deletions;B===null?(m.deletions=[w],m.flags|=16):B.push(w)}}function n(m,w){if(!e)return null;for(;w!==null;)t(m,w),w=w.sibling;return null}function r(m,w){for(m=new Map;w!==null;)w.key!==null?m.set(w.key,w):m.set(w.index,w),w=w.sibling;return m}function i(m,w){return m=Eu(m,w),m.index=0,m.sibling=null,m}function a(m,w,B){return m.index=B,e?(B=m.alternate,B!==null?(B=B.index,B<w?(m.flags|=2,w):B):(m.flags|=2,w)):(m.flags|=1048576,w)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,w,B,C){return w===null||w.tag!==6?(w=W4(B,m.mode,C),w.return=m,w):(w=i(w,B),w.return=m,w)}function c(m,w,B,C){var S=B.type;return S===Oh?A(m,w,B.props.children,C,B.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ZA&&HO(S)===w.type)?(C=i(w,B.props),C.ref=Am(m,w,B),C.return=m,C):(C=Q2(B.type,B.key,B.props,null,m.mode,C),C.ref=Am(m,w,B),C.return=m,C)}function l(m,w,B,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==B.containerInfo||w.stateNode.implementation!==B.implementation?(w=G4(B,m.mode,C),w.return=m,w):(w=i(w,B.children||[]),w.return=m,w)}function A(m,w,B,C,S){return w===null||w.tag!==7?(w=qd(B,m.mode,C,S),w.return=m,w):(w=i(w,B),w.return=m,w)}function u(m,w,B){if(typeof w=="string"&&w!==""||typeof w=="number")return w=W4(""+w,m.mode,B),w.return=m,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ry:return B=Q2(w.type,w.key,w.props,null,m.mode,B),B.ref=Am(m,null,w),B.return=m,B;case Fh:return w=G4(w,m.mode,B),w.return=m,w;case ZA:var C=w._init;return u(m,C(w._payload),B)}if($m(w)||am(w))return w=qd(w,m.mode,B,null),w.return=m,w;hy(m,w)}return null}function d(m,w,B,C){var S=w!==null?w.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return S!==null?null:s(m,w,""+B,C);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ry:return B.key===S?c(m,w,B,C):null;case Fh:return B.key===S?l(m,w,B,C):null;case ZA:return S=B._init,d(m,w,S(B._payload),C)}if($m(B)||am(B))return S!==null?null:A(m,w,B,C,null);hy(m,B)}return null}function f(m,w,B,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(B)||null,s(w,m,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ry:return m=m.get(C.key===null?B:C.key)||null,c(w,m,C,S);case Fh:return m=m.get(C.key===null?B:C.key)||null,l(w,m,C,S);case ZA:var k=C._init;return f(m,w,B,k(C._payload),S)}if($m(C)||am(C))return m=m.get(B)||null,A(w,m,C,S,null);hy(w,C)}return null}function h(m,w,B,C){for(var S=null,k=null,_=w,F=w=0,P=null;_!==null&&F<B.length;F++){_.index>F?(P=_,_=null):P=_.sibling;var U=d(m,_,B[F],C);if(U===null){_===null&&(_=P);break}e&&_&&U.alternate===null&&t(m,_),w=a(U,w,F),k===null?S=U:k.sibling=U,k=U,_=P}if(F===B.length)return n(m,_),zn&&Ed(m,F),S;if(_===null){for(;F<B.length;F++)_=u(m,B[F],C),_!==null&&(w=a(_,w,F),k===null?S=_:k.sibling=_,k=_);return zn&&Ed(m,F),S}for(_=r(m,_);F<B.length;F++)P=f(_,m,F,B[F],C),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?F:P.key),w=a(P,w,F),k===null?S=P:k.sibling=P,k=P);return e&&_.forEach(function(T){return t(m,T)}),zn&&Ed(m,F),S}function p(m,w,B,C){var S=am(B);if(typeof S!="function")throw Error(Me(150));if(B=S.call(B),B==null)throw Error(Me(151));for(var k=S=null,_=w,F=w=0,P=null,U=B.next();_!==null&&!U.done;F++,U=B.next()){_.index>F?(P=_,_=null):P=_.sibling;var T=d(m,_,U.value,C);if(T===null){_===null&&(_=P);break}e&&_&&T.alternate===null&&t(m,_),w=a(T,w,F),k===null?S=T:k.sibling=T,k=T,_=P}if(U.done)return n(m,_),zn&&Ed(m,F),S;if(_===null){for(;!U.done;F++,U=B.next())U=u(m,U.value,C),U!==null&&(w=a(U,w,F),k===null?S=U:k.sibling=U,k=U);return zn&&Ed(m,F),S}for(_=r(m,_);!U.done;F++,U=B.next())U=f(_,m,F,U.value,C),U!==null&&(e&&U.alternate!==null&&_.delete(U.key===null?F:U.key),w=a(U,w,F),k===null?S=U:k.sibling=U,k=U);return e&&_.forEach(function(O){return t(m,O)}),zn&&Ed(m,F),S}function v(m,w,B,C){if(typeof B=="object"&&B!==null&&B.type===Oh&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case ry:e:{for(var S=B.key,k=w;k!==null;){if(k.key===S){if(S=B.type,S===Oh){if(k.tag===7){n(m,k.sibling),w=i(k,B.props.children),w.return=m,m=w;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ZA&&HO(S)===k.type){n(m,k.sibling),w=i(k,B.props),w.ref=Am(m,k,B),w.return=m,m=w;break e}n(m,k);break}else t(m,k);k=k.sibling}B.type===Oh?(w=qd(B.props.children,m.mode,C,B.key),w.return=m,m=w):(C=Q2(B.type,B.key,B.props,null,m.mode,C),C.ref=Am(m,w,B),C.return=m,m=C)}return o(m);case Fh:e:{for(k=B.key;w!==null;){if(w.key===k)if(w.tag===4&&w.stateNode.containerInfo===B.containerInfo&&w.stateNode.implementation===B.implementation){n(m,w.sibling),w=i(w,B.children||[]),w.return=m,m=w;break e}else{n(m,w);break}else t(m,w);w=w.sibling}w=G4(B,m.mode,C),w.return=m,m=w}return o(m);case ZA:return k=B._init,v(m,w,k(B._payload),C)}if($m(B))return h(m,w,B,C);if(am(B))return p(m,w,B,C);hy(m,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,w!==null&&w.tag===6?(n(m,w.sibling),w=i(w,B),w.return=m,m=w):(n(m,w),w=W4(B,m.mode,C),w.return=m,m=w),o(m)):n(m,w)}return v}var Sp=Rj(!0),Dj=Rj(!1),Nb=Yu(null),Mb=null,jh=null,o_=null;function s_(){o_=jh=Mb=null}function c_(e){var t=Nb.current;Dn(Nb),e._currentValue=t}function _3(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function np(e,t){Mb=e,o_=jh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ma=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(o_!==e)if(e={context:e,memoizedValue:t,next:null},jh===null){if(Mb===null)throw Error(Me(308));jh=e,Mb.dependencies={lanes:0,firstContext:e}}else jh=jh.next=e;return t}var Dd=null;function l_(e){Dd===null?Dd=[e]:Dd.push(e)}function Qj(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,l_(t)):(n.next=i.next,i.next=n),t.interleaved=n,Jl(e,r)}function Jl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var eu=!1;function A_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Su(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,en&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Jl(e,n)}return i=r.interleaved,i===null?(t.next=t,l_(r)):(t.next=i.next,i.next=t),r.interleaved=t,Jl(e,n)}function L2(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qT(e,n)}}function $O(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Rb(e,t,n,r){var i=e.updateQueue;eu=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var A=e.alternate;A!==null&&(A=A.updateQueue,s=A.lastBaseUpdate,s!==o&&(s===null?A.firstBaseUpdate=l:s.next=l,A.lastBaseUpdate=c))}if(a!==null){var u=i.baseState;o=0,A=l=c=null,s=a;do{var d=s.lane,f=s.eventTime;if((r&d)===d){A!==null&&(A=A.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,p=s;switch(d=t,f=n,p.tag){case 1:if(h=p.payload,typeof h=="function"){u=h.call(f,u,d);break e}u=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=p.payload,d=typeof h=="function"?h.call(f,u,d):h,d==null)break e;u=ir({},u,d);break e;case 2:eu=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},A===null?(l=A=f,c=u):A=A.next=f,o|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(A===null&&(c=u),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=A,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);mf|=o,e.lanes=o,e.memoizedState=u}}function KO(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Me(191,i));i.call(r)}}}var Qv={},Mc=Yu(Qv),K0=Yu(Qv),V0=Yu(Qv);function Qd(e){if(e===Qv)throw Error(Me(174));return e}function u_(e,t){switch(Fn(V0,t),Fn(K0,e),Fn(Mc,Qv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:l3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=l3(t,e)}Dn(Mc),Fn(Mc,t)}function xp(){Dn(Mc),Dn(K0),Dn(V0)}function Hj(e){Qd(V0.current);var t=Qd(Mc.current),n=l3(t,e.type);t!==n&&(Fn(K0,e),Fn(Mc,n))}function d_(e){K0.current===e&&(Dn(Mc),Dn(K0))}var tr=Yu(0);function Db(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var j4=[];function f_(){for(var e=0;e<j4.length;e++)j4[e]._workInProgressVersionPrimary=null;j4.length=0}var U2=pA.ReactCurrentDispatcher,H4=pA.ReactCurrentBatchConfig,gf=0,nr=null,Xr=null,pi=null,Qb=!1,d0=!1,z0=0,lie=0;function Yi(){throw Error(Me(321))}function h_(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qs(e[n],t[n]))return!1;return!0}function p_(e,t,n,r,i,a){if(gf=a,nr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U2.current=e===null||e.memoizedState===null?fie:hie,e=n(r,i),d0){a=0;do{if(d0=!1,z0=0,25<=a)throw Error(Me(301));a+=1,pi=Xr=null,t.updateQueue=null,U2.current=pie,e=n(r,i)}while(d0)}if(U2.current=jb,t=Xr!==null&&Xr.next!==null,gf=0,pi=Xr=nr=null,Qb=!1,t)throw Error(Me(300));return e}function g_(){var e=z0!==0;return z0=0,e}function _c(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pi===null?nr.memoizedState=pi=e:pi=pi.next=e,pi}function us(){if(Xr===null){var e=nr.alternate;e=e!==null?e.memoizedState:null}else e=Xr.next;var t=pi===null?nr.memoizedState:pi.next;if(t!==null)pi=t,Xr=e;else{if(e===null)throw Error(Me(310));Xr=e,e={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},pi===null?nr.memoizedState=pi=e:pi=pi.next=e}return pi}function W0(e,t){return typeof t=="function"?t(e):t}function $4(e){var t=us(),n=t.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=e;var r=Xr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,c=null,l=a;do{var A=l.lane;if((gf&A)===A)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var u={lane:A,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(s=c=u,o=r):c=c.next=u,nr.lanes|=A,mf|=A}l=l.next}while(l!==null&&l!==a);c===null?o=r:c.next=s,qs(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,nr.lanes|=a,mf|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function K4(e){var t=us(),n=t.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);qs(a,t.memoizedState)||(Ma=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function $j(){}function Kj(e,t){var n=nr,r=us(),i=t(),a=!qs(r.memoizedState,i);if(a&&(r.memoizedState=i,Ma=!0),r=r.queue,m_(Wj.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||pi!==null&&pi.memoizedState.tag&1){if(n.flags|=2048,G0(9,zj.bind(null,n,r,i,t),void 0,null),Ci===null)throw Error(Me(349));gf&30||Vj(n,t,i)}return i}function Vj(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nr.updateQueue,t===null?(t={lastEffect:null,stores:null},nr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zj(e,t,n,r){t.value=n,t.getSnapshot=r,Gj(t)&&qj(e)}function Wj(e,t,n){return n(function(){Gj(t)&&qj(e)})}function Gj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qs(e,n)}catch{return!0}}function qj(e){var t=Jl(e,1);t!==null&&zs(t,e,1,-1)}function VO(e){var t=_c();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:W0,lastRenderedState:e},t.queue=e,e=e.dispatch=die.bind(null,nr,e),[t.memoizedState,e]}function G0(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=nr.updateQueue,t===null?(t={lastEffect:null,stores:null},nr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Yj(){return us().memoizedState}function N2(e,t,n,r){var i=_c();nr.flags|=e,i.memoizedState=G0(1|t,n,void 0,r===void 0?null:r)}function N5(e,t,n,r){var i=us();r=r===void 0?null:r;var a=void 0;if(Xr!==null){var o=Xr.memoizedState;if(a=o.destroy,r!==null&&h_(r,o.deps)){i.memoizedState=G0(t,n,a,r);return}}nr.flags|=e,i.memoizedState=G0(1|t,n,a,r)}function zO(e,t){return N2(8390656,8,e,t)}function m_(e,t){return N5(2048,8,e,t)}function Xj(e,t){return N5(4,2,e,t)}function Jj(e,t){return N5(4,4,e,t)}function Zj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eH(e,t,n){return n=n!=null?n.concat([e]):null,N5(4,4,Zj.bind(null,t,e),n)}function v_(){}function tH(e,t){var n=us();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&h_(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function nH(e,t){var n=us();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&h_(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rH(e,t,n){return gf&21?(qs(n,t)||(n=cj(),nr.lanes|=n,mf|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ma=!0),e.memoizedState=n)}function Aie(e,t){var n=gn;gn=n!==0&&4>n?n:4,e(!0);var r=H4.transition;H4.transition={};try{e(!1),t()}finally{gn=n,H4.transition=r}}function iH(){return us().memoizedState}function uie(e,t,n){var r=ku(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aH(e))oH(t,n);else if(n=Qj(e,t,n,r),n!==null){var i=ba();zs(n,e,r,i),sH(n,t,r)}}function die(e,t,n){var r=ku(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aH(e))oH(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,qs(s,o)){var c=t.interleaved;c===null?(i.next=i,l_(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=Qj(e,t,i,r),n!==null&&(i=ba(),zs(n,e,r,i),sH(n,t,r))}}function aH(e){var t=e.alternate;return e===nr||t!==null&&t===nr}function oH(e,t){d0=Qb=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sH(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qT(e,n)}}var jb={readContext:As,useCallback:Yi,useContext:Yi,useEffect:Yi,useImperativeHandle:Yi,useInsertionEffect:Yi,useLayoutEffect:Yi,useMemo:Yi,useReducer:Yi,useRef:Yi,useState:Yi,useDebugValue:Yi,useDeferredValue:Yi,useTransition:Yi,useMutableSource:Yi,useSyncExternalStore:Yi,useId:Yi,unstable_isNewReconciler:!1},fie={readContext:As,useCallback:function(e,t){return _c().memoizedState=[e,t===void 0?null:t],e},useContext:As,useEffect:zO,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,N2(4194308,4,Zj.bind(null,t,e),n)},useLayoutEffect:function(e,t){return N2(4194308,4,e,t)},useInsertionEffect:function(e,t){return N2(4,2,e,t)},useMemo:function(e,t){var n=_c();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_c();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=uie.bind(null,nr,e),[r.memoizedState,e]},useRef:function(e){var t=_c();return e={current:e},t.memoizedState=e},useState:VO,useDebugValue:v_,useDeferredValue:function(e){return _c().memoizedState=e},useTransition:function(){var e=VO(!1),t=e[0];return e=Aie.bind(null,e[1]),_c().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=nr,i=_c();if(zn){if(n===void 0)throw Error(Me(407));n=n()}else{if(n=t(),Ci===null)throw Error(Me(349));gf&30||Vj(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,zO(Wj.bind(null,r,a,e),[e]),r.flags|=2048,G0(9,zj.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=_c(),t=Ci.identifierPrefix;if(zn){var n=Hl,r=jl;n=(r&~(1<<32-Vs(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=z0++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=lie++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hie={readContext:As,useCallback:tH,useContext:As,useEffect:m_,useImperativeHandle:eH,useInsertionEffect:Xj,useLayoutEffect:Jj,useMemo:nH,useReducer:$4,useRef:Yj,useState:function(){return $4(W0)},useDebugValue:v_,useDeferredValue:function(e){var t=us();return rH(t,Xr.memoizedState,e)},useTransition:function(){var e=$4(W0)[0],t=us().memoizedState;return[e,t]},useMutableSource:$j,useSyncExternalStore:Kj,useId:iH,unstable_isNewReconciler:!1},pie={readContext:As,useCallback:tH,useContext:As,useEffect:m_,useImperativeHandle:eH,useInsertionEffect:Xj,useLayoutEffect:Jj,useMemo:nH,useReducer:K4,useRef:Yj,useState:function(){return K4(W0)},useDebugValue:v_,useDeferredValue:function(e){var t=us();return Xr===null?t.memoizedState=e:rH(t,Xr.memoizedState,e)},useTransition:function(){var e=K4(W0)[0],t=us().memoizedState;return[e,t]},useMutableSource:$j,useSyncExternalStore:Kj,useId:iH,unstable_isNewReconciler:!1};function Fs(e,t){if(e&&e.defaultProps){t=ir({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function P3(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ir({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var M5={isMounted:function(e){return(e=e._reactInternals)?Rf(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ba(),i=ku(e),a=zl(r,i);a.payload=t,n!=null&&(a.callback=n),t=Su(e,a,i),t!==null&&(zs(t,e,i,r),L2(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ba(),i=ku(e),a=zl(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Su(e,a,i),t!==null&&(zs(t,e,i,r),L2(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ba(),r=ku(e),i=zl(n,r);i.tag=2,t!=null&&(i.callback=t),t=Su(e,i,r),t!==null&&(zs(t,e,r,n),L2(t,e,r))}};function WO(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Q0(n,r)||!Q0(i,a):!0}function cH(e,t,n){var r=!1,i=Ru,a=t.contextType;return typeof a=="object"&&a!==null?a=As(a):(i=Ha(t)?hf:la.current,r=t.contextTypes,a=(r=r!=null)?Cp(e,i):Ru),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=M5,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function GO(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&M5.enqueueReplaceState(t,t.state,null)}function I3(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},A_(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=As(a):(a=Ha(t)?hf:la.current,i.context=Cp(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(P3(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&M5.enqueueReplaceState(i,i.state,null),Rb(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function kp(e,t){try{var n="",r=t;do n+=$ne(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function V4(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function F3(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var gie=typeof WeakMap=="function"?WeakMap:Map;function lH(e,t,n){n=zl(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$b||($b=!0,H3=r),F3(e,t)},n}function AH(e,t,n){n=zl(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){F3(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){F3(e,t),typeof r!="function"&&(xu===null?xu=new Set([this]):xu.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function qO(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new gie;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Pie.bind(null,e,t,n),t.then(e,e))}function YO(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function XO(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zl(-1,1),t.tag=2,Su(n,t,1))),n.lanes|=1),e)}var mie=pA.ReactCurrentOwner,Ma=!1;function pa(e,t,n,r){t.child=e===null?Dj(t,null,n,r):Sp(t,e.child,n,r)}function JO(e,t,n,r,i){n=n.render;var a=t.ref;return np(t,i),r=p_(e,t,n,r,a,i),n=g_(),e!==null&&!Ma?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zl(e,t,i)):(zn&&n&&r_(t),t.flags|=1,pa(e,t,r,i),t.child)}function ZO(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!k_(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,uH(e,t,a,r,i)):(e=Q2(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Q0,n(o,r)&&e.ref===t.ref)return Zl(e,t,i)}return t.flags|=1,e=Eu(a,r),e.ref=t.ref,e.return=t,t.child=e}function uH(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Q0(a,r)&&e.ref===t.ref)if(Ma=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Ma=!0);else return t.lanes=e.lanes,Zl(e,t,i)}return O3(e,t,n,r,i)}function dH(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fn($h,uo),uo|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fn($h,uo),uo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Fn($h,uo),uo|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Fn($h,uo),uo|=r;return pa(e,t,i,n),t.child}function fH(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function O3(e,t,n,r,i){var a=Ha(n)?hf:la.current;return a=Cp(t,a),np(t,i),n=p_(e,t,n,r,a,i),r=g_(),e!==null&&!Ma?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zl(e,t,i)):(zn&&r&&r_(t),t.flags|=1,pa(e,t,n,i),t.child)}function eL(e,t,n,r,i){if(Ha(n)){var a=!0;Ob(t)}else a=!1;if(np(t,i),t.stateNode===null)M2(e,t),cH(t,n,r),I3(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=As(l):(l=Ha(n)?hf:la.current,l=Cp(t,l));var A=n.getDerivedStateFromProps,u=typeof A=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||c!==l)&&GO(t,o,r,l),eu=!1;var d=t.memoizedState;o.state=d,Rb(t,r,o,i),c=t.memoizedState,s!==r||d!==c||ja.current||eu?(typeof A=="function"&&(P3(t,n,A,r),c=t.memoizedState),(s=eu||WO(t,n,s,r,d,c,l))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,jj(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Fs(t.type,s),o.props=l,u=t.pendingProps,d=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=As(c):(c=Ha(n)?hf:la.current,c=Cp(t,c));var f=n.getDerivedStateFromProps;(A=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==u||d!==c)&&GO(t,o,r,c),eu=!1,d=t.memoizedState,o.state=d,Rb(t,r,o,i);var h=t.memoizedState;s!==u||d!==h||ja.current||eu?(typeof f=="function"&&(P3(t,n,f,r),h=t.memoizedState),(l=eu||WO(t,n,l,r,d,h,c)||!1)?(A||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return L3(e,t,n,r,a,i)}function L3(e,t,n,r,i,a){fH(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&DO(t,n,!1),Zl(e,t,a);r=t.stateNode,mie.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Sp(t,e.child,null,a),t.child=Sp(t,null,s,a)):pa(e,t,s,a),t.memoizedState=r.state,i&&DO(t,n,!0),t.child}function hH(e){var t=e.stateNode;t.pendingContext?RO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&RO(e,t.context,!1),u_(e,t.containerInfo)}function tL(e,t,n,r,i){return Bp(),a_(i),t.flags|=256,pa(e,t,n,r),t.child}var U3={dehydrated:null,treeContext:null,retryLane:0};function N3(e){return{baseLanes:e,cachePool:null,transitions:null}}function pH(e,t,n){var r=t.pendingProps,i=tr.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Fn(tr,i&1),e===null)return T3(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Q5(o,r,0,null),e=qd(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=N3(n),t.memoizedState=U3,e):y_(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return vie(e,t,o,r,s,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,s=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Eu(i,c),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Eu(s,a):(a=qd(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?N3(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=U3,r}return a=e.child,e=a.sibling,r=Eu(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function y_(e,t){return t=Q5({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function py(e,t,n,r){return r!==null&&a_(r),Sp(t,e.child,null,n),e=y_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vie(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=V4(Error(Me(422))),py(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Q5({mode:"visible",children:r.children},i,0,null),a=qd(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Sp(t,e.child,null,o),t.child.memoizedState=N3(o),t.memoizedState=U3,a);if(!(t.mode&1))return py(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(Me(419)),r=V4(a,r,void 0),py(e,t,o,r)}if(s=(o&e.childLanes)!==0,Ma||s){if(r=Ci,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Jl(e,i),zs(r,e,i,-1))}return x_(),r=V4(Error(Me(421))),py(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Iie.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ho=Bu(i.nextSibling),vo=t,zn=!0,Ns=null,e!==null&&(Jo[Zo++]=jl,Jo[Zo++]=Hl,Jo[Zo++]=pf,jl=e.id,Hl=e.overflow,pf=t),t=y_(t,r.children),t.flags|=4096,t)}function nL(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_3(e.return,t,n)}function z4(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function gH(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(pa(e,t,r.children,n),r=tr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nL(e,n,t);else if(e.tag===19)nL(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fn(tr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Db(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),z4(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Db(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}z4(t,!0,n,null,a);break;case"together":z4(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function M2(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),mf|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Me(153));if(t.child!==null){for(e=t.child,n=Eu(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Eu(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function yie(e,t,n){switch(t.tag){case 3:hH(t),Bp();break;case 5:Hj(t);break;case 1:Ha(t.type)&&Ob(t);break;case 4:u_(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Fn(Nb,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Fn(tr,tr.current&1),t.flags|=128,null):n&t.child.childLanes?pH(e,t,n):(Fn(tr,tr.current&1),e=Zl(e,t,n),e!==null?e.sibling:null);Fn(tr,tr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return gH(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fn(tr,tr.current),r)break;return null;case 22:case 23:return t.lanes=0,dH(e,t,n)}return Zl(e,t,n)}var mH,M3,vH,yH;mH=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};M3=function(){};vH=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qd(Mc.current);var a=null;switch(n){case"input":i=a3(e,i),r=a3(e,r),a=[];break;case"select":i=ir({},i,{value:void 0}),r=ir({},r,{value:void 0}),a=[];break;case"textarea":i=c3(e,i),r=c3(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ib)}A3(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(O0.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(s=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(c!=null||s!=null))if(l==="style")if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(a=a||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(O0.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Nn("scroll",e),a||s===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}};yH=function(e,t,n,r){n!==r&&(t.flags|=4)};function um(e,t){if(!zn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bie(e,t,n){var r=t.pendingProps;switch(i_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xi(t),null;case 1:return Ha(t.type)&&Fb(),Xi(t),null;case 3:return r=t.stateNode,xp(),Dn(ja),Dn(la),f_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ns!==null&&(V3(Ns),Ns=null))),M3(e,t),Xi(t),null;case 5:d_(t);var i=Qd(V0.current);if(n=t.type,e!==null&&t.stateNode!=null)vH(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Me(166));return Xi(t),null}if(e=Qd(Mc.current),fy(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Fc]=t,r[$0]=a,e=(t.mode&1)!==0,n){case"dialog":Nn("cancel",r),Nn("close",r);break;case"iframe":case"object":case"embed":Nn("load",r);break;case"video":case"audio":for(i=0;i<Vm.length;i++)Nn(Vm[i],r);break;case"source":Nn("error",r);break;case"img":case"image":case"link":Nn("error",r),Nn("load",r);break;case"details":Nn("toggle",r);break;case"input":uO(r,a),Nn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Nn("invalid",r);break;case"textarea":fO(r,a),Nn("invalid",r)}A3(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&dy(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&dy(r.textContent,s,e),i=["children",""+s]):O0.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Nn("scroll",r)}switch(n){case"input":iy(r),dO(r,a,!0);break;case"textarea":iy(r),hO(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Ib)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=W9(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Fc]=t,e[$0]=r,mH(e,t,!1,!1),t.stateNode=e;e:{switch(o=u3(n,r),n){case"dialog":Nn("cancel",e),Nn("close",e),i=r;break;case"iframe":case"object":case"embed":Nn("load",e),i=r;break;case"video":case"audio":for(i=0;i<Vm.length;i++)Nn(Vm[i],e);i=r;break;case"source":Nn("error",e),i=r;break;case"img":case"image":case"link":Nn("error",e),Nn("load",e),i=r;break;case"details":Nn("toggle",e),i=r;break;case"input":uO(e,r),i=a3(e,r),Nn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ir({},r,{value:void 0}),Nn("invalid",e);break;case"textarea":fO(e,r),i=c3(e,r),Nn("invalid",e);break;default:i=r}A3(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="style"?Y9(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&G9(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&L0(e,c):typeof c=="number"&&L0(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(O0.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Nn("scroll",e):c!=null&&$T(e,a,c,o))}switch(n){case"input":iy(e),dO(e,r,!1);break;case"textarea":iy(e),hO(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Mu(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Jh(e,!!r.multiple,a,!1):r.defaultValue!=null&&Jh(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ib)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xi(t),null;case 6:if(e&&t.stateNode!=null)yH(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Me(166));if(n=Qd(V0.current),Qd(Mc.current),fy(t)){if(r=t.stateNode,n=t.memoizedProps,r[Fc]=t,(a=r.nodeValue!==n)&&(e=vo,e!==null))switch(e.tag){case 3:dy(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&dy(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fc]=t,t.stateNode=r}return Xi(t),null;case 13:if(Dn(tr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(zn&&ho!==null&&t.mode&1&&!(t.flags&128))Mj(),Bp(),t.flags|=98560,a=!1;else if(a=fy(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Me(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Me(317));a[Fc]=t}else Bp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xi(t),a=!1}else Ns!==null&&(V3(Ns),Ns=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||tr.current&1?ei===0&&(ei=3):x_())),t.updateQueue!==null&&(t.flags|=4),Xi(t),null);case 4:return xp(),M3(e,t),e===null&&j0(t.stateNode.containerInfo),Xi(t),null;case 10:return c_(t.type._context),Xi(t),null;case 17:return Ha(t.type)&&Fb(),Xi(t),null;case 19:if(Dn(tr),a=t.memoizedState,a===null)return Xi(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)um(a,!1);else{if(ei!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Db(e),o!==null){for(t.flags|=128,um(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fn(tr,tr.current&1|2),t.child}e=e.sibling}a.tail!==null&&kr()>Ep&&(t.flags|=128,r=!0,um(a,!1),t.lanes=4194304)}else{if(!r)if(e=Db(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),um(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!zn)return Xi(t),null}else 2*kr()-a.renderingStartTime>Ep&&n!==1073741824&&(t.flags|=128,r=!0,um(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=kr(),t.sibling=null,n=tr.current,Fn(tr,r?n&1|2:n&1),t):(Xi(t),null);case 22:case 23:return S_(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?uo&1073741824&&(Xi(t),t.subtreeFlags&6&&(t.flags|=8192)):Xi(t),null;case 24:return null;case 25:return null}throw Error(Me(156,t.tag))}function wie(e,t){switch(i_(t),t.tag){case 1:return Ha(t.type)&&Fb(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xp(),Dn(ja),Dn(la),f_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return d_(t),null;case 13:if(Dn(tr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Me(340));Bp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Dn(tr),null;case 4:return xp(),null;case 10:return c_(t.type._context),null;case 22:case 23:return S_(),null;case 24:return null;default:return null}}var gy=!1,oa=!1,Cie=typeof WeakSet=="function"?WeakSet:Set,We=null;function Hh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dr(e,t,r)}else n.current=null}function R3(e,t,n){try{n()}catch(r){dr(e,t,r)}}var rL=!1;function Bie(e,t){if(w3=Tb,e=Sj(),n_(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,c=-1,l=0,A=0,u=e,d=null;t:for(;;){for(var f;u!==n||i!==0&&u.nodeType!==3||(s=o+i),u!==a||r!==0&&u.nodeType!==3||(c=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(f=u.firstChild)!==null;)d=u,u=f;for(;;){if(u===e)break t;if(d===n&&++l===i&&(s=o),d===a&&++A===r&&(c=o),(f=u.nextSibling)!==null)break;u=d,d=u.parentNode}u=f}n=s===-1||c===-1?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(C3={focusedElem:e,selectionRange:n},Tb=!1,We=t;We!==null;)if(t=We,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,We=e;else for(;We!==null;){t=We;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var p=h.memoizedProps,v=h.memoizedState,m=t.stateNode,w=m.getSnapshotBeforeUpdate(t.elementType===t.type?p:Fs(t.type,p),v);m.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var B=t.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(C){dr(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,We=e;break}We=t.return}return h=rL,rL=!1,h}function f0(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&R3(t,n,a)}i=i.next}while(i!==r)}}function R5(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function D3(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bH(e){var t=e.alternate;t!==null&&(e.alternate=null,bH(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fc],delete t[$0],delete t[x3],delete t[aie],delete t[oie])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wH(e){return e.tag===5||e.tag===3||e.tag===4}function iL(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wH(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Q3(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ib));else if(r!==4&&(e=e.child,e!==null))for(Q3(e,t,n),e=e.sibling;e!==null;)Q3(e,t,n),e=e.sibling}function j3(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(j3(e,t,n),e=e.sibling;e!==null;)j3(e,t,n),e=e.sibling}var Ui=null,Os=!1;function $A(e,t,n){for(n=n.child;n!==null;)CH(e,t,n),n=n.sibling}function CH(e,t,n){if(Nc&&typeof Nc.onCommitFiberUnmount=="function")try{Nc.onCommitFiberUnmount(P5,n)}catch{}switch(n.tag){case 5:oa||Hh(n,t);case 6:var r=Ui,i=Os;Ui=null,$A(e,t,n),Ui=r,Os=i,Ui!==null&&(Os?(e=Ui,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ui.removeChild(n.stateNode));break;case 18:Ui!==null&&(Os?(e=Ui,n=n.stateNode,e.nodeType===8?D4(e.parentNode,n):e.nodeType===1&&D4(e,n),R0(e)):D4(Ui,n.stateNode));break;case 4:r=Ui,i=Os,Ui=n.stateNode.containerInfo,Os=!0,$A(e,t,n),Ui=r,Os=i;break;case 0:case 11:case 14:case 15:if(!oa&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&R3(n,t,o),i=i.next}while(i!==r)}$A(e,t,n);break;case 1:if(!oa&&(Hh(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){dr(n,t,s)}$A(e,t,n);break;case 21:$A(e,t,n);break;case 22:n.mode&1?(oa=(r=oa)||n.memoizedState!==null,$A(e,t,n),oa=r):$A(e,t,n);break;default:$A(e,t,n)}}function aL(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Cie),t.forEach(function(r){var i=Fie.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ts(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Ui=s.stateNode,Os=!1;break e;case 3:Ui=s.stateNode.containerInfo,Os=!0;break e;case 4:Ui=s.stateNode.containerInfo,Os=!0;break e}s=s.return}if(Ui===null)throw Error(Me(160));CH(a,o,i),Ui=null,Os=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(l){dr(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)BH(t,e),t=t.sibling}function BH(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ts(t,e),yc(e),r&4){try{f0(3,e,e.return),R5(3,e)}catch(p){dr(e,e.return,p)}try{f0(5,e,e.return)}catch(p){dr(e,e.return,p)}}break;case 1:Ts(t,e),yc(e),r&512&&n!==null&&Hh(n,n.return);break;case 5:if(Ts(t,e),yc(e),r&512&&n!==null&&Hh(n,n.return),e.flags&32){var i=e.stateNode;try{L0(i,"")}catch(p){dr(e,e.return,p)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,s=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&V9(i,a),u3(s,o);var l=u3(s,a);for(o=0;o<c.length;o+=2){var A=c[o],u=c[o+1];A==="style"?Y9(i,u):A==="dangerouslySetInnerHTML"?G9(i,u):A==="children"?L0(i,u):$T(i,A,u,l)}switch(s){case"input":o3(i,a);break;case"textarea":z9(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Jh(i,!!a.multiple,f,!1):d!==!!a.multiple&&(a.defaultValue!=null?Jh(i,!!a.multiple,a.defaultValue,!0):Jh(i,!!a.multiple,a.multiple?[]:"",!1))}i[$0]=a}catch(p){dr(e,e.return,p)}}break;case 6:if(Ts(t,e),yc(e),r&4){if(e.stateNode===null)throw Error(Me(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(p){dr(e,e.return,p)}}break;case 3:if(Ts(t,e),yc(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{R0(t.containerInfo)}catch(p){dr(e,e.return,p)}break;case 4:Ts(t,e),yc(e);break;case 13:Ts(t,e),yc(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(C_=kr())),r&4&&aL(e);break;case 22:if(A=n!==null&&n.memoizedState!==null,e.mode&1?(oa=(l=oa)||A,Ts(t,e),oa=l):Ts(t,e),yc(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!A&&e.mode&1)for(We=e,A=e.child;A!==null;){for(u=We=A;We!==null;){switch(d=We,f=d.child,d.tag){case 0:case 11:case 14:case 15:f0(4,d,d.return);break;case 1:Hh(d,d.return);var h=d.stateNode;if(typeof h.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(p){dr(r,n,p)}}break;case 5:Hh(d,d.return);break;case 22:if(d.memoizedState!==null){sL(u);continue}}f!==null?(f.return=d,We=f):sL(u)}A=A.sibling}e:for(A=null,u=e;;){if(u.tag===5){if(A===null){A=u;try{i=u.stateNode,l?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=u.stateNode,c=u.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=q9("display",o))}catch(p){dr(e,e.return,p)}}}else if(u.tag===6){if(A===null)try{u.stateNode.nodeValue=l?"":u.memoizedProps}catch(p){dr(e,e.return,p)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;A===u&&(A=null),u=u.return}A===u&&(A=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Ts(t,e),yc(e),r&4&&aL(e);break;case 21:break;default:Ts(t,e),yc(e)}}function yc(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(wH(n)){var r=n;break e}n=n.return}throw Error(Me(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(L0(i,""),r.flags&=-33);var a=iL(e);j3(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=iL(e);Q3(e,s,o);break;default:throw Error(Me(161))}}catch(c){dr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sie(e,t,n){We=e,SH(e)}function SH(e,t,n){for(var r=(e.mode&1)!==0;We!==null;){var i=We,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||gy;if(!o){var s=i.alternate,c=s!==null&&s.memoizedState!==null||oa;s=gy;var l=oa;if(gy=o,(oa=c)&&!l)for(We=i;We!==null;)o=We,c=o.child,o.tag===22&&o.memoizedState!==null?cL(i):c!==null?(c.return=o,We=c):cL(i);for(;a!==null;)We=a,SH(a),a=a.sibling;We=i,gy=s,oa=l}oL(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,We=a):oL(e)}}function oL(e){for(;We!==null;){var t=We;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:oa||R5(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!oa)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Fs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&KO(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}KO(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var A=l.memoizedState;if(A!==null){var u=A.dehydrated;u!==null&&R0(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}oa||t.flags&512&&D3(t)}catch(d){dr(t,t.return,d)}}if(t===e){We=null;break}if(n=t.sibling,n!==null){n.return=t.return,We=n;break}We=t.return}}function sL(e){for(;We!==null;){var t=We;if(t===e){We=null;break}var n=t.sibling;if(n!==null){n.return=t.return,We=n;break}We=t.return}}function cL(e){for(;We!==null;){var t=We;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{R5(4,t)}catch(c){dr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){dr(t,i,c)}}var a=t.return;try{D3(t)}catch(c){dr(t,a,c)}break;case 5:var o=t.return;try{D3(t)}catch(c){dr(t,o,c)}}}catch(c){dr(t,t.return,c)}if(t===e){We=null;break}var s=t.sibling;if(s!==null){s.return=t.return,We=s;break}We=t.return}}var xie=Math.ceil,Hb=pA.ReactCurrentDispatcher,b_=pA.ReactCurrentOwner,ls=pA.ReactCurrentBatchConfig,en=0,Ci=null,Qr=null,Hi=0,uo=0,$h=Yu(0),ei=0,q0=null,mf=0,D5=0,w_=0,h0=null,La=null,C_=0,Ep=1/0,Pl=null,$b=!1,H3=null,xu=null,my=!1,uu=null,Kb=0,p0=0,$3=null,R2=-1,D2=0;function ba(){return en&6?kr():R2!==-1?R2:R2=kr()}function ku(e){return e.mode&1?en&2&&Hi!==0?Hi&-Hi:cie.transition!==null?(D2===0&&(D2=cj()),D2):(e=gn,e!==0||(e=window.event,e=e===void 0?16:pj(e.type)),e):1}function zs(e,t,n,r){if(50<p0)throw p0=0,$3=null,Error(Me(185));Mv(e,n,r),(!(en&2)||e!==Ci)&&(e===Ci&&(!(en&2)&&(D5|=n),ei===4&&ou(e,Hi)),$a(e,r),n===1&&en===0&&!(t.mode&1)&&(Ep=kr()+500,U5&&Xu()))}function $a(e,t){var n=e.callbackNode;cre(e,t);var r=Eb(e,e===Ci?Hi:0);if(r===0)n!==null&&mO(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&mO(n),t===1)e.tag===0?sie(lL.bind(null,e)):Lj(lL.bind(null,e)),rie(function(){!(en&6)&&Xu()}),n=null;else{switch(lj(r)){case 1:n=GT;break;case 4:n=oj;break;case 16:n=kb;break;case 536870912:n=sj;break;default:n=kb}n=FH(n,xH.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function xH(e,t){if(R2=-1,D2=0,en&6)throw Error(Me(327));var n=e.callbackNode;if(rp()&&e.callbackNode!==n)return null;var r=Eb(e,e===Ci?Hi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Vb(e,r);else{t=r;var i=en;en|=2;var a=EH();(Ci!==e||Hi!==t)&&(Pl=null,Ep=kr()+500,Gd(e,t));do try{Tie();break}catch(s){kH(e,s)}while(!0);s_(),Hb.current=a,en=i,Qr!==null?t=0:(Ci=null,Hi=0,t=ei)}if(t!==0){if(t===2&&(i=g3(e),i!==0&&(r=i,t=K3(e,i))),t===1)throw n=q0,Gd(e,0),ou(e,r),$a(e,kr()),n;if(t===6)ou(e,r);else{if(i=e.current.alternate,!(r&30)&&!kie(i)&&(t=Vb(e,r),t===2&&(a=g3(e),a!==0&&(r=a,t=K3(e,a))),t===1))throw n=q0,Gd(e,0),ou(e,r),$a(e,kr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Me(345));case 2:Td(e,La,Pl);break;case 3:if(ou(e,r),(r&130023424)===r&&(t=C_+500-kr(),10<t)){if(Eb(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ba(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=S3(Td.bind(null,e,La,Pl),t);break}Td(e,La,Pl);break;case 4:if(ou(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Vs(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=kr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xie(r/1960))-r,10<r){e.timeoutHandle=S3(Td.bind(null,e,La,Pl),r);break}Td(e,La,Pl);break;case 5:Td(e,La,Pl);break;default:throw Error(Me(329))}}}return $a(e,kr()),e.callbackNode===n?xH.bind(null,e):null}function K3(e,t){var n=h0;return e.current.memoizedState.isDehydrated&&(Gd(e,t).flags|=256),e=Vb(e,t),e!==2&&(t=La,La=n,t!==null&&V3(t)),e}function V3(e){La===null?La=e:La.push.apply(La,e)}function kie(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!qs(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ou(e,t){for(t&=~w_,t&=~D5,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vs(t),r=1<<n;e[n]=-1,t&=~r}}function lL(e){if(en&6)throw Error(Me(327));rp();var t=Eb(e,0);if(!(t&1))return $a(e,kr()),null;var n=Vb(e,t);if(e.tag!==0&&n===2){var r=g3(e);r!==0&&(t=r,n=K3(e,r))}if(n===1)throw n=q0,Gd(e,0),ou(e,t),$a(e,kr()),n;if(n===6)throw Error(Me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Td(e,La,Pl),$a(e,kr()),null}function B_(e,t){var n=en;en|=1;try{return e(t)}finally{en=n,en===0&&(Ep=kr()+500,U5&&Xu())}}function vf(e){uu!==null&&uu.tag===0&&!(en&6)&&rp();var t=en;en|=1;var n=ls.transition,r=gn;try{if(ls.transition=null,gn=1,e)return e()}finally{gn=r,ls.transition=n,en=t,!(en&6)&&Xu()}}function S_(){uo=$h.current,Dn($h)}function Gd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,nie(n)),Qr!==null)for(n=Qr.return;n!==null;){var r=n;switch(i_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fb();break;case 3:xp(),Dn(ja),Dn(la),f_();break;case 5:d_(r);break;case 4:xp();break;case 13:Dn(tr);break;case 19:Dn(tr);break;case 10:c_(r.type._context);break;case 22:case 23:S_()}n=n.return}if(Ci=e,Qr=e=Eu(e.current,null),Hi=uo=t,ei=0,q0=null,w_=D5=mf=0,La=h0=null,Dd!==null){for(t=0;t<Dd.length;t++)if(n=Dd[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Dd=null}return e}function kH(e,t){do{var n=Qr;try{if(s_(),U2.current=jb,Qb){for(var r=nr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qb=!1}if(gf=0,pi=Xr=nr=null,d0=!1,z0=0,b_.current=null,n===null||n.return===null){ei=1,q0=t,Qr=null;break}e:{var a=e,o=n.return,s=n,c=t;if(t=Hi,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,A=s,u=A.tag;if(!(A.mode&1)&&(u===0||u===11||u===15)){var d=A.alternate;d?(A.updateQueue=d.updateQueue,A.memoizedState=d.memoizedState,A.lanes=d.lanes):(A.updateQueue=null,A.memoizedState=null)}var f=YO(o);if(f!==null){f.flags&=-257,XO(f,o,s,a,t),f.mode&1&&qO(a,l,t),t=f,c=l;var h=t.updateQueue;if(h===null){var p=new Set;p.add(c),t.updateQueue=p}else h.add(c);break e}else{if(!(t&1)){qO(a,l,t),x_();break e}c=Error(Me(426))}}else if(zn&&s.mode&1){var v=YO(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),XO(v,o,s,a,t),a_(kp(c,s));break e}}a=c=kp(c,s),ei!==4&&(ei=2),h0===null?h0=[a]:h0.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=lH(a,c,t);$O(a,m);break e;case 1:s=c;var w=a.type,B=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(xu===null||!xu.has(B)))){a.flags|=65536,t&=-t,a.lanes|=t;var C=AH(a,s,t);$O(a,C);break e}}a=a.return}while(a!==null)}_H(n)}catch(S){t=S,Qr===n&&n!==null&&(Qr=n=n.return);continue}break}while(!0)}function EH(){var e=Hb.current;return Hb.current=jb,e===null?jb:e}function x_(){(ei===0||ei===3||ei===2)&&(ei=4),Ci===null||!(mf&268435455)&&!(D5&268435455)||ou(Ci,Hi)}function Vb(e,t){var n=en;en|=2;var r=EH();(Ci!==e||Hi!==t)&&(Pl=null,Gd(e,t));do try{Eie();break}catch(i){kH(e,i)}while(!0);if(s_(),en=n,Hb.current=r,Qr!==null)throw Error(Me(261));return Ci=null,Hi=0,ei}function Eie(){for(;Qr!==null;)TH(Qr)}function Tie(){for(;Qr!==null&&!Zne();)TH(Qr)}function TH(e){var t=IH(e.alternate,e,uo);e.memoizedProps=e.pendingProps,t===null?_H(e):Qr=t,b_.current=null}function _H(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=wie(n,t),n!==null){n.flags&=32767,Qr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ei=6,Qr=null;return}}else if(n=bie(n,t,uo),n!==null){Qr=n;return}if(t=t.sibling,t!==null){Qr=t;return}Qr=t=e}while(t!==null);ei===0&&(ei=5)}function Td(e,t,n){var r=gn,i=ls.transition;try{ls.transition=null,gn=1,_ie(e,t,n,r)}finally{ls.transition=i,gn=r}return null}function _ie(e,t,n,r){do rp();while(uu!==null);if(en&6)throw Error(Me(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Me(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(lre(e,a),e===Ci&&(Qr=Ci=null,Hi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||my||(my=!0,FH(kb,function(){return rp(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ls.transition,ls.transition=null;var o=gn;gn=1;var s=en;en|=4,b_.current=null,Bie(e,n),BH(n,e),qre(C3),Tb=!!w3,C3=w3=null,e.current=n,Sie(n),ere(),en=s,gn=o,ls.transition=a}else e.current=n;if(my&&(my=!1,uu=e,Kb=i),a=e.pendingLanes,a===0&&(xu=null),rre(n.stateNode),$a(e,kr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($b)throw $b=!1,e=H3,H3=null,e;return Kb&1&&e.tag!==0&&rp(),a=e.pendingLanes,a&1?e===$3?p0++:(p0=0,$3=e):p0=0,Xu(),null}function rp(){if(uu!==null){var e=lj(Kb),t=ls.transition,n=gn;try{if(ls.transition=null,gn=16>e?16:e,uu===null)var r=!1;else{if(e=uu,uu=null,Kb=0,en&6)throw Error(Me(331));var i=en;for(en|=4,We=e.current;We!==null;){var a=We,o=a.child;if(We.flags&16){var s=a.deletions;if(s!==null){for(var c=0;c<s.length;c++){var l=s[c];for(We=l;We!==null;){var A=We;switch(A.tag){case 0:case 11:case 15:f0(8,A,a)}var u=A.child;if(u!==null)u.return=A,We=u;else for(;We!==null;){A=We;var d=A.sibling,f=A.return;if(bH(A),A===l){We=null;break}if(d!==null){d.return=f,We=d;break}We=f}}}var h=a.alternate;if(h!==null){var p=h.child;if(p!==null){h.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}We=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,We=o;else e:for(;We!==null;){if(a=We,a.flags&2048)switch(a.tag){case 0:case 11:case 15:f0(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,We=m;break e}We=a.return}}var w=e.current;for(We=w;We!==null;){o=We;var B=o.child;if(o.subtreeFlags&2064&&B!==null)B.return=o,We=B;else e:for(o=w;We!==null;){if(s=We,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:R5(9,s)}}catch(S){dr(s,s.return,S)}if(s===o){We=null;break e}var C=s.sibling;if(C!==null){C.return=s.return,We=C;break e}We=s.return}}if(en=i,Xu(),Nc&&typeof Nc.onPostCommitFiberRoot=="function")try{Nc.onPostCommitFiberRoot(P5,e)}catch{}r=!0}return r}finally{gn=n,ls.transition=t}}return!1}function AL(e,t,n){t=kp(n,t),t=lH(e,t,1),e=Su(e,t,1),t=ba(),e!==null&&(Mv(e,1,t),$a(e,t))}function dr(e,t,n){if(e.tag===3)AL(e,e,n);else for(;t!==null;){if(t.tag===3){AL(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xu===null||!xu.has(r))){e=kp(n,e),e=AH(t,e,1),t=Su(t,e,1),e=ba(),t!==null&&(Mv(t,1,e),$a(t,e));break}}t=t.return}}function Pie(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ba(),e.pingedLanes|=e.suspendedLanes&n,Ci===e&&(Hi&n)===n&&(ei===4||ei===3&&(Hi&130023424)===Hi&&500>kr()-C_?Gd(e,0):w_|=n),$a(e,t)}function PH(e,t){t===0&&(e.mode&1?(t=sy,sy<<=1,!(sy&130023424)&&(sy=4194304)):t=1);var n=ba();e=Jl(e,t),e!==null&&(Mv(e,t,n),$a(e,n))}function Iie(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),PH(e,n)}function Fie(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Me(314))}r!==null&&r.delete(t),PH(e,n)}var IH;IH=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ja.current)Ma=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ma=!1,yie(e,t,n);Ma=!!(e.flags&131072)}else Ma=!1,zn&&t.flags&1048576&&Uj(t,Ub,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;M2(e,t),e=t.pendingProps;var i=Cp(t,la.current);np(t,n),i=p_(null,t,r,e,i,n);var a=g_();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ha(r)?(a=!0,Ob(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,A_(t),i.updater=M5,t.stateNode=i,i._reactInternals=t,I3(t,r,e,n),t=L3(null,t,r,!0,a,n)):(t.tag=0,zn&&a&&r_(t),pa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(M2(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Lie(r),e=Fs(r,e),i){case 0:t=O3(null,t,r,e,n);break e;case 1:t=eL(null,t,r,e,n);break e;case 11:t=JO(null,t,r,e,n);break e;case 14:t=ZO(null,t,r,Fs(r.type,e),n);break e}throw Error(Me(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fs(r,i),O3(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fs(r,i),eL(e,t,r,i,n);case 3:e:{if(hH(t),e===null)throw Error(Me(387));r=t.pendingProps,a=t.memoizedState,i=a.element,jj(e,t),Rb(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=kp(Error(Me(423)),t),t=tL(e,t,r,n,i);break e}else if(r!==i){i=kp(Error(Me(424)),t),t=tL(e,t,r,n,i);break e}else for(ho=Bu(t.stateNode.containerInfo.firstChild),vo=t,zn=!0,Ns=null,n=Dj(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bp(),r===i){t=Zl(e,t,n);break e}pa(e,t,r,n)}t=t.child}return t;case 5:return Hj(t),e===null&&T3(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,B3(r,i)?o=null:a!==null&&B3(r,a)&&(t.flags|=32),fH(e,t),pa(e,t,o,n),t.child;case 6:return e===null&&T3(t),null;case 13:return pH(e,t,n);case 4:return u_(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Sp(t,null,r,n):pa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fs(r,i),JO(e,t,r,i,n);case 7:return pa(e,t,t.pendingProps,n),t.child;case 8:return pa(e,t,t.pendingProps.children,n),t.child;case 12:return pa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Fn(Nb,r._currentValue),r._currentValue=o,a!==null)if(qs(a.value,o)){if(a.children===i.children&&!ja.current){t=Zl(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var c=s.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=zl(-1,n&-n),c.tag=2;var l=a.updateQueue;if(l!==null){l=l.shared;var A=l.pending;A===null?c.next=c:(c.next=A.next,A.next=c),l.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),_3(a.return,n,t),s.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Me(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),_3(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}pa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,np(t,n),i=As(i),r=r(i),t.flags|=1,pa(e,t,r,n),t.child;case 14:return r=t.type,i=Fs(r,t.pendingProps),i=Fs(r.type,i),ZO(e,t,r,i,n);case 15:return uH(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fs(r,i),M2(e,t),t.tag=1,Ha(r)?(e=!0,Ob(t)):e=!1,np(t,n),cH(t,r,i),I3(t,r,i,n),L3(null,t,r,!0,e,n);case 19:return gH(e,t,n);case 22:return dH(e,t,n)}throw Error(Me(156,t.tag))};function FH(e,t){return aj(e,t)}function Oie(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ns(e,t,n,r){return new Oie(e,t,n,r)}function k_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Lie(e){if(typeof e=="function")return k_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===VT)return 11;if(e===zT)return 14}return 2}function Eu(e,t){var n=e.alternate;return n===null?(n=ns(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Q2(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")k_(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Oh:return qd(n.children,i,a,t);case KT:o=8,i|=8;break;case t3:return e=ns(12,n,t,i|2),e.elementType=t3,e.lanes=a,e;case n3:return e=ns(13,n,t,i),e.elementType=n3,e.lanes=a,e;case r3:return e=ns(19,n,t,i),e.elementType=r3,e.lanes=a,e;case H9:return Q5(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q9:o=10;break e;case j9:o=9;break e;case VT:o=11;break e;case zT:o=14;break e;case ZA:o=16,r=null;break e}throw Error(Me(130,e==null?e:typeof e,""))}return t=ns(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function qd(e,t,n,r){return e=ns(7,e,r,t),e.lanes=n,e}function Q5(e,t,n,r){return e=ns(22,e,r,t),e.elementType=H9,e.lanes=n,e.stateNode={isHidden:!1},e}function W4(e,t,n){return e=ns(6,e,null,t),e.lanes=n,e}function G4(e,t,n){return t=ns(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uie(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=T4(0),this.expirationTimes=T4(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=T4(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function E_(e,t,n,r,i,a,o,s,c){return e=new Uie(e,t,n,s,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ns(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},A_(a),e}function Nie(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fh,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function OH(e){if(!e)return Ru;e=e._reactInternals;e:{if(Rf(e)!==e||e.tag!==1)throw Error(Me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ha(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Me(171))}if(e.tag===1){var n=e.type;if(Ha(n))return Oj(e,n,t)}return t}function LH(e,t,n,r,i,a,o,s,c){return e=E_(n,r,!0,e,i,a,o,s,c),e.context=OH(null),n=e.current,r=ba(),i=ku(n),a=zl(r,i),a.callback=t??null,Su(n,a,i),e.current.lanes=i,Mv(e,i,r),$a(e,r),e}function j5(e,t,n,r){var i=t.current,a=ba(),o=ku(i);return n=OH(n),t.context===null?t.context=n:t.pendingContext=n,t=zl(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Su(i,t,o),e!==null&&(zs(e,i,o,a),L2(e,i,o)),o}function zb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uL(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function T_(e,t){uL(e,t),(e=e.alternate)&&uL(e,t)}function Mie(){return null}var UH=typeof reportError=="function"?reportError:function(e){console.error(e)};function __(e){this._internalRoot=e}H5.prototype.render=__.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Me(409));j5(e,t,null,null)};H5.prototype.unmount=__.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vf(function(){j5(null,e,null,null)}),t[Xl]=null}};function H5(e){this._internalRoot=e}H5.prototype.unstable_scheduleHydration=function(e){if(e){var t=dj();e={blockedOn:null,target:e,priority:t};for(var n=0;n<au.length&&t!==0&&t<au[n].priority;n++);au.splice(n,0,e),n===0&&hj(e)}};function P_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $5(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dL(){}function Rie(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var l=zb(o);a.call(l)}}var o=LH(t,r,e,0,null,!1,!1,"",dL);return e._reactRootContainer=o,e[Xl]=o.current,j0(e.nodeType===8?e.parentNode:e),vf(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var l=zb(c);s.call(l)}}var c=E_(e,0,!1,null,null,!1,!1,"",dL);return e._reactRootContainer=c,e[Xl]=c.current,j0(e.nodeType===8?e.parentNode:e),vf(function(){j5(t,c,n,r)}),c}function K5(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var c=zb(o);s.call(c)}}j5(t,o,e,i)}else o=Rie(n,t,e,i,r);return zb(o)}Aj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Km(t.pendingLanes);n!==0&&(qT(t,n|1),$a(t,kr()),!(en&6)&&(Ep=kr()+500,Xu()))}break;case 13:vf(function(){var r=Jl(e,1);if(r!==null){var i=ba();zs(r,e,1,i)}}),T_(e,1)}};YT=function(e){if(e.tag===13){var t=Jl(e,134217728);if(t!==null){var n=ba();zs(t,e,134217728,n)}T_(e,134217728)}};uj=function(e){if(e.tag===13){var t=ku(e),n=Jl(e,t);if(n!==null){var r=ba();zs(n,e,t,r)}T_(e,t)}};dj=function(){return gn};fj=function(e,t){var n=gn;try{return gn=e,t()}finally{gn=n}};f3=function(e,t,n){switch(t){case"input":if(o3(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=L5(r);if(!i)throw Error(Me(90));K9(r),o3(r,i)}}}break;case"textarea":z9(e,n);break;case"select":t=n.value,t!=null&&Jh(e,!!n.multiple,t,!1)}};Z9=B_;ej=vf;var Die={usingClientEntryPoint:!1,Events:[Dv,Mh,L5,X9,J9,B_]},dm={findFiberByHostInstance:Rd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qie={bundleType:dm.bundleType,version:dm.version,rendererPackageName:dm.rendererPackageName,rendererConfig:dm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pA.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rj(e),e===null?null:e.stateNode},findFiberByHostInstance:dm.findFiberByHostInstance||Mie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vy.isDisabled&&vy.supportsFiber)try{P5=vy.inject(Qie),Nc=vy}catch{}}Po.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Die;Po.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P_(t))throw Error(Me(200));return Nie(e,t,null,n)};Po.createRoot=function(e,t){if(!P_(e))throw Error(Me(299));var n=!1,r="",i=UH;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=E_(e,1,!1,null,null,n,!1,r,i),e[Xl]=t.current,j0(e.nodeType===8?e.parentNode:e),new __(t)};Po.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Me(188)):(e=Object.keys(e).join(","),Error(Me(268,e)));return e=rj(t),e=e===null?null:e.stateNode,e};Po.flushSync=function(e){return vf(e)};Po.hydrate=function(e,t,n){if(!$5(t))throw Error(Me(200));return K5(null,e,t,!0,n)};Po.hydrateRoot=function(e,t,n){if(!P_(e))throw Error(Me(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=UH;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=LH(t,null,e,1,n??null,i,!1,a,o),e[Xl]=t.current,j0(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new H5(t)};Po.render=function(e,t,n){if(!$5(t))throw Error(Me(200));return K5(null,e,t,!1,n)};Po.unmountComponentAtNode=function(e){if(!$5(e))throw Error(Me(40));return e._reactRootContainer?(vf(function(){K5(null,null,e,!1,function(){e._reactRootContainer=null,e[Xl]=null})}),!0):!1};Po.unstable_batchedUpdates=B_;Po.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$5(n))throw Error(Me(200));if(e==null||e._reactInternals===void 0)throw Error(Me(38));return K5(e,t,n,!1,r)};Po.version="18.3.1-next-f1338f8080-20240426";function NH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NH)}catch(e){console.error(e)}}NH(),N9.exports=Po;var I_=N9.exports,fL=I_;Zx.createRoot=fL.createRoot,Zx.hydrateRoot=fL.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y0.apply(this,arguments)}var du;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(du||(du={}));const hL="popstate";function jie(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:s}=r.location;return z3("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:MH(i)}return $ie(t,n,null,e)}function ti(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function F_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Hie(){return Math.random().toString(36).substr(2,8)}function pL(e,t){return{usr:e.state,key:e.key,idx:t}}function z3(e,t,n,r){return n===void 0&&(n=null),Y0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ng(t):t,{state:n,key:t&&t.key||r||Hie()})}function MH(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ng(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function $ie(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=du.Pop,c=null,l=A();l==null&&(l=0,o.replaceState(Y0({},o.state,{idx:l}),""));function A(){return(o.state||{idx:null}).idx}function u(){s=du.Pop;let v=A(),m=v==null?null:v-l;l=v,c&&c({action:s,location:p.location,delta:m})}function d(v,m){s=du.Push;let w=z3(p.location,v,m);l=A()+1;let B=pL(w,l),C=p.createHref(w);try{o.pushState(B,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(C)}a&&c&&c({action:s,location:p.location,delta:1})}function f(v,m){s=du.Replace;let w=z3(p.location,v,m);l=A();let B=pL(w,l),C=p.createHref(w);o.replaceState(B,"",C),a&&c&&c({action:s,location:p.location,delta:0})}function h(v){let m=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:MH(v);return w=w.replace(/ $/,"%20"),ti(m,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,m)}let p={get action(){return s},get location(){return e(i,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(hL,u),c=v,()=>{i.removeEventListener(hL,u),c=null}},createHref(v){return t(i,v)},createURL:h,encodeLocation(v){let m=h(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:f,go(v){return o.go(v)}};return p}var gL;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(gL||(gL={}));function Kie(e,t,n){return n===void 0&&(n="/"),Vie(e,t,n)}function Vie(e,t,n,r){let i=typeof t=="string"?ng(t):t,a=QH(i.pathname||"/",n);if(a==null)return null;let o=RH(e);zie(o);let s=null;for(let c=0;s==null&&c<o.length;++c){let l=iae(a);s=tae(o[c],l)}return s}function RH(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let c={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(ti(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let l=Yd([r,c.relativePath]),A=n.concat(c);a.children&&a.children.length>0&&(ti(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),RH(a.children,t,A,l)),!(a.path==null&&!a.index)&&t.push({path:l,score:Zie(l,a.index),routesMeta:A})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let c of DH(a.path))i(a,o,c)}),t}function DH(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=DH(r.join("/")),s=[];return s.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&s.push(...o),s.map(c=>e.startsWith("/")&&c===""?"/":c)}function zie(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:eae(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Wie=/^:[\w-]+$/,Gie=3,qie=2,Yie=1,Xie=10,Jie=-2,mL=e=>e==="*";function Zie(e,t){let n=e.split("/"),r=n.length;return n.some(mL)&&(r+=Jie),t&&(r+=qie),n.filter(i=>!mL(i)).reduce((i,a)=>i+(Wie.test(a)?Gie:a===""?Yie:Xie),r)}function eae(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function tae(e,t,n){let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let c=r[s],l=s===r.length-1,A=a==="/"?t:t.slice(a.length)||"/",u=nae({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},A),d=c.route;if(!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Yd([a,u.pathname]),pathnameBase:uae(Yd([a,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(a=Yd([a,u.pathnameBase]))}return o}function nae(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=rae(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((l,A,u)=>{let{paramName:d,isOptional:f}=A;if(d==="*"){let p=s[u]||"";o=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const h=s[u];return f&&!h?l[d]=void 0:l[d]=(h||"").replace(/%2F/g,"/"),l},{}),pathname:a,pathnameBase:o,pattern:e}}function rae(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),F_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,c)=>(r.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function iae(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return F_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function QH(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const aae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oae=e=>aae.test(e);function sae(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ng(e):e,a;if(n)if(oae(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),F_(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?a=vL(n.substring(1),"/"):a=vL(n,t)}else a=t;return{pathname:a,search:dae(r),hash:fae(i)}}function vL(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function q4(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cae(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function lae(e,t){let n=cae(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Aae(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ng(e):(i=Y0({},e),ti(!i.pathname||!i.pathname.includes("?"),q4("?","pathname","search",i)),ti(!i.pathname||!i.pathname.includes("#"),q4("#","pathname","hash",i)),ti(!i.search||!i.search.includes("#"),q4("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let u=t.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),u-=1;i.pathname=d.join("/")}s=u>=0?t[u]:"/"}let c=sae(i,s),l=o&&o!=="/"&&o.endsWith("/"),A=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||A)&&(c.pathname+="/"),c}const Yd=e=>e.join("/").replace(/\/\/+/g,"/"),uae=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dae=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fae=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hae(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const jH=["post","put","patch","delete"];new Set(jH);const pae=["get",...jH];new Set(pae);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function X0(){return X0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X0.apply(this,arguments)}const O_=y.createContext(null),gae=y.createContext(null),V5=y.createContext(null),z5=y.createContext(null),Df=y.createContext({outlet:null,matches:[],isDataRoute:!1}),HH=y.createContext(null);function W5(){return y.useContext(z5)!=null}function L_(){return W5()||ti(!1),y.useContext(z5).location}function $H(e){y.useContext(V5).static||y.useLayoutEffect(e)}function U_(){let{isDataRoute:e}=y.useContext(Df);return e?Pae():mae()}function mae(){W5()||ti(!1);let e=y.useContext(O_),{basename:t,future:n,navigator:r}=y.useContext(V5),{matches:i}=y.useContext(Df),{pathname:a}=L_(),o=JSON.stringify(lae(i,n.v7_relativeSplatPath)),s=y.useRef(!1);return $H(()=>{s.current=!0}),y.useCallback(function(l,A){if(A===void 0&&(A={}),!s.current)return;if(typeof l=="number"){r.go(l);return}let u=Aae(l,JSON.parse(o),a,A.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Yd([t,u.pathname])),(A.replace?r.replace:r.push)(u,A.state,A)},[t,r,o,a,e])}function vae(){let{matches:e}=y.useContext(Df),t=e[e.length-1];return t?t.params:{}}function yae(e,t){return bae(e,t)}function bae(e,t,n,r){W5()||ti(!1);let{navigator:i}=y.useContext(V5),{matches:a}=y.useContext(Df),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let l=L_(),A;if(t){var u;let v=typeof t=="string"?ng(t):t;c==="/"||(u=v.pathname)!=null&&u.startsWith(c)||ti(!1),A=v}else A=l;let d=A.pathname||"/",f=d;if(c!=="/"){let v=c.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let h=Kie(e,{pathname:f}),p=xae(h&&h.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:Yd([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Yd([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return t&&p?y.createElement(z5.Provider,{value:{location:X0({pathname:"/",search:"",hash:"",state:null,key:"default"},A),navigationType:du.Pop}},p):p}function wae(){let e=_ae(),t=hae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:i},n):null,null)}const Cae=y.createElement(wae,null);class Bae extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(Df.Provider,{value:this.props.routeContext},y.createElement(HH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sae(e){let{routeContext:t,match:n,children:r}=e,i=y.useContext(O_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Df.Provider,{value:t},r)}function xae(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,s=(i=n)==null?void 0:i.errors;if(s!=null){let A=o.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);A>=0||ti(!1),o=o.slice(0,Math.min(o.length,A+1))}let c=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let A=0;A<o.length;A++){let u=o[A];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=A),u.route.id){let{loaderData:d,errors:f}=n,h=u.route.loader&&d[u.route.id]===void 0&&(!f||f[u.route.id]===void 0);if(u.route.lazy||h){c=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((A,u,d)=>{let f,h=!1,p=null,v=null;n&&(f=s&&u.route.id?s[u.route.id]:void 0,p=u.route.errorElement||Cae,c&&(l<0&&d===0?(Iae("route-fallback"),h=!0,v=null):l===d&&(h=!0,v=u.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,d+1)),w=()=>{let B;return f?B=p:h?B=v:u.route.Component?B=y.createElement(u.route.Component,null):u.route.element?B=u.route.element:B=A,y.createElement(Sae,{match:u,routeContext:{outlet:A,matches:m,isDataRoute:n!=null},children:B})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?y.createElement(Bae,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:w(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):w()},null)}var KH=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(KH||{}),VH=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(VH||{});function kae(e){let t=y.useContext(O_);return t||ti(!1),t}function Eae(e){let t=y.useContext(gae);return t||ti(!1),t}function Tae(e){let t=y.useContext(Df);return t||ti(!1),t}function zH(e){let t=Tae(),n=t.matches[t.matches.length-1];return n.route.id||ti(!1),n.route.id}function _ae(){var e;let t=y.useContext(HH),n=Eae(),r=zH();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Pae(){let{router:e}=kae(KH.UseNavigateStable),t=zH(VH.UseNavigateStable),n=y.useRef(!1);return $H(()=>{n.current=!0}),y.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,X0({fromRouteId:t},a)))},[e,t])}const yL={};function Iae(e,t,n){yL[e]||(yL[e]=!0)}function Fae(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function W3(e){ti(!1)}function Oae(e){let{basename:t="/",children:n=null,location:r,navigationType:i=du.Pop,navigator:a,static:o=!1,future:s}=e;W5()&&ti(!1);let c=t.replace(/^\/*/,"/"),l=y.useMemo(()=>({basename:c,navigator:a,static:o,future:X0({v7_relativeSplatPath:!1},s)}),[c,s,a,o]);typeof r=="string"&&(r=ng(r));let{pathname:A="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,p=y.useMemo(()=>{let v=QH(A,c);return v==null?null:{location:{pathname:v,search:u,hash:d,state:f,key:h},navigationType:i}},[c,A,u,d,f,h,i]);return p==null?null:y.createElement(V5.Provider,{value:l},y.createElement(z5.Provider,{children:n,value:p}))}function Lae(e){let{children:t,location:n}=e;return yae(G3(t),n)}new Promise(()=>{});function G3(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,i)=>{if(!y.isValidElement(r))return;let a=[...t,i];if(r.type===y.Fragment){n.push.apply(n,G3(r.props.children,a));return}r.type!==W3&&ti(!1),!r.props.index||!r.props.children||ti(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=G3(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function q3(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Uae(e,t){let n=q3(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const Nae="6";try{window.__reactRouterVersion=Nae}catch{}const Mae="startTransition",bL=L9[Mae];function Rae(e){let{basename:t,children:n,future:r,window:i}=e,a=y.useRef();a.current==null&&(a.current=jie({window:i,v5Compat:!0}));let o=a.current,[s,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},A=y.useCallback(u=>{l&&bL?bL(()=>c(u)):c(u)},[c,l]);return y.useLayoutEffect(()=>o.listen(A),[o,A]),y.useEffect(()=>Fae(r),[r]),y.createElement(Oae,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}var wL;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(wL||(wL={}));var CL;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(CL||(CL={}));function Dae(e){let t=y.useRef(q3(e)),n=y.useRef(!1),r=L_(),i=y.useMemo(()=>Uae(r.search,n.current?null:t.current),[r.search]),a=U_(),o=y.useCallback((s,c)=>{const l=q3(typeof s=="function"?s(i):s);n.current=!0,a("?"+l,c)},[a,i]);return[i,o]}function Qae(){return Math.random().toString(36).slice(2,10)}const jae=[{value:0,label:"When everyone leaves"},{value:15,label:"15 minutes"},{value:30,label:"30 minutes"},{value:60,label:"1 hour"},{value:120,label:"2 hours"}];function Hae(){const e=U_(),[t,n]=y.useState(""),[r,i]=y.useState(""),[a,o]=y.useState(""),[s,c]=y.useState(""),[l,A]=y.useState(""),[u,d]=y.useState(""),[f,h]=y.useState(30),[p,v]=y.useState(!1),[m,w]=y.useState(!1),[B,C]=y.useState(!1),S=_=>{_.preventDefault();const F=t.trim();if(!F){c("Enter your name");return}c("");const P=Qae(),U=new URLSearchParams({name:F});U.set("create","1"),l.trim()&&U.set("password",l.trim()),u&&U.set("scheduled",new Date(u).toISOString()),U.set("expiry",String(f)),p&&U.set("waiting","1"),m&&U.set("sfu","1"),e(`/meeting/${P}?${U.toString()}`)},k=_=>{_.preventDefault();const F=t.trim(),P=r.trim();if(!F){c("Enter your name");return}if(!P){c("Enter meeting ID or paste link");return}c("");let U=P.replace(/.*\/(?:meeting\/)?([a-z0-9-]+).*/i,"$1");const T=new URLSearchParams({name:F});try{const O=new URL(P,window.location.origin),H=O.pathname.match(/\/meeting\/([^/]+)/i);H!=null&&H[1]&&(U=H[1]);const $=new URLSearchParams(O.search);for(const Z of["sfu","password"]){const ae=$.get(Z);ae&&T.set(Z,ae)}}catch{}a.trim()&&T.set("password",a.trim()),e(`/meeting/${U}?${T.toString()}`)};return L.jsxs("div",{className:"home",children:[L.jsxs("div",{className:"home-card",children:[L.jsx("h1",{className:"home-title",children:"Meet"}),L.jsx("p",{className:"home-subtitle",children:"Video calls with screen share and chat"}),L.jsxs("form",{onSubmit:S,className:"home-form",children:[L.jsx("input",{type:"text",placeholder:"Your name",value:t,onChange:_=>n(_.target.value),className:"home-input",maxLength:50}),L.jsx("button",{type:"button",className:"home-options-toggle",onClick:()=>C(_=>!_),children:B?"Hide options":"Meeting options"}),B&&L.jsxs("div",{className:"home-options",children:[L.jsxs("label",{className:"home-label",children:["Password (optional)",L.jsx("input",{type:"text",placeholder:"Room password",value:l,onChange:_=>A(_.target.value),className:"home-input",maxLength:20})]}),L.jsxs("label",{className:"home-label",children:["Scheduled start (optional)",L.jsx("input",{type:"datetime-local",value:u,onChange:_=>d(_.target.value),className:"home-input"})]}),L.jsxs("label",{className:"home-label",children:["Room expires when empty",L.jsx("select",{value:f,onChange:_=>h(Number(_.target.value)),className:"home-input",children:jae.map(_=>L.jsx("option",{value:_.value,children:_.label},_.value))})]}),L.jsxs("label",{className:"home-checkbox",children:[L.jsx("input",{type:"checkbox",checked:p,onChange:_=>v(_.target.checked)}),"Waiting room (host admits participants)"]}),L.jsxs("label",{className:"home-checkbox",children:[L.jsx("input",{type:"checkbox",checked:m,onChange:_=>w(_.target.checked)}),"Large meeting mode (SFU via LiveKit)"]})]}),L.jsx("button",{type:"submit",className:"home-btn home-btn-primary",children:"Create meeting"})]}),L.jsx("div",{className:"home-divider",children:"or join with ID"}),L.jsxs("form",{onSubmit:k,className:"home-form",children:[L.jsx("input",{type:"text",placeholder:"Meeting ID or link",value:r,onChange:_=>i(_.target.value),className:"home-input"}),L.jsx("input",{type:"password",placeholder:"Password (if required)",value:a,onChange:_=>o(_.target.value),className:"home-input",autoComplete:"off"}),L.jsx("button",{type:"submit",className:"home-btn home-btn-secondary",children:"Join meeting"})]}),s&&L.jsx("p",{className:"home-error",children:s})]}),L.jsx("style",{children:`
        .home {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 24px;
        }
        .home-card {
          background: var(--surface);
          border: 1px solid var(--border);
          border-radius: 16px;
          padding: 40px;
          width: 100%;
          max-width: 400px;
        }
        .home-title {
          margin: 0 0 8px;
          font-size: 28px;
          font-weight: 700;
        }
        .home-subtitle {
          margin: 0 0 28px;
          color: var(--text-muted);
          font-size: 14px;
        }
        .home-form {
          display: flex;
          flex-direction: column;
          gap: 12px;
          margin-bottom: 16px;
        }
        .home-options-toggle {
          background: none;
          color: var(--accent);
          font-size: 13px;
          padding: 4px 0;
          text-align: left;
        }
        .home-options-toggle:hover { text-decoration: underline; }
        .home-options {
          display: flex;
          flex-direction: column;
          gap: 12px;
          padding: 12px 0;
          border-top: 1px solid var(--border);
        }
        .home-label, .home-checkbox {
          display: flex;
          flex-direction: column;
          gap: 4px;
          font-size: 13px;
          color: var(--text-muted);
        }
        .home-checkbox {
          flex-direction: row;
          align-items: center;
        }
        .home-checkbox input { margin-right: 8px; }
        .home-input {
          padding: 12px 16px;
          border: 1px solid var(--border);
          border-radius: 10px;
          background: var(--bg);
          color: var(--text);
          font-size: 15px;
        }
        .home-input::placeholder {
          color: var(--text-muted);
        }
        .home-input:focus {
          outline: none;
          border-color: var(--accent);
        }
        .home-btn {
          padding: 14px 20px;
          border-radius: 10px;
          font-size: 15px;
          font-weight: 600;
        }
        .home-btn-primary {
          background: var(--accent);
          color: white;
        }
        .home-btn-primary:hover {
          background: var(--accent-hover);
        }
        .home-btn-secondary {
          background: var(--surface-hover);
          color: var(--text);
          border: 1px solid var(--border);
        }
        .home-btn-secondary:hover {
          background: var(--border);
        }
        .home-divider {
          text-align: center;
          color: var(--text-muted);
          font-size: 13px;
          margin: 8px 0 16px;
        }
        .home-error {
          margin: 12px 0 0;
          color: var(--danger);
          font-size: 14px;
        }
      `})]})}const $c=Object.create(null);$c.open="0";$c.close="1";$c.ping="2";$c.pong="3";$c.message="4";$c.upgrade="5";$c.noop="6";const j2=Object.create(null);Object.keys($c).forEach(e=>{j2[$c[e]]=e});const Y3={type:"error",data:"parser error"},WH=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",GH=typeof ArrayBuffer=="function",qH=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,N_=({type:e,data:t},n,r)=>WH&&t instanceof Blob?n?r(t):BL(t,r):GH&&(t instanceof ArrayBuffer||qH(t))?n?r(t):BL(new Blob([t]),r):r($c[e]+(t||"")),BL=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function SL(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Y4;function $ae(e,t){if(WH&&e.data instanceof Blob)return e.data.arrayBuffer().then(SL).then(t);if(GH&&(e.data instanceof ArrayBuffer||qH(e.data)))return t(SL(e.data));N_(e,!1,n=>{Y4||(Y4=new TextEncoder),t(Y4.encode(n))})}const xL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zm=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<xL.length;e++)zm[xL.charCodeAt(e)]=e;const Kae=e=>{let t=e.length*.75,n=e.length,r,i=0,a,o,s,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const l=new ArrayBuffer(t),A=new Uint8Array(l);for(r=0;r<n;r+=4)a=zm[e.charCodeAt(r)],o=zm[e.charCodeAt(r+1)],s=zm[e.charCodeAt(r+2)],c=zm[e.charCodeAt(r+3)],A[i++]=a<<2|o>>4,A[i++]=(o&15)<<4|s>>2,A[i++]=(s&3)<<6|c&63;return l},Vae=typeof ArrayBuffer=="function",M_=(e,t)=>{if(typeof e!="string")return{type:"message",data:YH(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:zae(e.substring(1),t)}:j2[n]?e.length>1?{type:j2[n],data:e.substring(1)}:{type:j2[n]}:Y3},zae=(e,t)=>{if(Vae){const n=Kae(e);return YH(n,t)}else return{base64:!0,data:e}},YH=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},XH="",Wae=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((a,o)=>{N_(a,!1,s=>{r[o]=s,++i===n&&t(r.join(XH))})})},Gae=(e,t)=>{const n=e.split(XH),r=[];for(let i=0;i<n.length;i++){const a=M_(n[i],t);if(r.push(a),a.type==="error")break}return r};function qae(){return new TransformStream({transform(e,t){$ae(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let X4;function yy(e){return e.reduce((t,n)=>t+n.length,0)}function by(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Yae(e,t){X4||(X4=new TextDecoder);const n=[];let r=0,i=-1,a=!1;return new TransformStream({transform(o,s){for(n.push(o);;){if(r===0){if(yy(n)<1)break;const c=by(n,1);a=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(yy(n)<2)break;const c=by(n,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(yy(n)<8)break;const c=by(n,8),l=new DataView(c.buffer,c.byteOffset,c.length),A=l.getUint32(0);if(A>Math.pow(2,21)-1){s.enqueue(Y3);break}i=A*Math.pow(2,32)+l.getUint32(4),r=3}else{if(yy(n)<i)break;const c=by(n,i);s.enqueue(M_(a?c:X4.decode(c),t)),r=0}if(i===0||i>e){s.enqueue(Y3);break}}}})}const JH=4;function jr(e){if(e)return Xae(e)}function Xae(e){for(var t in jr.prototype)e[t]=jr.prototype[t];return e}jr.prototype.on=jr.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};jr.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};jr.prototype.off=jr.prototype.removeListener=jr.prototype.removeAllListeners=jr.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};jr.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};jr.prototype.emitReserved=jr.prototype.emit;jr.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};jr.prototype.hasListeners=function(e){return!!this.listeners(e).length};const G5=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),es=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Jae="arraybuffer";function ZH(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const Zae=es.setTimeout,eoe=es.clearTimeout;function q5(e,t){t.useNativeTimers?(e.setTimeoutFn=Zae.bind(es),e.clearTimeoutFn=eoe.bind(es)):(e.setTimeoutFn=es.setTimeout.bind(es),e.clearTimeoutFn=es.clearTimeout.bind(es))}const toe=1.33;function noe(e){return typeof e=="string"?roe(e):Math.ceil((e.byteLength||e.size)*toe)}function roe(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function e$(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function ioe(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function aoe(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class ooe extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class R_ extends jr{constructor(t){super(),this.writable=!1,q5(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new ooe(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=M_(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=ioe(t);return n.length?"?"+n:""}}class soe extends R_{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Gae(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Wae(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=e$()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let t$=!1;try{t$=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const coe=t$;function loe(){}class Aoe extends soe{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Rc extends jr{constructor(t,n,r){super(),this.createRequest=t,q5(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=ZH(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Rc.requestsCount++,Rc.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=loe,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Rc.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Rc.requestsCount=0;Rc.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",kL);else if(typeof addEventListener=="function"){const e="onpagehide"in es?"pagehide":"unload";addEventListener(e,kL,!1)}}function kL(){for(let e in Rc.requests)Rc.requests.hasOwnProperty(e)&&Rc.requests[e].abort()}const uoe=function(){const e=n$({xdomain:!1});return e&&e.responseType!==null}();class doe extends Aoe{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=uoe&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Rc(n$,this.uri(),t)}}function n$(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||coe))return new XMLHttpRequest}catch{}if(!t)try{return new es[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const r$=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class foe extends R_{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=r$?{}:ZH(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;N_(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}i&&G5(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=e$()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const J4=es.WebSocket||es.MozWebSocket;class hoe extends foe{createSocket(t,n,r){return r$?new J4(t,n,r):n?new J4(t,n):new J4(t)}doWrite(t,n){this.ws.send(n)}}class poe extends R_{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=Yae(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),i=qae();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{r.read().then(({done:s,value:c})=>{s||(this.onPacket(c),a())}).catch(s=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;this._writer.write(r).then(()=>{i&&G5(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const goe={websocket:hoe,webtransport:poe,polling:doe},moe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,voe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function X3(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=moe.exec(e||""),a={},o=14;for(;o--;)a[voe[o]]=i[o]||"";return n!=-1&&r!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=yoe(a,a.path),a.queryKey=boe(a,a.query),a}function yoe(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function boe(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,a){i&&(n[i]=a)}),n}const J3=typeof addEventListener=="function"&&typeof removeEventListener=="function",H2=[];J3&&addEventListener("offline",()=>{H2.forEach(e=>e())},!1);class Tu extends jr{constructor(t,n){if(super(),this.binaryType=Jae,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=X3(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=X3(n.host).host);q5(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=aoe(this.opts.query)),J3&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},H2.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=JH,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Tu.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Tu.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=noe(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,G5(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:t,data:n,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Tu.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),J3&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=H2.indexOf(this._offlineEventListener);r!==-1&&H2.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Tu.protocol=JH;class woe extends Tu{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;Tu.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",u=>{if(!r)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Tu.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(A(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const d=new Error("probe error");d.transport=n.name,this.emitReserved("upgradeError",d)}}))};function a(){r||(r=!0,A(),n.close(),n=null)}const o=u=>{const d=new Error("probe error: "+u);d.transport=n.name,a(),this.emitReserved("upgradeError",d)};function s(){o("transport closed")}function c(){o("socket closed")}function l(u){n&&u.name!==n.name&&a()}const A=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",s),this.off("close",c),this.off("upgrading",l)};n.once("open",i),n.once("error",o),n.once("close",s),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let Coe=class extends woe{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>goe[i]).filter(i=>!!i)),super(t,r)}};function Boe(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=X3(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}const Soe=typeof ArrayBuffer=="function",xoe=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,i$=Object.prototype.toString,koe=typeof Blob=="function"||typeof Blob<"u"&&i$.call(Blob)==="[object BlobConstructor]",Eoe=typeof File=="function"||typeof File<"u"&&i$.call(File)==="[object FileConstructor]";function D_(e){return Soe&&(e instanceof ArrayBuffer||xoe(e))||koe&&e instanceof Blob||Eoe&&e instanceof File}function $2(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if($2(e[n]))return!0;return!1}if(D_(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return $2(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&$2(e[n]))return!0;return!1}function Toe(e){const t=[],n=e.data,r=e;return r.data=Z3(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Z3(e,t){if(!e)return e;if(D_(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Z3(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Z3(e[r],t));return n}return e}function _oe(e,t){return e.data=ek(e.data,t),delete e.attachments,e}function ek(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=ek(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=ek(e[n],t));return e}const Poe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var Wt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Wt||(Wt={}));class Ioe{constructor(t){this.replacer=t}encode(t){return(t.type===Wt.EVENT||t.type===Wt.ACK)&&$2(t)?this.encodeAsBinary({type:t.type===Wt.EVENT?Wt.BINARY_EVENT:Wt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Wt.BINARY_EVENT||t.type===Wt.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Toe(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}class Q_ extends jr{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Wt.BINARY_EVENT;r||n.type===Wt.BINARY_ACK?(n.type=r?Wt.EVENT:Wt.ACK,this.reconstructor=new Foe(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(D_(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Wt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Wt.BINARY_EVENT||r.type===Wt.BINARY_ACK){const a=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(a,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(a,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const a=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(a,n+1))}if(t.charAt(++n)){const a=this.tryParse(t.substr(n));if(Q_.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Wt.CONNECT:return EL(n);case Wt.DISCONNECT:return n===void 0;case Wt.CONNECT_ERROR:return typeof n=="string"||EL(n);case Wt.EVENT:case Wt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Poe.indexOf(n[0])===-1);case Wt.ACK:case Wt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Foe{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=_oe(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function EL(e){return Object.prototype.toString.call(e)==="[object Object]"}const Ooe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Q_,Encoder:Ioe,get PacketType(){return Wt}},Symbol.toStringTag,{value:"Module"}));function Ls(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Loe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class a$ extends jr{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ls(t,"open",this.onopen.bind(this)),Ls(t,"packet",this.onpacket.bind(this)),Ls(t,"error",this.onerror.bind(this)),Ls(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,i,a;if(Loe.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:Wt.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const A=this.ids++,u=n.pop();this._registerAckCallback(A,u),o.id=A}const s=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!s||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===t&&this.sendBuffer.splice(s,1);n.call(this,new Error("operation has timed out"))},i),o=(...s)=>{this.io.clearTimeoutFn(a),n.apply(this,s)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,i)=>{const a=(o,s)=>o?i(o):r(s);a.withError=!0,n.push(a),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>(this._queue[0],i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Wt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Wt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Wt.EVENT:case Wt.BINARY_EVENT:this.onevent(t);break;case Wt.ACK:case Wt.BINARY_ACK:this.onack(t);break;case Wt.DISCONNECT:this.ondisconnect();break;case Wt.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:Wt.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Wt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function rg(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}rg.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};rg.prototype.reset=function(){this.attempts=0};rg.prototype.setMin=function(e){this.ms=e};rg.prototype.setMax=function(e){this.max=e};rg.prototype.setJitter=function(e){this.jitter=e};class tk extends jr{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,q5(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new rg({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||Ooe;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Coe(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Ls(n,"open",function(){r.onopen(),t&&t()}),a=s=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",s),t?t(s):this.maybeReconnectOnOpen()},o=Ls(n,"error",a);if(this._timeout!==!1){const s=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),n.close()},s);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ls(t,"ping",this.onping.bind(this)),Ls(t,"data",this.ondata.bind(this)),Ls(t,"error",this.onerror.bind(this)),Ls(t,"close",this.onclose.bind(this)),Ls(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){G5(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new a$(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const fm={};function K2(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Boe(e,t.path||"/socket.io"),r=n.source,i=n.id,a=n.path,o=fm[i]&&a in fm[i].nsps,s=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return s?c=new tk(r,t):(fm[i]||(fm[i]=new tk(r,t)),c=fm[i]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(K2,{Manager:tk,Socket:a$,io:K2,connect:K2});const TL=[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}];function Uoe(e,t,n,r=null){const i=y.useRef(null),a=y.useRef(new Map),[o,s]=y.useState([]),[c,l]=y.useState(new Map),[A,u]=y.useState([]),[d,f]=y.useState(null),[h,p]=y.useState("connecting"),[v,m]=y.useState(!1),[w,B]=y.useState([]),[C,S]=y.useState(null),[k,_]=y.useState(new Map),[F,P]=y.useState([]),[U,T]=y.useState(null),[O,H]=y.useState(!1),[$,Z]=y.useState(null),ae=y.useRef(null),ie=y.useCallback((ne,Ce)=>{l(Ue=>{const Q=new Map(Ue);return Q.set(ne,Ce),Q})},[]),W=y.useCallback(ne=>{const Ce=a.current.get(ne);Ce&&(Ce.close(),a.current.delete(ne)),l(Ue=>{const Q=new Map(Ue);return Q.delete(ne),Q})},[]);y.useEffect(()=>{if(!e||!t)return;const ne=K2(window.location.origin,{path:"/socket.io",transports:["websocket","polling"]});i.current=ne;const Ce=r;ne.on("connect_error",()=>{f("Could not connect to the server. Is it running on port 3001?"),p(null)}),ne.on("error",Q=>{f((Q==null?void 0:Q.message)||"Error"),p(null)}),ne.on("wrong-password",()=>{p("password-required"),f(null)}),ne.on("meeting-not-started",({scheduledAt:Q})=>{S(Q),p("not-started"),f(null)}),ne.on("waiting-for-host",()=>{p("waiting"),f(null)}),ne.on("rejected",()=>{p("rejected"),f(null)}),ne.on("room-joined",({participants:Q,isHost:ke,myId:je})=>{s(Q),m(!!ke),je&&Z(je),p("joined"),f(null),B([])}),ne.on("admitted",({participants:Q,myId:ke})=>{s(Q),m(!1),ke&&Z(ke),p("joined"),f(null)}),ne.on("pending-join",({id:Q,userName:ke})=>{B(je=>[...je.filter(De=>De.id!==Q),{id:Q,userName:ke}])}),ne.on("pending-left",Q=>{B(ke=>ke.filter(je=>je.id!==Q))}),ne.on("participant-joined",async({id:Q,userName:ke})=>{s(Se=>[...Se.filter(qe=>qe.id!==Q),{id:Q,userName:ke}]),B(Se=>Se.filter(qe=>qe.id!==Q));const je=n==null?void 0:n.current;if(!je)return;const De=new RTCPeerConnection({iceServers:TL});je.getTracks().forEach(Se=>De.addTrack(Se,je)),De.ontrack=Se=>{var qe;(qe=Se.streams)!=null&&qe[0]&&ie(Q,Se.streams[0])},De.onicecandidate=Se=>{Se.candidate&&ne.emit("ice-candidate",Q,Se.candidate)},a.current.set(Q,De);try{const Se=await De.createOffer();await De.setLocalDescription(Se),ne.emit("offer",Q,Se)}catch(Se){console.error("createOffer failed",Se)}}),ne.on("offer",async(Q,ke)=>{const je=n==null?void 0:n.current;let De=a.current.get(Q);De||(De=new RTCPeerConnection({iceServers:TL}),je&&je.getTracks().forEach(Se=>De.addTrack(Se,je)),De.ontrack=Se=>{var qe;(qe=Se.streams)!=null&&qe[0]&&ie(Q,Se.streams[0])},De.onicecandidate=Se=>{Se.candidate&&ne.emit("ice-candidate",Q,Se.candidate)},a.current.set(Q,De));try{await De.setRemoteDescription(new RTCSessionDescription(ke));const Se=await De.createAnswer();await De.setLocalDescription(Se),ne.emit("answer",Q,Se)}catch(Se){console.error("handle offer failed",Se)}}),ne.on("answer",async(Q,ke)=>{const je=a.current.get(Q);if(je)try{await je.setRemoteDescription(new RTCSessionDescription(ke))}catch(De){console.error("setRemoteDescription answer failed",De)}}),ne.on("ice-candidate",async(Q,ke)=>{const je=a.current.get(Q);if(je&&ke)try{await je.addIceCandidate(new RTCIceCandidate(ke))}catch(De){console.error("addIceCandidate failed",De)}}),ne.on("participant-left",Q=>{W(Q),s(ke=>ke.filter(je=>je.id!==Q)),_(ke=>{const je=new Map(ke);return je.delete(Q),je}),T(ke=>ke===Q?null:ke)}),ne.on("chat-message",Q=>{u(ke=>[...ke,Q])}),ne.on("mute-audio",()=>{var Q;(Q=n==null?void 0:n.current)==null||Q.getAudioTracks().forEach(ke=>{ke.enabled=!1}),H(!0)}),ne.on("mute-audio-request",()=>{var Q;(Q=n==null?void 0:n.current)==null||Q.getAudioTracks().forEach(ke=>{ke.enabled=!1}),H(!0)}),ne.on("kicked",()=>{ne.disconnect(),p("kicked")}),ne.on("meeting-ended",()=>{ne.disconnect(),p("ended")}),ne.on("participant-hand-raised",({id:Q,raised:ke})=>{_(je=>{const De=new Map(je);return ke?De.set(Q,!0):De.delete(Q),De})}),ne.on("reaction",({fromId:Q,userName:ke,type:je})=>{const De={fromId:Q,userName:ke,type:je,ts:Date.now()};P(Se=>[...Se.slice(-4),De]),ae.current&&clearTimeout(ae.current),ae.current=setTimeout(()=>{P(Se=>Se.filter(qe=>Date.now()-qe.ts<4e3))},4e3)}),ne.on("spotlight-changed",Q=>{T(Q||null)});const Ue=(Q=null)=>{f(null),p("connecting"),Ce!=null&&Ce.create?ne.emit("join-room",e,t,{isCreator:!0,roomOptions:{password:Ce.password||null,scheduledAt:Ce.scheduledAt||null,expiryMinutes:Ce.expiryMinutes,waitingRoom:Ce.waitingRoom}}):ne.emit("join-room",e,t,{password:Q||""})};return ne.on("connect",()=>{Ue((Ce==null?void 0:Ce.password)??null)}),ne.connected&&Ue((Ce==null?void 0:Ce.password)??null),()=>{ae.current&&clearTimeout(ae.current),ne.disconnect(),a.current.forEach(Q=>Q.close()),a.current.clear()}},[e,t,r,ie,W,n]);const te=y.useCallback(ne=>{var Ce;(Ce=i.current)!=null&&Ce.connected&&(f(null),p("connecting"),i.current.emit("join-room",e,t,{password:ne||""}))},[e,t]),de=y.useCallback(ne=>{var Ce;(Ce=i.current)!=null&&Ce.connected&&i.current.emit("chat-message",ne)},[]),pe=y.useCallback(ne=>{a.current.forEach(Ce=>{const Ue=Ce.getSenders().find(Q=>{var ke;return((ke=Q.track)==null?void 0:ke.kind)==="video"});Ue&&Ue.replaceTrack(ne)})},[]),R=y.useCallback(ne=>{var Ce;(Ce=i.current)!=null&&Ce.connected&&i.current.emit("admit",ne)},[]),z=y.useCallback(ne=>{var Ce;(Ce=i.current)!=null&&Ce.connected&&i.current.emit("reject",ne)},[]),X=y.useCallback(()=>{var ne;(ne=i.current)!=null&&ne.connected&&i.current.emit("mute-all")},[]),re=y.useCallback(ne=>{var Ce;(Ce=i.current)!=null&&Ce.connected&&i.current.emit("mute-peer",ne)},[]),oe=y.useCallback(ne=>{var Ce;(Ce=i.current)!=null&&Ce.connected&&i.current.emit("kick",ne)},[]),ce=y.useCallback(()=>{var ne;(ne=i.current)!=null&&ne.connected&&i.current.emit("end-meeting")},[]),be=y.useCallback(ne=>{var Ce;(Ce=i.current)!=null&&Ce.connected&&i.current.emit("raise-hand",ne)},[]),ee=y.useCallback(ne=>{var Ce;(Ce=i.current)!=null&&Ce.connected&&i.current.emit("reaction",ne)},[]),ge=y.useCallback(ne=>{var Ce;(Ce=i.current)!=null&&Ce.connected&&i.current.emit("spotlight",ne||null)},[]),xe=y.useCallback(()=>H(!1),[]);return{participants:o,remoteStreams:c,messages:A,error:d,status:h,isHost:v,pendingParticipants:w,notStartedAt:C,handRaised:k,reactions:F,spotlightId:U,audioMutedByHost:O,myId:$,socketRef:i,joinWithPassword:te,admit:R,reject:z,sendMessage:de,replaceVideoTrack:pe,muteAll:X,requestMutePeer:re,kick:oe,endMeeting:ce,setRaiseHand:be,sendReaction:ee,setSpotlight:ge,clearAudioMutedByHost:xe}}var Tp=typeof self<"u"?self:{};function J0(e,t){e:{for(var n=["CLOSURE_FLAGS"],r=Tp,i=0;i<n.length;i++)if((r=r[n[i]])==null){n=null;break e}n=r}return(e=n&&n[e])!=null?e:t}function Bd(){throw Error("Invalid UTF8")}function _L(e,t){return t=String.fromCharCode.apply(null,t),e==null?t:e+t}let wy,Z4;const Noe=typeof TextDecoder<"u";let Moe;const Roe=typeof TextEncoder<"u";function o$(e){if(Roe)e=(Moe||(Moe=new TextEncoder)).encode(e);else{let n=0;const r=new Uint8Array(3*e.length);for(let i=0;i<e.length;i++){var t=e.charCodeAt(i);if(t<128)r[n++]=t;else{if(t<2048)r[n++]=t>>6|192;else{if(t>=55296&&t<=57343){if(t<=56319&&i<e.length){const a=e.charCodeAt(++i);if(a>=56320&&a<=57343){t=1024*(t-55296)+a-56320+65536,r[n++]=t>>18|240,r[n++]=t>>12&63|128,r[n++]=t>>6&63|128,r[n++]=63&t|128;continue}i--}t=65533}r[n++]=t>>12|224,r[n++]=t>>6&63|128}r[n++]=63&t|128}}e=n===r.length?r:r.subarray(0,n)}return e}function s$(e){Tp.setTimeout(()=>{throw e},0)}var nk,Doe=J0(610401301,!1),PL=J0(748402147,!0),j_=J0(824648567,!0),H_=J0(824656860,J0(1,!0));function IL(){var e=Tp.navigator;return e&&(e=e.userAgent)?e:""}const FL=Tp.navigator;function Y5(e){return Y5[" "](e),e}nk=FL&&FL.userAgentData||null,Y5[" "]=function(){};const c$={};let Wm=null;function Qoe(e){const t=e.length;let n=3*t/4;n%3?n=Math.floor(n):"=.".indexOf(e[t-1])!=-1&&(n="=.".indexOf(e[t-2])!=-1?n-2:n-1);const r=new Uint8Array(n);let i=0;return function(a,o){function s(l){for(;c<a.length;){const A=a.charAt(c++),u=Wm[A];if(u!=null)return u;if(!/^[\s\xa0]*$/.test(A))throw Error("Unknown base64 encoding at char: "+A)}return l}l$();let c=0;for(;;){const l=s(-1),A=s(0),u=s(64),d=s(64);if(d===64&&l===-1)break;o(l<<2|A>>4),u!=64&&(o(A<<4&240|u>>2),d!=64&&o(u<<6&192|d))}}(e,function(a){r[i++]=a}),i!==n?r.subarray(0,i):r}function l$(){if(!Wm){Wm={};var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"];for(let n=0;n<5;n++){const r=e.concat(t[n].split(""));c$[n]=r;for(let i=0;i<r.length;i++){const a=r[i];Wm[a]===void 0&&(Wm[a]=i)}}}}var joe=typeof Uint8Array<"u",A$=!(!(Doe&&nk&&nk.brands.length>0)&&(IL().indexOf("Trident")!=-1||IL().indexOf("MSIE")!=-1))&&typeof btoa=="function";const OL=/[-_.]/g,Hoe={"-":"+",_:"/",".":"="};function $oe(e){return Hoe[e]||""}function u$(e){if(!A$)return Qoe(e);e=OL.test(e)?e.replace(OL,$oe):e,e=atob(e);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function $_(e){return joe&&e!=null&&e instanceof Uint8Array}var _p={};function yf(){return Koe||(Koe=new Dc(null,_p))}function K_(e){d$(_p);var t=e.g;return(t=t==null||$_(t)?t:typeof t=="string"?u$(t):null)==null?t:e.g=t}var Dc=class{h(){return new Uint8Array(K_(this)||0)}constructor(t,n){if(d$(n),this.g=t,t!=null&&t.length===0)throw Error("ByteString should be constructed with non-empty values")}};let Koe,Voe;function d$(e){if(e!==_p)throw Error("illegal external caller")}function f$(e,t){e.__closure__error__context__984382||(e.__closure__error__context__984382={}),e.__closure__error__context__984382.severity=t}function rk(e){return f$(e=Error(e),"warning"),e}function Pp(e,t){if(e!=null){var n=Voe??(Voe={}),r=n[e]||0;r>=t||(n[e]=r+1,f$(e=Error(),"incident"),s$(e))}}function ig(){return typeof BigInt=="function"}var ag=typeof Symbol=="function"&&typeof Symbol()=="symbol";function Yc(e,t,n=!1){return typeof Symbol=="function"&&typeof Symbol()=="symbol"?n&&Symbol.for&&e?Symbol.for(e):e!=null?Symbol(e):Symbol():t}var zoe=Yc("jas",void 0,!0),LL=Yc(void 0,"0di"),hm=Yc(void 0,"1oa"),yo=Yc(void 0,Symbol()),Woe=Yc(void 0,"0ub"),Goe=Yc(void 0,"0ubs"),ik=Yc(void 0,"0ubsb"),qoe=Yc(void 0,"0actk"),Ip=Yc("m_m","Pa",!0),UL=Yc();const h$={Ga:{value:0,configurable:!0,writable:!0,enumerable:!1}},p$=Object.defineProperties,ot=ag?zoe:"Ga";var Qf;const NL=[];function jv(e,t){ag||ot in e||p$(e,h$),e[ot]|=t}function ai(e,t){ag||ot in e||p$(e,h$),e[ot]=t}function Hv(e){return jv(e,34),e}function Z0(e){return jv(e,8192),e}ai(NL,7),Qf=Object.freeze(NL);var Fp={};function xo(e,t){return t===void 0?e.h!==bf&&!!(2&(0|e.v[ot])):!!(2&t)&&e.h!==bf}const bf={};function V_(e,t){if(e!=null){if(typeof e=="string")e=e?new Dc(e,_p):yf();else if(e.constructor!==Dc)if($_(e))e=e.length?new Dc(new Uint8Array(e),_p):yf();else{if(!t)throw Error();e=void 0}}return e}let ML=class{constructor(t,n,r){this.g=t,this.h=n,this.l=r}next(){const t=this.g.next();return t.done||(t.value=this.h.call(this.l,t.value)),t}[Symbol.iterator](){return this}};var Yoe=Object.freeze({});function g$(e,t,n){const r=128&t?0:-1,i=e.length;var a;(a=!!i)&&(a=(a=e[i-1])!=null&&typeof a=="object"&&a.constructor===Object);const o=i+(a?-1:0);for(t=128&t?1:0;t<o;t++)n(t-r,e[t]);if(a){e=e[i-1];for(const s in e)!isNaN(s)&&n(+s,e[s])}}var m$={};function og(e){return 128&e?m$:void 0}function X5(e){return e.Na=!0,e}var Xoe=X5(e=>typeof e=="number"),RL=X5(e=>typeof e=="string"),Joe=X5(e=>typeof e=="boolean"),J5=typeof Tp.BigInt=="function"&&typeof Tp.BigInt(0)=="bigint";function bo(e){var t=e;if(RL(t)){if(!/^\s*(?:-?[1-9]\d*|0)?\s*$/.test(t))throw Error(String(t))}else if(Xoe(t)&&!Number.isSafeInteger(t))throw Error(String(t));return J5?BigInt(e):e=Joe(e)?e?"1":"0":RL(e)?e.trim()||"0":String(e)}var ak=X5(e=>J5?e>=ese&&e<=nse:e[0]==="-"?DL(e,Zoe):DL(e,tse));const Zoe=Number.MIN_SAFE_INTEGER.toString(),ese=J5?BigInt(Number.MIN_SAFE_INTEGER):void 0,tse=Number.MAX_SAFE_INTEGER.toString(),nse=J5?BigInt(Number.MAX_SAFE_INTEGER):void 0;function DL(e,t){if(e.length>t.length)return!1;if(e.length<t.length||e===t)return!0;for(let n=0;n<e.length;n++){const r=e[n],i=t[n];if(r>i)return!1;if(r<i)return!0}}const rse=typeof Uint8Array.prototype.slice=="function";let ise,er=0,Rr=0;function QL(e){const t=e>>>0;er=t,Rr=(e-t)/4294967296>>>0}function Op(e){if(e<0){QL(-e);const[t,n]=q_(er,Rr);er=t>>>0,Rr=n>>>0}else QL(e)}function z_(e){const t=ise||(ise=new DataView(new ArrayBuffer(8)));t.setFloat32(0,+e,!0),Rr=0,er=t.getUint32(0,!0)}function ok(e,t){const n=4294967296*t+(e>>>0);return Number.isSafeInteger(n)?n:ev(e,t)}function ase(e,t){return bo(ig()?BigInt.asUintN(64,(BigInt(t>>>0)<<BigInt(32))+BigInt(e>>>0)):ev(e,t))}function W_(e,t){const n=2147483648&t;return n&&(t=~t>>>0,(e=1+~e>>>0)==0&&(t=t+1>>>0)),typeof(e=ok(e,t))=="number"?n?-e:e:n?"-"+e:e}function v$(e,t){return ig()?bo(BigInt.asIntN(64,(BigInt.asUintN(32,BigInt(t))<<BigInt(32))+BigInt.asUintN(32,BigInt(e)))):bo(G_(e,t))}function ev(e,t){if(e>>>=0,(t>>>=0)<=2097151)var n=""+(4294967296*t+e);else ig()?n=""+(BigInt(t)<<BigInt(32)|BigInt(e)):(e=(16777215&e)+6777216*(n=16777215&(e>>>24|t<<8))+6710656*(t=t>>16&65535),n+=8147497*t,t*=2,e>=1e7&&(n+=e/1e7>>>0,e%=1e7),n>=1e7&&(t+=n/1e7>>>0,n%=1e7),n=t+jL(n)+jL(e));return n}function jL(e){return e=String(e),"0000000".slice(e.length)+e}function G_(e,t){if(2147483648&t)if(ig())e=""+(BigInt(0|t)<<BigInt(32)|BigInt(e>>>0));else{const[n,r]=q_(e,t);e="-"+ev(n,r)}else e=ev(e,t);return e}function Z5(e){if(e.length<16)Op(Number(e));else if(ig())e=BigInt(e),er=Number(e&BigInt(4294967295))>>>0,Rr=Number(e>>BigInt(32)&BigInt(4294967295));else{const t=+(e[0]==="-");Rr=er=0;const n=e.length;for(let r=t,i=(n-t)%6+t;i<=n;r=i,i+=6){const a=Number(e.slice(r,i));Rr*=1e6,er=1e6*er+a,er>=4294967296&&(Rr+=Math.trunc(er/4294967296),Rr>>>=0,er>>>=0)}if(t){const[r,i]=q_(er,Rr);er=r,Rr=i}}}function q_(e,t){return t=~t,e?e=1+~e:t+=1,[e,t]}function Ws(e){return Array.prototype.slice.call(e)}const $v=typeof BigInt=="function"?BigInt.asIntN:void 0,ose=typeof BigInt=="function"?BigInt.asUintN:void 0,wf=Number.isSafeInteger,eC=Number.isFinite,Lp=Math.trunc,sse=bo(0);function Gm(e){if(e!=null&&typeof e!="number")throw Error(`Value of float/double field must be a number, found ${typeof e}: ${e}`);return e}function Oc(e){return e==null||typeof e=="number"?e:e==="NaN"||e==="Infinity"||e==="-Infinity"?Number(e):void 0}function tv(e){if(e!=null&&typeof e!="boolean"){var t=typeof e;throw Error(`Expected boolean but got ${t!="object"?t:e?Array.isArray(e)?"array":t:"null"}: ${e}`)}return e}function y$(e){return e==null||typeof e=="boolean"?e:typeof e=="number"?!!e:void 0}const cse=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;function Kv(e){switch(typeof e){case"bigint":return!0;case"number":return eC(e);case"string":return cse.test(e);default:return!1}}function sg(e){if(e==null)return e;if(typeof e=="string"&&e)e=+e;else if(typeof e!="number")return;return eC(e)?0|e:void 0}function b$(e){if(e==null)return e;if(typeof e=="string"&&e)e=+e;else if(typeof e!="number")return;return eC(e)?e>>>0:void 0}function w$(e){const t=e.length;return(e[0]==="-"?t<20||t===20&&e<="-9223372036854775808":t<19||t===19&&e<="9223372036854775807")?e:(Z5(e),G_(er,Rr))}function Y_(e){return e=Lp(e),wf(e)||(Op(e),e=W_(er,Rr)),e}function C$(e){var t=Lp(Number(e));return wf(t)?String(t):((t=e.indexOf("."))!==-1&&(e=e.substring(0,t)),w$(e))}function B$(e){var t=Lp(Number(e));return wf(t)?bo(t):((t=e.indexOf("."))!==-1&&(e=e.substring(0,t)),ig()?bo($v(64,BigInt(e))):bo(w$(e)))}function S$(e){return wf(e)?e=bo(Y_(e)):(e=Lp(e),wf(e)?e=String(e):(Op(e),e=G_(er,Rr)),e=bo(e)),e}function lse(e){return e==null?e:typeof e=="bigint"?(ak(e)?e=Number(e):(e=$v(64,e),e=ak(e)?Number(e):String(e)),e):Kv(e)?typeof e=="number"?Y_(e):C$(e):void 0}function Wb(e){const t=typeof e;return e==null?e:t==="bigint"?bo($v(64,e)):Kv(e)?t==="string"?B$(e):S$(e):void 0}function x$(e){if(typeof e!="string")throw Error();return e}function Vv(e){if(e!=null&&typeof e!="string")throw Error();return e}function $i(e){return e==null||typeof e=="string"?e:void 0}function X_(e,t,n,r){return e!=null&&e[Ip]===Fp?e:Array.isArray(e)?((r=(n=0|e[ot])|32&r|2&r)!==n&&ai(e,r),new t(e)):(n?2&r?((e=t[LL])||(Hv((e=new t).v),e=t[LL]=e),t=e):t=new t:t=void 0,t)}function Ase(e,t,n){if(t)e:{if(!Kv(t=e))throw rk("int64");switch(typeof t){case"string":t=B$(t);break e;case"bigint":t=bo($v(64,t));break e;default:t=S$(t)}}else t=Wb(e);return(e=t)==null?n?sse:void 0:e}const use={};let dse=function(){try{return Y5(new class extends Map{constructor(){super()}}),!1}catch{return!0}}(),eS=class{constructor(){this.g=new Map}get(t){return this.g.get(t)}set(t,n){return this.g.set(t,n),this.size=this.g.size,this}delete(t){return t=this.g.delete(t),this.size=this.g.size,t}clear(){this.g.clear(),this.size=this.g.size}has(t){return this.g.has(t)}entries(){return this.g.entries()}keys(){return this.g.keys()}values(){return this.g.values()}forEach(t,n){return this.g.forEach(t,n)}[Symbol.iterator](){return this.entries()}};const fse=dse?(Object.setPrototypeOf(eS.prototype,Map.prototype),Object.defineProperties(eS.prototype,{size:{value:0,configurable:!0,enumerable:!0,writable:!0}}),eS):class extends Map{constructor(){super()}};function HL(e){return e}function tS(e){if(2&e.J)throw Error("Cannot mutate an immutable Map")}var eA=class extends fse{constructor(t,n,r=HL,i=HL){super(),this.J=0|t[ot],this.K=n,this.S=r,this.fa=this.K?hse:i;for(let a=0;a<t.length;a++){const o=t[a],s=r(o[0],!1,!0);let c=o[1];n?c===void 0&&(c=null):c=i(o[1],!1,!0,void 0,void 0,this.J),super.set(s,c)}}V(t){return Z0(Array.from(super.entries(),t))}clear(){tS(this),super.clear()}delete(t){return tS(this),super.delete(this.S(t,!0,!1))}entries(){if(this.K){var t=super.keys();t=new ML(t,pse,this)}else t=super.entries();return t}values(){if(this.K){var t=super.keys();t=new ML(t,eA.prototype.get,this)}else t=super.values();return t}forEach(t,n){this.K?super.forEach((r,i,a)=>{t.call(n,a.get(i),i,a)}):super.forEach(t,n)}set(t,n){return tS(this),(t=this.S(t,!0,!1))==null?this:n==null?(super.delete(t),this):super.set(t,this.fa(n,!0,!0,this.K,!1,this.J))}Ma(t){const n=this.S(t[0],!1,!0);t=t[1],t=this.K?t===void 0?null:t:this.fa(t,!1,!0,void 0,!1,this.J),super.set(n,t)}has(t){return super.has(this.S(t,!1,!1))}get(t){t=this.S(t,!1,!1);const n=super.get(t);if(n!==void 0){var r=this.K;return r?((r=this.fa(n,!1,!0,r,this.ra,this.J))!==n&&super.set(t,r),r):n}}[Symbol.iterator](){return this.entries()}};function hse(e,t,n,r,i,a){return e=X_(e,r,n,a),i&&(e=Z_(e)),e}function pse(e){return[e,this.get(e)]}let gse;function $L(){return gse||(gse=new eA(Hv([]),void 0,void 0,void 0,use))}function tC(e){return yo?e[yo]:void 0}function Gb(e,t){for(const n in e)!isNaN(n)&&t(e,+n,e[n])}eA.prototype.toJSON=void 0;var sk=class{};const mse={Ka:!0};function vse(e,t){t<100||Pp(Goe,1)}function nC(e,t,n,r){const i=r!==void 0;r=!!r;var a,o=yo;!i&&ag&&o&&(a=e[o])&&Gb(a,vse),o=[];var s=e.length;let c;a=4294967295;let l=!1;const A=!!(64&t),u=A?128&t?0:-1:void 0;1&t||(c=s&&e[s-1],c!=null&&typeof c=="object"&&c.constructor===Object?a=--s:c=void 0,!A||128&t||i||(l=!0,a=a-u+u)),t=void 0;for(var d=0;d<s;d++){let f=e[d];if(f!=null&&(f=n(f,r))!=null)if(A&&d>=a){const h=d-u;(t??(t={}))[h]=f}else o[d]=f}if(c)for(let f in c){if((s=c[f])==null||(s=n(s,r))==null)continue;let h;d=+f,A&&!Number.isNaN(d)&&(h=d+u)<a?o[h]=s:(t??(t={}))[f]=s}return t&&(l?o.push(t):o[a]=t),i&&yo&&(e=tC(e))&&e instanceof sk&&(o[yo]=function(f){const h=new sk;return Gb(f,(p,v,m)=>{h[v]=Ws(m)}),h.da=f.da,h}(e)),o}function yse(e){return e[0]=nv(e[0]),e[1]=nv(e[1]),e}function nv(e){switch(typeof e){case"number":return Number.isFinite(e)?e:""+e;case"bigint":return ak(e)?Number(e):""+e;case"boolean":return e?1:0;case"object":if(Array.isArray(e)){var t=0|e[ot];return e.length===0&&1&t?void 0:nC(e,t,nv)}if(e!=null&&e[Ip]===Fp)return k$(e);if(e instanceof Dc){if((t=e.g)==null)e="";else if(typeof t=="string")e=t;else{if(A$){for(var n="",r=0,i=t.length-10240;r<i;)n+=String.fromCharCode.apply(null,t.subarray(r,r+=10240));n+=String.fromCharCode.apply(null,r?t.subarray(r):t),t=btoa(n)}else{n===void 0&&(n=0),l$(),n=c$[n],r=Array(Math.floor(t.length/3)),i=n[64]||"";let l=0,A=0;for(;l<t.length-2;l+=3){var a=t[l],o=t[l+1],s=t[l+2],c=n[a>>2];a=n[(3&a)<<4|o>>4],o=n[(15&o)<<2|s>>6],s=n[63&s],r[A++]=c+a+o+s}switch(c=0,s=i,t.length-l){case 2:s=n[(15&(c=t[l+1]))<<2]||i;case 1:t=t[l],r[A]=n[t>>2]+n[(3&t)<<4|c>>4]+s+i}t=r.join("")}e=e.g=t}return e}return e instanceof eA?e=e.size!==0?e.V(yse):void 0:void 0}return e}function k$(e){return nC(e=e.v,0|e[ot],nv)}let bse,wse;function Xd(e,t){return E$(e,t[0],t[1])}function E$(e,t,n,r=0){if(e==null){var i=32;n?(e=[n],i|=128):e=[],t&&(i=-16760833&i|(1023&t)<<14)}else{if(!Array.isArray(e))throw Error("narr");if(i=0|e[ot],PL&&1&i)throw Error("rfarr");if(2048&i&&!(2&i)&&function(){if(PL)throw Error("carr");Pp(qoe,5)}(),256&i)throw Error("farr");if(64&i)return(i|r)!==i&&ai(e,i|r),e;if(n&&(i|=128,n!==e[0]))throw Error("mid");e:{i|=64;var a=(n=e).length;if(a){var o=a-1;const c=n[o];if(c!=null&&typeof c=="object"&&c.constructor===Object){if((o-=t=128&i?0:-1)>=1024)throw Error("pvtlmt");for(var s in c)(a=+s)<o&&(n[a+t]=c[s],delete c[s]);i=-16760833&i|(1023&o)<<14;break e}}if(t){if((s=Math.max(t,a-(128&i?0:-1)))>1024)throw Error("spvt");i=-16760833&i|(1023&s)<<14}}}return ai(e,64|i|r),e}function Cse(e,t){if(typeof e!="object")return e;if(Array.isArray(e)){var n=0|e[ot];return e.length===0&&1&n?void 0:KL(e,n,t)}if(e!=null&&e[Ip]===Fp)return VL(e);if(e instanceof eA){if(2&(t=e.J))return e;if(!e.size)return;if(n=Hv(e.V()),e.K)for(e=0;e<n.length;e++){const r=n[e];let i=r[1];i=i==null||typeof i!="object"?void 0:i!=null&&i[Ip]===Fp?VL(i):Array.isArray(i)?KL(i,0|i[ot],!!(32&t)):void 0,r[1]=i}return n}return e instanceof Dc?e:void 0}function KL(e,t,n){return 2&t||(!n||4096&t||16&t?e=cg(e,t,!1,n&&!(16&t)):(jv(e,34),4&t&&Object.freeze(e))),e}function J_(e,t,n){return e=new e.constructor(t),n&&(e.h=bf),e.m=bf,e}function VL(e){const t=e.v,n=0|t[ot];return xo(e,n)?e:eP(e,t,n)?J_(e,t):cg(t,n)}function cg(e,t,n,r){return r??(r=!!(34&t)),e=nC(e,t,Cse,r),r=32,n&&(r|=2),ai(e,t=16769217&t|r),e}function Z_(e){const t=e.v,n=0|t[ot];return xo(e,n)?eP(e,t,n)?J_(e,t,!0):new e.constructor(cg(t,n,!1)):e}function lg(e){if(e.h!==bf)return!1;var t=e.v;return jv(t=cg(t,0|t[ot]),2048),e.v=t,e.h=void 0,e.m=void 0,!0}function Ag(e){if(!lg(e)&&xo(e,0|e.v[ot]))throw Error()}function jf(e,t){t===void 0&&(t=0|e[ot]),32&t&&!(4096&t)&&ai(e,4096|t)}function eP(e,t,n){return!!(2&n)||!(!(32&n)||4096&n)&&(ai(t,2|n),e.h=bf,!0)}const Bse=bo(0),KA={};function Gn(e,t,n,r,i){if((t=tA(e.v,t,n,i))!==null||r&&e.m!==bf)return t}function tA(e,t,n,r){if(t===-1)return null;const i=t+(n?0:-1),a=e.length-1;let o,s;if(!(a<1+(n?0:-1))){if(i>=a)if(o=e[a],o!=null&&typeof o=="object"&&o.constructor===Object)n=o[t],s=!0;else{if(i!==a)return;n=o}else n=e[i];if(r&&n!=null){if((r=r(n))==null)return r;if(!Object.is(r,n))return s?o[t]=r:e[i]=r,r}return n}}function vn(e,t,n,r){Ag(e),ni(e=e.v,0|e[ot],t,n,r)}function ni(e,t,n,r,i){const a=n+(i?0:-1);var o=e.length-1;if(o>=1+(i?0:-1)&&a>=o){const s=e[o];if(s!=null&&typeof s=="object"&&s.constructor===Object)return s[n]=r,t}return a<=o?(e[a]=r,t):(r!==void 0&&(n>=(o=(t??(t=0|e[ot]))>>14&1023||536870912)?r!=null&&(e[o+(i?0:-1)]={[n]:r}):e[a]=r),t)}function jd(){return Yoe===void 0?2:4}function Hd(e,t,n,r,i){let a=e.v,o=0|a[ot];r=xo(e,o)?1:r,i=!!i||r===3,r===2&&lg(e)&&(a=e.v,o=0|a[ot]);let s=(e=tP(a,t))===Qf?7:0|e[ot],c=nP(s,o);var l=!(4&c);if(l){4&c&&(e=Ws(e),s=0,c=Zd(c,o),o=ni(a,o,t,e));let A=0,u=0;for(;A<e.length;A++){const d=n(e[A]);d!=null&&(e[u++]=d)}u<A&&(e.length=u),n=-513&(4|c),c=n&=-1025,c&=-4097}return c!==s&&(ai(e,c),2&c&&Object.freeze(e)),T$(e,c,a,o,t,r,l,i)}function T$(e,t,n,r,i,a,o,s){let c=t;return a===1||a===4&&(2&t||!(16&t)&&32&r)?Jd(t)||((t|=!e.length||o&&!(4096&t)||32&r&&!(4096&t||16&t)?2:256)!==c&&ai(e,t),Object.freeze(e)):(a===2&&Jd(t)&&(e=Ws(e),c=0,t=Zd(t,r),r=ni(n,r,i,e)),Jd(t)||(s||(t|=16),t!==c&&ai(e,t))),2&t||!(4096&t||16&t)||jf(n,r),e}function tP(e,t,n){return e=tA(e,t,n),Array.isArray(e)?e:Qf}function nP(e,t){return 2&t&&(e|=2),1|e}function Jd(e){return!!(2&e)&&!!(4&e)||!!(256&e)}function _$(e){return V_(e,!0)}function P$(e){e=Ws(e);for(let t=0;t<e.length;t++){const n=e[t]=Ws(e[t]);Array.isArray(n[1])&&(n[1]=Hv(n[1]))}return Z0(e)}function tu(e,t,n,r){Ag(e),ni(e=e.v,0|e[ot],t,(r==="0"?Number(n)===0:n===r)?void 0:n)}function ug(e,t,n){if(2&t)throw Error();const r=og(t);let i=tP(e,n,r),a=i===Qf?7:0|i[ot],o=nP(a,t);return(2&o||Jd(o)||16&o)&&(o===a||Jd(o)||ai(i,o),i=Ws(i),a=0,o=Zd(o,t),ni(e,t,n,i,r)),o&=-13,o!==a&&ai(i,o),i}function nS(e,t){var n=CK;return iP(rP(e=e.v),e,void 0,n)===t?t:-1}function rP(e){if(ag)return e[hm]??(e[hm]=new Map);if(hm in e)return e[hm];const t=new Map;return Object.defineProperty(e,hm,{value:t}),t}function I$(e,t,n,r,i){const a=rP(e),o=iP(a,e,t,n,i);return o!==r&&(o&&(t=ni(e,t,o,void 0,i)),a.set(n,r)),t}function iP(e,t,n,r,i){let a=e.get(r);if(a!=null)return a;a=0;for(let o=0;o<r.length;o++){const s=r[o];tA(t,s,i)!=null&&(a!==0&&(n=ni(t,n,a,void 0,i)),a=s)}return e.set(r,a),a}function aP(e,t,n){let r=0|e[ot];const i=og(r),a=tA(e,n,i);let o;if(a!=null&&a[Ip]===Fp){if(!xo(a))return lg(a),a.v;o=a.v}else Array.isArray(a)&&(o=a);if(o){const s=0|o[ot];2&s&&(o=cg(o,s))}return o=Xd(o,t),o!==a&&ni(e,r,n,o,i),o}function F$(e,t,n,r,i){let a=!1;if((r=tA(e,r,i,o=>{const s=X_(o,n,!1,t);return a=s!==o&&s!=null,s}))!=null)return a&&!xo(r)&&jf(e,t),r}function nn(e,t,n,r){let i=e.v,a=0|i[ot];if((t=F$(i,a,t,n,r))==null)return t;if(a=0|i[ot],!xo(e,a)){const o=Z_(t);o!==t&&(lg(e)&&(i=e.v,a=0|i[ot]),a=ni(i,a,n,t=o,r),jf(i,a))}return t}function O$(e,t,n,r,i,a,o,s){var c=xo(e,n);a=c?1:a,o=!!o||a===3,c=s&&!c,(a===2||c)&&lg(e)&&(n=0|(t=e.v)[ot]);var l=(e=tP(t,i))===Qf?7:0|e[ot],A=nP(l,n);if(s=!(4&A)){var u=e,d=n;const f=!!(2&A);f&&(d|=2);let h=!f,p=!0,v=0,m=0;for(;v<u.length;v++){const w=X_(u[v],r,!1,d);if(w instanceof r){if(!f){const B=xo(w);h&&(h=!B),p&&(p=B)}u[m++]=w}}m<v&&(u.length=m),A|=4,A=p?-4097&A:4096|A,A=h?8|A:-9&A}if(A!==l&&(ai(e,A),2&A&&Object.freeze(e)),c&&!(8&A||!e.length&&(a===1||a===4&&(2&A||!(16&A)&&32&n)))){for(Jd(A)&&(e=Ws(e),A=Zd(A,n),n=ni(t,n,i,e)),r=e,c=A,l=0;l<r.length;l++)(u=r[l])!==(A=Z_(u))&&(r[l]=A);c|=8,ai(e,A=c=r.length?4096|c:-4097&c)}return T$(e,A,t,n,i,a,s,o)}function nA(e,t,n){const r=e.v;return O$(e,r,0|r[ot],t,n,jd(),!1,!0)}function L$(e){return e==null&&(e=void 0),e}function mt(e,t,n,r,i){return vn(e,n,r=L$(r),i),r&&!xo(r)&&jf(e.v),e}function g0(e,t,n,r){e:{var i=r=L$(r);Ag(e);const a=e.v;let o=0|a[ot];if(i==null){const s=rP(a);if(iP(s,a,o,n)!==t)break e;s.set(n,0)}else o=I$(a,o,n,t);ni(a,o,t,i)}r&&!xo(r)&&jf(e.v)}function Zd(e,t){return-273&(2&t?2|e:-3&e)}function oP(e,t,n,r){var i=r;Ag(e),e=O$(e,r=e.v,0|r[ot],n,t,2,!0),i=i??new n,e.push(i),t=n=e===Qf?7:0|e[ot],(i=xo(i))?(n&=-9,e.length===1&&(n&=-4097)):n|=4096,n!==t&&ai(e,n),i||jf(r)}function rs(e,t,n){return sg(Gn(e,t,void 0,n))}function U$(e){return(H_?Gn(e,2,void 0,void 0,Wb):Wb(Gn(e,2)))??Bse}function xr(e,t){return Gn(e,t,void 0,void 0,Oc)??0}function rA(e,t,n){if(n!=null){if(typeof n!="number"||!eC(n))throw rk("int32");n|=0}vn(e,t,n)}function ut(e,t,n){vn(e,t,Gm(n))}function ko(e,t,n){tu(e,t,Vv(n),"")}function qb(e,t,n){{Ag(e);const o=e.v;let s=0|o[ot];if(n==null)ni(o,s,t);else{var r=e=n===Qf?7:0|n[ot],i=Jd(e),a=i||Object.isFrozen(n);for(i||(e=0),a||(n=Ws(n),r=0,e=Zd(e,s),a=!1),e|=5,e|=(4&e?512&e?512:1024&e?1024:0:void 0)??(H_?1024:0),i=0;i<n.length;i++){const c=n[i],l=x$(c);Object.is(c,l)||(a&&(n=Ws(n),r=0,e=Zd(e,s),a=!1),n[i]=l)}e!==r&&(a&&(n=Ws(n),e=Zd(e,s)),ai(n,e)),ni(o,s,t,n)}}}function rC(e,t,n){Ag(e),Hd(e,t,$i,2,!0).push(x$(n))}var ch=class{constructor(t,n,r){if(this.buffer=t,r&&!n)throw Error();this.g=n}};function sP(e,t){if(typeof e=="string")return new ch(u$(e),t);if(Array.isArray(e))return new ch(new Uint8Array(e),t);if(e.constructor===Uint8Array)return new ch(e,!1);if(e.constructor===ArrayBuffer)return e=new Uint8Array(e),new ch(e,!1);if(e.constructor===Dc)return t=K_(e)||new Uint8Array(0),new ch(t,!0,e);if(e instanceof Uint8Array)return e=e.constructor===Uint8Array?e:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new ch(e,!1);throw Error()}function Up(e,t){let n,r=0,i=0,a=0;const o=e.h;let s=e.g;do n=o[s++],r|=(127&n)<<a,a+=7;while(a<32&&128&n);if(a>32)for(i|=(127&n)>>4,a=3;a<32&&128&n;a+=7)n=o[s++],i|=(127&n)<<a;if(ef(e,s),!(128&n))return t(r>>>0,i>>>0);throw Error()}function cP(e){let t=0,n=e.g;const r=n+10,i=e.h;for(;n<r;){const a=i[n++];if(t|=a,(128&a)==0)return ef(e,n),!!(127&t)}throw Error()}function Du(e){const t=e.h;let n=e.g,r=t[n++],i=127&r;if(128&r&&(r=t[n++],i|=(127&r)<<7,128&r&&(r=t[n++],i|=(127&r)<<14,128&r&&(r=t[n++],i|=(127&r)<<21,128&r&&(r=t[n++],i|=r<<28,128&r&&128&t[n++]&&128&t[n++]&&128&t[n++]&&128&t[n++]&&128&t[n++])))))throw Error();return ef(e,n),i}function iA(e){return Du(e)>>>0}function Yb(e){var t=e.h;const n=e.g;var r=t[n],i=t[n+1];const a=t[n+2];return t=t[n+3],ef(e,e.g+4),e=2*((i=(r<<0|i<<8|a<<16|t<<24)>>>0)>>31)+1,r=i>>>23&255,i&=8388607,r==255?i?NaN:e*(1/0):r==0?1401298464324817e-60*e*i:e*Math.pow(2,r-150)*(i+8388608)}function Sse(e){return Du(e)}function ef(e,t){if(e.g=t,t>e.l)throw Error()}function N$(e,t){if(t<0)throw Error();const n=e.g;if((t=n+t)>e.l)throw Error();return e.g=t,n}function M$(e,t){if(t==0)return yf();var n=N$(e,t);return e.Y&&e.j?n=e.h.subarray(n,n+t):(e=e.h,n=n===(t=n+t)?new Uint8Array(0):rse?e.slice(n,t):new Uint8Array(e.subarray(n,t))),n.length==0?yf():new Dc(n,_p)}var zL=[];function R$(e,t,n,r){if(Xb.length){const i=Xb.pop();return i.o(r),i.g.init(e,t,n,r),i}return new xse(e,t,n,r)}function D$(e){e.g.clear(),e.l=-1,e.h=-1,Xb.length<100&&Xb.push(e)}function Q$(e){var t=e.g;if(t.g==t.l)return!1;e.m=e.g.g;var n=iA(e.g);if(t=n>>>3,!((n&=7)>=0&&n<=5)||t<1)throw Error();return e.l=t,e.h=n,!0}function V2(e){switch(e.h){case 0:e.h!=0?V2(e):cP(e.g);break;case 1:ef(e=e.g,e.g+8);break;case 2:if(e.h!=2)V2(e);else{var t=iA(e.g);ef(e=e.g,e.g+t)}break;case 5:ef(e=e.g,e.g+4);break;case 3:for(t=e.l;;){if(!Q$(e))throw Error();if(e.h==4){if(e.l!=t)throw Error();break}V2(e)}break;default:throw Error()}}function zv(e,t,n){const r=e.g.l;var i=iA(e.g);let a=(i=e.g.g+i)-r;if(a<=0&&(e.g.l=i,n(t,e,void 0,void 0,void 0),a=i-e.g.g),a)throw Error();return e.g.g=i,e.g.l=r,t}function lP(e){var t=iA(e.g),n=N$(e=e.g,t);if(e=e.h,Noe){var r,i=e;(r=Z4)||(r=Z4=new TextDecoder("utf-8",{fatal:!0})),t=n+t,i=n===0&&t===i.length?i:i.subarray(n,t);try{var a=r.decode(i)}catch(s){if(wy===void 0){try{r.decode(new Uint8Array([128]))}catch{}try{r.decode(new Uint8Array([97])),wy=!0}catch{wy=!1}}throw!wy&&(Z4=void 0),s}}else{t=(a=n)+t,n=[];let s,c=null;for(;a<t;){var o=e[a++];o<128?n.push(o):o<224?a>=t?Bd():(s=e[a++],o<194||(192&s)!=128?(a--,Bd()):n.push((31&o)<<6|63&s)):o<240?a>=t-1?Bd():(s=e[a++],(192&s)!=128||o===224&&s<160||o===237&&s>=160||(192&(r=e[a++]))!=128?(a--,Bd()):n.push((15&o)<<12|(63&s)<<6|63&r)):o<=244?a>=t-2?Bd():(s=e[a++],(192&s)!=128||s-144+(o<<28)>>30||(192&(r=e[a++]))!=128||(192&(i=e[a++]))!=128?(a--,Bd()):(o=(7&o)<<18|(63&s)<<12|(63&r)<<6|63&i,o-=65536,n.push(55296+(o>>10&1023),56320+(1023&o)))):Bd(),n.length>=8192&&(c=_L(c,n),n.length=0)}a=_L(c,n)}return a}function j$(e){const t=iA(e.g);return M$(e.g,t)}function iC(e,t,n){var r=iA(e.g);for(r=e.g.g+r;e.g.g<r;)n.push(t(e.g))}var xse=class{constructor(t,n,r,i){if(zL.length){const a=zL.pop();a.init(t,n,r,i),t=a}else t=new class{constructor(a,o,s,c){this.h=null,this.j=!1,this.g=this.l=this.m=0,this.init(a,o,s,c)}init(a,o,s,{Y:c=!1,ea:l=!1}={}){this.Y=c,this.ea=l,a&&(a=sP(a,this.ea),this.h=a.buffer,this.j=a.g,this.m=o||0,this.l=s!==void 0?this.m+s:this.h.length,this.g=this.m)}clear(){this.h=null,this.j=!1,this.g=this.l=this.m=0,this.Y=!1}}(t,n,r,i);this.g=t,this.m=this.g.g,this.h=this.l=-1,this.o(i)}o({ha:t=!1}={}){this.ha=t}},Xb=[];function WL(e){return e?/^\d+$/.test(e)?(Z5(e),new ck(er,Rr)):null:kse||(kse=new ck(0,0))}var ck=class{constructor(t,n){this.h=t>>>0,this.g=n>>>0}};let kse;function GL(e){return e?/^-?\d+$/.test(e)?(Z5(e),new lk(er,Rr)):null:Ese||(Ese=new lk(0,0))}var lk=class{constructor(t,n){this.h=t>>>0,this.g=n>>>0}};let Ese;function ip(e,t,n){for(;n>0||t>127;)e.g.push(127&t|128),t=(t>>>7|n<<25)>>>0,n>>>=7;e.g.push(t)}function dg(e,t){for(;t>127;)e.g.push(127&t|128),t>>>=7;e.g.push(t)}function aC(e,t){if(t>=0)dg(e,t);else{for(let n=0;n<9;n++)e.g.push(127&t|128),t>>=7;e.g.push(1)}}function AP(e){var t=er;e.g.push(t>>>0&255),e.g.push(t>>>8&255),e.g.push(t>>>16&255),e.g.push(t>>>24&255)}function Np(e,t){t.length!==0&&(e.l.push(t),e.h+=t.length)}function gs(e,t,n){dg(e.g,8*t+n)}function uP(e,t){return gs(e,t,2),t=e.g.end(),Np(e,t),t.push(e.h),t}function dP(e,t){var n=t.pop();for(n=e.h+e.g.length()-n;n>127;)t.push(127&n|128),n>>>=7,e.h++;t.push(n),e.h++}function oC(e,t,n){gs(e,t,2),dg(e.g,n.length),Np(e,e.g.end()),Np(e,n)}function Jb(e,t,n,r){n!=null&&(t=uP(e,t),r(n,e),dP(e,t))}function Xc(){const e=class{constructor(){throw Error()}};return Object.setPrototypeOf(e,e.prototype),e}var fP=Xc(),H$=Xc(),hP=Xc(),pP=Xc(),$$=Xc(),K$=Xc(),Tse=Xc(),sC=Xc(),V$=Xc(),z$=Xc();function Jc(e,t,n){var r=e.v;yo&&yo in r&&(r=r[yo])&&delete r[t.g],t.h?t.j(e,t.h,t.g,n,t.l):t.j(e,t.g,n,t.l)}var st=class{constructor(t,n){this.v=E$(t,n,void 0,2048)}toJSON(){return k$(this)}j(){var a;var t=Ace,n=this.v,r=t.g,i=yo;if(ag&&i&&((a=n[i])==null?void 0:a[r])!=null&&Pp(Woe,3),n=t.g,UL&&yo&&UL===void 0&&(i=(r=this.v)[yo])&&(i=i.da))try{i(r,n,mse)}catch(o){s$(o)}return t.h?t.m(this,t.h,t.g,t.l):t.m(this,t.g,t.defaultValue,t.l)}clone(){const t=this.v,n=0|t[ot];return eP(this,t,n)?J_(this,t,!0):new this.constructor(cg(t,n,!1))}};st.prototype[Ip]=Fp,st.prototype.toString=function(){return this.v.toString()};var fg=class{constructor(t,n,r){this.g=t,this.h=n,t=fP,this.l=!!t&&r===t||!1}};function cC(e,t){return new fg(e,t,fP)}function W$(e,t,n,r,i){Jb(e,n,X$(t,r),i)}const _se=cC(function(e,t,n,r,i){return e.h===2&&(zv(e,aP(t,r,n),i),!0)},W$),Pse=cC(function(e,t,n,r,i){return e.h===2&&(zv(e,aP(t,r,n),i),!0)},W$);var lC=Symbol(),AC=Symbol(),Ak=Symbol(),qL=Symbol(),YL=Symbol();let G$,q$;function Hf(e,t,n,r){var i=r[e];if(i)return i;(i={}).qa=r,i.T=function(u){switch(typeof u){case"boolean":return bse||(bse=[0,void 0,!0]);case"number":return u>0?void 0:u===0?wse||(wse=[0,void 0]):[-u,void 0];case"string":return[0,u];case"object":return u}}(r[0]);var a=r[1];let o=1;a&&a.constructor===Object&&(i.ba=a,typeof(a=r[++o])=="function"&&(i.ma=!0,G$??(G$=a),q$??(q$=r[o+1]),a=r[o+=2]));const s={};for(;a&&Array.isArray(a)&&a.length&&typeof a[0]=="number"&&a[0]>0;){for(var c=0;c<a.length;c++)s[a[c]]=a;a=r[++o]}for(c=1;a!==void 0;){let u;typeof a=="number"&&(c+=a,a=r[++o]);var l=void 0;if(a instanceof fg?u=a:(u=_se,o--),u==null?void 0:u.l){a=r[++o],l=r;var A=o;typeof a=="function"&&(a=a(),l[A]=a),l=a}for(A=c+1,typeof(a=r[++o])=="number"&&a<0&&(A-=a,a=r[++o]);c<A;c++){const d=s[c];l?n(i,c,u,l,d):t(i,c,u,d)}}return r[e]=i}function Y$(e){return Array.isArray(e)?e[0]instanceof fg?e:[Pse,e]:[e,void 0]}function X$(e,t){return e instanceof st?e.v:Array.isArray(e)?Xd(e,t):void 0}function gP(e,t,n,r){const i=n.g;e[t]=r?(a,o,s)=>i(a,o,s,r):i}function mP(e,t,n,r,i){const a=n.g;let o,s;e[t]=(c,l,A)=>a(c,l,A,s||(s=Hf(AC,gP,mP,r).T),o||(o=vP(r)),i)}function vP(e){let t=e[Ak];if(t!=null)return t;const n=Hf(AC,gP,mP,e);return t=n.ma?(r,i)=>G$(r,i,n):(r,i)=>{for(;Q$(i)&&i.h!=4;){var a=i.l,o=n[a];if(o==null){var s=n.ba;s&&(s=s[a])&&(s=Fse(s))!=null&&(o=n[a]=s)}if(o==null||!o(i,r,a)){if(o=(s=i).m,V2(s),s.ha)var c=void 0;else c=s.g.g-o,s.g.g=o,c=M$(s.g,c);o=void 0,s=r,c&&((o=s[yo]??(s[yo]=new sk))[a]??(o[a]=[])).push(c)}}return(r=tC(r))&&(r.da=n.qa[YL]),!0},e[Ak]=t,e[YL]=Ise.bind(e),t}function Ise(e,t,n,r){var i=this[AC];const a=this[Ak],o=Xd(void 0,i.T),s=tC(e);if(s){var c=!1,l=i.ba;if(l){if(i=(A,u,d)=>{if(d.length!==0)if(l[u])for(const f of d){A=R$(f);try{c=!0,a(o,A)}finally{D$(A)}}else r==null||r(e,u,d)},t==null)Gb(s,i);else if(s!=null){const A=s[t];A&&i(s,t,A)}if(c){let A=0|e[ot];if(2&A&&2048&A&&!(n!=null&&n.Ka))throw Error();const u=og(A),d=(f,h)=>{if(tA(e,f,u)!=null){if((n==null?void 0:n.Qa)===1)return;throw Error()}h!=null&&(A=ni(e,A,f,h,u)),delete s[f]};t==null?g$(o,0|o[ot],(f,h)=>{d(f,h)}):d(t,tA(o,t,u))}}}}function Fse(e){const t=(e=Y$(e))[0].g;if(e=e[1]){const n=vP(e),r=Hf(AC,gP,mP,e).T;return(i,a,o)=>t(i,a,o,r,n)}return t}function uC(e,t,n){e[t]=n.h}function dC(e,t,n,r){let i,a;const o=n.h;e[t]=(s,c,l)=>o(s,c,l,a||(a=Hf(lC,uC,dC,r).T),i||(i=J$(r)))}function J$(e){let t=e[qL];if(!t){const n=Hf(lC,uC,dC,e);t=(r,i)=>Z$(r,i,n),e[qL]=t}return t}function Z$(e,t,n){g$(e,0|e[ot],(r,i)=>{if(i!=null){var a=function(o,s){var c=o[s];if(c)return c;if((c=o.ba)&&(c=c[s])){var l=(c=Y$(c))[0].h;if(c=c[1]){const A=J$(c),u=Hf(lC,uC,dC,c).T;c=o.ma?q$(u,A):(d,f,h)=>l(d,f,h,u,A)}else c=l;return o[s]=c}}(n,r);a?a(t,i,r):r<500||Pp(ik,3)}}),(e=tC(e))&&Gb(e,(r,i,a)=>{for(Np(t,t.g.end()),r=0;r<a.length;r++)Np(t,K_(a[r])||new Uint8Array(0))})}const Ose=bo(0);function hg(e,t){if(Array.isArray(t)){var n=0|t[ot];if(4&n)return t;for(var r=0,i=0;r<t.length;r++){const a=e(t[r]);a!=null&&(t[i++]=a)}return i<r&&(t.length=i),(e=-1537&(5|n))!==n&&ai(t,e),2&e&&Object.freeze(t),t}}function Ea(e,t,n){return new fg(e,t,n)}function pg(e,t,n){return new fg(e,t,n)}function Bi(e,t,n){ni(e,0|e[ot],t,n,og(0|e[ot]))}var Lse=cC(function(e,t,n,r,i){if(e.h!==2)return!1;if(e=Ws(e=zv(e,Xd([void 0,void 0],r),i)),i=og(r=0|t[ot]),2&r)throw Error();let a=tA(t,n,i);if(a instanceof eA)2&a.J?(a=a.V(),a.push(e),ni(t,r,n,a,i)):a.Ma(e);else if(Array.isArray(a)){var o=0|a[ot];8192&o||ai(a,o|=8192),2&o&&(a=P$(a),ni(t,r,n,a,i)),a.push(e)}else ni(t,r,n,Z0([e]),i);return!0},function(e,t,n,r,i){if(t instanceof eA)t.forEach((a,o)=>{Jb(e,n,Xd([o,a],r),i)});else if(Array.isArray(t)){for(let a=0;a<t.length;a++){const o=t[a];Array.isArray(o)&&Jb(e,n,Xd(o,r),i)}Z0(t)}});function eK(e,t,n){(t=Oc(t))!=null&&(gs(e,n,5),e=e.g,z_(t),AP(e))}function tK(e,t,n){if(t=function(r){if(r==null)return r;const i=typeof r;if(i==="bigint")return String($v(64,r));if(Kv(r)){if(i==="string")return C$(r);if(i==="number")return Y_(r)}}(t),t!=null&&(typeof t=="string"&&GL(t),t!=null))switch(gs(e,n,0),typeof t){case"number":e=e.g,Op(t),ip(e,er,Rr);break;case"bigint":n=BigInt.asUintN(64,t),n=new lk(Number(n&BigInt(4294967295)),Number(n>>BigInt(32))),ip(e.g,n.h,n.g);break;default:n=GL(t),ip(e.g,n.h,n.g)}}function nK(e,t,n){(t=sg(t))!=null&&t!=null&&(gs(e,n,0),aC(e.g,t))}function rK(e,t,n){(t=y$(t))!=null&&(gs(e,n,0),e.g.g.push(t?1:0))}function iK(e,t,n){(t=$i(t))!=null&&oC(e,n,o$(t))}function aK(e,t,n,r,i){Jb(e,n,X$(t,r),i)}function oK(e,t,n){(t=t==null||typeof t=="string"||t instanceof Dc?t:void 0)!=null&&oC(e,n,sP(t,!0).buffer)}function sK(e,t,n){return(e.h===5||e.h===2)&&(t=ug(t,0|t[ot],n),e.h==2?iC(e,Yb,t):t.push(Yb(e.g)),!0)}var Hr=Ea(function(e,t,n){return e.h===5&&(Bi(t,n,Yb(e.g)),!0)},eK,sC),Use=pg(sK,function(e,t,n){if((t=hg(Oc,t))!=null)for(let o=0;o<t.length;o++){var r=e,i=n,a=t[o];a!=null&&(gs(r,i,5),r=r.g,z_(a),AP(r))}},sC),yP=pg(sK,function(e,t,n){if((t=hg(Oc,t))!=null&&t.length){gs(e,n,2),dg(e.g,4*t.length);for(let r=0;r<t.length;r++)n=e.g,z_(t[r]),AP(n)}},sC),Nse=Ea(function(e,t,n){return e.h===5&&(Bi(t,n,(e=Yb(e.g))===0?void 0:e),!0)},eK,sC),Qu=Ea(function(e,t,n){return j_?(e.h!==0?e=!1:(Bi(t,n,Up(e.g,v$)),e=!0),e):e.h===0&&(Bi(t,n,Up(e.g,W_)),!0)},tK,K$),rS=Ea(function(e,t,n){return j_?(e.h!==0?t=!1:(Bi(t,n,(e=Up(e.g,v$))===Ose?void 0:e),t=!0),t):e.h===0&&(Bi(t,n,(e=Up(e.g,W_))===0?void 0:e),!0)},tK,K$),Mse=Ea(function(e,t,n){return j_?(e.h!==0?e=!1:(Bi(t,n,Up(e.g,ase)),e=!0),e):e.h===0&&(Bi(t,n,Up(e.g,ok)),!0)},function(e,t,n){if(t=function(r){if(r==null)return r;var i=typeof r;if(i==="bigint")return String(ose(64,r));if(Kv(r)){if(i==="string")return i=Lp(Number(r)),wf(i)&&i>=0?r=String(i):((i=r.indexOf("."))!==-1&&(r=r.substring(0,i)),(i=r[0]!=="-"&&((i=r.length)<20||i===20&&r<="18446744073709551615"))||(Z5(r),r=ev(er,Rr))),r;if(i==="number")return(r=Lp(r))>=0&&wf(r)||(Op(r),r=ok(er,Rr)),r}}(t),t!=null&&(typeof t=="string"&&WL(t),t!=null))switch(gs(e,n,0),typeof t){case"number":e=e.g,Op(t),ip(e,er,Rr);break;case"bigint":n=BigInt.asUintN(64,t),n=new ck(Number(n&BigInt(4294967295)),Number(n>>BigInt(32))),ip(e.g,n.h,n.g);break;default:n=WL(t),ip(e.g,n.h,n.g)}},Tse),bi=Ea(function(e,t,n){return e.h===0&&(Bi(t,n,Du(e.g)),!0)},nK,pP),Wv=pg(function(e,t,n){return(e.h===0||e.h===2)&&(t=ug(t,0|t[ot],n),e.h==2?iC(e,Du,t):t.push(Du(e.g)),!0)},function(e,t,n){if((t=hg(sg,t))!=null&&t.length){n=uP(e,n);for(let r=0;r<t.length;r++)aC(e.g,t[r]);dP(e,n)}},pP),Kh=Ea(function(e,t,n){return e.h===0&&(Bi(t,n,(e=Du(e.g))===0?void 0:e),!0)},nK,pP),Fr=Ea(function(e,t,n){return e.h===0&&(Bi(t,n,cP(e.g)),!0)},rK,H$),tf=Ea(function(e,t,n){return e.h===0&&(Bi(t,n,(e=cP(e.g))===!1?void 0:e),!0)},rK,H$),ia=pg(function(e,t,n){return e.h===2&&(e=lP(e),ug(t,0|t[ot],n).push(e),!0)},function(e,t,n){if((t=hg($i,t))!=null)for(let o=0;o<t.length;o++){var r=e,i=n,a=t[o];a!=null&&oC(r,i,o$(a))}},hP),su=Ea(function(e,t,n){return e.h===2&&(Bi(t,n,(e=lP(e))===""?void 0:e),!0)},iK,hP),Pn=Ea(function(e,t,n){return e.h===2&&(Bi(t,n,lP(e)),!0)},iK,hP),gi=function(e,t,n=fP){return new fg(e,t,n)}(function(e,t,n,r,i){return e.h===2&&(r=Xd(void 0,r),ug(t,0|t[ot],n).push(r),zv(e,r,i),!0)},function(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)aK(e,t[a],n,r,i);1&(e=0|t[ot])||ai(t,1|e)}}),Sr=cC(function(e,t,n,r,i,a){if(e.h!==2)return!1;let o=0|t[ot];return I$(t,o,a,n,og(o)),zv(e,t=aP(t,r,n),i),!0},aK),cK=Ea(function(e,t,n){return e.h===2&&(Bi(t,n,j$(e)),!0)},oK,V$),Rse=pg(function(e,t,n){return(e.h===0||e.h===2)&&(t=ug(t,0|t[ot],n),e.h==2?iC(e,iA,t):t.push(iA(e.g)),!0)},function(e,t,n){if((t=hg(b$,t))!=null)for(let o=0;o<t.length;o++){var r=e,i=n,a=t[o];a!=null&&(gs(r,i,0),dg(r.g,a))}},$$),Dse=Ea(function(e,t,n){return e.h===0&&(Bi(t,n,(e=iA(e.g))===0?void 0:e),!0)},function(e,t,n){(t=b$(t))!=null&&t!=null&&(gs(e,n,0),dg(e.g,t))},$$),Eo=Ea(function(e,t,n){return e.h===0&&(Bi(t,n,Du(e.g)),!0)},function(e,t,n){(t=sg(t))!=null&&(t=parseInt(t,10),gs(e,n,0),aC(e.g,t))},z$);let Qse=class{constructor(t,n){var r=Fo;this.g=t,this.h=n,this.m=nn,this.j=mt,this.defaultValue=void 0,this.l=r.Oa!=null?m$:void 0}register(){Y5(this)}};function Zc(e,t){return new Qse(e,t)}function Ju(e,t){return(n,r)=>{{const a={ea:!0};r&&Object.assign(a,r),n=R$(n,void 0,void 0,a);try{const o=new e,s=o.v;vP(t)(s,n);var i=o}finally{D$(n)}}return i}}function fC(e){return function(){const t=new class{constructor(){this.l=[],this.h=0,this.g=new class{constructor(){this.g=[]}length(){return this.g.length}end(){const o=this.g;return this.g=[],o}}}};Z$(this.v,t,Hf(lC,uC,dC,e)),Np(t,t.g.end());const n=new Uint8Array(t.h),r=t.l,i=r.length;let a=0;for(let o=0;o<i;o++){const s=r[o];n.set(s,a),a+=s.length}return t.l=[n],n}}var XL=class extends st{constructor(t){super(t)}},JL=[0,su,Ea(function(e,t,n){return e.h===2&&(Bi(t,n,(e=j$(e))===yf()?void 0:e),!0)},function(e,t,n){if(t!=null){if(t instanceof st){const r=t.Ra;return void(r?(t=r(t),t!=null&&oC(e,n,sP(t,!0).buffer)):Pp(ik,3))}if(Array.isArray(t))return void Pp(ik,3)}oK(e,t,n)},V$)];let iS,ZL=globalThis.trustedTypes;function eU(e){var t;return iS===void 0&&(iS=function(){let n=null;if(!ZL)return n;try{const r=i=>i;n=ZL.createPolicy("goog#html",{createHTML:r,createScript:r,createScriptURL:r})}catch{}return n}()),e=(t=iS)?t.createScriptURL(e):e,new class{constructor(n){this.g=n}toString(){return this.g+""}}(e)}function jse(e,...t){if(t.length===0)return eU(e[0]);let n=e[0];for(let r=0;r<t.length;r++)n+=encodeURIComponent(t[r])+e[r+1];return eU(n)}var lK=[0,bi,Eo,Fr,-1,Wv,Eo,-1,Fr],Hse=class extends st{constructor(t){super(t)}},AK=[0,Fr,Pn,Fr,Eo,-1,pg(function(e,t,n){return(e.h===0||e.h===2)&&(t=ug(t,0|t[ot],n),e.h==2?iC(e,Sse,t):t.push(Du(e.g)),!0)},function(e,t,n){if((t=hg(sg,t))!=null&&t.length){n=uP(e,n);for(let r=0;r<t.length;r++)aC(e.g,t[r]);dP(e,n)}},z$),Pn,-1,[0,Fr,-1],Eo,Fr,-1],uK=[0,3,Fr,-1,2,[0,bi],[0,Eo,Fr],[0,Pn,-1],[0]],dK=[0,Pn,-2],tU=class extends st{constructor(t){super(t)}},fK=[0],hK=[0,bi,Fr,1,Fr,-4],Fo=class extends st{constructor(t){super(t,2)}},ri={};ri[336783863]=[0,Pn,Fr,-1,bi,[0,[1,2,3,4,5,6,7,8,9],Sr,fK,Sr,AK,Sr,dK,Sr,hK,Sr,lK,Sr,[0,Pn,-2],Sr,[0,Pn,Eo],Sr,uK,Sr,[0,Eo,-1,Fr]],[0,Pn],Fr,[0,[1,3],[2,4],Sr,[0,Wv],-1,Sr,[0,ia],-1,gi,[0,Pn,-1]],Pn];var nU=[0,rS,-1,tf,-3,rS,Wv,su,Kh,rS,-1,tf,Kh,tf,-2,su];function Yn(e,t){rC(e,3,t)}function qt(e,t){rC(e,4,t)}var za=class extends st{constructor(t){super(t,500)}o(t){return mt(this,0,7,t)}},m0=[-1,{}],rU=[0,Pn,1,m0],iU=[0,Pn,ia,m0];function ms(e,t){oP(e,1,za,t)}function rr(e,t){rC(e,10,t)}function cn(e,t){rC(e,15,t)}var Oo=class extends st{constructor(t){super(t,500)}o(t){return mt(this,0,1001,t)}},pK=[-500,gi,[-500,su,-1,ia,-3,[-2,ri,Fr],gi,JL,Kh,-1,rU,iU,gi,[0,su,tf],su,nU,Kh,ia,987,ia],4,gi,[-500,Pn,-1,[-1,{}],998,Pn],gi,[-500,Pn,ia,-1,[-2,{},Fr],997,ia,-1],Kh,gi,[-500,Pn,ia,m0,998,ia],ia,Kh,rU,iU,gi,[0,su,-1,m0],ia,-2,nU,su,-1,tf,[0,tf,Dse],978,m0,gi,JL];Oo.prototype.g=fC(pK);var $se=Ju(Oo,pK),Kse=class extends st{constructor(t){super(t)}},gK=class extends st{constructor(e){super(e)}g(){return nA(this,Kse,1)}},mK=[0,gi,[0,bi,Hr,Pn,-1]],hC=Ju(gK,mK),Vse=class extends st{constructor(t){super(t)}},zse=class extends st{constructor(t){super(t)}},aS=class extends st{constructor(e){super(e)}l(){return nn(this,Vse,2)}g(){return nA(this,zse,5)}},vK=Ju(class extends st{constructor(e){super(e)}},[0,ia,Wv,yP,[0,Eo,[0,bi,-3],[0,Hr,-3],[0,bi,-1,[0,gi,[0,bi,-2]]],gi,[0,Hr,-1,Pn,Hr]],Pn,-1,Qu,gi,[0,bi,Hr],ia,Qu]),yK=class extends st{constructor(e){super(e)}},ap=Ju(class extends st{constructor(e){super(e)}},[0,gi,[0,Hr,-4]]),bK=class extends st{constructor(t){super(t)}},Gv=Ju(class extends st{constructor(e){super(e)}},[0,gi,[0,Hr,-4]]),Wse=class extends st{constructor(e){super(e)}},Gse=[0,bi,-1,yP,Eo],wK=class extends st{constructor(e){super(e)}};wK.prototype.g=fC([0,Hr,-4,Qu]);var qse=class extends st{constructor(e){super(e)}},Yse=Ju(class extends st{constructor(e){super(e)}},[0,gi,[0,1,bi,Pn,mK],Qu]),aU=class extends st{constructor(e){super(e)}},Xse=class extends st{constructor(t){super(t)}na(){const t=Gn(this,1,void 0,void 0,_$);return t??yf()}},Jse=class extends st{constructor(t){super(t)}},CK=[1,2],Zse=Ju(class extends st{constructor(e){super(e)}},[0,gi,[0,CK,Sr,[0,yP],Sr,[0,cK],bi,Pn],Qu]),bP=class extends st{constructor(t){super(t)}},BK=[0,Pn,bi,Hr,ia,-1],oU=class extends st{constructor(t){super(t)}},ece=[0,Fr,-1],sU=class extends st{constructor(t){super(t)}},z2=[1,2,3,4,5,6],Zb=class extends st{constructor(t){super(t)}g(){return Gn(this,1,void 0,void 0,_$)!=null}l(){return $i(Gn(this,2))!=null}},pr=class extends st{constructor(t){super(t)}g(){return y$(Gn(this,2))??!1}},SK=[0,cK,Pn,[0,bi,Qu,-1],[0,Mse,Qu]],Kr=[0,SK,Fr,[0,z2,Sr,hK,Sr,AK,Sr,lK,Sr,fK,Sr,dK,Sr,uK],Eo],pC=class extends st{constructor(t){super(t)}},wP=[0,Kr,Hr,-1,bi],tce=Zc(502141897,pC);ri[502141897]=wP;var nce=Ju(class extends st{constructor(e){super(e)}},[0,[0,Eo,-1,Use,Rse],Gse]),xK=class extends st{constructor(t){super(t)}},kK=class extends st{constructor(t){super(t)}},uk=[0,Kr,Hr,[0,Kr],Fr],rce=Zc(508968150,kK);ri[508968150]=[0,Kr,wP,uk,Hr,[0,[0,SK]]],ri[508968149]=uk;var lh=class extends st{constructor(t){super(t)}l(){return nn(this,bP,2)}g(){vn(this,2)}},EK=[0,Kr,BK];ri[478825465]=EK;var ice=class extends st{constructor(t){super(t)}},TK=class extends st{constructor(t){super(t)}},CP=class extends st{constructor(t){super(t)}},BP=class extends st{constructor(t){super(t)}},_K=class extends st{constructor(e){super(e)}},cU=[0,Kr,[0,Kr],EK,-1],PK=[0,Kr,Hr,bi],SP=[0,Kr,Hr],IK=[0,Kr,PK,SP,Hr],ace=Zc(479097054,_K);ri[479097054]=[0,Kr,IK,cU],ri[463370452]=cU,ri[464864288]=PK;var oce=Zc(462713202,BP);ri[462713202]=IK,ri[474472470]=SP;var sce=class extends st{constructor(t){super(t)}},FK=class extends st{constructor(t){super(t)}},OK=class extends st{constructor(t){super(t)}},LK=class extends st{constructor(t){super(t)}},xP=[0,Kr,Hr,-1,bi],dk=[0,Kr,Hr,Fr];LK.prototype.g=fC([0,Kr,SP,[0,Kr],wP,uk,xP,dk]);var UK=class extends st{constructor(t){super(t)}},cce=Zc(456383383,UK);ri[456383383]=[0,Kr,BK];var NK=class extends st{constructor(t){super(t)}},lce=Zc(476348187,NK);ri[476348187]=[0,Kr,ece];var MK=class extends st{constructor(t){super(t)}},lU=class extends st{constructor(t){super(t)}},RK=[0,Eo,-1],Ace=Zc(458105876,class extends st{constructor(e){super(e)}g(){let e;var t=this.v;const n=0|t[ot];return e=xo(this,n),t=function(r,i,a,o){var s=lU;!o&&lg(r)&&(a=0|(i=r.v)[ot]);var c=tA(i,2);if(r=!1,c==null){if(o)return $L();c=[]}else if(c.constructor===eA){if(!(2&c.J)||o)return c;c=c.V()}else Array.isArray(c)?r=!!(2&(0|c[ot])):c=[];if(o){if(!c.length)return $L();r||(r=!0,Hv(c))}else r&&(r=!1,Z0(c),c=P$(c));return!r&&32&a&&jv(c,32),a=ni(i,a,2,o=new eA(c,s,Ase,void 0)),r||jf(i,a),o}(this,t,n,e),!e&&lU&&(t.ra=!0),t}});ri[458105876]=[0,RK,Lse,[!0,Qu,[0,Pn,-1,ia]],[0,Wv,Fr,Eo]];var kP=class extends st{constructor(t){super(t)}},DK=Zc(458105758,kP);ri[458105758]=[0,Kr,Pn,RK];var oS=class extends st{constructor(t){super(t)}},AU=[0,Nse,-1,tf],uce=class extends st{constructor(t){super(t)}},QK=class extends st{constructor(t){super(t)}},fk=[1,2];QK.prototype.g=fC([0,fk,Sr,AU,Sr,[0,gi,AU]]);var jK=class extends st{constructor(t){super(t)}},dce=Zc(443442058,jK);ri[443442058]=[0,Kr,Pn,bi,Hr,ia,-1,Fr,Hr],ri[514774813]=xP;var HK=class extends st{constructor(t){super(t)}},fce=Zc(516587230,HK);function hk(e,t){return t=t?t.clone():new bP,e.displayNamesLocale!==void 0?vn(t,1,Vv(e.displayNamesLocale)):e.displayNamesLocale===void 0&&vn(t,1),e.maxResults!==void 0?rA(t,2,e.maxResults):"maxResults"in e&&vn(t,2),e.scoreThreshold!==void 0?ut(t,3,e.scoreThreshold):"scoreThreshold"in e&&vn(t,3),e.categoryAllowlist!==void 0?qb(t,4,e.categoryAllowlist):"categoryAllowlist"in e&&vn(t,4),e.categoryDenylist!==void 0?qb(t,5,e.categoryDenylist):"categoryDenylist"in e&&vn(t,5),t}function $K(e){const t=Number(e);return Number.isSafeInteger(t)?t:String(e)}function EP(e,t=-1,n=""){return{categories:e.map(r=>({index:rs(r,1)??0??-1,score:xr(r,2)??0,categoryName:$i(Gn(r,3))??""??"",displayName:$i(Gn(r,4))??""??""})),headIndex:t,headName:n}}function hce(e){const t={classifications:nA(e,qse,1).map(n=>{var r;return EP(((r=nn(n,gK,4))==null?void 0:r.g())??[],rs(n,2)??0,$i(Gn(n,3))??"")})};return function(n){return lse(H_?Gn(n,2,void 0,void 0,Wb):Gn(n,2))}(e)!=null&&(t.timestampMs=$K(U$(e))),t}function KK(e){var o,s;var t=Hd(e,3,Oc,jd()),n=Hd(e,2,sg,jd()),r=Hd(e,1,$i,jd()),i=Hd(e,9,$i,jd());const a={categories:[],keypoints:[]};for(let c=0;c<t.length;c++)a.categories.push({score:t[c],index:n[c]??-1,categoryName:r[c]??"",displayName:i[c]??""});if((t=(o=nn(e,aS,4))==null?void 0:o.l())&&(a.boundingBox={originX:rs(t,1,KA)??0,originY:rs(t,2,KA)??0,width:rs(t,3,KA)??0,height:rs(t,4,KA)??0,angle:0}),(s=nn(e,aS,4))==null?void 0:s.g().length)for(const c of nn(e,aS,4).g())a.keypoints.push({x:Gn(c,1,void 0,KA,Oc)??0,y:Gn(c,2,void 0,KA,Oc)??0,score:Gn(c,4,void 0,KA,Oc)??0,label:$i(Gn(c,3,void 0,KA))??""});return a}function gC(e){const t=[];for(const n of nA(e,bK,1))t.push({x:xr(n,1)??0,y:xr(n,2)??0,z:xr(n,3)??0,visibility:xr(n,4)??0});return t}function v0(e){const t=[];for(const n of nA(e,yK,1))t.push({x:xr(n,1)??0,y:xr(n,2)??0,z:xr(n,3)??0,visibility:xr(n,4)??0});return t}function uU(e){return Array.from(e,t=>t>127?t-256:t)}function dU(e,t){if(e.length!==t.length)throw Error(`Cannot compute cosine similarity between embeddings of different sizes (${e.length} vs. ${t.length}).`);let n=0,r=0,i=0;for(let a=0;a<e.length;a++)n+=e[a]*t[a],r+=e[a]*e[a],i+=t[a]*t[a];if(r<=0||i<=0)throw Error("Cannot compute cosine similarity on embedding with 0 norm.");return n/Math.sqrt(r*i)}let Cy;ri[516587230]=[0,Kr,xP,dk,Hr],ri[518928384]=dk;const pce=new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]);async function VK(){if(Cy===void 0)try{await WebAssembly.instantiate(pce),Cy=!0}catch{Cy=!1}return Cy}async function pm(e,t=jse``){const n=await VK()?"wasm_internal":"wasm_nosimd_internal";return{wasmLoaderPath:`${t}/${e}_${n}.js`,wasmBinaryPath:`${t}/${e}_${n}.wasm`}}var _d=class{};function zK(){var e=navigator;return typeof OffscreenCanvas<"u"&&(!function(t=navigator){return(t=t.userAgent).includes("Safari")&&!t.includes("Chrome")}(e)||!!((e=e.userAgent.match(/Version\/([\d]+).*Safari/))&&e.length>=1&&Number(e[1])>=17))}async function fU(e){if(typeof importScripts!="function"){const t=document.createElement("script");return t.src=e.toString(),t.crossOrigin="anonymous",new Promise((n,r)=>{t.addEventListener("load",()=>{n()},!1),t.addEventListener("error",i=>{r(i)},!1),document.body.appendChild(t)})}try{importScripts(e.toString())}catch(t){if(!(t instanceof TypeError))throw t;await self.import(e.toString())}}function WK(e){return e.videoWidth!==void 0?[e.videoWidth,e.videoHeight]:e.naturalWidth!==void 0?[e.naturalWidth,e.naturalHeight]:e.displayWidth!==void 0?[e.displayWidth,e.displayHeight]:[e.width,e.height]}function lt(e,t,n){e.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target"),n(t=e.i.stringToNewUTF8(t)),e.i._free(t)}function hU(e,t,n){if(!e.i.canvas)throw Error("No OpenGL canvas configured.");if(n?e.i._bindTextureToStream(n):e.i._bindTextureToCanvas(),!(n=e.i.canvas.getContext("webgl2")||e.i.canvas.getContext("webgl")))throw Error("Failed to obtain WebGL context from the provided canvas. `getContext()` should only be invoked with `webgl` or `webgl2`.");e.i.gpuOriginForWebTexturesIsBottomLeft&&n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t),e.i.gpuOriginForWebTexturesIsBottomLeft&&n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1);const[r,i]=WK(t);return!e.l||r===e.i.canvas.width&&i===e.i.canvas.height||(e.i.canvas.width=r,e.i.canvas.height=i),[r,i]}function pU(e,t,n){e.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");const r=new Uint32Array(t.length);for(let i=0;i<t.length;i++)r[i]=e.i.stringToNewUTF8(t[i]);t=e.i._malloc(4*r.length),e.i.HEAPU32.set(r,t>>2),n(t);for(const i of r)e.i._free(i);e.i._free(t)}function bc(e,t,n){e.i.simpleListeners=e.i.simpleListeners||{},e.i.simpleListeners[t]=n}function VA(e,t,n){let r=[];e.i.simpleListeners=e.i.simpleListeners||{},e.i.simpleListeners[t]=(i,a,o)=>{a?(n(r,o),r=[]):r.push(i)}}_d.forVisionTasks=function(e){return pm("vision",e)},_d.forTextTasks=function(e){return pm("text",e)},_d.forGenAiExperimentalTasks=function(e){return pm("genai_experimental",e)},_d.forGenAiTasks=function(e){return pm("genai",e)},_d.forAudioTasks=function(e){return pm("audio",e)},_d.isSimdSupported=function(){return VK()};async function gce(e,t,n,r){return e=await(async(i,a,o,s,c)=>{if(a&&await fU(a),!self.ModuleFactory||o&&(await fU(o),!self.ModuleFactory))throw Error("ModuleFactory not set.");return self.Module&&c&&((a=self.Module).locateFile=c.locateFile,c.mainScriptUrlOrBlob&&(a.mainScriptUrlOrBlob=c.mainScriptUrlOrBlob)),c=await self.ModuleFactory(self.Module||c),self.ModuleFactory=self.Module=void 0,new i(c,s)})(e,n.wasmLoaderPath,n.assetLoaderPath,t,{locateFile:i=>i.endsWith(".wasm")?n.wasmBinaryPath.toString():n.assetBinaryPath&&i.endsWith(".data")?n.assetBinaryPath.toString():i}),await e.o(r),e}function sS(e,t){const n=nn(e.baseOptions,Zb,1)||new Zb;typeof t=="string"?(vn(n,2,Vv(t)),vn(n,1)):t instanceof Uint8Array&&(vn(n,1,V_(t,!1)),vn(n,2)),mt(e.baseOptions,0,1,n)}function gU(e){try{const t=e.H.length;if(t===1)throw Error(e.H[0].message);if(t>1)throw Error("Encountered multiple errors: "+e.H.map(n=>n.message).join(", "))}finally{e.H=[]}}function Je(e,t){e.C=Math.max(e.C,t)}function mC(e,t){e.B=new za,ko(e.B,2,"PassThroughCalculator"),Yn(e.B,"free_memory"),qt(e.B,"free_memory_unused_out"),rr(t,"free_memory"),ms(t,e.B)}function Mp(e,t){Yn(e.B,t),qt(e.B,t+"_unused_out")}function vC(e){e.g.addBoolToStream(!0,"free_memory",e.C)}var pk=class{constructor(t){this.g=t,this.H=[],this.C=0,this.g.setAutoRenderToScreen(!1)}l(t,n=!0){var r,i,a,o,s,c;if(n){const l=t.baseOptions||{};if((r=t.baseOptions)!=null&&r.modelAssetBuffer&&((i=t.baseOptions)!=null&&i.modelAssetPath))throw Error("Cannot set both baseOptions.modelAssetPath and baseOptions.modelAssetBuffer");if(!((a=nn(this.baseOptions,Zb,1))!=null&&a.g()||(o=nn(this.baseOptions,Zb,1))!=null&&o.l()||(s=t.baseOptions)!=null&&s.modelAssetBuffer||(c=t.baseOptions)!=null&&c.modelAssetPath))throw Error("Either baseOptions.modelAssetPath or baseOptions.modelAssetBuffer must be set");if(function(A,u){let d=nn(A.baseOptions,sU,3);if(!d){var f=d=new sU,h=new tU;g0(f,4,z2,h)}"delegate"in u&&(u.delegate==="GPU"?(u=d,f=new Hse,g0(u,2,z2,f)):(u=d,f=new tU,g0(u,4,z2,f))),mt(A.baseOptions,0,3,d)}(this,l),l.modelAssetPath)return fetch(l.modelAssetPath.toString()).then(A=>{if(A.ok)return A.arrayBuffer();throw Error(`Failed to fetch model: ${l.modelAssetPath} (${A.status})`)}).then(A=>{try{this.g.i.FS_unlink("/model.dat")}catch{}this.g.i.FS_createDataFile("/","model.dat",new Uint8Array(A),!0,!1,!1),sS(this,"/model.dat"),this.m(),this.L()});if(l.modelAssetBuffer instanceof Uint8Array)sS(this,l.modelAssetBuffer);else if(l.modelAssetBuffer)return async function(A){const u=[];for(var d=0;;){const{done:f,value:h}=await A.read();if(f)break;u.push(h),d+=h.length}if(u.length===0)return new Uint8Array(0);if(u.length===1)return u[0];A=new Uint8Array(d),d=0;for(const f of u)A.set(f,d),d+=f.length;return A}(l.modelAssetBuffer).then(A=>{sS(this,A),this.m(),this.L()})}return this.m(),this.L(),Promise.resolve()}L(){}ca(){let t;if(this.g.ca(n=>{t=$se(n)}),!t)throw Error("Failed to retrieve CalculatorGraphConfig");return t}setGraph(t,n){this.g.attachErrorListener((r,i)=>{this.H.push(Error(i))}),this.g.Ja(),this.g.setGraph(t,n),this.B=void 0,gU(this)}finishProcessing(){this.g.finishProcessing(),gU(this)}close(){this.B=void 0,this.g.closeGraph()}};function _u(e,t){if(!e)throw Error(`Unable to obtain required WebGL resource: ${t}`);return e}pk.prototype.close=pk.prototype.close;let mce=class{constructor(t,n,r,i){this.g=t,this.h=n,this.m=r,this.l=i}bind(){this.g.bindVertexArray(this.h)}close(){this.g.deleteVertexArray(this.h),this.g.deleteBuffer(this.m),this.g.deleteBuffer(this.l)}};function mU(e,t,n){const r=e.g;if(n=_u(r.createShader(n),"Failed to create WebGL shader"),r.shaderSource(n,t),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS))throw Error(`Could not compile WebGL shader: ${r.getShaderInfoLog(n)}`);return r.attachShader(e.h,n),n}function vU(e,t){const n=e.g,r=_u(n.createVertexArray(),"Failed to create vertex array");n.bindVertexArray(r);const i=_u(n.createBuffer(),"Failed to create buffer");n.bindBuffer(n.ARRAY_BUFFER,i),n.enableVertexAttribArray(e.O),n.vertexAttribPointer(e.O,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW);const a=_u(n.createBuffer(),"Failed to create buffer");return n.bindBuffer(n.ARRAY_BUFFER,a),n.enableVertexAttribArray(e.L),n.vertexAttribPointer(e.L,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array(t?[0,1,0,0,1,0,1,1]:[0,0,0,1,1,1,1,0]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.bindVertexArray(null),new mce(n,r,i,a)}function TP(e,t){if(e.g){if(t!==e.g)throw Error("Cannot change GL context once initialized")}else e.g=t}function vce(e,t,n,r){return TP(e,t),e.h||(e.m(),e.D()),n?(e.u||(e.u=vU(e,!0)),n=e.u):(e.A||(e.A=vU(e,!1)),n=e.A),t.useProgram(e.h),n.bind(),e.l(),e=r(),n.g.bindVertexArray(null),e}function GK(e,t,n){return TP(e,t),e=_u(t.createTexture(),"Failed to create texture"),t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,n??t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,n??t.LINEAR),t.bindTexture(t.TEXTURE_2D,null),e}function qK(e,t,n){TP(e,t),e.B||(e.B=_u(t.createFramebuffer(),"Failed to create framebuffe.")),t.bindFramebuffer(t.FRAMEBUFFER,e.B),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0)}function yce(e){var t;(t=e.g)==null||t.bindFramebuffer(e.g.FRAMEBUFFER,null)}var YK=class{H(){return`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D inputTexture;
  void main() {
    gl_FragColor = texture2D(inputTexture, vTex);
  }
 `}m(){const e=this.g;if(this.h=_u(e.createProgram(),"Failed to create WebGL program"),this.X=mU(this,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,e.VERTEX_SHADER),this.W=mU(this,this.H(),e.FRAGMENT_SHADER),e.linkProgram(this.h),!e.getProgramParameter(this.h,e.LINK_STATUS))throw Error(`Error during program linking: ${e.getProgramInfoLog(this.h)}`);this.O=e.getAttribLocation(this.h,"aVertex"),this.L=e.getAttribLocation(this.h,"aTex")}D(){}l(){}close(){if(this.h){const e=this.g;e.deleteProgram(this.h),e.deleteShader(this.X),e.deleteShader(this.W)}this.B&&this.g.deleteFramebuffer(this.B),this.A&&this.A.close(),this.u&&this.u.close()}};function Ul(e,t){switch(t){case 0:return e.g.find(n=>n instanceof Uint8Array);case 1:return e.g.find(n=>n instanceof Float32Array);case 2:return e.g.find(n=>typeof WebGLTexture<"u"&&n instanceof WebGLTexture);default:throw Error(`Type is not supported: ${t}`)}}function gk(e){var t=Ul(e,1);if(!t){if(t=Ul(e,0))t=new Float32Array(t).map(r=>r/255);else{t=new Float32Array(e.width*e.height);const r=Rp(e);var n=_P(e);if(qK(n,r,XK(e)),"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"document"in self&&"ontouchend"in self.document){n=new Float32Array(e.width*e.height*4),r.readPixels(0,0,e.width,e.height,r.RGBA,r.FLOAT,n);for(let i=0,a=0;i<t.length;++i,a+=4)t[i]=n[a]}else r.readPixels(0,0,e.width,e.height,r.RED,r.FLOAT,t)}e.g.push(t)}return t}function XK(e){let t=Ul(e,2);if(!t){const n=Rp(e);t=ZK(e);const r=gk(e),i=JK(e);n.texImage2D(n.TEXTURE_2D,0,i,e.width,e.height,0,n.RED,n.FLOAT,r),mk(e)}return t}function Rp(e){if(!e.canvas)throw Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return e.h||(e.h=_u(e.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),e.h}function JK(e){if(e=Rp(e),!By)if(e.getExtension("EXT_color_buffer_float")&&e.getExtension("OES_texture_float_linear")&&e.getExtension("EXT_float_blend"))By=e.R32F;else{if(!e.getExtension("EXT_color_buffer_half_float"))throw Error("GPU does not fully support 4-channel float32 or float16 formats");By=e.R16F}return By}function _P(e){return e.l||(e.l=new YK),e.l}function ZK(e){const t=Rp(e);t.viewport(0,0,e.width,e.height),t.activeTexture(t.TEXTURE0);let n=Ul(e,2);return n||(n=GK(_P(e),t,e.m?t.LINEAR:t.NEAREST),e.g.push(n),e.j=!0),t.bindTexture(t.TEXTURE_2D,n),n}function mk(e){e.h.bindTexture(e.h.TEXTURE_2D,null)}var By,ui=class{constructor(e,t,n,r,i,a,o){this.g=e,this.m=t,this.j=n,this.canvas=r,this.l=i,this.width=a,this.height=o,this.j&&--yU===0&&console.error("You seem to be creating MPMask instances without invoking .close(). This leaks resources.")}Fa(){return!!Ul(this,0)}ka(){return!!Ul(this,1)}R(){return!!Ul(this,2)}ja(){return(t=Ul(e=this,0))||(t=gk(e),t=new Uint8Array(t.map(n=>Math.round(255*n))),e.g.push(t)),t;var e,t}ia(){return gk(this)}N(){return XK(this)}clone(){const e=[];for(const t of this.g){let n;if(t instanceof Uint8Array)n=new Uint8Array(t);else if(t instanceof Float32Array)n=new Float32Array(t);else{if(!(t instanceof WebGLTexture))throw Error(`Type is not supported: ${t}`);{const r=Rp(this),i=_P(this);r.activeTexture(r.TEXTURE1),n=GK(i,r,this.m?r.LINEAR:r.NEAREST),r.bindTexture(r.TEXTURE_2D,n);const a=JK(this);r.texImage2D(r.TEXTURE_2D,0,a,this.width,this.height,0,r.RED,r.FLOAT,null),r.bindTexture(r.TEXTURE_2D,null),qK(i,r,n),vce(i,r,!1,()=>{ZK(this),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.drawArrays(r.TRIANGLE_FAN,0,4),mk(this)}),yce(i),mk(this)}}e.push(n)}return new ui(e,this.m,this.R(),this.canvas,this.l,this.width,this.height)}close(){this.j&&Rp(this).deleteTexture(Ul(this,2)),yU=-1}};ui.prototype.close=ui.prototype.close,ui.prototype.clone=ui.prototype.clone,ui.prototype.getAsWebGLTexture=ui.prototype.N,ui.prototype.getAsFloat32Array=ui.prototype.ia,ui.prototype.getAsUint8Array=ui.prototype.ja,ui.prototype.hasWebGLTexture=ui.prototype.R,ui.prototype.hasFloat32Array=ui.prototype.ka,ui.prototype.hasUint8Array=ui.prototype.Fa;var yU=250;function nc(...e){return e.map(([t,n])=>({start:t,end:n}))}const bce=function(e){return class extends e{Ja(){this.i._registerModelResourcesGraphService()}}}((bU=class{constructor(e,t){this.l=!0,this.i=e,this.g=null,this.h=0,this.m=typeof this.i._addIntToInputStream=="function",t!==void 0?this.i.canvas=t:zK()?this.i.canvas=new OffscreenCanvas(1,1):(console.warn("OffscreenCanvas not supported and GraphRunner constructor glCanvas parameter is undefined. Creating backup canvas."),this.i.canvas=document.createElement("canvas"))}async initializeGraph(e){const t=await(await fetch(e)).arrayBuffer();e=!(e.endsWith(".pbtxt")||e.endsWith(".textproto")),this.setGraph(new Uint8Array(t),e)}setGraphFromString(e){this.setGraph(new TextEncoder().encode(e),!1)}setGraph(e,t){const n=e.length,r=this.i._malloc(n);this.i.HEAPU8.set(e,r),t?this.i._changeBinaryGraph(n,r):this.i._changeTextGraph(n,r),this.i._free(r)}configureAudio(e,t,n,r,i){this.i._configureAudio||console.warn('Attempting to use configureAudio without support for input audio. Is build dep ":gl_graph_runner_audio" missing?'),lt(this,r||"input_audio",a=>{lt(this,i=i||"audio_header",o=>{this.i._configureAudio(a,o,e,t??0,n)})})}setAutoResizeCanvas(e){this.l=e}setAutoRenderToScreen(e){this.i._setAutoRenderToScreen(e)}setGpuBufferVerticalFlip(e){this.i.gpuOriginForWebTexturesIsBottomLeft=e}ca(e){bc(this,"__graph_config__",t=>{e(t)}),lt(this,"__graph_config__",t=>{this.i._getGraphConfig(t,void 0)}),delete this.i.simpleListeners.__graph_config__}attachErrorListener(e){this.i.errorListener=e}attachEmptyPacketListener(e,t){this.i.emptyPacketListeners=this.i.emptyPacketListeners||{},this.i.emptyPacketListeners[e]=t}addAudioToStream(e,t,n){this.addAudioToStreamWithShape(e,0,0,t,n)}addAudioToStreamWithShape(e,t,n,r,i){const a=4*e.length;this.h!==a&&(this.g&&this.i._free(this.g),this.g=this.i._malloc(a),this.h=a),this.i.HEAPF32.set(e,this.g/4),lt(this,r,o=>{this.i._addAudioToInputStream(this.g,t,n,o,i)})}addGpuBufferToStream(e,t,n){lt(this,t,r=>{const[i,a]=hU(this,e,r);this.i._addBoundTextureToStream(r,i,a,n)})}addBoolToStream(e,t,n){lt(this,t,r=>{this.i._addBoolToInputStream(e,r,n)})}addDoubleToStream(e,t,n){lt(this,t,r=>{this.i._addDoubleToInputStream(e,r,n)})}addFloatToStream(e,t,n){lt(this,t,r=>{this.i._addFloatToInputStream(e,r,n)})}addIntToStream(e,t,n){lt(this,t,r=>{this.i._addIntToInputStream(e,r,n)})}addUintToStream(e,t,n){lt(this,t,r=>{this.i._addUintToInputStream(e,r,n)})}addStringToStream(e,t,n){lt(this,t,r=>{lt(this,e,i=>{this.i._addStringToInputStream(i,r,n)})})}addStringRecordToStream(e,t,n){lt(this,t,r=>{pU(this,Object.keys(e),i=>{pU(this,Object.values(e),a=>{this.i._addFlatHashMapToInputStream(i,a,Object.keys(e).length,r,n)})})})}addProtoToStream(e,t,n,r){lt(this,n,i=>{lt(this,t,a=>{const o=this.i._malloc(e.length);this.i.HEAPU8.set(e,o),this.i._addProtoToInputStream(o,e.length,a,i,r),this.i._free(o)})})}addEmptyPacketToStream(e,t){lt(this,e,n=>{this.i._addEmptyPacketToInputStream(n,t)})}addBoolVectorToStream(e,t,n){lt(this,t,r=>{const i=this.i._allocateBoolVector(e.length);if(!i)throw Error("Unable to allocate new bool vector on heap.");for(const a of e)this.i._addBoolVectorEntry(i,a);this.i._addBoolVectorToInputStream(i,r,n)})}addDoubleVectorToStream(e,t,n){lt(this,t,r=>{const i=this.i._allocateDoubleVector(e.length);if(!i)throw Error("Unable to allocate new double vector on heap.");for(const a of e)this.i._addDoubleVectorEntry(i,a);this.i._addDoubleVectorToInputStream(i,r,n)})}addFloatVectorToStream(e,t,n){lt(this,t,r=>{const i=this.i._allocateFloatVector(e.length);if(!i)throw Error("Unable to allocate new float vector on heap.");for(const a of e)this.i._addFloatVectorEntry(i,a);this.i._addFloatVectorToInputStream(i,r,n)})}addIntVectorToStream(e,t,n){lt(this,t,r=>{const i=this.i._allocateIntVector(e.length);if(!i)throw Error("Unable to allocate new int vector on heap.");for(const a of e)this.i._addIntVectorEntry(i,a);this.i._addIntVectorToInputStream(i,r,n)})}addUintVectorToStream(e,t,n){lt(this,t,r=>{const i=this.i._allocateUintVector(e.length);if(!i)throw Error("Unable to allocate new unsigned int vector on heap.");for(const a of e)this.i._addUintVectorEntry(i,a);this.i._addUintVectorToInputStream(i,r,n)})}addStringVectorToStream(e,t,n){lt(this,t,r=>{const i=this.i._allocateStringVector(e.length);if(!i)throw Error("Unable to allocate new string vector on heap.");for(const a of e)lt(this,a,o=>{this.i._addStringVectorEntry(i,o)});this.i._addStringVectorToInputStream(i,r,n)})}addBoolToInputSidePacket(e,t){lt(this,t,n=>{this.i._addBoolToInputSidePacket(e,n)})}addDoubleToInputSidePacket(e,t){lt(this,t,n=>{this.i._addDoubleToInputSidePacket(e,n)})}addFloatToInputSidePacket(e,t){lt(this,t,n=>{this.i._addFloatToInputSidePacket(e,n)})}addIntToInputSidePacket(e,t){lt(this,t,n=>{this.i._addIntToInputSidePacket(e,n)})}addUintToInputSidePacket(e,t){lt(this,t,n=>{this.i._addUintToInputSidePacket(e,n)})}addStringToInputSidePacket(e,t){lt(this,t,n=>{lt(this,e,r=>{this.i._addStringToInputSidePacket(r,n)})})}addProtoToInputSidePacket(e,t,n){lt(this,n,r=>{lt(this,t,i=>{const a=this.i._malloc(e.length);this.i.HEAPU8.set(e,a),this.i._addProtoToInputSidePacket(a,e.length,i,r),this.i._free(a)})})}addBoolVectorToInputSidePacket(e,t){lt(this,t,n=>{const r=this.i._allocateBoolVector(e.length);if(!r)throw Error("Unable to allocate new bool vector on heap.");for(const i of e)this.i._addBoolVectorEntry(r,i);this.i._addBoolVectorToInputSidePacket(r,n)})}addDoubleVectorToInputSidePacket(e,t){lt(this,t,n=>{const r=this.i._allocateDoubleVector(e.length);if(!r)throw Error("Unable to allocate new double vector on heap.");for(const i of e)this.i._addDoubleVectorEntry(r,i);this.i._addDoubleVectorToInputSidePacket(r,n)})}addFloatVectorToInputSidePacket(e,t){lt(this,t,n=>{const r=this.i._allocateFloatVector(e.length);if(!r)throw Error("Unable to allocate new float vector on heap.");for(const i of e)this.i._addFloatVectorEntry(r,i);this.i._addFloatVectorToInputSidePacket(r,n)})}addIntVectorToInputSidePacket(e,t){lt(this,t,n=>{const r=this.i._allocateIntVector(e.length);if(!r)throw Error("Unable to allocate new int vector on heap.");for(const i of e)this.i._addIntVectorEntry(r,i);this.i._addIntVectorToInputSidePacket(r,n)})}addUintVectorToInputSidePacket(e,t){lt(this,t,n=>{const r=this.i._allocateUintVector(e.length);if(!r)throw Error("Unable to allocate new unsigned int vector on heap.");for(const i of e)this.i._addUintVectorEntry(r,i);this.i._addUintVectorToInputSidePacket(r,n)})}addStringVectorToInputSidePacket(e,t){lt(this,t,n=>{const r=this.i._allocateStringVector(e.length);if(!r)throw Error("Unable to allocate new string vector on heap.");for(const i of e)lt(this,i,a=>{this.i._addStringVectorEntry(r,a)});this.i._addStringVectorToInputSidePacket(r,n)})}attachBoolListener(e,t){bc(this,e,t),lt(this,e,n=>{this.i._attachBoolListener(n)})}attachBoolVectorListener(e,t){VA(this,e,t),lt(this,e,n=>{this.i._attachBoolVectorListener(n)})}attachIntListener(e,t){bc(this,e,t),lt(this,e,n=>{this.i._attachIntListener(n)})}attachIntVectorListener(e,t){VA(this,e,t),lt(this,e,n=>{this.i._attachIntVectorListener(n)})}attachUintListener(e,t){bc(this,e,t),lt(this,e,n=>{this.i._attachUintListener(n)})}attachUintVectorListener(e,t){VA(this,e,t),lt(this,e,n=>{this.i._attachUintVectorListener(n)})}attachDoubleListener(e,t){bc(this,e,t),lt(this,e,n=>{this.i._attachDoubleListener(n)})}attachDoubleVectorListener(e,t){VA(this,e,t),lt(this,e,n=>{this.i._attachDoubleVectorListener(n)})}attachFloatListener(e,t){bc(this,e,t),lt(this,e,n=>{this.i._attachFloatListener(n)})}attachFloatVectorListener(e,t){VA(this,e,t),lt(this,e,n=>{this.i._attachFloatVectorListener(n)})}attachStringListener(e,t){bc(this,e,t),lt(this,e,n=>{this.i._attachStringListener(n)})}attachStringVectorListener(e,t){VA(this,e,t),lt(this,e,n=>{this.i._attachStringVectorListener(n)})}attachProtoListener(e,t,n){bc(this,e,t),lt(this,e,r=>{this.i._attachProtoListener(r,n||!1)})}attachProtoVectorListener(e,t,n){VA(this,e,t),lt(this,e,r=>{this.i._attachProtoVectorListener(r,n||!1)})}attachAudioListener(e,t,n){this.i._attachAudioListener||console.warn('Attempting to use attachAudioListener without support for output audio. Is build dep ":gl_graph_runner_audio_out" missing?'),bc(this,e,(r,i)=>{r=new Float32Array(r.buffer,r.byteOffset,r.length/4),t(r,i)}),lt(this,e,r=>{this.i._attachAudioListener(r,n||!1)})}finishProcessing(){this.i._waitUntilIdle()}closeGraph(){this.i._closeGraph(),this.i.simpleListeners=void 0,this.i.emptyPacketListeners=void 0}},class extends bU{get ga(){return this.i}pa(e,t,n){lt(this,t,r=>{const[i,a]=hU(this,e,r);this.ga._addBoundTextureAsImageToStream(r,i,a,n)})}Z(e,t){bc(this,e,t),lt(this,e,n=>{this.ga._attachImageListener(n)})}aa(e,t){VA(this,e,t),lt(this,e,n=>{this.ga._attachImageVectorListener(n)})}}));var bU,rc=class extends bce{};async function tn(e,t,n){return async function(r,i,a,o){return gce(r,i,a,o)}(e,n.canvas??(zK()?void 0:document.createElement("canvas")),t,n)}function eV(e,t,n,r){if(e.U){const a=new wK;if(n!=null&&n.regionOfInterest){if(!e.oa)throw Error("This task doesn't support region-of-interest.");var i=n.regionOfInterest;if(i.left>=i.right||i.top>=i.bottom)throw Error("Expected RectF with left < right and top < bottom.");if(i.left<0||i.top<0||i.right>1||i.bottom>1)throw Error("Expected RectF values to be in [0,1].");ut(a,1,(i.left+i.right)/2),ut(a,2,(i.top+i.bottom)/2),ut(a,4,i.right-i.left),ut(a,3,i.bottom-i.top)}else ut(a,1,.5),ut(a,2,.5),ut(a,4,1),ut(a,3,1);if(n!=null&&n.rotationDegrees){if((n==null?void 0:n.rotationDegrees)%90!=0)throw Error("Expected rotation to be a multiple of 90.");if(ut(a,5,-Math.PI*n.rotationDegrees/180),(n==null?void 0:n.rotationDegrees)%180!=0){const[o,s]=WK(t);n=xr(a,3)*s/o,i=xr(a,4)*o/s,ut(a,4,n),ut(a,3,i)}}e.g.addProtoToStream(a.g(),"mediapipe.NormalizedRect",e.U,r)}e.g.pa(t,e.X,r??performance.now()),e.finishProcessing()}function ic(e,t,n){var r;if((r=e.baseOptions)!=null&&r.g())throw Error("Task is not initialized with image mode. 'runningMode' must be set to 'IMAGE'.");eV(e,t,n,e.C+1)}function el(e,t,n,r){var i;if(!((i=e.baseOptions)!=null&&i.g()))throw Error("Task is not initialized with video mode. 'runningMode' must be set to 'VIDEO'.");eV(e,t,n,r)}function Dp(e,t,n,r){var i=t.data;const a=t.width,o=a*(t=t.height);if((i instanceof Uint8Array||i instanceof Float32Array)&&i.length!==o)throw Error("Unsupported channel count: "+i.length/o);return e=new ui([i],n,!1,e.g.i.canvas,e.P,a,t),r?e.clone():e}var To=class extends pk{constructor(e,t,n,r){super(e),this.g=e,this.X=t,this.U=n,this.oa=r,this.P=new YK}l(e,t=!0){if("runningMode"in e&&vn(this.baseOptions,2,tv(!!e.runningMode&&e.runningMode!=="IMAGE")),e.canvas!==void 0&&this.g.i.canvas!==e.canvas)throw Error("You must create a new task to reset the canvas.");return super.l(e,t)}close(){this.P.close(),super.close()}};To.prototype.close=To.prototype.close;var $o=class extends To{constructor(e,t){super(new rc(e,t),"image_in","norm_rect_in",!1),this.j={detections:[]},mt(e=this.h=new pC,0,1,t=new pr),ut(this.h,2,.5),ut(this.h,3,.3)}get baseOptions(){return nn(this.h,pr,1)}set baseOptions(e){mt(this.h,0,1,e)}o(e){return"minDetectionConfidence"in e&&ut(this.h,2,e.minDetectionConfidence??.5),"minSuppressionThreshold"in e&&ut(this.h,3,e.minSuppressionThreshold??.3),this.l(e)}F(e,t){return this.j={detections:[]},ic(this,e,t),this.j}G(e,t,n){return this.j={detections:[]},el(this,e,n,t),this.j}m(){var e=new Oo;rr(e,"image_in"),rr(e,"norm_rect_in"),cn(e,"detections");const t=new Fo;Jc(t,tce,this.h);const n=new za;ko(n,2,"mediapipe.tasks.vision.face_detector.FaceDetectorGraph"),Yn(n,"IMAGE:image_in"),Yn(n,"NORM_RECT:norm_rect_in"),qt(n,"DETECTIONS:detections"),n.o(t),ms(e,n),this.g.attachProtoVectorListener("detections",(r,i)=>{for(const a of r)r=vK(a),this.j.detections.push(KK(r));Je(this,i)}),this.g.attachEmptyPacketListener("detections",r=>{Je(this,r)}),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};$o.prototype.detectForVideo=$o.prototype.G,$o.prototype.detect=$o.prototype.F,$o.prototype.setOptions=$o.prototype.o,$o.createFromModelPath=async function(e,t){return tn($o,e,{baseOptions:{modelAssetPath:t}})},$o.createFromModelBuffer=function(e,t){return tn($o,e,{baseOptions:{modelAssetBuffer:t}})},$o.createFromOptions=function(e,t){return tn($o,e,t)};var PP=nc([61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]),IP=nc([263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]),FP=nc([276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]),tV=nc([474,475],[475,476],[476,477],[477,474]),OP=nc([33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]),LP=nc([46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]),nV=nc([469,470],[470,471],[471,472],[472,469]),UP=nc([10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]),rV=[...PP,...IP,...FP,...OP,...LP,...UP],iV=nc([127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]);function wU(e){e.j={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]}}var Jn=class extends To{constructor(e,t){super(new rc(e,t),"image_in","norm_rect",!1),this.j={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]},this.outputFacialTransformationMatrixes=this.outputFaceBlendshapes=!1,mt(e=this.h=new kK,0,1,t=new pr),this.A=new xK,mt(this.h,0,3,this.A),this.u=new pC,mt(this.h,0,2,this.u),rA(this.u,4,1),ut(this.u,2,.5),ut(this.A,2,.5),ut(this.h,4,.5)}get baseOptions(){return nn(this.h,pr,1)}set baseOptions(e){mt(this.h,0,1,e)}o(e){return"numFaces"in e&&rA(this.u,4,e.numFaces??1),"minFaceDetectionConfidence"in e&&ut(this.u,2,e.minFaceDetectionConfidence??.5),"minTrackingConfidence"in e&&ut(this.h,4,e.minTrackingConfidence??.5),"minFacePresenceConfidence"in e&&ut(this.A,2,e.minFacePresenceConfidence??.5),"outputFaceBlendshapes"in e&&(this.outputFaceBlendshapes=!!e.outputFaceBlendshapes),"outputFacialTransformationMatrixes"in e&&(this.outputFacialTransformationMatrixes=!!e.outputFacialTransformationMatrixes),this.l(e)}F(e,t){return wU(this),ic(this,e,t),this.j}G(e,t,n){return wU(this),el(this,e,n,t),this.j}m(){var e=new Oo;rr(e,"image_in"),rr(e,"norm_rect"),cn(e,"face_landmarks");const t=new Fo;Jc(t,rce,this.h);const n=new za;ko(n,2,"mediapipe.tasks.vision.face_landmarker.FaceLandmarkerGraph"),Yn(n,"IMAGE:image_in"),Yn(n,"NORM_RECT:norm_rect"),qt(n,"NORM_LANDMARKS:face_landmarks"),n.o(t),ms(e,n),this.g.attachProtoVectorListener("face_landmarks",(r,i)=>{for(const a of r)r=Gv(a),this.j.faceLandmarks.push(gC(r));Je(this,i)}),this.g.attachEmptyPacketListener("face_landmarks",r=>{Je(this,r)}),this.outputFaceBlendshapes&&(cn(e,"blendshapes"),qt(n,"BLENDSHAPES:blendshapes"),this.g.attachProtoVectorListener("blendshapes",(r,i)=>{if(this.outputFaceBlendshapes)for(const a of r)r=hC(a),this.j.faceBlendshapes.push(EP(r.g()??[]));Je(this,i)}),this.g.attachEmptyPacketListener("blendshapes",r=>{Je(this,r)})),this.outputFacialTransformationMatrixes&&(cn(e,"face_geometry"),qt(n,"FACE_GEOMETRY:face_geometry"),this.g.attachProtoVectorListener("face_geometry",(r,i)=>{if(this.outputFacialTransformationMatrixes)for(const a of r)(r=nn(r=nce(a),Wse,2))&&this.j.facialTransformationMatrixes.push({rows:rs(r,1)??0??0,columns:rs(r,2)??0??0,data:Hd(r,3,Oc,jd()).slice()??[]});Je(this,i)}),this.g.attachEmptyPacketListener("face_geometry",r=>{Je(this,r)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};Jn.prototype.detectForVideo=Jn.prototype.G,Jn.prototype.detect=Jn.prototype.F,Jn.prototype.setOptions=Jn.prototype.o,Jn.createFromModelPath=function(e,t){return tn(Jn,e,{baseOptions:{modelAssetPath:t}})},Jn.createFromModelBuffer=function(e,t){return tn(Jn,e,{baseOptions:{modelAssetBuffer:t}})},Jn.createFromOptions=function(e,t){return tn(Jn,e,t)},Jn.FACE_LANDMARKS_LIPS=PP,Jn.FACE_LANDMARKS_LEFT_EYE=IP,Jn.FACE_LANDMARKS_LEFT_EYEBROW=FP,Jn.FACE_LANDMARKS_LEFT_IRIS=tV,Jn.FACE_LANDMARKS_RIGHT_EYE=OP,Jn.FACE_LANDMARKS_RIGHT_EYEBROW=LP,Jn.FACE_LANDMARKS_RIGHT_IRIS=nV,Jn.FACE_LANDMARKS_FACE_OVAL=UP,Jn.FACE_LANDMARKS_CONTOURS=rV,Jn.FACE_LANDMARKS_TESSELATION=iV;var NP=nc([0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]);function CU(e){e.gestures=[],e.landmarks=[],e.worldLandmarks=[],e.handedness=[]}function BU(e){return e.gestures.length===0?{gestures:[],landmarks:[],worldLandmarks:[],handedness:[],handednesses:[]}:{gestures:e.gestures,landmarks:e.landmarks,worldLandmarks:e.worldLandmarks,handedness:e.handedness,handednesses:e.handedness}}function SU(e,t=!0){const n=[];for(const i of e){var r=hC(i);e=[];for(const a of r.g())r=t&&rs(a,1)!=null?rs(a,1)??0:-1,e.push({score:xr(a,2)??0,index:r,categoryName:$i(Gn(a,3))??""??"",displayName:$i(Gn(a,4))??""??""});n.push(e)}return n}var ao=class extends To{constructor(e,t){super(new rc(e,t),"image_in","norm_rect",!1),this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handedness=[],mt(e=this.j=new _K,0,1,t=new pr),this.u=new BP,mt(this.j,0,2,this.u),this.D=new CP,mt(this.u,0,3,this.D),this.A=new TK,mt(this.u,0,2,this.A),this.h=new ice,mt(this.j,0,3,this.h),ut(this.A,2,.5),ut(this.u,4,.5),ut(this.D,2,.5)}get baseOptions(){return nn(this.j,pr,1)}set baseOptions(e){mt(this.j,0,1,e)}o(e){var i,a,o,s;if(rA(this.A,3,e.numHands??1),"minHandDetectionConfidence"in e&&ut(this.A,2,e.minHandDetectionConfidence??.5),"minTrackingConfidence"in e&&ut(this.u,4,e.minTrackingConfidence??.5),"minHandPresenceConfidence"in e&&ut(this.D,2,e.minHandPresenceConfidence??.5),e.cannedGesturesClassifierOptions){var t=new lh,n=t,r=hk(e.cannedGesturesClassifierOptions,(i=nn(this.h,lh,3))==null?void 0:i.l());mt(n,0,2,r),mt(this.h,0,3,t)}else e.cannedGesturesClassifierOptions===void 0&&((a=nn(this.h,lh,3))==null||a.g());return e.customGesturesClassifierOptions?(mt(n=t=new lh,0,2,r=hk(e.customGesturesClassifierOptions,(o=nn(this.h,lh,4))==null?void 0:o.l())),mt(this.h,0,4,t)):e.customGesturesClassifierOptions===void 0&&((s=nn(this.h,lh,4))==null||s.g()),this.l(e)}Ha(e,t){return CU(this),ic(this,e,t),BU(this)}Ia(e,t,n){return CU(this),el(this,e,n,t),BU(this)}m(){var e=new Oo;rr(e,"image_in"),rr(e,"norm_rect"),cn(e,"hand_gestures"),cn(e,"hand_landmarks"),cn(e,"world_hand_landmarks"),cn(e,"handedness");const t=new Fo;Jc(t,ace,this.j);const n=new za;ko(n,2,"mediapipe.tasks.vision.gesture_recognizer.GestureRecognizerGraph"),Yn(n,"IMAGE:image_in"),Yn(n,"NORM_RECT:norm_rect"),qt(n,"HAND_GESTURES:hand_gestures"),qt(n,"LANDMARKS:hand_landmarks"),qt(n,"WORLD_LANDMARKS:world_hand_landmarks"),qt(n,"HANDEDNESS:handedness"),n.o(t),ms(e,n),this.g.attachProtoVectorListener("hand_landmarks",(r,i)=>{for(const a of r){r=Gv(a);const o=[];for(const s of nA(r,bK,1))o.push({x:xr(s,1)??0,y:xr(s,2)??0,z:xr(s,3)??0,visibility:xr(s,4)??0});this.landmarks.push(o)}Je(this,i)}),this.g.attachEmptyPacketListener("hand_landmarks",r=>{Je(this,r)}),this.g.attachProtoVectorListener("world_hand_landmarks",(r,i)=>{for(const a of r){r=ap(a);const o=[];for(const s of nA(r,yK,1))o.push({x:xr(s,1)??0,y:xr(s,2)??0,z:xr(s,3)??0,visibility:xr(s,4)??0});this.worldLandmarks.push(o)}Je(this,i)}),this.g.attachEmptyPacketListener("world_hand_landmarks",r=>{Je(this,r)}),this.g.attachProtoVectorListener("hand_gestures",(r,i)=>{this.gestures.push(...SU(r,!1)),Je(this,i)}),this.g.attachEmptyPacketListener("hand_gestures",r=>{Je(this,r)}),this.g.attachProtoVectorListener("handedness",(r,i)=>{this.handedness.push(...SU(r)),Je(this,i)}),this.g.attachEmptyPacketListener("handedness",r=>{Je(this,r)}),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};function xU(e){return{landmarks:e.landmarks,worldLandmarks:e.worldLandmarks,handednesses:e.handedness,handedness:e.handedness}}ao.prototype.recognizeForVideo=ao.prototype.Ia,ao.prototype.recognize=ao.prototype.Ha,ao.prototype.setOptions=ao.prototype.o,ao.createFromModelPath=function(e,t){return tn(ao,e,{baseOptions:{modelAssetPath:t}})},ao.createFromModelBuffer=function(e,t){return tn(ao,e,{baseOptions:{modelAssetBuffer:t}})},ao.createFromOptions=function(e,t){return tn(ao,e,t)},ao.HAND_CONNECTIONS=NP;var oo=class extends To{constructor(e,t){super(new rc(e,t),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.handedness=[],mt(e=this.h=new BP,0,1,t=new pr),this.u=new CP,mt(this.h,0,3,this.u),this.j=new TK,mt(this.h,0,2,this.j),rA(this.j,3,1),ut(this.j,2,.5),ut(this.u,2,.5),ut(this.h,4,.5)}get baseOptions(){return nn(this.h,pr,1)}set baseOptions(e){mt(this.h,0,1,e)}o(e){return"numHands"in e&&rA(this.j,3,e.numHands??1),"minHandDetectionConfidence"in e&&ut(this.j,2,e.minHandDetectionConfidence??.5),"minTrackingConfidence"in e&&ut(this.h,4,e.minTrackingConfidence??.5),"minHandPresenceConfidence"in e&&ut(this.u,2,e.minHandPresenceConfidence??.5),this.l(e)}F(e,t){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],ic(this,e,t),xU(this)}G(e,t,n){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],el(this,e,n,t),xU(this)}m(){var e=new Oo;rr(e,"image_in"),rr(e,"norm_rect"),cn(e,"hand_landmarks"),cn(e,"world_hand_landmarks"),cn(e,"handedness");const t=new Fo;Jc(t,oce,this.h);const n=new za;ko(n,2,"mediapipe.tasks.vision.hand_landmarker.HandLandmarkerGraph"),Yn(n,"IMAGE:image_in"),Yn(n,"NORM_RECT:norm_rect"),qt(n,"LANDMARKS:hand_landmarks"),qt(n,"WORLD_LANDMARKS:world_hand_landmarks"),qt(n,"HANDEDNESS:handedness"),n.o(t),ms(e,n),this.g.attachProtoVectorListener("hand_landmarks",(r,i)=>{for(const a of r)r=Gv(a),this.landmarks.push(gC(r));Je(this,i)}),this.g.attachEmptyPacketListener("hand_landmarks",r=>{Je(this,r)}),this.g.attachProtoVectorListener("world_hand_landmarks",(r,i)=>{for(const a of r)r=ap(a),this.worldLandmarks.push(v0(r));Je(this,i)}),this.g.attachEmptyPacketListener("world_hand_landmarks",r=>{Je(this,r)}),this.g.attachProtoVectorListener("handedness",(r,i)=>{var a=this.handedness,o=a.push;const s=[];for(const c of r){r=hC(c);const l=[];for(const A of r.g())l.push({score:xr(A,2)??0,index:rs(A,1)??0??-1,categoryName:$i(Gn(A,3))??""??"",displayName:$i(Gn(A,4))??""??""});s.push(l)}o.call(a,...s),Je(this,i)}),this.g.attachEmptyPacketListener("handedness",r=>{Je(this,r)}),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};oo.prototype.detectForVideo=oo.prototype.G,oo.prototype.detect=oo.prototype.F,oo.prototype.setOptions=oo.prototype.o,oo.createFromModelPath=function(e,t){return tn(oo,e,{baseOptions:{modelAssetPath:t}})},oo.createFromModelBuffer=function(e,t){return tn(oo,e,{baseOptions:{modelAssetBuffer:t}})},oo.createFromOptions=function(e,t){return tn(oo,e,t)},oo.HAND_CONNECTIONS=NP;var aV=nc([0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]);function kU(e){e.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]}}function EU(e){try{if(!e.D)return e.h;e.D(e.h)}finally{vC(e)}}function Sy(e,t){e=Gv(e),t.push(gC(e))}var Hn=class extends To{constructor(e,t){super(new rc(e,t),"input_frames_image",null,!1),this.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]},this.outputPoseSegmentationMasks=this.outputFaceBlendshapes=!1,mt(e=this.j=new LK,0,1,t=new pr),this.I=new CP,mt(this.j,0,2,this.I),this.W=new sce,mt(this.j,0,3,this.W),this.u=new pC,mt(this.j,0,4,this.u),this.O=new xK,mt(this.j,0,5,this.O),this.A=new FK,mt(this.j,0,6,this.A),this.M=new OK,mt(this.j,0,7,this.M),ut(this.u,2,.5),ut(this.u,3,.3),ut(this.O,2,.5),ut(this.A,2,.5),ut(this.A,3,.3),ut(this.M,2,.5),ut(this.I,2,.5)}get baseOptions(){return nn(this.j,pr,1)}set baseOptions(e){mt(this.j,0,1,e)}o(e){return"minFaceDetectionConfidence"in e&&ut(this.u,2,e.minFaceDetectionConfidence??.5),"minFaceSuppressionThreshold"in e&&ut(this.u,3,e.minFaceSuppressionThreshold??.3),"minFacePresenceConfidence"in e&&ut(this.O,2,e.minFacePresenceConfidence??.5),"outputFaceBlendshapes"in e&&(this.outputFaceBlendshapes=!!e.outputFaceBlendshapes),"minPoseDetectionConfidence"in e&&ut(this.A,2,e.minPoseDetectionConfidence??.5),"minPoseSuppressionThreshold"in e&&ut(this.A,3,e.minPoseSuppressionThreshold??.3),"minPosePresenceConfidence"in e&&ut(this.M,2,e.minPosePresenceConfidence??.5),"outputPoseSegmentationMasks"in e&&(this.outputPoseSegmentationMasks=!!e.outputPoseSegmentationMasks),"minHandLandmarksConfidence"in e&&ut(this.I,2,e.minHandLandmarksConfidence??.5),this.l(e)}F(e,t,n){const r=typeof t!="function"?t:{};return this.D=typeof t=="function"?t:n,kU(this),ic(this,e,r),EU(this)}G(e,t,n,r){const i=typeof n!="function"?n:{};return this.D=typeof n=="function"?n:r,kU(this),el(this,e,i,t),EU(this)}m(){var e=new Oo;rr(e,"input_frames_image"),cn(e,"pose_landmarks"),cn(e,"pose_world_landmarks"),cn(e,"face_landmarks"),cn(e,"left_hand_landmarks"),cn(e,"left_hand_world_landmarks"),cn(e,"right_hand_landmarks"),cn(e,"right_hand_world_landmarks");const t=new Fo,n=new XL;ko(n,1,"type.googleapis.com/mediapipe.tasks.vision.holistic_landmarker.proto.HolisticLandmarkerGraphOptions"),function(i,a){if(a!=null)if(Array.isArray(a))vn(i,2,nC(a,0,nv));else{if(!(typeof a=="string"||a instanceof Dc||$_(a)))throw Error("invalid value in Any.value field: "+a+" expected a ByteString, a base64 encoded string, a Uint8Array or a jspb array");tu(i,2,V_(a,!1),yf())}}(n,this.j.g());const r=new za;ko(r,2,"mediapipe.tasks.vision.holistic_landmarker.HolisticLandmarkerGraph"),oP(r,8,XL,n),Yn(r,"IMAGE:input_frames_image"),qt(r,"POSE_LANDMARKS:pose_landmarks"),qt(r,"POSE_WORLD_LANDMARKS:pose_world_landmarks"),qt(r,"FACE_LANDMARKS:face_landmarks"),qt(r,"LEFT_HAND_LANDMARKS:left_hand_landmarks"),qt(r,"LEFT_HAND_WORLD_LANDMARKS:left_hand_world_landmarks"),qt(r,"RIGHT_HAND_LANDMARKS:right_hand_landmarks"),qt(r,"RIGHT_HAND_WORLD_LANDMARKS:right_hand_world_landmarks"),r.o(t),ms(e,r),mC(this,e),this.g.attachProtoListener("pose_landmarks",(i,a)=>{Sy(i,this.h.poseLandmarks),Je(this,a)}),this.g.attachEmptyPacketListener("pose_landmarks",i=>{Je(this,i)}),this.g.attachProtoListener("pose_world_landmarks",(i,a)=>{var o=this.h.poseWorldLandmarks;i=ap(i),o.push(v0(i)),Je(this,a)}),this.g.attachEmptyPacketListener("pose_world_landmarks",i=>{Je(this,i)}),this.outputPoseSegmentationMasks&&(qt(r,"POSE_SEGMENTATION_MASK:pose_segmentation_mask"),Mp(this,"pose_segmentation_mask"),this.g.Z("pose_segmentation_mask",(i,a)=>{this.h.poseSegmentationMasks=[Dp(this,i,!0,!this.D)],Je(this,a)}),this.g.attachEmptyPacketListener("pose_segmentation_mask",i=>{this.h.poseSegmentationMasks=[],Je(this,i)})),this.g.attachProtoListener("face_landmarks",(i,a)=>{Sy(i,this.h.faceLandmarks),Je(this,a)}),this.g.attachEmptyPacketListener("face_landmarks",i=>{Je(this,i)}),this.outputFaceBlendshapes&&(cn(e,"extra_blendshapes"),qt(r,"FACE_BLENDSHAPES:extra_blendshapes"),this.g.attachProtoListener("extra_blendshapes",(i,a)=>{var o=this.h.faceBlendshapes;this.outputFaceBlendshapes&&(i=hC(i),o.push(EP(i.g()??[]))),Je(this,a)}),this.g.attachEmptyPacketListener("extra_blendshapes",i=>{Je(this,i)})),this.g.attachProtoListener("left_hand_landmarks",(i,a)=>{Sy(i,this.h.leftHandLandmarks),Je(this,a)}),this.g.attachEmptyPacketListener("left_hand_landmarks",i=>{Je(this,i)}),this.g.attachProtoListener("left_hand_world_landmarks",(i,a)=>{var o=this.h.leftHandWorldLandmarks;i=ap(i),o.push(v0(i)),Je(this,a)}),this.g.attachEmptyPacketListener("left_hand_world_landmarks",i=>{Je(this,i)}),this.g.attachProtoListener("right_hand_landmarks",(i,a)=>{Sy(i,this.h.rightHandLandmarks),Je(this,a)}),this.g.attachEmptyPacketListener("right_hand_landmarks",i=>{Je(this,i)}),this.g.attachProtoListener("right_hand_world_landmarks",(i,a)=>{var o=this.h.rightHandWorldLandmarks;i=ap(i),o.push(v0(i)),Je(this,a)}),this.g.attachEmptyPacketListener("right_hand_world_landmarks",i=>{Je(this,i)}),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};Hn.prototype.detectForVideo=Hn.prototype.G,Hn.prototype.detect=Hn.prototype.F,Hn.prototype.setOptions=Hn.prototype.o,Hn.createFromModelPath=function(e,t){return tn(Hn,e,{baseOptions:{modelAssetPath:t}})},Hn.createFromModelBuffer=function(e,t){return tn(Hn,e,{baseOptions:{modelAssetBuffer:t}})},Hn.createFromOptions=function(e,t){return tn(Hn,e,t)},Hn.HAND_CONNECTIONS=NP,Hn.POSE_CONNECTIONS=aV,Hn.FACE_LANDMARKS_LIPS=PP,Hn.FACE_LANDMARKS_LEFT_EYE=IP,Hn.FACE_LANDMARKS_LEFT_EYEBROW=FP,Hn.FACE_LANDMARKS_LEFT_IRIS=tV,Hn.FACE_LANDMARKS_RIGHT_EYE=OP,Hn.FACE_LANDMARKS_RIGHT_EYEBROW=LP,Hn.FACE_LANDMARKS_RIGHT_IRIS=nV,Hn.FACE_LANDMARKS_FACE_OVAL=UP,Hn.FACE_LANDMARKS_CONTOURS=rV,Hn.FACE_LANDMARKS_TESSELATION=iV;var Ko=class extends To{constructor(e,t){super(new rc(e,t),"input_image","norm_rect",!0),this.j={classifications:[]},mt(e=this.h=new UK,0,1,t=new pr)}get baseOptions(){return nn(this.h,pr,1)}set baseOptions(e){mt(this.h,0,1,e)}o(e){return mt(this.h,0,2,hk(e,nn(this.h,bP,2))),this.l(e)}sa(e,t){return this.j={classifications:[]},ic(this,e,t),this.j}ta(e,t,n){return this.j={classifications:[]},el(this,e,n,t),this.j}m(){var e=new Oo;rr(e,"input_image"),rr(e,"norm_rect"),cn(e,"classifications");const t=new Fo;Jc(t,cce,this.h);const n=new za;ko(n,2,"mediapipe.tasks.vision.image_classifier.ImageClassifierGraph"),Yn(n,"IMAGE:input_image"),Yn(n,"NORM_RECT:norm_rect"),qt(n,"CLASSIFICATIONS:classifications"),n.o(t),ms(e,n),this.g.attachProtoListener("classifications",(r,i)=>{this.j=hce(Yse(r)),Je(this,i)}),this.g.attachEmptyPacketListener("classifications",r=>{Je(this,r)}),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};Ko.prototype.classifyForVideo=Ko.prototype.ta,Ko.prototype.classify=Ko.prototype.sa,Ko.prototype.setOptions=Ko.prototype.o,Ko.createFromModelPath=function(e,t){return tn(Ko,e,{baseOptions:{modelAssetPath:t}})},Ko.createFromModelBuffer=function(e,t){return tn(Ko,e,{baseOptions:{modelAssetBuffer:t}})},Ko.createFromOptions=function(e,t){return tn(Ko,e,t)};var so=class extends To{constructor(e,t){super(new rc(e,t),"image_in","norm_rect",!0),this.h=new NK,this.embeddings={embeddings:[]},mt(e=this.h,0,1,t=new pr)}get baseOptions(){return nn(this.h,pr,1)}set baseOptions(e){mt(this.h,0,1,e)}o(e){var t=this.h,n=nn(this.h,oU,2);return n=n?n.clone():new oU,e.l2Normalize!==void 0?vn(n,1,tv(e.l2Normalize)):"l2Normalize"in e&&vn(n,1),e.quantize!==void 0?vn(n,2,tv(e.quantize)):"quantize"in e&&vn(n,2),mt(t,0,2,n),this.l(e)}za(e,t){return ic(this,e,t),this.embeddings}Aa(e,t,n){return el(this,e,n,t),this.embeddings}m(){var e=new Oo;rr(e,"image_in"),rr(e,"norm_rect"),cn(e,"embeddings_out");const t=new Fo;Jc(t,lce,this.h);const n=new za;ko(n,2,"mediapipe.tasks.vision.image_embedder.ImageEmbedderGraph"),Yn(n,"IMAGE:image_in"),Yn(n,"NORM_RECT:norm_rect"),qt(n,"EMBEDDINGS:embeddings_out"),n.o(t),ms(e,n),this.g.attachProtoListener("embeddings_out",(r,i)=>{r=Zse(r),this.embeddings=function(a){return{embeddings:nA(a,Jse,1).map(o=>{var l,A;const s={headIndex:rs(o,3)??0??-1,headName:$i(Gn(o,4))??""??""};var c=o.v;return F$(c,0|c[ot],aU,nS(o,1))!==void 0?(o=Hd(o=nn(o,aU,nS(o,1),void 0),1,Oc,jd()),s.floatEmbedding=o.slice()):(c=new Uint8Array(0),s.quantizedEmbedding=((A=(l=nn(o,Xse,nS(o,2),void 0))==null?void 0:l.na())==null?void 0:A.h())??c),s}),timestampMs:$K(U$(a))}}(r),Je(this,i)}),this.g.attachEmptyPacketListener("embeddings_out",r=>{Je(this,r)}),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};so.cosineSimilarity=function(e,t){if(e.floatEmbedding&&t.floatEmbedding)e=dU(e.floatEmbedding,t.floatEmbedding);else{if(!e.quantizedEmbedding||!t.quantizedEmbedding)throw Error("Cannot compute cosine similarity between quantized and float embeddings.");e=dU(uU(e.quantizedEmbedding),uU(t.quantizedEmbedding))}return e},so.prototype.embedForVideo=so.prototype.Aa,so.prototype.embed=so.prototype.za,so.prototype.setOptions=so.prototype.o,so.createFromModelPath=function(e,t){return tn(so,e,{baseOptions:{modelAssetPath:t}})},so.createFromModelBuffer=function(e,t){return tn(so,e,{baseOptions:{modelAssetBuffer:t}})},so.createFromOptions=function(e,t){return tn(so,e,t)};var vk=class{constructor(e,t,n){this.confidenceMasks=e,this.categoryMask=t,this.qualityScores=n}close(){var e,t;(e=this.confidenceMasks)==null||e.forEach(n=>{n.close()}),(t=this.categoryMask)==null||t.close()}};function wce(e){var n,r;const t=function(i){return nA(i,za,1)}(e.ca()).filter(i=>($i(Gn(i,1))??"").includes("mediapipe.tasks.TensorsToSegmentationCalculator"));if(e.u=[],t.length>1)throw Error("The graph has more than one mediapipe.tasks.TensorsToSegmentationCalculator.");t.length===1&&(((r=(n=nn(t[0],Fo,7))==null?void 0:n.j())==null?void 0:r.g())??new Map).forEach((i,a)=>{e.u[Number(a)]=$i(Gn(i,1))??""})}function TU(e){e.categoryMask=void 0,e.confidenceMasks=void 0,e.qualityScores=void 0}function _U(e){try{const t=new vk(e.confidenceMasks,e.categoryMask,e.qualityScores);if(!e.j)return t;e.j(t)}finally{vC(e)}}vk.prototype.close=vk.prototype.close;var Fa=class extends To{constructor(e,t){super(new rc(e,t),"image_in","norm_rect",!1),this.u=[],this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new kP,this.A=new MK,mt(this.h,0,3,this.A),mt(e=this.h,0,1,t=new pr)}get baseOptions(){return nn(this.h,pr,1)}set baseOptions(e){mt(this.h,0,1,e)}o(e){return e.displayNamesLocale!==void 0?vn(this.h,2,Vv(e.displayNamesLocale)):"displayNamesLocale"in e&&vn(this.h,2),"outputCategoryMask"in e&&(this.outputCategoryMask=e.outputCategoryMask??!1),"outputConfidenceMasks"in e&&(this.outputConfidenceMasks=e.outputConfidenceMasks??!0),super.l(e)}L(){wce(this)}segment(e,t,n){const r=typeof t!="function"?t:{};return this.j=typeof t=="function"?t:n,TU(this),ic(this,e,r),_U(this)}La(e,t,n,r){const i=typeof n!="function"?n:{};return this.j=typeof n=="function"?n:r,TU(this),el(this,e,i,t),_U(this)}Da(){return this.u}m(){var e=new Oo;rr(e,"image_in"),rr(e,"norm_rect");const t=new Fo;Jc(t,DK,this.h);const n=new za;ko(n,2,"mediapipe.tasks.vision.image_segmenter.ImageSegmenterGraph"),Yn(n,"IMAGE:image_in"),Yn(n,"NORM_RECT:norm_rect"),n.o(t),ms(e,n),mC(this,e),this.outputConfidenceMasks&&(cn(e,"confidence_masks"),qt(n,"CONFIDENCE_MASKS:confidence_masks"),Mp(this,"confidence_masks"),this.g.aa("confidence_masks",(r,i)=>{this.confidenceMasks=r.map(a=>Dp(this,a,!0,!this.j)),Je(this,i)}),this.g.attachEmptyPacketListener("confidence_masks",r=>{this.confidenceMasks=[],Je(this,r)})),this.outputCategoryMask&&(cn(e,"category_mask"),qt(n,"CATEGORY_MASK:category_mask"),Mp(this,"category_mask"),this.g.Z("category_mask",(r,i)=>{this.categoryMask=Dp(this,r,!1,!this.j),Je(this,i)}),this.g.attachEmptyPacketListener("category_mask",r=>{this.categoryMask=void 0,Je(this,r)})),cn(e,"quality_scores"),qt(n,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",(r,i)=>{this.qualityScores=r,Je(this,i)}),this.g.attachEmptyPacketListener("quality_scores",r=>{this.categoryMask=void 0,Je(this,r)}),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};Fa.prototype.getLabels=Fa.prototype.Da,Fa.prototype.segmentForVideo=Fa.prototype.La,Fa.prototype.segment=Fa.prototype.segment,Fa.prototype.setOptions=Fa.prototype.o,Fa.createFromModelPath=function(e,t){return tn(Fa,e,{baseOptions:{modelAssetPath:t}})},Fa.createFromModelBuffer=function(e,t){return tn(Fa,e,{baseOptions:{modelAssetBuffer:t}})},Fa.createFromOptions=function(e,t){return tn(Fa,e,t)};var yk=class{constructor(e,t,n){this.confidenceMasks=e,this.categoryMask=t,this.qualityScores=n}close(){var e,t;(e=this.confidenceMasks)==null||e.forEach(n=>{n.close()}),(t=this.categoryMask)==null||t.close()}};yk.prototype.close=yk.prototype.close;var wc=class extends To{constructor(e,t){super(new rc(e,t),"image_in","norm_rect_in",!1),this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new kP,this.u=new MK,mt(this.h,0,3,this.u),mt(e=this.h,0,1,t=new pr)}get baseOptions(){return nn(this.h,pr,1)}set baseOptions(e){mt(this.h,0,1,e)}o(e){return"outputCategoryMask"in e&&(this.outputCategoryMask=e.outputCategoryMask??!1),"outputConfidenceMasks"in e&&(this.outputConfidenceMasks=e.outputConfidenceMasks??!0),super.l(e)}segment(e,t,n,r){const i=typeof n!="function"?n:{};if(this.j=typeof n=="function"?n:r,this.qualityScores=this.categoryMask=this.confidenceMasks=void 0,n=this.C+1,r=new QK,t.keypoint&&t.scribble)throw Error("Cannot provide both keypoint and scribble.");if(t.keypoint){var a=new oS;tu(a,3,tv(!0),!1),tu(a,1,Gm(t.keypoint.x),0),tu(a,2,Gm(t.keypoint.y),0),g0(r,1,fk,a)}else{if(!t.scribble)throw Error("Must provide either a keypoint or a scribble.");{const s=new uce;for(a of t.scribble)tu(t=new oS,3,tv(!0),!1),tu(t,1,Gm(a.x),0),tu(t,2,Gm(a.y),0),oP(s,1,oS,t);g0(r,2,fk,s)}}this.g.addProtoToStream(r.g(),"mediapipe.tasks.vision.interactive_segmenter.proto.RegionOfInterest","roi_in",n),ic(this,e,i);e:{try{const s=new yk(this.confidenceMasks,this.categoryMask,this.qualityScores);if(!this.j){var o=s;break e}this.j(s)}finally{vC(this)}o=void 0}return o}m(){var e=new Oo;rr(e,"image_in"),rr(e,"roi_in"),rr(e,"norm_rect_in");const t=new Fo;Jc(t,DK,this.h);const n=new za;ko(n,2,"mediapipe.tasks.vision.interactive_segmenter.InteractiveSegmenterGraphV2"),Yn(n,"IMAGE:image_in"),Yn(n,"ROI:roi_in"),Yn(n,"NORM_RECT:norm_rect_in"),n.o(t),ms(e,n),mC(this,e),this.outputConfidenceMasks&&(cn(e,"confidence_masks"),qt(n,"CONFIDENCE_MASKS:confidence_masks"),Mp(this,"confidence_masks"),this.g.aa("confidence_masks",(r,i)=>{this.confidenceMasks=r.map(a=>Dp(this,a,!0,!this.j)),Je(this,i)}),this.g.attachEmptyPacketListener("confidence_masks",r=>{this.confidenceMasks=[],Je(this,r)})),this.outputCategoryMask&&(cn(e,"category_mask"),qt(n,"CATEGORY_MASK:category_mask"),Mp(this,"category_mask"),this.g.Z("category_mask",(r,i)=>{this.categoryMask=Dp(this,r,!1,!this.j),Je(this,i)}),this.g.attachEmptyPacketListener("category_mask",r=>{this.categoryMask=void 0,Je(this,r)})),cn(e,"quality_scores"),qt(n,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",(r,i)=>{this.qualityScores=r,Je(this,i)}),this.g.attachEmptyPacketListener("quality_scores",r=>{this.categoryMask=void 0,Je(this,r)}),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};wc.prototype.segment=wc.prototype.segment,wc.prototype.setOptions=wc.prototype.o,wc.createFromModelPath=function(e,t){return tn(wc,e,{baseOptions:{modelAssetPath:t}})},wc.createFromModelBuffer=function(e,t){return tn(wc,e,{baseOptions:{modelAssetBuffer:t}})},wc.createFromOptions=function(e,t){return tn(wc,e,t)};var Vo=class extends To{constructor(e,t){super(new rc(e,t),"input_frame_gpu","norm_rect",!1),this.j={detections:[]},mt(e=this.h=new jK,0,1,t=new pr)}get baseOptions(){return nn(this.h,pr,1)}set baseOptions(e){mt(this.h,0,1,e)}o(e){return e.displayNamesLocale!==void 0?vn(this.h,2,Vv(e.displayNamesLocale)):"displayNamesLocale"in e&&vn(this.h,2),e.maxResults!==void 0?rA(this.h,3,e.maxResults):"maxResults"in e&&vn(this.h,3),e.scoreThreshold!==void 0?ut(this.h,4,e.scoreThreshold):"scoreThreshold"in e&&vn(this.h,4),e.categoryAllowlist!==void 0?qb(this.h,5,e.categoryAllowlist):"categoryAllowlist"in e&&vn(this.h,5),e.categoryDenylist!==void 0?qb(this.h,6,e.categoryDenylist):"categoryDenylist"in e&&vn(this.h,6),this.l(e)}F(e,t){return this.j={detections:[]},ic(this,e,t),this.j}G(e,t,n){return this.j={detections:[]},el(this,e,n,t),this.j}m(){var e=new Oo;rr(e,"input_frame_gpu"),rr(e,"norm_rect"),cn(e,"detections");const t=new Fo;Jc(t,dce,this.h);const n=new za;ko(n,2,"mediapipe.tasks.vision.ObjectDetectorGraph"),Yn(n,"IMAGE:input_frame_gpu"),Yn(n,"NORM_RECT:norm_rect"),qt(n,"DETECTIONS:detections"),n.o(t),ms(e,n),this.g.attachProtoVectorListener("detections",(r,i)=>{for(const a of r)r=vK(a),this.j.detections.push(KK(r));Je(this,i)}),this.g.attachEmptyPacketListener("detections",r=>{Je(this,r)}),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};Vo.prototype.detectForVideo=Vo.prototype.G,Vo.prototype.detect=Vo.prototype.F,Vo.prototype.setOptions=Vo.prototype.o,Vo.createFromModelPath=async function(e,t){return tn(Vo,e,{baseOptions:{modelAssetPath:t}})},Vo.createFromModelBuffer=function(e,t){return tn(Vo,e,{baseOptions:{modelAssetBuffer:t}})},Vo.createFromOptions=function(e,t){return tn(Vo,e,t)};var bk=class{constructor(e,t,n){this.landmarks=e,this.worldLandmarks=t,this.segmentationMasks=n}close(){var e;(e=this.segmentationMasks)==null||e.forEach(t=>{t.close()})}};function PU(e){e.landmarks=[],e.worldLandmarks=[],e.segmentationMasks=void 0}function IU(e){try{const t=new bk(e.landmarks,e.worldLandmarks,e.segmentationMasks);if(!e.u)return t;e.u(t)}finally{vC(e)}}bk.prototype.close=bk.prototype.close;var co=class extends To{constructor(e,t){super(new rc(e,t),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.outputSegmentationMasks=!1,mt(e=this.h=new HK,0,1,t=new pr),this.A=new OK,mt(this.h,0,3,this.A),this.j=new FK,mt(this.h,0,2,this.j),rA(this.j,4,1),ut(this.j,2,.5),ut(this.A,2,.5),ut(this.h,4,.5)}get baseOptions(){return nn(this.h,pr,1)}set baseOptions(e){mt(this.h,0,1,e)}o(e){return"numPoses"in e&&rA(this.j,4,e.numPoses??1),"minPoseDetectionConfidence"in e&&ut(this.j,2,e.minPoseDetectionConfidence??.5),"minTrackingConfidence"in e&&ut(this.h,4,e.minTrackingConfidence??.5),"minPosePresenceConfidence"in e&&ut(this.A,2,e.minPosePresenceConfidence??.5),"outputSegmentationMasks"in e&&(this.outputSegmentationMasks=e.outputSegmentationMasks??!1),this.l(e)}F(e,t,n){const r=typeof t!="function"?t:{};return this.u=typeof t=="function"?t:n,PU(this),ic(this,e,r),IU(this)}G(e,t,n,r){const i=typeof n!="function"?n:{};return this.u=typeof n=="function"?n:r,PU(this),el(this,e,i,t),IU(this)}m(){var e=new Oo;rr(e,"image_in"),rr(e,"norm_rect"),cn(e,"normalized_landmarks"),cn(e,"world_landmarks"),cn(e,"segmentation_masks");const t=new Fo;Jc(t,fce,this.h);const n=new za;ko(n,2,"mediapipe.tasks.vision.pose_landmarker.PoseLandmarkerGraph"),Yn(n,"IMAGE:image_in"),Yn(n,"NORM_RECT:norm_rect"),qt(n,"NORM_LANDMARKS:normalized_landmarks"),qt(n,"WORLD_LANDMARKS:world_landmarks"),n.o(t),ms(e,n),mC(this,e),this.g.attachProtoVectorListener("normalized_landmarks",(r,i)=>{this.landmarks=[];for(const a of r)r=Gv(a),this.landmarks.push(gC(r));Je(this,i)}),this.g.attachEmptyPacketListener("normalized_landmarks",r=>{this.landmarks=[],Je(this,r)}),this.g.attachProtoVectorListener("world_landmarks",(r,i)=>{this.worldLandmarks=[];for(const a of r)r=ap(a),this.worldLandmarks.push(v0(r));Je(this,i)}),this.g.attachEmptyPacketListener("world_landmarks",r=>{this.worldLandmarks=[],Je(this,r)}),this.outputSegmentationMasks&&(qt(n,"SEGMENTATION_MASK:segmentation_masks"),Mp(this,"segmentation_masks"),this.g.aa("segmentation_masks",(r,i)=>{this.segmentationMasks=r.map(a=>Dp(this,a,!0,!this.u)),Je(this,i)}),this.g.attachEmptyPacketListener("segmentation_masks",r=>{this.segmentationMasks=[],Je(this,r)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};co.prototype.detectForVideo=co.prototype.G,co.prototype.detect=co.prototype.F,co.prototype.setOptions=co.prototype.o,co.createFromModelPath=function(e,t){return tn(co,e,{baseOptions:{modelAssetPath:t}})},co.createFromModelBuffer=function(e,t){return tn(co,e,{baseOptions:{modelAssetBuffer:t}})},co.createFromOptions=function(e,t){return tn(co,e,t)},co.POSE_CONNECTIONS=aV;const Cce="https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision/wasm",Bce="https://storage.googleapis.com/mediapipe-models/face_landmarker/face_landmarker/float16/1/face_landmarker.task";function FU(e){var i;const t={anger:0,disgust:0,fear:0,happiness:0,sadness:0,surprise:0,neutral:0};if(!(e!=null&&e.length)||!((i=e[0])!=null&&i.categories))return t;const n=e[0].categories;for(const a of n){const o=(a.categoryName||"").toLowerCase(),s=Math.max(0,Math.min(1,a.score??0))*100;o.includes("mouth")&&o.includes("smile")?t.happiness+=s:o.includes("mouth")&&o.includes("frown")?t.sadness+=s:o.includes("brow")&&o.includes("down")?t.anger+=s*.8:o.includes("eye")&&o.includes("wide")?t.surprise+=s*.8:o.includes("nose")&&o.includes("sneer")?t.disgust+=s:o.includes("mouth")&&o.includes("pucker")?t.neutral+=s*.5:o.includes("eye")&&o.includes("blink")&&(t.neutral+=s*.3)}const r=Object.values(t).reduce((a,o)=>a+o,0);if(r>0)for(const a of Object.keys(t))t[a]=Math.round(t[a]/r*100);else t.neutral=100;return t}function Sce(e){let t=0,n="neutral";for(const[r,i]of Object.entries(e))i>t&&(t=i,n=r);return n}function OU(e){const t={...e},n=Object.values(t).reduce((o,s)=>o+s,0)||1;for(const o of Object.keys(t))t[o]=t[o]/n;const r=(t.happiness??0)*3.5+(t.surprise??0)*3+(t.anger??0)*2+(t.fear??0)*1.5-(t.neutral??0)*.5-(t.sadness??0)*1-(t.disgust??0)*1.5,i=60,a=(100-i)/3.5;return Math.max(20,Math.min(100,Math.round(i+r*a)))}function xce(e){const t={...e},n=Object.values(t).reduce((c,l)=>c+l,0)||1;for(const c of Object.keys(t))t[c]=t[c]/n;let r=(t.neutral??0)*3+(t.sadness??0)*.5-(t.happiness??0)*.8-(t.anger??0)*1.5-(t.fear??0)*2-(t.surprise??0)*2.5;const i=Object.values(t).filter(c=>c>.1).length,a=i<=1?1:1/i,o=50,s=(100-o)/3;return r=o+r*s*a,Math.max(0,Math.min(100,Math.round(r)))}function kce(e){const t={...e},n=Object.values(t).reduce((c,l)=>c+l,0)||1;for(const c of Object.keys(t))t[c]=t[c]/n;let r=(t.fear??0)*2.5+(t.surprise??0)*2+(t.disgust??0)*1.5+(t.anger??0)*1+(t.sadness??0)*.5-(t.neutral??0)*1.5-(t.happiness??0)*2;const i=Object.values(t).filter(c=>c>.15).length,a=Math.min(1.5,.5+i*.25),o=30,s=(100-o)/3;return r=o+r*s*a,Math.max(0,Math.min(100,Math.round(r)))}const LU=[362,382,381,380,374,373,390,249,263,466,388,387,386,385,384,398],UU=[33,7,163,144,145,153,154,155,133,173,157,158,159,160,161,246],Ece=[474,475,476,477],Tce=[469,470,471,472],_ce=15,Pce=.4,gm=[];function oV(e,t){const n=e[t];return n?{x:n.x??0,y:n.y??0}:null}function xy(e,t){let n=0,r=0,i=0;for(const a of t){const o=oV(e,a);o&&(n+=o.x,r+=o.y,i++)}return i===0?null:{x:n/i,y:r/i}}function NU(e,t){let n=1,r=1,i=0,a=0;for(const c of t){const l=oV(e,c);l&&(n=Math.min(n,l.x),i=Math.max(i,l.x),r=Math.min(r,l.y),a=Math.max(a,l.y))}const o=i-n,s=a-r;return Math.max(.001,o+s)}function Ice(e){if(!e||e.length<478)return null;const t=xy(e,LU),n=xy(e,UU),r=xy(e,Ece),i=xy(e,Tce);if(!t||!n||!r||!i)return null;const a={x:r.x-t.x,y:r.y-t.y},o={x:i.x-n.x,y:i.y-n.y},s=NU(e,LU),c=NU(e,UU),l={x:a.x/s,y:a.y/s},A={x:o.x/c,y:o.y/c},u=(l.x+A.x)/2,d=(l.y+A.y)/2;return Math.hypot(u,d)}function Fce(e){return e==null||!Number.isFinite(e)?null:(gm.push(e),gm.length>_ce&&gm.shift(),gm.reduce((n,r)=>n+r,0)/gm.length)}function Oce(e){if(e==null||!Number.isFinite(e))return{focus:50,distraction:50};const t=Math.min(1,e/Pce);let n;t<.3?n=10*(t/.3):t<=.7?n=10+60*(t-.3)/.4:n=70+30*(t-.7)/.3,n=Math.max(0,Math.min(100,n));const r=Math.max(0,Math.min(100,100-n));return{focus:Math.round(r),distraction:Math.round(n)}}function MU(e){if(!(e!=null&&e.length))return{focus:50,distraction:50};const t=e[0];if(!(t!=null&&t.length))return{focus:50,distraction:50};const n=Ice(t);if(n!=null){const c=Fce(n);return Oce(c)}const r=t[1]||t[0],i=(r.x??.5)-.5,a=(r.y??.5)-.5,o=Math.min(1,Math.hypot(i,a)*2),s=Math.round(100-o*100);return{focus:s,distraction:Math.max(0,100-s)}}function Lce(e,t){var u,d,f,h;if(!((u=e==null?void 0:e.faceLandmarks)!=null&&u.length))return[{timestamp:t,face_id:-1,dominant_emotion:"none",engagement:0,concentration:0,confusion:0,focus:0,distraction:0,anger:0,disgust:0,fear:0,happiness:0,sadness:0,surprise:0,neutral:100}];const n=(d=e.faceBlendshapes)!=null&&d.length?FU(e.faceBlendshapes):{anger:0,disgust:0,fear:0,happiness:0,sadness:0,surprise:0,neutral:100},r=OU(n),i=xce(n),a=kce(n),{focus:o,distraction:s}=MU(e.faceLandmarks),c=Math.round(.6*r+.4*o),l=p=>Math.max(0,Math.min(100,Math.round(p))),A=[];for(let p=0;p<e.faceLandmarks.length;p++){const v=e.faceLandmarks[p];if(!(v!=null&&v.length))continue;const{focus:m,distraction:w}=MU([v]),B=((h=(f=e.faceBlendshapes)==null?void 0:f[p])==null?void 0:h.categories)!=null?FU([e.faceBlendshapes[p]]):n;A.push({timestamp:t,face_id:p,dominant_emotion:Sce(B),engagement:e.faceLandmarks.length===1?c:OU(B),concentration:i,confusion:a,focus:m,distraction:w,anger:l(B.anger??0),disgust:l(B.disgust??0),fear:l(B.fear??0),happiness:l(B.happiness??0),sadness:l(B.sadness??0),surprise:l(B.surprise??0),neutral:l(B.neutral??0)})}return A.length===0&&A.push({timestamp:t,face_id:-1,dominant_emotion:"none",engagement:0,concentration:0,confusion:0,focus:0,distraction:0,anger:0,disgust:0,fear:0,happiness:0,sadness:0,surprise:0,neutral:100}),A}let ky=null;async function Uce(){if(ky)return ky;const e=await _d.forVisionTasks(Cce);return ky=await Jn.createFromOptions(e,{baseOptions:{modelAssetPath:Bce},runningMode:"VIDEO",numFaces:1,outputFaceBlendshapes:!0,minFaceDetectionConfidence:.4,minFacePresenceConfidence:.4,minTrackingConfidence:.4}),ky}async function Nce(e,t){const n=await Uce();return!e||e.readyState<2?null:n.detectForVideo(e,t)}const Mce=100;function Rce({enabled:e,localStreamRef:t,socketRef:n}){const r=y.useRef(null),i=y.useRef(null),a=y.useRef(0),o=y.useRef(0),s=y.useRef(0),c=y.useRef(!1),l=y.useRef(!1),A=y.useCallback(()=>{c.current=!1,l.current=!1,i.current&&(cancelAnimationFrame(i.current),i.current=null),r.current&&(r.current.srcObject=null,r.current=null)},[]);return y.useEffect(()=>{if(!e){A();return}let u=null;function d(){const f=t==null?void 0:t.current,h=n==null?void 0:n.current;if(!f||!h)return!1;const p=document.createElement("video");p.autoplay=!0,p.playsInline=!0,p.muted=!0,p.srcObject=f,r.current=p,c.current=!0,o.current=performance.now(),s.current=0,p.play().catch(()=>{});function v(){if(!c.current)return;const m=r.current,w=n==null?void 0:n.current;if(!m||m.readyState<2||!w){i.current=requestAnimationFrame(v);return}if(l.current){i.current=requestAnimationFrame(v);return}const B=performance.now(),C=B-o.current;o.current=B,s.current+=C,l.current=!0,Nce(m,s.current).then(S=>{if(!S||!c.current)return;const k=new Date().toISOString().slice(0,19)+"Z",_=Lce(S,k),F=Date.now();F-a.current>=Mce&&(a.current=F,w.emit("intel-metrics",{emotion_data:_}))}).catch(()=>{}).finally(()=>{l.current=!1,c.current&&(i.current=requestAnimationFrame(v))})}return i.current=requestAnimationFrame(v),!0}return d()||(u=setInterval(()=>{d()&&clearInterval(u)},300)),()=>{u&&clearInterval(u),A()}},[e,t,n,A]),{stop:A}}function Dce(e,t){const[n,r]=y.useState([]),i=y.useRef(null);return y.useEffect(()=>{if(!t){r([]);return}let a=null;function o(l){if(i.current)return;const A=u=>{u!=null&&u.participants&&r(d=>u.participants)};l.on("intel-dashboard",A),i.current={socket:l,onDashboard:A}}function s(){i.current&&(i.current.socket.off("intel-dashboard",i.current.onDashboard),i.current=null)}function c(){const l=e==null?void 0:e.current;l&&(o(l),a&&(clearInterval(a),a=null))}return c(),i.current||(a=setInterval(c,200)),()=>{a&&clearInterval(a),s()}},[t,e]),n}const cS={"thumbs-up":"",clap:""};function Ah({stream:e,name:t,isLocal:n,peerId:r,handRaised:i,isSpotlight:a,isPinned:o,onPin:s,isHost:c}){const l=y.useRef(null);y.useEffect(()=>{!l.current||!e||(l.current.srcObject=e)},[e]);const A=i instanceof Map&&r&&i.get(r),u=!n&&s,d=o||c&&a;return L.jsxs("div",{className:`tile ${n?"tile-local":""} ${a?"tile-spotlight":""} ${d?"tile-pinned":""}`,children:[L.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,muted:n}),L.jsx("span",{className:"tile-name",children:t||"Unknown"}),A&&L.jsx("span",{className:"tile-hand",title:"Hand raised",children:""}),u&&L.jsx("button",{type:"button",className:"tile-pin",onClick:()=>s(d?null:r),title:d?"Unpin":c?"Spotlight":"Pin",children:d?"":""})]})}function Qce({localStream:e,remoteStreams:t,participants:n,localName:r,layout:i="grid",spotlightId:a,pinnedId:o,onPin:s,handRaised:c,reactions:l,reactionTick:A,isHost:u}){const d=a||o,f=[...t.entries()],h=Date.now(),p=(l||[]).filter(k=>h-k.ts<4e3),v=k=>k?t.get(k):e,m=k=>{var _;return k?(_=n.find(F=>F.id===k))==null?void 0:_.userName:r},w=d?v(d):e,B=d?m(d):r,C=!d,S=[];if(d?(C||S.push({peerId:null,stream:e,isLocal:!0}),f.forEach(([k,_])=>{k!==d&&S.push({peerId:k,stream:_,isLocal:!1})})):f.forEach(([k,_])=>S.push({peerId:k,stream:_,isLocal:!1})),i==="grid"){const k=[L.jsx(Ah,{stream:e,name:r,isLocal:!0,peerId:null,handRaised:c,isHost:u},"local"),...f.map(([_,F])=>L.jsx(Ah,{stream:F,name:m(_),isLocal:!1,peerId:_,handRaised:c,isSpotlight:_===a,isPinned:_===o,onPin:s,isHost:u},_))];return L.jsxs("div",{className:"grid-wrap",children:[L.jsx("div",{className:"grid grid-layout-grid",children:k}),p.length>0&&L.jsx("div",{className:"grid-reactions",children:p.map((_,F)=>L.jsxs("span",{className:"grid-reaction",children:[cS[_.type]||_.type," ",_.userName]},`${_.fromId}-${_.ts}-${F}`))}),L.jsx("style",{children:`
          .grid-wrap { position: relative; flex: 1; display: flex; flex-direction: column; min-height: 0; }
          .grid { flex: 1; display: grid; gap: 12px; padding: 16px; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); align-content: center; justify-items: center; }
          .tile { position: relative; width: 100%; max-width: 400px; aspect-ratio: 16/10; background: var(--surface); border-radius: 12px; overflow: hidden; border: 1px solid var(--border); }
          .tile-spotlight { border-color: var(--accent); box-shadow: 0 0 0 2px var(--accent); }
          .tile video { width: 100%; height: 100%; object-fit: cover; }
          .tile-name { position: absolute; bottom: 8px; left: 10px; padding: 4px 8px; background: rgba(0,0,0,0.6); border-radius: 6px; font-size: 12px; }
          .tile-hand { position: absolute; top: 8px; right: 10px; font-size: 20px; }
          .tile-pin { position: absolute; top: 8px; left: 10px; background: rgba(0,0,0,0.5); border: none; border-radius: 6px; padding: 4px; font-size: 14px; cursor: pointer; }
          .tile-local video { transform: scaleX(-1); }
          .grid-reactions { position: absolute; bottom: 80px; left: 50%; transform: translateX(-50%); display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; pointer-events: none; }
          .grid-reaction { padding: 8px 14px; background: rgba(0,0,0,0.7); border-radius: 20px; font-size: 14px; animation: reaction-in 0.2s ease; }
          @keyframes reaction-in { from { opacity: 0; transform: scale(0.8); } to { opacity: 1; transform: scale(1); } }
        `})]})}return i==="speaker"?L.jsxs("div",{className:"grid-wrap layout-speaker",children:[L.jsx("div",{className:"speaker-main",children:L.jsx(Ah,{stream:w,name:B,isLocal:C,peerId:d||null,handRaised:c,isSpotlight:!!d&&d===a,isPinned:!!d&&d===o,onPin:s,isHost:u})}),L.jsx("div",{className:"speaker-rest",children:S.map(({peerId:k,stream:_,isLocal:F})=>L.jsx(Ah,{stream:_,name:m(k),isLocal:F,peerId:k,handRaised:c,onPin:s,isHost:u},k||"local"))}),p.length>0&&L.jsx("div",{className:"grid-reactions",children:p.map((k,_)=>L.jsxs("span",{className:"grid-reaction",children:[cS[k.type]||k.type," ",k.userName]},`${k.fromId}-${k.ts}-${_}`))}),L.jsx("style",{children:`
          .grid-wrap { position: relative; flex: 1; display: flex; flex-direction: column; min-height: 0; }
          .tile { position: relative; width: 100%; max-width: 400px; aspect-ratio: 16/10; background: var(--surface); border-radius: 12px; overflow: hidden; border: 1px solid var(--border); }
          .tile-spotlight { border-color: var(--accent); box-shadow: 0 0 0 2px var(--accent); }
          .tile video { width: 100%; height: 100%; object-fit: cover; }
          .tile-name { position: absolute; bottom: 8px; left: 10px; padding: 4px 8px; background: rgba(0,0,0,0.6); border-radius: 6px; font-size: 12px; }
          .tile-hand { position: absolute; top: 8px; right: 10px; font-size: 20px; }
          .tile-pin { position: absolute; top: 8px; left: 10px; background: rgba(0,0,0,0.5); border: none; border-radius: 6px; padding: 4px; font-size: 14px; cursor: pointer; }
          .tile-local video { transform: scaleX(-1); }
          .grid-reactions { position: absolute; bottom: 80px; left: 50%; transform: translateX(-50%); display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; pointer-events: none; }
          .grid-reaction { padding: 8px 14px; background: rgba(0,0,0,0.7); border-radius: 20px; font-size: 14px; }
          .layout-speaker { display: flex; flex-direction: column; }
          .speaker-main { flex: 1; display: flex; align-items: center; justify-content: center; padding: 16px; min-height: 0; }
          .speaker-main .tile { max-width: 100%; width: 100%; max-width: 900px; aspect-ratio: 16/10; }
          .speaker-rest { display: flex; gap: 8px; padding: 12px 16px; overflow-x: auto; justify-content: center; flex-shrink: 0; }
          .speaker-rest .tile { width: 160px; min-width: 160px; aspect-ratio: 16/10; max-width: none; }
        `})]}):i==="sidebar"?L.jsxs("div",{className:"grid-wrap layout-sidebar",children:[L.jsx("div",{className:"sidebar-main",children:L.jsx(Ah,{stream:w,name:B,isLocal:C,peerId:d||null,handRaised:c,isSpotlight:!!d&&d===a,isPinned:!!d&&d===o,onPin:s,isHost:u})}),L.jsx("aside",{className:"sidebar-rest",children:S.map(({peerId:k,stream:_,isLocal:F})=>L.jsx(Ah,{stream:_,name:m(k),isLocal:F,peerId:k,handRaised:c,onPin:s,isHost:u},k||"local"))}),p.length>0&&L.jsx("div",{className:"grid-reactions",children:p.map((k,_)=>L.jsxs("span",{className:"grid-reaction",children:[cS[k.type]||k.type," ",k.userName]},`${k.fromId}-${k.ts}-${_}`))}),L.jsx("style",{children:`
          .grid-wrap { position: relative; flex: 1; display: flex; flex-direction: column; min-height: 0; }
          .tile { position: relative; width: 100%; max-width: 400px; aspect-ratio: 16/10; background: var(--surface); border-radius: 12px; overflow: hidden; border: 1px solid var(--border); }
          .tile-spotlight { border-color: var(--accent); box-shadow: 0 0 0 2px var(--accent); }
          .tile video { width: 100%; height: 100%; object-fit: cover; }
          .tile-name { position: absolute; bottom: 8px; left: 10px; padding: 4px 8px; background: rgba(0,0,0,0.6); border-radius: 6px; font-size: 12px; }
          .tile-hand { position: absolute; top: 8px; right: 10px; font-size: 20px; }
          .tile-pin { position: absolute; top: 8px; left: 10px; background: rgba(0,0,0,0.5); border: none; border-radius: 6px; padding: 4px; font-size: 14px; cursor: pointer; }
          .tile-local video { transform: scaleX(-1); }
          .grid-reactions { position: absolute; bottom: 80px; left: 50%; transform: translateX(-50%); display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; pointer-events: none; }
          .grid-reaction { padding: 8px 14px; background: rgba(0,0,0,0.7); border-radius: 20px; font-size: 14px; }
          .layout-sidebar { display: flex; flex-direction: row; }
          .sidebar-main { flex: 1; display: flex; align-items: center; justify-content: center; padding: 16px; min-width: 0; }
          .sidebar-main .tile { max-width: 100%; width: 100%; max-width: 800px; aspect-ratio: 16/10; }
          .sidebar-rest { width: 200px; flex-shrink: 0; display: flex; flex-direction: column; gap: 8px; padding: 12px; overflow-y: auto; border-left: 1px solid var(--border); background: var(--surface); }
          .sidebar-rest .tile { width: 100%; aspect-ratio: 16/10; max-width: none; }
        `})]}):null}const jce=[{id:"grid",label:"Grid",title:"Grid view"},{id:"speaker",label:"Speaker",title:"Speaker focus"},{id:"sidebar",label:"Sidebar",title:"Speaker + grid sidebar"}];function Hce({localStream:e,replaceVideoTrack:t,onLeave:n,onChatToggle:r,onParticipantsToggle:i,chatOpen:a,participantsOpen:o,isHost:s,onMuteAll:c,onEndMeeting:l,audioMutedByHost:A,clearAudioMutedByHost:u,handRaised:d,myId:f,setRaiseHand:h,sendReaction:p,layout:v,onLayoutChange:m}){const[w,B]=y.useState(!1),[C,S]=y.useState(!1),[k,_]=y.useState(!1),F=y.useRef(null),P=w||A,U=f&&d instanceof Map&&d.get(f),T=y.useCallback(()=>{if(!e)return;const Z=e.getAudioTracks()[0];Z&&(Z.enabled=!Z.enabled,B(!Z.enabled),Z.enabled&&(u==null||u()))},[e,u]),O=y.useCallback(()=>{if(!e)return;const Z=e.getVideoTracks()[0];Z&&(Z.enabled=!Z.enabled,S(!Z.enabled))},[e]),H=y.useCallback(async()=>{if(!(!e||!t))try{if(k&&F.current){F.current.getTracks().forEach(W=>W.stop());const ie=e.getVideoTracks()[0];ie&&(ie.enabled=!0,t(ie)),_(!1);return}const Z=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!1});F.current=Z;const ae=Z.getVideoTracks()[0];t(ae),ae.onended=()=>{const ie=e.getVideoTracks()[0];ie&&(ie.enabled=!0,t(ie)),_(!1)},e.getVideoTracks()[0].enabled=!1,_(!0)}catch(Z){console.error("Screen share failed",Z)}},[e,k,t]),$=y.useCallback(()=>{h==null||h(!U)},[U,h]);return L.jsxs("div",{className:"controls",children:[L.jsx("button",{type:"button",className:`control-btn ${P?"active":""}`,onClick:T,title:P?"Unmute":"Mute",children:P?L.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[L.jsx("path",{d:"M12 6l4 4m0 4l-4 4M5 5l14 14"}),L.jsx("path",{d:"M2 12h4M10 12h2M18 12h2"})]}):L.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[L.jsx("path",{d:"M12 2a3 3 0 0 1 3 3v10a3 3 0 0 1-6 0V5a3 3 0 0 1 3-3z"}),L.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2M12 19v3M9 22h6"})]})}),L.jsx("button",{type:"button",className:`control-btn ${C?"active":""}`,onClick:O,title:C?"Turn on camera":"Turn off camera",children:C?L.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:L.jsx("path",{d:"M16 16v4M8 8v4M2 2l20 20M6 4h4l2 2h4a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-4l-2 2H8"})}):L.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[L.jsx("path",{d:"M23 7l-7 5 7 5V7z"}),L.jsx("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})]})}),L.jsx("button",{type:"button",className:`control-btn ${k?"active":""}`,onClick:H,title:k?"Stop sharing":"Share screen",children:L.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[L.jsx("rect",{x:"2",y:"4",width:"20",height:"14",rx:"2"}),L.jsx("path",{d:"M8 20h8M12 20v-4"})]})}),L.jsx("button",{type:"button",className:`control-btn ${U?"active":""}`,onClick:$,title:"Raise hand",children:L.jsx("span",{"aria-hidden":!0,children:""})}),L.jsxs("div",{className:"control-reactions",children:[L.jsx("button",{type:"button",className:"control-btn control-reaction",onClick:()=>p==null?void 0:p("thumbs-up"),title:"Thumbs up",children:L.jsx("span",{"aria-hidden":!0,children:""})}),L.jsx("button",{type:"button",className:"control-btn control-reaction",onClick:()=>p==null?void 0:p("clap"),title:"Clap",children:L.jsx("span",{"aria-hidden":!0,children:""})})]}),L.jsx("div",{className:"control-layout",children:jce.map(Z=>L.jsx("button",{type:"button",className:`control-btn control-layout-btn ${v===Z.id?"active":""}`,onClick:()=>m==null?void 0:m(Z.id),title:Z.title,children:Z.label},Z.id))}),L.jsx("button",{type:"button",className:`control-btn ${a?"active":""}`,onClick:r,title:"Chat",children:L.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:L.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}),L.jsx("button",{type:"button",className:`control-btn ${o?"active":""}`,onClick:i,title:"Participants",children:L.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[L.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),L.jsx("circle",{cx:"9",cy:"7",r:"4"}),L.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"})]})}),s&&L.jsxs(L.Fragment,{children:[L.jsx("button",{type:"button",className:"control-btn control-host",onClick:c,title:"Mute all",children:"Mute all"}),L.jsx("button",{type:"button",className:"control-btn control-host control-end",onClick:l,title:"End meeting for all",children:"End meeting"})]}),L.jsxs("button",{type:"button",className:"control-btn control-leave",onClick:n,title:"Leave",children:[L.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[L.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),L.jsx("polyline",{points:"16 17 21 12 16 7"}),L.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Leave"]}),L.jsx("style",{children:`
        .controls {
          padding: 12px 24px;
          background: var(--surface);
          border-top: 1px solid var(--border);
          display: flex;
          gap: 8px;
          justify-content: center;
          align-items: center;
          flex-wrap: wrap;
        }
        .control-btn {
          width: 48px;
          height: 48px;
          border-radius: 50%;
          background: var(--surface-hover);
          color: var(--text);
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 14px;
        }
        .control-btn:hover {
          background: var(--border);
        }
        .control-btn.active {
          background: var(--accent);
          color: white;
        }
        .control-reactions { display: flex; gap: 4px; }
        .control-reaction { width: 40px; height: 40px; font-size: 18px; }
        .control-layout { display: flex; gap: 4px; }
        .control-layout-btn {
          width: auto;
          padding: 0 12px;
          border-radius: 24px;
          font-size: 12px;
        }
        .control-host {
          width: auto;
          padding: 0 14px;
          border-radius: 24px;
          font-size: 13px;
          background: var(--surface-hover);
        }
        .control-end { background: rgba(229, 77, 77, 0.2); color: var(--danger); }
        .control-end:hover { background: rgba(229, 77, 77, 0.35); }
        .control-leave {
          width: auto;
          padding: 0 20px;
          border-radius: 24px;
          background: var(--danger);
          color: white;
        }
        .control-leave:hover {
          background: var(--danger-hover);
        }
      `})]})}function $ce({messages:e,onSend:t,onClose:n}){const[r,i]=y.useState(""),a=y.useRef(null);y.useEffect(()=>{var s;(s=a.current)==null||s.scrollTo(0,a.current.scrollHeight)},[e]);const o=s=>{s.preventDefault();const c=r.trim();c&&t&&(t(c),i(""))};return L.jsxs("div",{className:"chat-panel",children:[L.jsxs("div",{className:"chat-header",children:[L.jsx("span",{children:"Chat"}),L.jsx("button",{type:"button",className:"chat-close",onClick:n,"aria-label":"Close",children:""})]}),L.jsxs("ul",{ref:a,className:"chat-messages",children:[e.length===0&&L.jsx("li",{className:"chat-empty",children:"No messages yet."}),e.map(s=>L.jsxs("li",{className:"chat-msg",children:[L.jsxs("strong",{children:[s.userName,":"]})," ",s.text]},`${s.id}-${s.ts}`))]}),L.jsxs("form",{onSubmit:o,className:"chat-form",children:[L.jsx("input",{type:"text",value:r,onChange:s=>i(s.target.value),placeholder:"Type a message...",maxLength:2e3,className:"chat-input"}),L.jsx("button",{type:"submit",className:"chat-send",children:"Send"})]}),L.jsx("style",{children:`
        .chat-panel {
          display: flex;
          flex-direction: column;
          height: 100%;
          min-height: 0;
        }
        .chat-header {
          padding: 12px 16px;
          border-bottom: 1px solid var(--border);
          display: flex;
          justify-content: space-between;
          align-items: center;
        }
        .chat-close {
          background: none;
          color: var(--text-muted);
          font-size: 24px;
          line-height: 1;
          padding: 0 4px;
        }
        .chat-close:hover { color: var(--text); }
        .chat-messages {
          flex: 1;
          overflow-y: auto;
          list-style: none;
          margin: 0;
          padding: 12px;
        }
        .chat-empty { color: var(--text-muted); font-size: 14px; }
        .chat-msg {
          margin-bottom: 10px;
          font-size: 14px;
          word-break: break-word;
        }
        .chat-msg strong { margin-right: 6px; }
        .chat-form {
          padding: 12px;
          border-top: 1px solid var(--border);
          display: flex;
          gap: 8px;
        }
        .chat-input {
          flex: 1;
          padding: 10px 12px;
          border: 1px solid var(--border);
          border-radius: 8px;
          background: var(--bg);
          color: var(--text);
          font-size: 14px;
        }
        .chat-send {
          padding: 10px 16px;
          background: var(--accent);
          color: white;
          border-radius: 8px;
          font-weight: 600;
          font-size: 14px;
        }
        .chat-send:hover { background: var(--accent-hover); }
      `})]})}function Kce({participants:e,localName:t,onClose:n,isHost:r,myId:i,onMutePeer:a,onKick:o,handRaised:s}){const c=l=>l.id===i||l.userName===t;return L.jsxs("div",{className:"participants-panel",children:[L.jsxs("div",{className:"participants-header",children:[L.jsxs("span",{children:["Participants (",e.length,")"]}),L.jsx("button",{type:"button",className:"participants-close",onClick:n,"aria-label":"Close",children:""})]}),L.jsx("ul",{className:"participants-list",children:e.map(l=>L.jsxs("li",{className:"participants-item",children:[L.jsx("span",{className:"participants-dot"}),L.jsxs("span",{className:"participants-name",children:[l.userName,c(l)&&L.jsx("span",{className:"participants-you",children:"(you)"}),s instanceof Map&&s.get(l.id)&&L.jsx("span",{className:"participants-hand",title:"Hand raised",children:""})]}),r&&!c(l)&&L.jsxs("div",{className:"participants-actions",children:[L.jsx("button",{type:"button",className:"participants-mute",onClick:()=>a==null?void 0:a(l.id),title:"Mute",children:"Mute"}),L.jsx("button",{type:"button",className:"participants-kick",onClick:()=>o==null?void 0:o(l.id),title:"Remove",children:"Remove"})]})]},l.id))}),L.jsx("style",{children:`
        .participants-panel {
          display: flex;
          flex-direction: column;
          height: 100%;
          min-height: 0;
        }
        .participants-header {
          padding: 12px 16px;
          border-bottom: 1px solid var(--border);
          display: flex;
          justify-content: space-between;
          align-items: center;
        }
        .participants-close {
          background: none;
          color: var(--text-muted);
          font-size: 24px;
          line-height: 1;
          padding: 0 4px;
        }
        .participants-close:hover { color: var(--text); }
        .participants-list {
          list-style: none;
          margin: 0;
          padding: 12px;
          overflow-y: auto;
        }
        .participants-item {
          padding: 10px 0;
          display: flex;
          align-items: center;
          gap: 10px;
          font-size: 14px;
          flex-wrap: wrap;
        }
        .participants-dot {
          width: 8px;
          height: 8px;
          border-radius: 50%;
          background: var(--success);
          flex-shrink: 0;
        }
        .participants-name { flex: 1; min-width: 0; }
        .participants-you { color: var(--text-muted); font-size: 13px; margin-left: 4px; }
        .participants-hand { margin-left: 6px; }
        .participants-actions { display: flex; gap: 6px; }
        .participants-mute, .participants-kick {
          padding: 4px 10px;
          border-radius: 6px;
          font-size: 12px;
          font-weight: 500;
        }
        .participants-mute {
          background: var(--surface-hover);
          color: var(--text);
          border: 1px solid var(--border);
        }
        .participants-kick {
          background: rgba(229, 77, 77, 0.15);
          color: var(--danger);
          border: none;
        }
        .participants-kick:hover { background: rgba(229, 77, 77, 0.25); }
      `})]})}function sV(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=sV(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ln(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=sV(e))&&(r&&(r+=" "),r+=t);return r}var Vce=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function MP(e){if(typeof e!="string")return!1;var t=Vce;return t.includes(e)}var zce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Wce=new Set(zce);function cV(e){return typeof e!="string"?!1:Wce.has(e)}function lV(e){return typeof e=="string"&&e.startsWith("data-")}function Kc(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(cV(n)||lV(n))&&(t[n]=e[n]);return t}function yC(e){if(e==null)return null;if(y.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Kc(t)}return typeof e=="object"&&!Array.isArray(e)?Kc(e):null}function Ba(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(cV(n)||lV(n)||MP(n))&&(t[n]=e[n]);return t}function Gce(e){return e==null?null:y.isValidElement(e)?Ba(e.props):typeof e=="object"&&!Array.isArray(e)?Ba(e):null}var qce=["children","width","height","viewBox","className","style","title","desc"];function wk(){return wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wk.apply(null,arguments)}function Yce(e,t){if(e==null)return{};var n,r,i=Xce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var AV=y.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:s,title:c,desc:l}=e,A=Yce(e,qce),u=a||{width:r,height:i,x:0,y:0},d=Ln("recharts-surface",o);return y.createElement("svg",wk({},Ba(A),{className:d,width:r,height:i,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height),ref:t}),y.createElement("title",null,c),y.createElement("desc",null,l),n)}),Jce=["children","className"];function Ck(){return Ck=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ck.apply(null,arguments)}function Zce(e,t){if(e==null)return{};var n,r,i=ele(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ele(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ju=y.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Zce(e,Jce),a=Ln("recharts-layer",r);return y.createElement("g",Ck({className:a},Ba(i),{ref:t}),n)}),tle=y.createContext(null);function _n(e){return function(){return e}}const uV=Math.cos,ew=Math.sin,ac=Math.sqrt,tw=Math.PI,bC=2*tw,Bk=Math.PI,Sk=2*Bk,Pd=1e-6,nle=Sk-Pd;function dV(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function rle(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return dV;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ile{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?dV:rle(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,c=r-t,l=i-n,A=o-t,u=s-n,d=A*A+u*u;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Pd)if(!(Math.abs(u*c-l*A)>Pd)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let f=r-o,h=i-s,p=c*c+l*l,v=f*f+h*h,m=Math.sqrt(p),w=Math.sqrt(d),B=a*Math.tan((Bk-Math.acos((p+d-v)/(2*m*w)))/2),C=B/w,S=B/m;Math.abs(C-1)>Pd&&this._append`L${t+C*A},${n+C*u}`,this._append`A${a},${a},0,0,${+(u*f>A*h)},${this._x1=t+S*c},${this._y1=n+S*l}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),c=r*Math.sin(i),l=t+s,A=n+c,u=1^o,d=o?i-a:a-i;this._x1===null?this._append`M${l},${A}`:(Math.abs(this._x1-l)>Pd||Math.abs(this._y1-A)>Pd)&&this._append`L${l},${A}`,r&&(d<0&&(d=d%Sk+Sk),d>nle?this._append`A${r},${r},0,1,${u},${t-s},${n-c}A${r},${r},0,1,${u},${this._x1=l},${this._y1=A}`:d>Pd&&this._append`A${r},${r},0,${+(d>=Bk)},${u},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function RP(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new ile(t)}function DP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fV(e){this._context=e}fV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function wC(e){return new fV(e)}function hV(e){return e[0]}function pV(e){return e[1]}function gV(e,t){var n=_n(!0),r=null,i=wC,a=null,o=RP(s);e=typeof e=="function"?e:e===void 0?hV:_n(e),t=typeof t=="function"?t:t===void 0?pV:_n(t);function s(c){var l,A=(c=DP(c)).length,u,d=!1,f;for(r==null&&(a=i(f=o())),l=0;l<=A;++l)!(l<A&&n(u=c[l],l,c))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(u,l,c),+t(u,l,c));if(f)return a=null,f+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:_n(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:_n(+c),s):t},s.defined=function(c){return arguments.length?(n=typeof c=="function"?c:_n(!!c),s):n},s.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),s):i},s.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),s):r},s}function Ey(e,t,n){var r=null,i=_n(!0),a=null,o=wC,s=null,c=RP(l);e=typeof e=="function"?e:e===void 0?hV:_n(+e),t=typeof t=="function"?t:_n(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?pV:_n(+n);function l(u){var d,f,h,p=(u=DP(u)).length,v,m=!1,w,B=new Array(p),C=new Array(p);for(a==null&&(s=o(w=c())),d=0;d<=p;++d){if(!(d<p&&i(v=u[d],d,u))===m)if(m=!m)f=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=d-1;h>=f;--h)s.point(B[h],C[h]);s.lineEnd(),s.areaEnd()}m&&(B[d]=+e(v,d,u),C[d]=+t(v,d,u),s.point(r?+r(v,d,u):B[d],n?+n(v,d,u):C[d]))}if(w)return s=null,w+""||null}function A(){return gV().defined(i).curve(o).context(a)}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:_n(+u),r=null,l):e},l.x0=function(u){return arguments.length?(e=typeof u=="function"?u:_n(+u),l):e},l.x1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:_n(+u),l):r},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:_n(+u),n=null,l):t},l.y0=function(u){return arguments.length?(t=typeof u=="function"?u:_n(+u),l):t},l.y1=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:_n(+u),l):n},l.lineX0=l.lineY0=function(){return A().x(e).y(t)},l.lineY1=function(){return A().x(e).y(n)},l.lineX1=function(){return A().x(r).y(t)},l.defined=function(u){return arguments.length?(i=typeof u=="function"?u:_n(!!u),l):i},l.curve=function(u){return arguments.length?(o=u,a!=null&&(s=o(a)),l):o},l.context=function(u){return arguments.length?(u==null?a=s=null:s=o(a=u),l):a},l}class mV{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function ale(e){return new mV(e,!0)}function ole(e){return new mV(e,!1)}const QP={draw(e,t){const n=ac(t/tw);e.moveTo(n,0),e.arc(0,0,n,0,bC)}},sle={draw(e,t){const n=ac(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},vV=ac(1/3),cle=vV*2,lle={draw(e,t){const n=ac(t/cle),r=n*vV;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Ale={draw(e,t){const n=ac(t),r=-n/2;e.rect(r,r,n,n)}},ule=.8908130915292852,yV=ew(tw/10)/ew(7*tw/10),dle=ew(bC/10)*yV,fle=-uV(bC/10)*yV,hle={draw(e,t){const n=ac(t*ule),r=dle*n,i=fle*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=bC*a/5,s=uV(o),c=ew(o);e.lineTo(c*n,-s*n),e.lineTo(s*r-c*i,c*r+s*i)}e.closePath()}},lS=ac(3),ple={draw(e,t){const n=-ac(t/(lS*3));e.moveTo(0,n*2),e.lineTo(-lS*n,-n),e.lineTo(lS*n,-n),e.closePath()}},zo=-.5,Wo=ac(3)/2,xk=1/ac(12),gle=(xk/2+1)*3,mle={draw(e,t){const n=ac(t/gle),r=n/2,i=n*xk,a=r,o=n*xk+n,s=-a,c=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,c),e.lineTo(zo*r-Wo*i,Wo*r+zo*i),e.lineTo(zo*a-Wo*o,Wo*a+zo*o),e.lineTo(zo*s-Wo*c,Wo*s+zo*c),e.lineTo(zo*r+Wo*i,zo*i-Wo*r),e.lineTo(zo*a+Wo*o,zo*o-Wo*a),e.lineTo(zo*s+Wo*c,zo*c-Wo*s),e.closePath()}};function vle(e,t){let n=null,r=RP(i);e=typeof e=="function"?e:_n(e||QP),t=typeof t=="function"?t:_n(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:_n(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:_n(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function nw(){}function rw(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function bV(e){this._context=e}bV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yle(e){return new bV(e)}function wV(e){this._context=e}wV.prototype={areaStart:nw,areaEnd:nw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:rw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ble(e){return new wV(e)}function CV(e){this._context=e}CV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:rw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wle(e){return new CV(e)}function BV(e){this._context=e}BV.prototype={areaStart:nw,areaEnd:nw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Cle(e){return new BV(e)}function RU(e){return e<0?-1:1}function DU(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(RU(a)+RU(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function QU(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function AS(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function iw(e){this._context=e}iw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:AS(this,this._t0,QU(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,AS(this,QU(this,n=DU(this,e,t)),n);break;default:AS(this,this._t0,n=DU(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function SV(e){this._context=new xV(e)}(SV.prototype=Object.create(iw.prototype)).point=function(e,t){iw.prototype.point.call(this,t,e)};function xV(e){this._context=e}xV.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function Ble(e){return new iw(e)}function Sle(e){return new SV(e)}function kV(e){this._context=e}kV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=jU(e),i=jU(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function jU(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function xle(e){return new kV(e)}function CC(e,t){this._context=e,this._t=t}CC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function kle(e){return new CC(e,.5)}function Ele(e){return new CC(e,0)}function Tle(e){return new CC(e,1)}function Cf(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,s=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function kk(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function _le(e,t){return e[t]}function Ple(e){const t=[];return t.key=e,t}function Ile(){var e=_n([]),t=kk,n=Cf,r=_le;function i(a){var o=Array.from(e.apply(this,arguments),Ple),s,c=o.length,l=-1,A;for(const u of a)for(s=0,++l;s<c;++s)(o[s][l]=[0,+r(u,o[s].key,l,a)]).data=u;for(s=0,A=DP(t(o));s<c;++s)o[A[s]].index=s;return n(o,A),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:_n(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:_n(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?kk:typeof a=="function"?a:_n(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Cf,i):n},i}function Fle(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Cf(e,t)}}function Ole(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Cf(e,t)}}function Lle(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,c=0,l=0;s<o;++s){for(var A=e[t[s]],u=A[r][1]||0,d=A[r-1][1]||0,f=(u-d)/2,h=0;h<s;++h){var p=e[t[h]],v=p[r][1]||0,m=p[r-1][1]||0;f+=v-m}c+=u,l+=f*u}i[r-1][1]+=i[r-1][0]=n,c&&(n-=l/c)}i[r-1][1]+=i[r-1][0]=n,Cf(e,t)}}var BC={},EV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(EV);var jP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(jP);var SC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(SC);var xC={},TV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(TV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TV,n=SC;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let s=0,c="",l="",A=!1;for(i.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const u=i[s];l?u==="\\"&&s+1<o?(s++,c+=i[s]):u===l?l="":c+=u:A?u==='"'||u==="'"?l=u:u==="]"?(A=!1,a.push(c),c=""):c+=u:u==="["?(A=!0,c&&(a.push(c),c="")):u==="."?c&&(a.push(c),c=""):c+=u,s++}return c&&a.push(c),a}e.toPath=r})(xC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EV,n=jP,r=SC,i=xC;function a(s,c,l){if(s==null)return l;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return l;const A=s[c];return A===void 0?n.isDeepKey(c)?a(s,i.toPath(c),l):l:A}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const A=s[c];return A===void 0?l:A}default:{if(Array.isArray(c))return o(s,c,l);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return l;const A=s[c];return A===void 0?l:A}}}function o(s,c,l){if(c.length===0)return l;let A=s;for(let u=0;u<c.length;u++){if(A==null||t.isUnsafeProperty(c[u]))return l;A=A[c[u]]}return A===void 0?l:A}e.get=a})(BC);var Ule=BC.get;const kC=Gu(Ule);var Nle=4;function fu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nle,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function ur(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,o)=>{var s=n[o-1];return typeof s=="string"?i+s+a:s!==void 0?i+fu(s)+a:i+a},"")}var is=e=>e===0?0:e>0?1:-1,aA=e=>typeof e=="number"&&e!=+e,Ek=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,dt=e=>(typeof e=="number"||e instanceof Number)&&!aA(e),Vc=e=>dt(e)||typeof e=="string",Mle=0,rv=e=>{var t=++Mle;return"".concat(e||"").concat(t)},Hu=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!dt(t)&&typeof t!="string")return r;var a;if(Ek(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return aA(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},_V=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Na(e,t,n){return dt(e)&&dt(t)?fu(e+n*(t-e)):t}function PV(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):kC(r,t))===n)}var zi=e=>e===null||typeof e>"u",qv=e=>zi(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Ra(e){return e!=null}function Yv(){}var Rle=["type","size","sizeType"];function Tk(){return Tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tk.apply(null,arguments)}function HU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $U(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HU(Object(n),!0).forEach(function(r){Dle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dle(e,t,n){return(t=Qle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qle(e){var t=jle(e,"string");return typeof t=="symbol"?t:t+""}function jle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hle(e,t){if(e==null)return{};var n,r,i=$le(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $le(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var IV={symbolCircle:QP,symbolCross:sle,symbolDiamond:lle,symbolSquare:Ale,symbolStar:hle,symbolTriangle:ple,symbolWye:mle},Kle=Math.PI/180,Vle=e=>{var t="symbol".concat(qv(e));return IV[t]||QP},zle=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*Kle;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Wle=(e,t)=>{IV["symbol".concat(qv(e))]=t},FV=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=Hle(e,Rle),a=$U($U({},i),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var d=Vle(o),f=vle().type(d).size(zle(n,r,o)),h=f();if(h!==null)return h},{className:c,cx:l,cy:A}=a,u=Ba(a);return dt(l)&&dt(A)&&dt(n)?y.createElement("path",Tk({},u,{className:Ln("recharts-symbols",c),transform:"translate(".concat(l,", ").concat(A,")"),d:s()})):null};FV.registerSymbol=Wle;var OV=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,HP=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{MP(i)&&(r[i]=a=>n[i](n,a))}),r},Gle=(e,t,n)=>r=>(e(t,n,r),null),qle=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];MP(i)&&typeof a=="function"&&(r||(r={}),r[i]=Gle(a,t,n))}),r};function KU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yle(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KU(Object(n),!0).forEach(function(r){Xle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xle(e,t,n){return(t=Jle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jle(e){var t=Zle(e,"string");return typeof t=="symbol"?t:t+""}function Zle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wa(e,t){var n=Yle({},e),r=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return a}var LV={},UV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],s=r(o,a,n);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t})(UV);var NV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(NV);var $P={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})($P);var MV={},EC={},RV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(RV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RV;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(EC);var DV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(DV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EC,n=DV;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(MV);var QV={},jV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BC;function n(r){return function(i){return t.get(i,r)}}e.property=n})(jV);var HV={},KP={},$V={},VP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(VP);var zP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(zP);var WP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(WP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VP,n=zP,r=WP;function i(A,u,d){return typeof d!="function"?i(A,u,()=>{}):a(A,u,function f(h,p,v,m,w,B){const C=d(h,p,v,m,w,B);return C!==void 0?!!C:a(h,p,f,B)},new Map)}function a(A,u,d,f){if(u===A)return!0;switch(typeof u){case"object":return o(A,u,d,f);case"function":return Object.keys(u).length>0?a(A,{...u},d,f):r.isEqualsSameValueZero(A,u);default:return t.isObject(A)?typeof u=="string"?u==="":!0:r.isEqualsSameValueZero(A,u)}}function o(A,u,d,f){if(u==null)return!0;if(Array.isArray(u))return c(A,u,d,f);if(u instanceof Map)return s(A,u,d,f);if(u instanceof Set)return l(A,u,d,f);const h=Object.keys(u);if(A==null||n.isPrimitive(A))return h.length===0;if(h.length===0)return!0;if(f!=null&&f.has(u))return f.get(u)===A;f==null||f.set(u,A);try{for(let p=0;p<h.length;p++){const v=h[p];if(!n.isPrimitive(A)&&!(v in A)||u[v]===void 0&&A[v]!==void 0||u[v]===null&&A[v]!==null||!d(A[v],u[v],v,A,u,f))return!1}return!0}finally{f==null||f.delete(u)}}function s(A,u,d,f){if(u.size===0)return!0;if(!(A instanceof Map))return!1;for(const[h,p]of u.entries()){const v=A.get(h);if(d(v,p,h,A,u,f)===!1)return!1}return!0}function c(A,u,d,f){if(u.length===0)return!0;if(!Array.isArray(A))return!1;const h=new Set;for(let p=0;p<u.length;p++){const v=u[p];let m=!1;for(let w=0;w<A.length;w++){if(h.has(w))continue;const B=A[w];let C=!1;if(d(B,v,p,A,u,f)&&(C=!0),C){h.add(w),m=!0;break}}if(!m)return!1}return!0}function l(A,u,d,f){return u.size===0?!0:A instanceof Set?c([...A],[...u],d,f):!1}e.isMatchWith=i,e.isSetMatch=l})($V);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$V;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(KP);var KV={},GP={},VV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(VV);var TC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(TC);var qP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",c="[object Map]",l="[object Set]",A="[object Array]",u="[object Function]",d="[object ArrayBuffer]",f="[object Object]",h="[object Error]",p="[object DataView]",v="[object Uint8Array]",m="[object Uint8ClampedArray]",w="[object Uint16Array]",B="[object Uint32Array]",C="[object BigUint64Array]",S="[object Int8Array]",k="[object Int16Array]",_="[object Int32Array]",F="[object BigInt64Array]",P="[object Float32Array]",U="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=d,e.arrayTag=A,e.bigInt64ArrayTag=F,e.bigUint64ArrayTag=C,e.booleanTag=i,e.dataViewTag=p,e.dateTag=s,e.errorTag=h,e.float32ArrayTag=P,e.float64ArrayTag=U,e.functionTag=u,e.int16ArrayTag=k,e.int32ArrayTag=_,e.int8ArrayTag=S,e.mapTag=c,e.numberTag=r,e.objectTag=f,e.regexpTag=t,e.setTag=l,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=w,e.uint32ArrayTag=B,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=m})(qP);var zV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(zV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VV,n=TC,r=qP,i=zP,a=zV;function o(A,u){return s(A,void 0,A,new Map,u)}function s(A,u,d,f=new Map,h=void 0){const p=h==null?void 0:h(A,u,d,f);if(p!==void 0)return p;if(i.isPrimitive(A))return A;if(f.has(A))return f.get(A);if(Array.isArray(A)){const v=new Array(A.length);f.set(A,v);for(let m=0;m<A.length;m++)v[m]=s(A[m],m,d,f,h);return Object.hasOwn(A,"index")&&(v.index=A.index),Object.hasOwn(A,"input")&&(v.input=A.input),v}if(A instanceof Date)return new Date(A.getTime());if(A instanceof RegExp){const v=new RegExp(A.source,A.flags);return v.lastIndex=A.lastIndex,v}if(A instanceof Map){const v=new Map;f.set(A,v);for(const[m,w]of A)v.set(m,s(w,m,d,f,h));return v}if(A instanceof Set){const v=new Set;f.set(A,v);for(const m of A)v.add(s(m,void 0,d,f,h));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(A))return A.subarray();if(a.isTypedArray(A)){const v=new(Object.getPrototypeOf(A)).constructor(A.length);f.set(A,v);for(let m=0;m<A.length;m++)v[m]=s(A[m],m,d,f,h);return v}if(A instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&A instanceof SharedArrayBuffer)return A.slice(0);if(A instanceof DataView){const v=new DataView(A.buffer.slice(0),A.byteOffset,A.byteLength);return f.set(A,v),c(v,A,d,f,h),v}if(typeof File<"u"&&A instanceof File){const v=new File([A],A.name,{type:A.type});return f.set(A,v),c(v,A,d,f,h),v}if(typeof Blob<"u"&&A instanceof Blob){const v=new Blob([A],{type:A.type});return f.set(A,v),c(v,A,d,f,h),v}if(A instanceof Error){const v=new A.constructor;return f.set(A,v),v.message=A.message,v.name=A.name,v.stack=A.stack,v.cause=A.cause,c(v,A,d,f,h),v}if(A instanceof Boolean){const v=new Boolean(A.valueOf());return f.set(A,v),c(v,A,d,f,h),v}if(A instanceof Number){const v=new Number(A.valueOf());return f.set(A,v),c(v,A,d,f,h),v}if(A instanceof String){const v=new String(A.valueOf());return f.set(A,v),c(v,A,d,f,h),v}if(typeof A=="object"&&l(A)){const v=Object.create(Object.getPrototypeOf(A));return f.set(A,v),c(v,A,d,f,h),v}return A}function c(A,u,d=A,f,h){const p=[...Object.keys(u),...t.getSymbols(u)];for(let v=0;v<p.length;v++){const m=p[v],w=Object.getOwnPropertyDescriptor(A,m);(w==null||w.writable)&&(A[m]=s(u[m],m,d,f,h))}}function l(A){switch(n.getTag(A)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=c})(GP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GP;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(KV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KP,n=KV;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(HV);var WV={},GV={},qV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GP,n=TC,r=qP;function i(a,o){return t.cloneDeepWith(a,(s,c,l,A)=>{const u=o==null?void 0:o(s,c,l,A);if(u!==void 0)return u;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const d={};return A.set(a,d),t.copyProperties(d,a,l,A),d}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(d,a),d}case r.argumentsTag:{const d={};return t.copyProperties(d,a),d.length=a.length,d[Symbol.iterator]=a[Symbol.iterator],d}default:return}}})}e.cloneDeepWith=i})(qV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qV;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(GV);var YV={},YP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(YP);var XV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TC;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(XV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jP,n=YP,r=XV,i=xC;function a(o,s){let c;if(Array.isArray(s)?c=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?c=i.toPath(s):c=[s],c.length===0)return!1;let l=o;for(let A=0;A<c.length;A++){const u=c[A];if((l==null||!Object.hasOwn(l,u))&&!((Array.isArray(l)||r.isArguments(l))&&n.isIndex(u)&&u<l.length))return!1;l=l[u]}return!0}e.has=a})(YV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KP,n=SC,r=GV,i=BC,a=YV;function o(s,c){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return c=r.cloneDeep(c),function(l){const A=i.get(l,s);return A===void 0?a.has(l,s):c===void 0?A===void 0:t.isMatch(A,c)}}e.matchesProperty=o})(WV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$P,n=jV,r=HV,i=WV;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(QV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UV,n=NV,r=$P,i=MV,a=QV;function o(s,c=r.identity){return i.isArrayLikeObject(s)?t.uniqBy(Array.from(s),n.ary(a.iteratee(c),1)):[]}e.uniqBy=o})(LV);var eAe=LV.uniqBy;const VU=Gu(eAe);function tAe(e,t,n){return t===!0?VU(e,n):typeof t=="function"?VU(e,t):e}var JV={exports:{}},ZV={},ez={exports:{}},tz={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp=y;function nAe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rAe=typeof Object.is=="function"?Object.is:nAe,iAe=Qp.useState,aAe=Qp.useEffect,oAe=Qp.useLayoutEffect,sAe=Qp.useDebugValue;function cAe(e,t){var n=t(),r=iAe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return oAe(function(){i.value=n,i.getSnapshot=t,uS(i)&&a({inst:i})},[e,n,t]),aAe(function(){return uS(i)&&a({inst:i}),e(function(){uS(i)&&a({inst:i})})},[e]),sAe(n),n}function uS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rAe(e,n)}catch{return!0}}function lAe(e,t){return t()}var AAe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lAe:cAe;tz.useSyncExternalStore=Qp.useSyncExternalStore!==void 0?Qp.useSyncExternalStore:AAe;ez.exports=tz;var uAe=ez.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C=y,dAe=uAe;function fAe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hAe=typeof Object.is=="function"?Object.is:fAe,pAe=dAe.useSyncExternalStore,gAe=_C.useRef,mAe=_C.useEffect,vAe=_C.useMemo,yAe=_C.useDebugValue;ZV.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=gAe(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=vAe(function(){function c(f){if(!l){if(l=!0,A=f,f=r(f),i!==void 0&&o.hasValue){var h=o.value;if(i(h,f))return u=h}return u=f}if(h=u,hAe(A,f))return h;var p=r(f);return i!==void 0&&i(h,p)?(A=f,h):(A=f,u=p)}var l=!1,A,u,d=n===void 0?null:n;return[function(){return c(t())},d===null?void 0:function(){return c(d())}]},[t,n,r,i]);var s=pAe(e,a[0],a[1]);return mAe(function(){o.hasValue=!0,o.value=s},[s]),yAe(s),s};JV.exports=ZV;var bAe=JV.exports,XP=y.createContext(null),wAe=e=>e,Si=()=>{var e=y.useContext(XP);return e?e.store.dispatch:wAe},W2=()=>{},CAe=()=>W2,BAe=(e,t)=>e===t;function pt(e){var t=y.useContext(XP),n=y.useMemo(()=>t?r=>{if(r!=null)return e(r)}:W2,[t,e]);return bAe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:CAe,t?t.store.getState:W2,t?t.store.getState:W2,n,BAe)}function SAe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function xAe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function kAe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var zU=e=>Array.isArray(e)?e:[e];function EAe(e){const t=Array.isArray(e[0])?e[0]:e;return kAe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function TAe(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var _Ae=class{constructor(e){this.value=e}deref(){return this.value}},PAe=typeof WeakRef<"u"?WeakRef:_Ae,IAe=0,WU=1;function Ty(){return{s:IAe,v:void 0,o:null,p:null}}function nz(e,t={}){let n=Ty();const{resultEqualityCheck:r}=t;let i,a=0;function o(){var u;let s=n;const{length:c}=arguments;for(let d=0,f=c;d<f;d++){const h=arguments[d];if(typeof h=="function"||typeof h=="object"&&h!==null){let p=s.o;p===null&&(s.o=p=new WeakMap);const v=p.get(h);v===void 0?(s=Ty(),p.set(h,s)):s=v}else{let p=s.p;p===null&&(s.p=p=new Map);const v=p.get(h);v===void 0?(s=Ty(),p.set(h,s)):s=v}}const l=s;let A;if(s.s===WU)A=s.v;else if(A=e.apply(null,arguments),a++,r){const d=((u=i==null?void 0:i.deref)==null?void 0:u.call(i))??i;d!=null&&r(d,A)&&(A=d,a!==0&&a--),i=typeof A=="object"&&A!==null||typeof A=="function"?new PAe(A):A}return l.s=WU,l.v=A,A}return o.clearCache=()=>{n=Ty(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function FAe(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,s,c={},l=i.pop();typeof l=="object"&&(c=l,l=i.pop()),SAe(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const A={...n,...c},{memoize:u,memoizeOptions:d=[],argsMemoize:f=nz,argsMemoizeOptions:h=[]}=A,p=zU(d),v=zU(h),m=EAe(i),w=u(function(){return a++,l.apply(null,arguments)},...p),B=f(function(){o++;const S=TAe(m,arguments);return s=w.apply(null,S),s},...v);return Object.assign(B,{resultFunc:l,memoizedResultFunc:w,dependencies:m,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:u,argsMemoize:f})};return Object.assign(r,{withTypes:()=>r}),r}var Be=FAe(nz),OAe=Object.assign((e,t=Be)=>{xAe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,s,c)=>(o[n[c]]=s,o),{}))},{withTypes:()=>OAe}),rz={},iz={},az={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),s=t(i);if(o===s&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=n})(az);var oz={},JP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(JP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JP,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(oz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=az,n=oz,r=xC;function i(a,o,s,c){if(a==null)return[];s=c?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(f=>String(f));const l=(f,h)=>{let p=f;for(let v=0;v<h.length&&p!=null;++v)p=p[h[v]];return p},A=(f,h)=>h==null||f==null?h:typeof f=="object"&&"key"in f?Object.hasOwn(h,f.key)?h[f.key]:l(h,f.path):typeof f=="function"?f(h):Array.isArray(f)?l(h,f):typeof h=="object"?h[f]:h,u=o.map(f=>(Array.isArray(f)&&f.length===1&&(f=f[0]),f==null||typeof f=="function"||Array.isArray(f)||n.isKey(f)?f:{key:f,path:r.toPath(f)}));return a.map(f=>({original:f,criteria:u.map(h=>A(h,f))})).slice().sort((f,h)=>{for(let p=0;p<u.length;p++){const v=t.compareValues(f.criteria[p],h.criteria[p],s[p]);if(v!==0)return v}return 0}).map(f=>f.original)}e.orderBy=i})(iz);var sz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(s,c)=>{for(let l=0;l<s.length;l++){const A=s[l];Array.isArray(A)&&c<a?o(A,c+1):i.push(A)}};return o(n,0),i}e.flatten=t})(sz);var ZP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YP,n=EC,r=VP,i=WP;function a(o,s,c){return r.isObject(c)&&(typeof s=="number"&&n.isArrayLike(c)&&t.isIndex(s)&&s<c.length||typeof s=="string"&&s in c)?i.isEqualsSameValueZero(c[s],o):!1}e.isIterateeCall=a})(ZP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iz,n=sz,r=ZP;function i(a,...o){const s=o.length;return s>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(rz);var LAe=rz.sortBy;const PC=Gu(LAe);var cz=e=>e.legend.settings,UAe=e=>e.legend.size,NAe=e=>e.legend.payload;Be([NAe,cz],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?PC(r,n):r});var _y=1;function MAe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=y.useState({height:0,left:0,top:0,width:0}),r=y.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>_y||Math.abs(o.left-t.left)>_y||Math.abs(o.top-t.top)>_y||Math.abs(o.width-t.width)>_y)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Li(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var RAe=typeof Symbol=="function"&&Symbol.observable||"@@observable",GU=RAe,dS=()=>Math.random().toString(36).substring(7).split("").join("."),DAe={INIT:`@@redux/INIT${dS()}`,REPLACE:`@@redux/REPLACE${dS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${dS()}`},aw=DAe;function eI(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function lz(e,t,n){if(typeof e!="function")throw new Error(Li(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Li(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Li(1));return n(lz)(e,t)}let r=e,i=t,a=new Map,o=a,s=0,c=!1;function l(){o===a&&(o=new Map,a.forEach((v,m)=>{o.set(m,v)}))}function A(){if(c)throw new Error(Li(3));return i}function u(v){if(typeof v!="function")throw new Error(Li(4));if(c)throw new Error(Li(5));let m=!0;l();const w=s++;return o.set(w,v),function(){if(m){if(c)throw new Error(Li(6));m=!1,l(),o.delete(w),a=null}}}function d(v){if(!eI(v))throw new Error(Li(7));if(typeof v.type>"u")throw new Error(Li(8));if(typeof v.type!="string")throw new Error(Li(17));if(c)throw new Error(Li(9));try{c=!0,i=r(i,v)}finally{c=!1}return(a=o).forEach(w=>{w()}),v}function f(v){if(typeof v!="function")throw new Error(Li(10));r=v,d({type:aw.REPLACE})}function h(){const v=u;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error(Li(11));function w(){const C=m;C.next&&C.next(A())}return w(),{unsubscribe:v(w)}},[GU](){return this}}}return d({type:aw.INIT}),{dispatch:d,subscribe:u,getState:A,replaceReducer:f,[GU]:h}}function QAe(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:aw.INIT})>"u")throw new Error(Li(12));if(typeof n(void 0,{type:aw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Li(13))})}function Az(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{QAe(n)}catch(a){i=a}return function(o={},s){if(i)throw i;let c=!1;const l={};for(let A=0;A<r.length;A++){const u=r[A],d=n[u],f=o[u],h=d(f,s);if(typeof h>"u")throw s&&s.type,new Error(Li(14));l[u]=h,c=c||h!==f}return c=c||r.length!==Object.keys(o).length,c?l:o}}function ow(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function jAe(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(Li(15))};const o={getState:i.getState,dispatch:(c,...l)=>a(c,...l)},s=e.map(c=>c(o));return a=ow(...s)(i.dispatch),{...i,dispatch:a}}}function uz(e){return eI(e)&&"type"in e&&typeof e.type=="string"}var dz=Symbol.for("immer-nothing"),qU=Symbol.for("immer-draftable"),Sa=Symbol.for("immer-state");function Ms(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var po=Object,jp=po.getPrototypeOf,sw="constructor",IC="prototype",_k="configurable",cw="enumerable",G2="writable",iv="value",oA=e=>!!e&&!!e[Sa];function Ys(e){var t;return e?fz(e)||OC(e)||!!e[qU]||!!((t=e[sw])!=null&&t[qU])||LC(e)||UC(e):!1}var HAe=po[IC][sw].toString(),YU=new WeakMap;function fz(e){if(!e||!tI(e))return!1;const t=jp(e);if(t===null||t===po[IC])return!0;const n=po.hasOwnProperty.call(t,sw)&&t[sw];if(n===Object)return!0;if(!Eh(n))return!1;let r=YU.get(n);return r===void 0&&(r=Function.toString.call(n),YU.set(n,r)),r===HAe}function FC(e,t,n=!0){Xv(e)===0?(n?Reflect.ownKeys(e):po.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Xv(e){const t=e[Sa];return t?t.type_:OC(e)?1:LC(e)?2:UC(e)?3:0}var XU=(e,t,n=Xv(e))=>n===2?e.has(t):po[IC].hasOwnProperty.call(e,t),Pk=(e,t,n=Xv(e))=>n===2?e.get(t):e[t],lw=(e,t,n,r=Xv(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function $Ae(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var OC=Array.isArray,LC=e=>e instanceof Map,UC=e=>e instanceof Set,tI=e=>typeof e=="object",Eh=e=>typeof e=="function",fS=e=>typeof e=="boolean";function KAe(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Fl=e=>e.copy_||e.base_,nI=e=>e.modified_?e.copy_:e.base_;function Ik(e,t){if(LC(e))return new Map(e);if(UC(e))return new Set(e);if(OC(e))return Array[IC].slice.call(e);const n=fz(e);if(t===!0||t==="class_only"&&!n){const r=po.getOwnPropertyDescriptors(e);delete r[Sa];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s[G2]===!1&&(s[G2]=!0,s[_k]=!0),(s.get||s.set)&&(r[o]={[_k]:!0,[G2]:!0,[cw]:s[cw],[iv]:e[o]})}return po.create(jp(e),r)}else{const r=jp(e);if(r!==null&&n)return{...e};const i=po.create(r);return po.assign(i,e)}}function rI(e,t=!1){return NC(e)||oA(e)||!Ys(e)||(Xv(e)>1&&po.defineProperties(e,{set:Py,add:Py,clear:Py,delete:Py}),po.freeze(e),t&&FC(e,(n,r)=>{rI(r,!0)},!1)),e}function VAe(){Ms(2)}var Py={[iv]:VAe};function NC(e){return e===null||!tI(e)?!0:po.isFrozen(e)}var Aw="MapSet",Fk="Patches",JU="ArrayMethods",hz={};function Bf(e){const t=hz[e];return t||Ms(0,e),t}var ZU=e=>!!hz[e],av,pz=()=>av,zAe=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:ZU(Aw)?Bf(Aw):void 0,arrayMethodsPlugin_:ZU(JU)?Bf(JU):void 0});function eN(e,t){t&&(e.patchPlugin_=Bf(Fk),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ok(e){Lk(e),e.drafts_.forEach(WAe),e.drafts_=null}function Lk(e){e===av&&(av=e.parent_)}var tN=e=>av=zAe(av,e);function WAe(e){const t=e[Sa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function nN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Sa].modified_&&(Ok(t),Ms(4)),Ys(e)&&(e=rN(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Sa].base_,e,t)}else e=rN(t,n);return GAe(t,e,!0),Ok(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==dz?e:void 0}function rN(e,t){if(NC(t))return t;const n=t[Sa];if(!n)return uw(t,e.handledSet_,e);if(!MC(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);vz(n,e)}return n.copy_}function GAe(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rI(t,n)}function gz(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var MC=(e,t)=>e.scope_===t,qAe=[];function mz(e,t,n,r){const i=Fl(e),a=e.type_;if(r!==void 0&&Pk(i,r,a)===t){lw(i,r,n,a);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;FC(i,(c,l)=>{if(oA(l)){const A=s.get(l)||[];A.push(c),s.set(l,A)}})}const o=e.draftLocations_.get(t)??qAe;for(const s of o)lw(i,s,n,a)}function YAe(e,t,n){e.callbacks_.push(function(i){var s;const a=t;if(!a||!MC(a,i))return;(s=i.mapSetPlugin_)==null||s.fixSetContents(a);const o=nI(a);mz(e,a.draft_??a,o,n),vz(a,i)})}function vz(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}gz(e)}}function XAe(e,t,n){const{scope_:r}=e;if(oA(n)){const i=n[Sa];MC(i,r)&&i.callbacks_.push(function(){q2(e);const o=nI(i);mz(e,n,o,t)})}else Ys(n)&&e.callbacks_.push(function(){const a=Fl(e);e.type_===3?a.has(n)&&uw(n,r.handledSet_,r):Pk(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&uw(Pk(e.copy_,t,e.type_),r.handledSet_,r)})}function uw(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||oA(e)||t.has(e)||!Ys(e)||NC(e)||(t.add(e),FC(e,(r,i)=>{if(oA(i)){const a=i[Sa];if(MC(a,n)){const o=nI(a);lw(e,r,o,e.type_),gz(a)}}else Ys(i)&&uw(i,t,n)})),e}function JAe(e,t){const n=OC(e),r={type_:n?1:0,scope_:t?t.scope_:pz(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=dw;n&&(i=[r],a=ov);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,[s,r]}var dw={get(e,t){if(t===Sa)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Fl(e);if(!XU(i,t,e.type_))return ZAe(e,i,t);const a=i[t];if(e.finalized_||!Ys(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&KAe(t))return a;if(a===hS(e.base_,t)){q2(e);const o=e.type_===1?+t:t,s=Nk(e.scope_,a,e,o);return e.copy_[o]=s}return a},has(e,t){return t in Fl(e)},ownKeys(e){return Reflect.ownKeys(Fl(e))},set(e,t,n){const r=yz(Fl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=hS(Fl(e),t),a=i==null?void 0:i[Sa];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if($Ae(n,i)&&(n!==void 0||XU(e.base_,t,e.type_)))return!0;q2(e),Uk(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),XAe(e,t,n)),!0},deleteProperty(e,t){return q2(e),hS(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Uk(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Fl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[G2]:!0,[_k]:e.type_!==1||t!=="length",[cw]:r[cw],[iv]:n[t]}},defineProperty(){Ms(11)},getPrototypeOf(e){return jp(e.base_)},setPrototypeOf(){Ms(12)}},ov={};for(let e in dw){let t=dw[e];ov[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}ov.deleteProperty=function(e,t){return ov.set.call(this,e,t,void 0)};ov.set=function(e,t,n){return dw.set.call(this,e[0],t,n,e[0])};function hS(e,t){const n=e[Sa];return(n?Fl(n):e)[t]}function ZAe(e,t,n){var i;const r=yz(t,n);return r?iv in r?r[iv]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function yz(e,t){if(!(t in e))return;let n=jp(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=jp(n)}}function Uk(e){e.modified_||(e.modified_=!0,e.parent_&&Uk(e.parent_))}function q2(e){e.copy_||(e.assigned_=new Map,e.copy_=Ik(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var eue=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Eh(n)&&!Eh(r)){const o=r;r=n;const s=this;return function(l=o,...A){return s.produce(l,u=>r.call(this,u,...A))}}Eh(r)||Ms(6),i!==void 0&&!Eh(i)&&Ms(7);let a;if(Ys(n)){const o=tN(this),s=Nk(o,n,void 0);let c=!0;try{a=r(s),c=!1}finally{c?Ok(o):Lk(o)}return eN(o,i),nN(a,o)}else if(!n||!tI(n)){if(a=r(n),a===void 0&&(a=n),a===dz&&(a=void 0),this.autoFreeze_&&rI(a,!0),i){const o=[],s=[];Bf(Fk).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:s}),i(o,s)}return a}else Ms(1,n)},this.produceWithPatches=(n,r)=>{if(Eh(n))return(s,...c)=>this.produceWithPatches(s,l=>n(l,...c));let i,a;return[this.produce(n,r,(s,c)=>{i=s,a=c}),i,a]},fS(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),fS(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),fS(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ys(t)||Ms(8),oA(t)&&(t=Gs(t));const n=tN(this),r=Nk(n,t,void 0);return r[Sa].isManual_=!0,Lk(n),r}finishDraft(t,n){const r=t&&t[Sa];(!r||!r.isManual_)&&Ms(9);const{scope_:i}=r;return eN(i,n),nN(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Bf(Fk).applyPatches_;return oA(t)?i(t,n):this.produce(t,a=>i(a,n))}};function Nk(e,t,n,r){const[i,a]=LC(t)?Bf(Aw).proxyMap_(t,n):UC(t)?Bf(Aw).proxySet_(t,n):JAe(t,n);return((n==null?void 0:n.scope_)??pz()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?YAe(n,a,r):a.callbacks_.push(function(c){var A;(A=c.mapSetPlugin_)==null||A.fixSetContents(a);const{patchPlugin_:l}=c;a.modified_&&l&&l.generatePatches_(a,[],c)}),i}function Gs(e){return oA(e)||Ms(10,e),bz(e)}function bz(e){if(!Ys(e)||NC(e))return e;const t=e[Sa];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Ik(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Ik(e,!0);return FC(n,(i,a)=>{lw(n,i,bz(a))},r),t&&(t.finalized_=!1),n}var tue=new eue,wz=tue.produce;function Cz(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var nue=Cz(),rue=Cz,iue=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ow:ow.apply(null,arguments)};function ds(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(wo(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>uz(r)&&r.type===e,n}var Bz=class qm extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,qm.prototype)}static get[Symbol.species](){return qm}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new qm(...t[0].concat(this)):new qm(...t.concat(this))}};function iN(e){return Ys(e)?wz(e,()=>{}):e}function Iy(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function aue(e){return typeof e=="boolean"}var oue=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new Bz;return n&&(aue(n)?o.push(nue):o.push(rue(n.extraArgument))),o},Sz="RTK_autoBatch",Vn=()=>e=>({payload:e,meta:{[Sz]:!0}}),aN=e=>t=>{setTimeout(t,e)},xz=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const s=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:aN(10):e.type==="callback"?e.queueNotification:aN(e.timeout),l=()=>{o=!1,a&&(a=!1,s.forEach(A=>A()))};return Object.assign({},r,{subscribe(A){const u=()=>i&&A(),d=r.subscribe(u);return s.add(A),()=>{d(),s.delete(A)}},dispatch(A){var u;try{return i=!((u=A==null?void 0:A.meta)!=null&&u[Sz]),a=!i,a&&(o||(o=!0,c(l))),r.dispatch(A)}finally{i=!0}}})},sue=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new Bz(e);return r&&i.push(xz(typeof r=="object"?r:void 0)),i};function cue(e){const t=oue(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let s;if(typeof n=="function")s=n;else if(eI(n))s=Az(n);else throw new Error(wo(1));let c;typeof r=="function"?c=r(t):c=t();let l=ow;i&&(l=iue({trace:!1,...typeof i=="object"&&i}));const A=jAe(...c),u=sue(A);let d=typeof o=="function"?o(u):u();const f=l(...d);return lz(s,a,f)}function kz(e){const t={},n=[];let r;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(wo(28));if(s in t)throw new Error(wo(29));return t[s]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function lue(e){return typeof e=="function"}function Aue(e,t){let[n,r,i]=kz(t),a;if(lue(e))a=()=>iN(e());else{const s=iN(e);a=()=>s}function o(s=a(),c){let l=[n[c.type],...r.filter(({matcher:A})=>A(c)).map(({reducer:A})=>A)];return l.filter(A=>!!A).length===0&&(l=[i]),l.reduce((A,u)=>{if(u)if(oA(A)){const f=u(A,c);return f===void 0?A:f}else{if(Ys(A))return wz(A,d=>u(d,c));{const d=u(A,c);if(d===void 0){if(A===null)return A;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}}return A},s)}return o.getInitialState=a,o}var uue="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",due=(e=21)=>{let t="",n=e;for(;n--;)t+=uue[Math.random()*64|0];return t},fue=Symbol.for("rtk-slice-createasyncthunk");function hue(e,t){return`${e}/${t}`}function pue({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[fue];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(wo(11));const s=(typeof i.reducers=="function"?i.reducers(mue()):i.reducers)||{},c=Object.keys(s),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},A={addCase(C,S){const k=typeof C=="string"?C:C.type;if(!k)throw new Error(wo(12));if(k in l.sliceCaseReducersByType)throw new Error(wo(13));return l.sliceCaseReducersByType[k]=S,A},addMatcher(C,S){return l.sliceMatchers.push({matcher:C,reducer:S}),A},exposeAction(C,S){return l.actionCreators[C]=S,A},exposeCaseReducer(C,S){return l.sliceCaseReducersByName[C]=S,A}};c.forEach(C=>{const S=s[C],k={reducerName:C,type:hue(a,C),createNotation:typeof i.reducers=="function"};yue(S)?wue(k,S,A,t):vue(k,S,A)});function u(){const[C={},S=[],k=void 0]=typeof i.extraReducers=="function"?kz(i.extraReducers):[i.extraReducers],_={...C,...l.sliceCaseReducersByType};return Aue(i.initialState,F=>{for(let P in _)F.addCase(P,_[P]);for(let P of l.sliceMatchers)F.addMatcher(P.matcher,P.reducer);for(let P of S)F.addMatcher(P.matcher,P.reducer);k&&F.addDefaultCase(k)})}const d=C=>C,f=new Map,h=new WeakMap;let p;function v(C,S){return p||(p=u()),p(C,S)}function m(){return p||(p=u()),p.getInitialState()}function w(C,S=!1){function k(F){let P=F[C];return typeof P>"u"&&S&&(P=Iy(h,k,m)),P}function _(F=d){const P=Iy(f,S,()=>new WeakMap);return Iy(P,F,()=>{const U={};for(const[T,O]of Object.entries(i.selectors??{}))U[T]=gue(O,F,()=>Iy(h,F,m),S);return U})}return{reducerPath:C,getSelectors:_,get selectors(){return _(k)},selectSlice:k}}const B={name:a,reducer:v,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:m,...w(o),injectInto(C,{reducerPath:S,...k}={}){const _=S??o;return C.inject({reducerPath:_,reducer:v},k),{...B,...w(_,!0)}}};return B}}function gue(e,t,n,r){function i(a,...o){let s=t(a);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return i.unwrapped=e,i}var Ga=pue();function mue(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function vue({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!bue(r))throw new Error(wo(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?ds(e,o):ds(e))}function yue(e){return e._reducerDefinitionType==="asyncThunk"}function bue(e){return e._reducerDefinitionType==="reducerWithPrepare"}function wue({type:e,reducerName:t},n,r,i){if(!i)throw new Error(wo(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:c,settled:l,options:A}=n,u=i(e,a,A);r.exposeAction(t,u),o&&r.addCase(u.fulfilled,o),s&&r.addCase(u.pending,s),c&&r.addCase(u.rejected,c),l&&r.addMatcher(u.settled,l),r.exposeCaseReducer(t,{fulfilled:o||Fy,pending:s||Fy,rejected:c||Fy,settled:l||Fy})}function Fy(){}var Cue="task",Ez="listener",Tz="completed",iI="cancelled",Bue=`task-${iI}`,Sue=`task-${Tz}`,Mk=`${Ez}-${iI}`,xue=`${Ez}-${Tz}`,RC=class{constructor(e){on(this,"name","TaskAbortError");on(this,"message");this.code=e,this.message=`${Cue} ${iI} (reason: ${e})`}},aI=(e,t)=>{if(typeof e!="function")throw new TypeError(wo(32))},fw=()=>{},_z=(e,t=fw)=>(e.catch(t),e),Pz=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),nf=e=>{if(e.aborted)throw new RC(e.reason)};function Iz(e,t){let n=fw;return new Promise((r,i)=>{const a=()=>i(new RC(e.reason));if(e.aborted){a();return}n=Pz(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=fw})}var kue=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof RC?"cancelled":"rejected",error:n}}finally{t==null||t()}},hw=e=>t=>_z(Iz(e,t).then(n=>(nf(e),n))),Fz=e=>{const t=hw(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:op}=Object,oN={},DC="listenerMiddleware",Eue=(e,t)=>{const n=r=>Pz(e,()=>r.abort(e.reason));return(r,i)=>{aI(r);const a=new AbortController;n(a);const o=kue(async()=>{nf(e),nf(a.signal);const s=await r({pause:hw(a.signal),delay:Fz(a.signal),signal:a.signal});return nf(a.signal),s},()=>a.abort(Sue));return i!=null&&i.autoJoin&&t.push(o.catch(fw)),{result:hw(e)(o),cancel(){a.abort(Bue)}}}},Tue=(e,t)=>{const n=async(r,i)=>{nf(t);let a=()=>{};const s=[new Promise((c,l)=>{let A=e({predicate:r,effect:(u,d)=>{d.unsubscribe(),c([u,d.getState(),d.getOriginalState()])}});a=()=>{A(),l()}})];i!=null&&s.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await Iz(t,Promise.race(s));return nf(t),c}finally{a()}};return(r,i)=>_z(n(r,i))},Oz=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=ds(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(wo(21));return aI(a),{predicate:i,type:t,effect:a}},Lz=op(e=>{const{type:t,predicate:n,effect:r}=Oz(e);return{id:due(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(wo(22))}}},{withTypes:()=>Lz}),sN=(e,t)=>{const{type:n,effect:r,predicate:i}=Oz(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Rk=e=>{e.pending.forEach(t=>{t.abort(Mk)})},_ue=(e,t)=>()=>{for(const n of t.keys())Rk(n);e.clear()},cN=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},Uz=op(ds(`${DC}/add`),{withTypes:()=>Uz}),Pue=ds(`${DC}/removeAll`),Nz=op(ds(`${DC}/remove`),{withTypes:()=>Nz}),Iue=(...e)=>{console.error(`${DC}/error`,...e)},Jv=(e={})=>{const t=new Map,n=new Map,r=f=>{const h=n.get(f)??0;n.set(f,h+1)},i=f=>{const h=n.get(f)??1;h===1?n.delete(f):n.set(f,h-1)},{extra:a,onError:o=Iue}=e;aI(o);const s=f=>(f.unsubscribe=()=>t.delete(f.id),t.set(f.id,f),h=>{f.unsubscribe(),h!=null&&h.cancelActive&&Rk(f)}),c=f=>{const h=sN(t,f)??Lz(f);return s(h)};op(c,{withTypes:()=>c});const l=f=>{const h=sN(t,f);return h&&(h.unsubscribe(),f.cancelActive&&Rk(h)),!!h};op(l,{withTypes:()=>l});const A=async(f,h,p,v)=>{const m=new AbortController,w=Tue(c,m.signal),B=[];try{f.pending.add(m),r(f),await Promise.resolve(f.effect(h,op({},p,{getOriginalState:v,condition:(C,S)=>w(C,S).then(Boolean),take:w,delay:Fz(m.signal),pause:hw(m.signal),extra:a,signal:m.signal,fork:Eue(m.signal,B),unsubscribe:f.unsubscribe,subscribe:()=>{t.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((C,S,k)=>{C!==m&&(C.abort(Mk),k.delete(C))})},cancel:()=>{m.abort(Mk),f.pending.delete(m)},throwIfCancelled:()=>{nf(m.signal)}})))}catch(C){C instanceof RC||cN(o,C,{raisedBy:"effect"})}finally{await Promise.all(B),m.abort(xue),i(f),f.pending.delete(m)}},u=_ue(t,n);return{middleware:f=>h=>p=>{if(!uz(p))return h(p);if(Uz.match(p))return c(p.payload);if(Pue.match(p)){u();return}if(Nz.match(p))return l(p.payload);let v=f.getState();const m=()=>{if(v===oN)throw new Error(wo(23));return v};let w;try{if(w=h(p),t.size>0){const B=f.getState(),C=Array.from(t.values());for(const S of C){let k=!1;try{k=S.predicate(p,B,v)}catch(_){k=!1,cN(o,_,{raisedBy:"predicate"})}k&&A(S,p,f,m)}}}finally{v=oN}return w},startListening:c,stopListening:l,clearListeners:u}};function wo(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Fue={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Mz=Ga({name:"chartLayout",initialState:Fue,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Oue,setLayout:Lue,setChartSize:Uue,setScale:Nue}=Mz.actions,Mue=Mz.reducer;function Rz(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function rn(e){return Number.isFinite(e)}function Hp(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function lN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(n),!0).forEach(function(r){Rue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rue(e,t,n){return(t=Due(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Due(e){var t=Que(e,"string");return typeof t=="symbol"?t:t+""}function Que(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ki(e,t,n){return zi(e)||zi(t)?n:Vc(t)?kC(e,t,n):typeof t=="function"?t(e):n}var jue=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&dt(e[a]))return Vh(Vh({},e),{},{[a]:e[a]+(r||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&dt(e[o]))return Vh(Vh({},e),{},{[o]:e[o]+(i||0)})}return e},gA=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Dz=(e,t,n,r)=>{if(r)return e.map(s=>s.coordinate);var i,a,o=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===n&&(a=!0),s.coordinate));return i||o.push(t),a||o.push(n),o},Qz=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:s,isCategorical:c,categoricalDomain:l,tickCount:A,ticks:u,niceTicks:d,axisType:f}=e;if(!o)return null;var h=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,p=i==="category"&&o.bandwidth?o.bandwidth()/h:0;if(p=f==="angleAxis"&&a&&a.length>=2?is(a[0]-a[1])*2*p:p,u||d){var v=(u||d||[]).map((m,w)=>{var B=r?r.indexOf(m):m,C=o.map(B);return rn(C)?{coordinate:C+p,value:m,offset:p,index:w}:null}).filter(Ra);return v}return c&&l?l.map((m,w)=>{var B=o.map(m);return rn(B)?{coordinate:B+p,value:m,index:w,offset:p}:null}).filter(Ra):o.ticks&&A!=null?o.ticks(A).map((m,w)=>{var B=o.map(m);return rn(B)?{coordinate:B+p,value:m,index:w,offset:p}:null}).filter(Ra):o.domain().map((m,w)=>{var B=o.map(m);return rn(B)?{coordinate:B+p,value:r?r[m]:m,index:w,offset:p}:null}).filter(Ra)},Hue=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,o=0,s=0;s<n;++s){var c=e[s],l=c==null?void 0:c[i];if(l!=null){var A=l[1],u=l[0],d=aA(A)?u:A;d>=0?(l[0]=a,a+=d,l[1]=a):(l[0]=o,o+=d,l[1]=o)}}}},$ue=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,o=0;o<n;++o){var s=e[o],c=s==null?void 0:s[i];if(c!=null){var l=aA(c[1])?c[0]:c[1];l>=0?(c[0]=a,a+=l,c[1]=a):(c[0]=0,c[1]=0)}}}},Kue={sign:Hue,expand:Fle,none:Cf,silhouette:Ole,wiggle:Lle,positive:$ue},Vue=(e,t,n)=>{var r,i=(r=Kue[n])!==null&&r!==void 0?r:Cf,a=Ile().keys(t).value((s,c)=>Number(Ki(s,c,0))).order(kk).offset(i),o=a(e);return o.forEach((s,c)=>{s.forEach((l,A)=>{var u=Ki(e[A],t[c],0);Array.isArray(u)&&u.length===2&&dt(u[0])&&dt(u[1])&&(l[0]=u[0],l[1]=u[1])})}),o};function AN(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!zi(i[t.dataKey])){var s=PV(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n!=null&&n[a]?n[a].coordinate+r/2:null}var c=Ki(i,zi(o)?t.dataKey:o),l=t.scale.map(c);return dt(l)?l:null}var zue=e=>{var t=e.flat(2).filter(dt);return[Math.min(...t),Math.max(...t)]},Wue=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Gue=(e,t,n)=>{if(e!=null)return Wue(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:o}=a,s=o.reduce((c,l)=>{var A=Rz(l,t,n),u=zue(A);return!rn(u[0])||!rn(u[1])?c:[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},uN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pw=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=PC(t,A=>A.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var c=i[o],l=i[o-1];a=Math.min(((c==null?void 0:c.coordinate)||0)-((l==null?void 0:l.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function fN(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Vh(Vh({},t),{},{dataKey:n,payload:r,value:i,name:a})}function jz(e,t){if(e)return String(e);if(typeof t=="string")return t}var que=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Yue=(e,t)=>t==="centric"?e.angle:e.radius,mA=e=>e.layout.width,vA=e=>e.layout.height,Xue=e=>e.layout.scale,Hz=e=>e.layout.margin,QC=Be(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),jC=Be(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Jue="data-recharts-item-index",Zue="data-recharts-item-id",Zv=60;function hN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(n),!0).forEach(function(r){ede(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ede(e,t,n){return(t=tde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tde(e){var t=nde(e,"string");return typeof t=="symbol"?t:t+""}function nde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rde=e=>e.brush.height;function ide(e){var t=jC(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Zv;return n+i}return n},0)}function ade(e){var t=jC(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Zv;return n+i}return n},0)}function ode(e){var t=QC(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function sde(e){var t=QC(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Wi=Be([mA,vA,Hz,rde,ide,ade,ode,sde,cz,UAe],(e,t,n,r,i,a,o,s,c,l)=>{var A={left:(n.left||0)+i,right:(n.right||0)+a},u={top:(n.top||0)+o,bottom:(n.bottom||0)+s},d=Oy(Oy({},u),A),f=d.bottom;d.bottom+=r,d=jue(d,c,l);var h=e-d.left-d.right,p=t-d.top-d.bottom;return Oy(Oy({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(p,0)})}),cde=Be(Wi,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),$z=Be(mA,vA,(e,t)=>({x:0,y:0,width:e,height:t})),lde=y.createContext(null),qa=()=>y.useContext(lde)!=null,HC=e=>e.brush,$C=Be([HC,Wi,Hz],(e,t,n)=>({height:e.height,x:dt(e.x)?e.x:t.left,y:dt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:dt(e.width)?e.width:t.width})),pN=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},Ade={initialDimension:{width:-1,height:-1}},ude=y.createContext(Ade.initialDimension),Kz=()=>y.useContext(ude);function oI(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var KC=()=>{var e,t=qa(),n=pt(cde),r=pt($C),i=(e=pt(HC))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},dde={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Vz=()=>{var e;return(e=pt(Wi))!==null&&e!==void 0?e:dde},zz=()=>pt(mA),Wz=()=>pt(vA),ar=e=>e.layout.layoutType,gg=()=>pt(ar),Gz=()=>{var e=gg();if(e==="horizontal"||e==="vertical")return e},qz=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},fde=()=>{var e=gg();return e!==void 0},e1=e=>{var t=Si(),n=qa(),{width:r,height:i}=e,a=Kz(),o=r,s=i;return a&&(o=a.width>0?a.width:r,s=a.height>0?a.height:i),y.useEffect(()=>{!n&&Hp(o)&&Hp(s)&&t(Uue({width:o,height:s}))},[t,n,o,s]),null},Yz=Symbol.for("immer-nothing"),gN=Symbol.for("immer-draftable"),_o=Symbol.for("immer-state");function Rs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var sv=Object.getPrototypeOf;function $p(e){return!!e&&!!e[_o]}function Sf(e){var t;return e?Xz(e)||Array.isArray(e)||!!e[gN]||!!((t=e.constructor)!=null&&t[gN])||t1(e)||zC(e):!1}var hde=Object.prototype.constructor.toString(),mN=new WeakMap;function Xz(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=mN.get(n);return r===void 0&&(r=Function.toString.call(n),mN.set(n,r)),r===hde}function gw(e,t,n=!0){VC(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function VC(e){const t=e[_o];return t?t.type_:Array.isArray(e)?1:t1(e)?2:zC(e)?3:0}function Dk(e,t){return VC(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Jz(e,t,n){const r=VC(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function pde(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function t1(e){return e instanceof Map}function zC(e){return e instanceof Set}function Id(e){return e.copy_||e.base_}function Qk(e,t){if(t1(e))return new Map(e);if(zC(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Xz(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[_o];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(sv(e),r)}else{const r=sv(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function sI(e,t=!1){return WC(e)||$p(e)||!Sf(e)||(VC(e)>1&&Object.defineProperties(e,{set:Ly,add:Ly,clear:Ly,delete:Ly}),Object.freeze(e),t&&Object.values(e).forEach(n=>sI(n,!0))),e}function gde(){Rs(2)}var Ly={value:gde};function WC(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var mde={};function xf(e){const t=mde[e];return t||Rs(0,e),t}var cv;function Zz(){return cv}function vde(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function vN(e,t){t&&(xf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function jk(e){Hk(e),e.drafts_.forEach(yde),e.drafts_=null}function Hk(e){e===cv&&(cv=e.parent_)}function yN(e){return cv=vde(cv,e)}function yde(e){const t=e[_o];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function bN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[_o].modified_&&(jk(t),Rs(4)),Sf(e)&&(e=mw(t,e),t.parent_||vw(t,e)),t.patches_&&xf("Patches").generateReplacementPatches_(n[_o].base_,e,t.patches_,t.inversePatches_)):e=mw(t,n,[]),jk(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Yz?e:void 0}function mw(e,t,n){if(WC(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[_o];if(!i)return gw(t,(a,o)=>wN(e,i,t,a,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return vw(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,s=!1;i.type_===3&&(o=new Set(a),a.clear(),s=!0),gw(o,(c,l)=>wN(e,i,a,c,l,n,s),r),vw(e,a,!1),n&&e.patches_&&xf("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function wN(e,t,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const s=WC(i);if(!(s&&!o)){if($p(i)){const c=a&&t&&t.type_!==3&&!Dk(t.assigned_,r)?a.concat(r):void 0,l=mw(e,i,c);if(Jz(n,r,l),$p(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Sf(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&s)return;mw(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(t1(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&vw(e,i)}}}function vw(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&sI(t,n)}function bde(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Zz(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=cI;n&&(i=[r],a=lv);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var cI={get(e,t){if(t===_o)return e;const n=Id(e);if(!Dk(n,t))return wde(e,n,t);const r=n[t];return e.finalized_||!Sf(r)?r:r===pS(e.base_,t)?(gS(e),e.copy_[t]=Kk(r,e)):r},has(e,t){return t in Id(e)},ownKeys(e){return Reflect.ownKeys(Id(e))},set(e,t,n){const r=eW(Id(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=pS(Id(e),t),a=i==null?void 0:i[_o];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(pde(n,i)&&(n!==void 0||Dk(e.base_,t)))return!0;gS(e),$k(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return pS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,gS(e),$k(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Id(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Rs(11)},getPrototypeOf(e){return sv(e.base_)},setPrototypeOf(){Rs(12)}},lv={};gw(cI,(e,t)=>{lv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});lv.deleteProperty=function(e,t){return lv.set.call(this,e,t,void 0)};lv.set=function(e,t,n){return cI.set.call(this,e[0],t,n,e[0])};function pS(e,t){const n=e[_o];return(n?Id(n):e)[t]}function wde(e,t,n){var i;const r=eW(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function eW(e,t){if(!(t in e))return;let n=sv(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=sv(n)}}function $k(e){e.modified_||(e.modified_=!0,e.parent_&&$k(e.parent_))}function gS(e){e.copy_||(e.copy_=Qk(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Cde=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(c=a,...l){return o.produce(c,A=>n.call(this,A,...l))}}typeof n!="function"&&Rs(6),r!==void 0&&typeof r!="function"&&Rs(7);let i;if(Sf(t)){const a=yN(this),o=Kk(t,void 0);let s=!0;try{i=n(o),s=!1}finally{s?jk(a):Hk(a)}return vN(a,r),bN(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===Yz&&(i=void 0),this.autoFreeze_&&sI(i,!0),r){const a=[],o=[];xf("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else Rs(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,c=>t(c,...s));let r,i;return[this.produce(t,n,(o,s)=>{r=o,i=s}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Sf(e)||Rs(8),$p(e)&&(e=Bde(e));const t=yN(this),n=Kk(e,void 0);return n[_o].isManual_=!0,Hk(t),n}finishDraft(e,t){const n=e&&e[_o];(!n||!n.isManual_)&&Rs(9);const{scope_:r}=n;return vN(r,t),bN(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=xf("Patches").applyPatches_;return $p(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Kk(e,t){const n=t1(e)?xf("MapSet").proxyMap_(e,t):zC(e)?xf("MapSet").proxySet_(e,t):bde(e,t);return(t?t.scope_:Zz()).drafts_.push(n),n}function Bde(e){return $p(e)||Rs(10,e),tW(e)}function tW(e){if(!Sf(e)||WC(e))return e;const t=e[_o];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Qk(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Qk(e,!0);return gw(n,(i,a)=>{Jz(n,i,tW(a))},r),t&&(t.finalized_=!1),n}var Sde=new Cde;Sde.produce;var xde={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},nW=Ga({name:"legend",initialState:xde,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Vn()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Gs(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Vn()},removeLegendPayload:{reducer(e,t){var n=Gs(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Vn()}}}),{setLegendSize:eRe,setLegendSettings:tRe,addLegendPayload:kde,replaceLegendPayload:Ede,removeLegendPayload:Tde}=nW.actions,_de=nW.reducer;function Vk(){return Vk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vk.apply(null,arguments)}function CN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(n),!0).forEach(function(r){Pde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pde(e,t,n){return(t=Ide(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ide(e){var t=Fde(e,"string");return typeof t=="symbol"?t:t+""}function Fde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ode(e){return Array.isArray(e)&&Vc(e[0])&&Vc(e[1])?e.join(" ~ "):e}var uh={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Lde=e=>{var{separator:t=uh.separator,contentStyle:n,itemStyle:r,labelStyle:i=uh.labelStyle,payload:a,formatter:o,itemSorter:s,wrapperClassName:c,labelClassName:l,label:A,labelFormatter:u,accessibilityLayer:d=uh.accessibilityLayer}=e,f=()=>{if(a&&a.length){var S={padding:0,margin:0},k=(s?PC(a,s):a).map((_,F)=>{if(_.type==="none")return null;var P=_.formatter||o||Ode,{value:U,name:T}=_,O=U,H=T;if(P){var $=P(U,T,_,F,a);if(Array.isArray($))[O,H]=$;else if($!=null)O=$;else return null}var Z=mm(mm({},uh.itemStyle),{},{color:_.color||uh.itemStyle.color},r);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:Z},Vc(H)?y.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Vc(H)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},O),y.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:S},k)}return null},h=mm(mm({},uh.contentStyle),n),p=mm({margin:0},i),v=!zi(A),m=v?A:"",w=Ln("recharts-default-tooltip",c),B=Ln("recharts-tooltip-label",l);v&&u&&a!==void 0&&a!==null&&(m=u(A,a));var C=d?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",Vk({className:w,style:h},C),y.createElement("p",{className:B,style:p},y.isValidElement(m)?m:"".concat(m)),f())},vm="recharts-tooltip-wrapper",Ude={visibility:"hidden"};function Nde(e){var{coordinate:t,translateX:n,translateY:r}=e;return Ln(vm,{["".concat(vm,"-right")]:dt(n)&&t&&dt(t.x)&&n>=t.x,["".concat(vm,"-left")]:dt(n)&&t&&dt(t.x)&&n<t.x,["".concat(vm,"-bottom")]:dt(r)&&t&&dt(t.y)&&r>=t.y,["".concat(vm,"-top")]:dt(r)&&t&&dt(t.y)&&r<t.y})}function BN(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:c,viewBoxDimension:l}=e;if(a&&dt(a[r]))return a[r];var A=n[r]-s-(i>0?i:0),u=n[r]+i;if(t[r])return o[r]?A:u;var d=c[r];if(d==null)return 0;if(o[r]){var f=A,h=d;return f<h?Math.max(u,d):Math.max(A,d)}if(l==null)return 0;var p=u+s,v=d+l;return p>v?Math.max(A,d):Math.max(u,d)}function Mde(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Rde(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:a,reverseDirection:o,tooltipBox:s,useTranslate3d:c,viewBox:l}=e,A,u,d;return s.height>0&&s.width>0&&n?(u=BN({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:a,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=BN({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:a,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),A=Mde({translateX:u,translateY:d,useTranslate3d:c})):A=Ude,{cssProperties:A,cssClasses:Nde({translateX:u,translateY:d,coordinate:n})}}function SN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(n),!0).forEach(function(r){zk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zk(e,t,n){return(t=Dde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dde(e){var t=Qde(e,"string");return typeof t=="symbol"?t:t+""}function Qde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jde extends y.PureComponent{constructor(){super(...arguments),zk(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),zk(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:c,offset:l,position:A,reverseDirection:u,useTranslate3d:d,viewBox:f,wrapperStyle:h,lastBoundingBox:p,innerRef:v,hasPortalFromProps:m}=this.props,w=typeof l=="number"?l:l.x,B=typeof l=="number"?l:l.y,{cssClasses:C,cssProperties:S}=Rde({allowEscapeViewBox:n,coordinate:o,offsetLeft:w,offsetTop:B,position:A,reverseDirection:u,tooltipBox:{height:p.height,width:p.width},useTranslate3d:d,viewBox:f}),k=m?{}:Uy(Uy({transition:c&&t?"transform ".concat(r,"ms ").concat(i):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),_=Uy(Uy({},k),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},h);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:_,ref:v},a)}}var rW=()=>{var e;return(e=pt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Wk(){return Wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wk.apply(null,arguments)}function xN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(n),!0).forEach(function(r){Hde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hde(e,t,n){return(t=$de(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $de(e){var t=Kde(e,"string");return typeof t=="symbol"?t:t+""}function Kde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EN={curveBasisClosed:ble,curveBasisOpen:wle,curveBasis:yle,curveBumpX:ale,curveBumpY:ole,curveLinearClosed:Cle,curveLinear:wC,curveMonotoneX:Ble,curveMonotoneY:Sle,curveNatural:xle,curveStep:kle,curveStepAfter:Tle,curveStepBefore:Ele},yw=e=>rn(e.x)&&rn(e.y),TN=e=>e.base!=null&&yw(e.base)&&yw(e),ym=e=>e.x,bm=e=>e.y,Vde=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(qv(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=EN["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return EN[n]||wC},_N={connectNulls:!1,type:"linear"},zde=e=>{var{type:t=_N.type,points:n=[],baseLine:r,layout:i,connectNulls:a=_N.connectNulls}=e,o=Vde(t,i),s=a?n.filter(yw):n;if(Array.isArray(r)){var c,l=n.map((h,p)=>kN(kN({},h),{},{base:r[p]}));i==="vertical"?c=Ey().y(bm).x1(ym).x0(h=>h.base.x):c=Ey().x(ym).y1(bm).y0(h=>h.base.y);var A=c.defined(TN).curve(o),u=a?l.filter(TN):l;return A(u)}var d;i==="vertical"&&dt(r)?d=Ey().y(bm).x1(ym).x0(r):dt(r)?d=Ey().x(ym).y1(bm).y0(r):d=gV().x(ym).y(bm);var f=d.defined(yw).curve(o);return f(s)},iW=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=gg();if((!n||!n.length)&&!r)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},s=n&&n.length?zde(o):r;return y.createElement("path",Wk({},Kc(e),HP(e),{className:Ln("recharts-curve",t),d:s===null?void 0:s,ref:i}))},Wde=["x","y","top","left","width","height","className"];function Gk(){return Gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gk.apply(null,arguments)}function PN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gde(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(n),!0).forEach(function(r){qde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qde(e,t,n){return(t=Yde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yde(e){var t=Xde(e,"string");return typeof t=="symbol"?t:t+""}function Xde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jde(e,t){if(e==null)return{};var n,r,i=Zde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var efe=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),tfe=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:s}=e,c=Jde(e,Wde),l=Gde({x:t,y:n,top:r,left:i,width:a,height:o},c);return!dt(t)||!dt(n)||!dt(a)||!dt(o)||!dt(r)||!dt(i)?null:y.createElement("path",Gk({},Ba(l),{className:Ln("recharts-cross",s),d:efe(t,n,a,o,r,i)}))};function nfe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function IN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(n),!0).forEach(function(r){rfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rfe(e,t,n){return(t=ife(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ife(e){var t=afe(e,"string");return typeof t=="symbol"?t:t+""}function afe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ofe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),aW=(e,t,n)=>e.map(r=>"".concat(ofe(r)," ").concat(t,"ms ").concat(n)).join(","),sfe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Av=(e,t)=>Object.keys(t).reduce((n,r)=>FN(FN({},n),{},{[r]:e(r,t[r])}),{});function ON(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ON(Object(n),!0).forEach(function(r){cfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ON(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cfe(e,t,n){return(t=lfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lfe(e){var t=Afe(e,"string");return typeof t=="symbol"?t:t+""}function Afe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bw=(e,t,n)=>e+(t-e)*n,qk=e=>{var{from:t,to:n}=e;return t!==n},oW=(e,t,n)=>{var r=Av((i,a)=>{if(qk(a)){var[o,s]=e(a.from,a.to,a.velocity);return Jr(Jr({},a),{},{from:o,velocity:s})}return a},t);return n<1?Av((i,a)=>qk(a)&&r[i]!=null?Jr(Jr({},a),{},{velocity:bw(a.velocity,r[i].velocity,n),from:bw(a.from,r[i].from,n)}):a,t):oW(e,r,n-1)};function ufe(e,t,n,r,i,a){var o,s=r.reduce((d,f)=>Jr(Jr({},d),{},{[f]:{from:e[f],velocity:0,to:t[f]}}),{}),c=()=>Av((d,f)=>f.from,s),l=()=>!Object.values(s).filter(qk).length,A=null,u=d=>{o||(o=d);var f=d-o,h=f/n.dt;s=oW(n,s,h),i(Jr(Jr(Jr({},e),t),c())),o=d,l()||(A=a.setTimeout(u))};return()=>(A=a.setTimeout(u),()=>{var d;(d=A)===null||d===void 0||d()})}function dfe(e,t,n,r,i,a,o){var s=null,c=i.reduce((u,d)=>{var f=e[d],h=t[d];return f==null||h==null?u:Jr(Jr({},u),{},{[d]:[f,h]})},{}),l,A=u=>{l||(l=u);var d=(u-l)/r,f=Av((p,v)=>bw(...v,n(d)),c);if(a(Jr(Jr(Jr({},e),t),f)),d<1)s=o.setTimeout(A);else{var h=Av((p,v)=>bw(...v,n(1)),c);a(Jr(Jr(Jr({},e),t),h))}};return()=>(s=o.setTimeout(A),()=>{var u;(u=s)===null||u===void 0||u()})}const ffe=(e,t,n,r,i,a)=>{var o=sfe(e,t);return n==null?()=>(i(Jr(Jr({},e),t)),()=>{}):n.isStepper===!0?ufe(e,t,n,o,i,a):dfe(e,t,n,r,o,i,a)};var ww=1e-4,sW=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],cW=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),LN=(e,t)=>n=>{var r=sW(e,t);return cW(r,n)},hfe=(e,t)=>n=>{var r=sW(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return cW(i,n)},pfe=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},gfe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=pfe(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},mfe=(e,t,n,r)=>{var i=LN(e,n),a=LN(t,r),o=hfe(e,n),s=l=>l>1?1:l<0?0:l,c=l=>{for(var A=l>1?1:l,u=A,d=0;d<8;++d){var f=i(u)-A,h=o(u);if(Math.abs(f-A)<ww||h<ww)return a(u);u=s(u-f/h)}return a(u)};return c.isStepper=!1,c},UN=function(){return mfe(...gfe(...arguments))},vfe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,s,c)=>{var l=-(o-s)*n,A=c*r,u=c+(l-A)*i/1e3,d=c*i/1e3+o;return Math.abs(d-s)<ww&&Math.abs(u)<ww?[s,0]:[d,u]};return a.isStepper=!0,a.dt=i,a},yfe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return UN(e);case"spring":return vfe();default:if(e.split("(")[0]==="cubic-bezier")return UN(e)}return typeof e=="function"?e:null};function bfe(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[c,...l]=s;if(typeof c=="number"){i=e.setTimeout(a.bind(null,l),c);return}a(c),i=e.setTimeout(a.bind(null,l));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class wfe{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Cfe(){return bfe(new wfe)}var Bfe=y.createContext(Cfe);function Sfe(e,t){var n=y.useContext(Bfe);return y.useMemo(()=>t??n(e),[e,t,n])}var xfe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),GC={isSsr:xfe()},kfe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},NN={t:0},mS={t:1};function lI(e){var t=Wa(e,kfe),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:c,children:l}=t,A=n==="auto"?!GC.isSsr:n,u=Sfe(t.animationId,t.animationManager),[d,f]=y.useState(A?NN:mS),h=y.useRef(null);return y.useEffect(()=>{A||f(mS)},[A]),y.useEffect(()=>{if(!A||!r)return Yv;var p=ffe(NN,mS,yfe(a),i,f,u.getTimeoutController()),v=()=>{h.current=p()};return u.start([c,o,v,i,s]),()=>{u.stop(),h.current&&h.current(),s()}},[A,r,i,a,o,c,s,u]),l(d.t)}function AI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=y.useRef(rv(t)),r=y.useRef(e);return r.current!==e&&(n.current=rv(t),r.current=e),n.current}var Efe=["radius"],Tfe=["radius"],MN,RN,DN,QN,jN,HN,$N,KN,VN,zN;function WN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(n),!0).forEach(function(r){_fe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _fe(e,t,n){return(t=Pfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pfe(e){var t=Ife(e,"string");return typeof t=="symbol"?t:t+""}function Ife(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cw.apply(null,arguments)}function qN(e,t){if(e==null)return{};var n,r,i=Ffe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ffe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Cc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var YN=(e,t,n,r,i)=>{var a=fu(n),o=fu(r),s=Math.min(Math.abs(a)/2,Math.abs(o)/2),c=o>=0?1:-1,l=a>=0?1:-1,A=o>=0&&a>=0||o<0&&a<0?1:0,u;if(s>0&&Array.isArray(i)){for(var d=[0,0,0,0],f=0,h=4;f<h;f++){var p,v=(p=i[f])!==null&&p!==void 0?p:0;d[f]=v>s?s:v}u=ur(MN||(MN=Cc(["M",",",""])),e,t+c*d[0]),d[0]>0&&(u+=ur(RN||(RN=Cc(["A ",",",",0,0,",",",",",""])),d[0],d[0],A,e+l*d[0],t)),u+=ur(DN||(DN=Cc(["L ",",",""])),e+n-l*d[1],t),d[1]>0&&(u+=ur(QN||(QN=Cc(["A ",",",",0,0,",`,
        `,",",""])),d[1],d[1],A,e+n,t+c*d[1])),u+=ur(jN||(jN=Cc(["L ",",",""])),e+n,t+r-c*d[2]),d[2]>0&&(u+=ur(HN||(HN=Cc(["A ",",",",0,0,",`,
        `,",",""])),d[2],d[2],A,e+n-l*d[2],t+r)),u+=ur($N||($N=Cc(["L ",",",""])),e+l*d[3],t+r),d[3]>0&&(u+=ur(KN||(KN=Cc(["A ",",",",0,0,",`,
        `,",",""])),d[3],d[3],A,e,t+r-c*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);u=ur(VN||(VN=Cc(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*m,m,m,A,e+l*m,t,e+n-l*m,t,m,m,A,e+n,t+c*m,e+n,t+r-c*m,m,m,A,e+n-l*m,t+r,e+l*m,t+r,m,m,A,e,t+r-c*m)}else u=ur(zN||(zN=Cc(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return u},XN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lW=e=>{var t=Wa(e,XN),n=y.useRef(null),[r,i]=y.useState(-1);y.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ie=n.current.getTotalLength();ie&&i(ie)}catch{}},[]);var{x:a,y:o,width:s,height:c,radius:l,className:A}=t,{animationEasing:u,animationDuration:d,animationBegin:f,isAnimationActive:h,isUpdateAnimationActive:p}=t,v=y.useRef(s),m=y.useRef(c),w=y.useRef(a),B=y.useRef(o),C=y.useMemo(()=>({x:a,y:o,width:s,height:c,radius:l}),[a,o,s,c,l]),S=AI(C,"rectangle-");if(a!==+a||o!==+o||s!==+s||c!==+c||s===0||c===0)return null;var k=Ln("recharts-rectangle",A);if(!p){var _=Ba(t),{radius:F}=_,P=qN(_,Efe);return y.createElement("path",Cw({},P,{x:fu(a),y:fu(o),width:fu(s),height:fu(c),radius:typeof l=="number"?l:void 0,className:k,d:YN(a,o,s,c,l)}))}var U=v.current,T=m.current,O=w.current,H=B.current,$="0px ".concat(r===-1?1:r,"px"),Z="".concat(r,"px 0px"),ae=aW(["strokeDasharray"],d,typeof u=="string"?u:XN.animationEasing);return y.createElement(lI,{animationId:S,key:S,canBegin:r>0,duration:d,easing:u,isActive:p,begin:f},ie=>{var W=Na(U,s,ie),te=Na(T,c,ie),de=Na(O,a,ie),pe=Na(H,o,ie);n.current&&(v.current=W,m.current=te,w.current=de,B.current=pe);var R;h?ie>0?R={transition:ae,strokeDasharray:Z}:R={strokeDasharray:$}:R={strokeDasharray:Z};var z=Ba(t),{radius:X}=z,re=qN(z,Tfe);return y.createElement("path",Cw({},re,{radius:typeof l=="number"?l:void 0,className:k,d:YN(de,pe,W,te,l),ref:n,style:GN(GN({},R),t.style)}))})};function JN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(n),!0).forEach(function(r){Ofe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ofe(e,t,n){return(t=Lfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lfe(e){var t=Ufe(e,"string");return typeof t=="symbol"?t:t+""}function Ufe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bw=Math.PI/180,Nfe=e=>e*180/Math.PI,Ri=(e,t,n,r)=>({x:e+Math.cos(-Bw*r)*n,y:t+Math.sin(-Bw*r)*n}),Mfe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Rfe=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},Dfe=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=Rfe({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(n-i)/o,c=Math.acos(s);return r>a&&(c=2*Math.PI-c),{radius:o,angle:Nfe(c),angleInRadian:c}},Qfe=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},jfe=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},Hfe=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=Dfe({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:c,endAngle:l}=Qfe(t),A=a,u;if(c<=l){for(;A>l;)A-=360;for(;A<c;)A+=360;u=A>=c&&A<=l}else{for(;A>c;)A-=360;for(;A<l;)A+=360;u=A>=l&&A<=c}return u?ZN(ZN({},t),{},{radius:i,angle:jfe(A,t)}):null};function AW(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=Ri(t,n,r,i),s=Ri(t,n,r,a);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var e8,t8,n8,r8,i8,a8,o8;function Yk(){return Yk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yk.apply(null,arguments)}function $d(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $fe=(e,t)=>{var n=is(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Ny=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:c}=e,l=s*(o?1:-1)+r,A=Math.asin(s/l)/Bw,u=c?i:i+a*A,d=Ri(t,n,l,u),f=Ri(t,n,r,u),h=c?i-a*A:i,p=Ri(t,n,l*Math.cos(A*Bw),h);return{center:d,circleTangency:f,lineTangency:p,theta:A}},uW=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,s=$fe(a,o),c=a+s,l=Ri(t,n,i,a),A=Ri(t,n,i,c),u=ur(e8||(e8=$d(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),l.x,l.y,i,i,+(Math.abs(s)>180),+(a>c),A.x,A.y);if(r>0){var d=Ri(t,n,r,a),f=Ri(t,n,r,c);u+=ur(t8||(t8=$d(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),f.x,f.y,r,r,+(Math.abs(s)>180),+(a<=c),d.x,d.y)}else u+=ur(n8||(n8=$d(["L ",","," Z"])),t,n);return u},Kfe=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:c,endAngle:l}=e,A=is(l-c),{circleTangency:u,lineTangency:d,theta:f}=Ny({cx:t,cy:n,radius:i,angle:c,sign:A,cornerRadius:a,cornerIsExternal:s}),{circleTangency:h,lineTangency:p,theta:v}=Ny({cx:t,cy:n,radius:i,angle:l,sign:-A,cornerRadius:a,cornerIsExternal:s}),m=s?Math.abs(c-l):Math.abs(c-l)-f-v;if(m<0)return o?ur(r8||(r8=$d(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),d.x,d.y,a,a,a*2,a,a,-a*2):uW({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:l});var w=ur(i8||(i8=$d(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),d.x,d.y,a,a,+(A<0),u.x,u.y,i,i,+(m>180),+(A<0),h.x,h.y,a,a,+(A<0),p.x,p.y);if(r>0){var{circleTangency:B,lineTangency:C,theta:S}=Ny({cx:t,cy:n,radius:r,angle:c,sign:A,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:k,lineTangency:_,theta:F}=Ny({cx:t,cy:n,radius:r,angle:l,sign:-A,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),P=s?Math.abs(c-l):Math.abs(c-l)-S-F;if(P<0&&a===0)return"".concat(w,"L").concat(t,",").concat(n,"Z");w+=ur(a8||(a8=$d(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),_.x,_.y,a,a,+(A<0),k.x,k.y,r,r,+(P>180),+(A>0),B.x,B.y,a,a,+(A<0),C.x,C.y)}else w+=ur(o8||(o8=$d(["L",",","Z"])),t,n);return w},Vfe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},dW=e=>{var t=Wa(e,Vfe),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:c,startAngle:l,endAngle:A,className:u}=t;if(a<i||l===A)return null;var d=Ln("recharts-sector",u),f=a-i,h=Hu(o,f,0,!0),p;return h>0&&Math.abs(l-A)<360?p=Kfe({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(h,f/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:l,endAngle:A}):p=uW({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:l,endAngle:A}),y.createElement("path",Yk({},Ba(t),{className:d,d:p}))};function zfe(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(OV(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:s}=t,c=Ri(r,i,a,s),l=Ri(r,i,o,s);return[{x:c.x,y:c.y},{x:l.x,y:l.y}]}return AW(t)}}var fW={},hW={},pW={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JP;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(pW);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pW;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(hW);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZP,n=hW;function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),c=new Array(s);for(let l=0;l<s;l++)c[l]=i,i+=o;return c}e.range=r})(fW);var Wfe=fW.range;const gW=Gu(Wfe);function Pu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Gfe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uI(e){let t,n,r;e.length!==2?(t=Pu,n=(s,c)=>Pu(e(s),c),r=(s,c)=>e(s)-c):(t=e===Pu||e===Gfe?e:qfe,n=e,r=e);function i(s,c,l=0,A=s.length){if(l<A){if(t(c,c)!==0)return A;do{const u=l+A>>>1;n(s[u],c)<0?l=u+1:A=u}while(l<A)}return l}function a(s,c,l=0,A=s.length){if(l<A){if(t(c,c)!==0)return A;do{const u=l+A>>>1;n(s[u],c)<=0?l=u+1:A=u}while(l<A)}return l}function o(s,c,l=0,A=s.length){const u=i(s,c,l,A-1);return u>l&&r(s[u-1],c)>-r(s[u],c)?u-1:u}return{left:i,center:o,right:a}}function qfe(){return 0}function mW(e){return e===null?NaN:+e}function*Yfe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Xfe=uI(Pu),n1=Xfe.right;uI(mW).center;class s8 extends Map{constructor(t,n=ehe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(c8(this,t))}has(t){return super.has(c8(this,t))}set(t,n){return super.set(Jfe(this,t),n)}delete(t){return super.delete(Zfe(this,t))}}function c8({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Jfe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Zfe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function ehe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function the(e=Pu){if(e===Pu)return vW;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function vW(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const nhe=Math.sqrt(50),rhe=Math.sqrt(10),ihe=Math.sqrt(2);function Sw(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=nhe?10:a>=rhe?5:a>=ihe?2:1;let s,c,l;return i<0?(l=Math.pow(10,-i)/o,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=Math.pow(10,i)*o,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=n&&n<2?Sw(e,t,n*2):[s,c,l]}function Xk(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?Sw(t,e,n):Sw(e,t,n);if(!(a>=i))return[];const s=a-i+1,c=new Array(s);if(r)if(o<0)for(let l=0;l<s;++l)c[l]=(a-l)/-o;else for(let l=0;l<s;++l)c[l]=(a-l)*o;else if(o<0)for(let l=0;l<s;++l)c[l]=(i+l)/-o;else for(let l=0;l<s;++l)c[l]=(i+l)*o;return c}function Jk(e,t,n){return t=+t,e=+e,n=+n,Sw(e,t,n)[2]}function Zk(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Jk(t,e,n):Jk(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function l8(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function A8(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function yW(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?vW:the(i);r>n;){if(r-n>600){const c=r-n+1,l=t-n+1,A=Math.log(c),u=.5*Math.exp(2*A/3),d=.5*Math.sqrt(A*u*(c-u)/c)*(l-c/2<0?-1:1),f=Math.max(n,Math.floor(t-l*u/c+d)),h=Math.min(r,Math.floor(t+(c-l)*u/c+d));yW(e,t,f,h,i)}const a=e[t];let o=n,s=r;for(wm(e,n,t),i(e[r],a)>0&&wm(e,n,r);o<s;){for(wm(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?wm(e,n,s):(++s,wm(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function wm(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ahe(e,t,n){if(e=Float64Array.from(Yfe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return A8(e);if(t>=1)return l8(e);var r,i=(r-1)*t,a=Math.floor(i),o=l8(yW(e,a).subarray(0,a+1)),s=A8(e.subarray(a+1));return o+(s-o)*(i-a)}}function ohe(e,t,n=mW){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function she(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function vs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function yA(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const eE=Symbol("implicit");function dI(){var e=new s8,t=[],n=[],r=eE;function i(a){let o=e.get(a);if(o===void 0){if(r!==eE)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new s8;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return dI(t,n).unknown(r)},vs.apply(i,arguments),i}function fI(){var e=dI().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,c=0,l=0,A=.5;delete e.unknown;function u(){var d=t().length,f=i<r,h=f?i:r,p=f?r:i;a=(p-h)/Math.max(1,d-c+l*2),s&&(a=Math.floor(a)),h+=(p-h-a*(d-c))*A,o=a*(1-c),s&&(h=Math.round(h),o=Math.round(o));var v=she(d).map(function(m){return h+a*m});return n(f?v.reverse():v)}return e.domain=function(d){return arguments.length?(t(d),u()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,u()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,u()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(d){return arguments.length?(s=!!d,u()):s},e.padding=function(d){return arguments.length?(c=Math.min(1,l=+d),u()):c},e.paddingInner=function(d){return arguments.length?(c=Math.min(1,d),u()):c},e.paddingOuter=function(d){return arguments.length?(l=+d,u()):l},e.align=function(d){return arguments.length?(A=Math.max(0,Math.min(1,d)),u()):A},e.copy=function(){return fI(t(),[r,i]).round(s).paddingInner(c).paddingOuter(l).align(A)},vs.apply(u(),arguments)}function bW(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return bW(t())},e}function che(){return bW(fI.apply(null,arguments).paddingInner(1))}function hI(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function wW(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function r1(){}var uv=.7,xw=1/uv,sp="\\s*([+-]?\\d+)\\s*",dv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lhe=/^#([0-9a-f]{3,8})$/,Ahe=new RegExp(`^rgb\\(${sp},${sp},${sp}\\)$`),uhe=new RegExp(`^rgb\\(${Qc},${Qc},${Qc}\\)$`),dhe=new RegExp(`^rgba\\(${sp},${sp},${sp},${dv}\\)$`),fhe=new RegExp(`^rgba\\(${Qc},${Qc},${Qc},${dv}\\)$`),hhe=new RegExp(`^hsl\\(${dv},${Qc},${Qc}\\)$`),phe=new RegExp(`^hsla\\(${dv},${Qc},${Qc},${dv}\\)$`),u8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hI(r1,fv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:d8,formatHex:d8,formatHex8:ghe,formatHsl:mhe,formatRgb:f8,toString:f8});function d8(){return this.rgb().formatHex()}function ghe(){return this.rgb().formatHex8()}function mhe(){return CW(this).formatHsl()}function f8(){return this.rgb().formatRgb()}function fv(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lhe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?h8(t):n===3?new Da(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?My(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?My(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ahe.exec(e))?new Da(t[1],t[2],t[3],1):(t=uhe.exec(e))?new Da(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dhe.exec(e))?My(t[1],t[2],t[3],t[4]):(t=fhe.exec(e))?My(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hhe.exec(e))?m8(t[1],t[2]/100,t[3]/100,1):(t=phe.exec(e))?m8(t[1],t[2]/100,t[3]/100,t[4]):u8.hasOwnProperty(e)?h8(u8[e]):e==="transparent"?new Da(NaN,NaN,NaN,0):null}function h8(e){return new Da(e>>16&255,e>>8&255,e&255,1)}function My(e,t,n,r){return r<=0&&(e=t=n=NaN),new Da(e,t,n,r)}function vhe(e){return e instanceof r1||(e=fv(e)),e?(e=e.rgb(),new Da(e.r,e.g,e.b,e.opacity)):new Da}function tE(e,t,n,r){return arguments.length===1?vhe(e):new Da(e,t,n,r??1)}function Da(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}hI(Da,tE,wW(r1,{brighter(e){return e=e==null?xw:Math.pow(xw,e),new Da(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?uv:Math.pow(uv,e),new Da(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Da(rf(this.r),rf(this.g),rf(this.b),kw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p8,formatHex:p8,formatHex8:yhe,formatRgb:g8,toString:g8}));function p8(){return`#${Kd(this.r)}${Kd(this.g)}${Kd(this.b)}`}function yhe(){return`#${Kd(this.r)}${Kd(this.g)}${Kd(this.b)}${Kd((isNaN(this.opacity)?1:this.opacity)*255)}`}function g8(){const e=kw(this.opacity);return`${e===1?"rgb(":"rgba("}${rf(this.r)}, ${rf(this.g)}, ${rf(this.b)}${e===1?")":`, ${e})`}`}function kw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function rf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Kd(e){return e=rf(e),(e<16?"0":"")+e.toString(16)}function m8(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ds(e,t,n,r)}function CW(e){if(e instanceof Ds)return new Ds(e.h,e.s,e.l,e.opacity);if(e instanceof r1||(e=fv(e)),!e)return new Ds;if(e instanceof Ds)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new Ds(o,s,c,e.opacity)}function bhe(e,t,n,r){return arguments.length===1?CW(e):new Ds(e,t,n,r??1)}function Ds(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}hI(Ds,bhe,wW(r1,{brighter(e){return e=e==null?xw:Math.pow(xw,e),new Ds(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?uv:Math.pow(uv,e),new Ds(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Da(vS(e>=240?e-240:e+120,i,r),vS(e,i,r),vS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ds(v8(this.h),Ry(this.s),Ry(this.l),kw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=kw(this.opacity);return`${e===1?"hsl(":"hsla("}${v8(this.h)}, ${Ry(this.s)*100}%, ${Ry(this.l)*100}%${e===1?")":`, ${e})`}`}}));function v8(e){return e=(e||0)%360,e<0?e+360:e}function Ry(e){return Math.max(0,Math.min(1,e||0))}function vS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const pI=e=>()=>e;function whe(e,t){return function(n){return e+n*t}}function Che(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Bhe(e){return(e=+e)==1?BW:function(t,n){return n-t?Che(t,n,e):pI(isNaN(t)?n:t)}}function BW(e,t){var n=t-e;return n?whe(e,n):pI(isNaN(e)?t:e)}const y8=function e(t){var n=Bhe(t);function r(i,a){var o=n((i=tE(i)).r,(a=tE(a)).r),s=n(i.g,a.g),c=n(i.b,a.b),l=BW(i.opacity,a.opacity);return function(A){return i.r=o(A),i.g=s(A),i.b=c(A),i.opacity=l(A),i+""}}return r.gamma=e,r}(1);function She(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function xhe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function khe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=mg(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Ehe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ew(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function The(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=mg(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var nE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yS=new RegExp(nE.source,"g");function _he(e){return function(){return e}}function Phe(e){return function(t){return e(t)+""}}function Ihe(e,t){var n=nE.lastIndex=yS.lastIndex=0,r,i,a,o=-1,s=[],c=[];for(e=e+"",t=t+"";(r=nE.exec(e))&&(i=yS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:Ew(r,i)})),n=yS.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?Phe(c[0].x):_he(t):(t=c.length,function(l){for(var A=0,u;A<t;++A)s[(u=c[A]).i]=u.x(l);return s.join("")})}function mg(e,t){var n=typeof t,r;return t==null||n==="boolean"?pI(t):(n==="number"?Ew:n==="string"?(r=fv(t))?(t=r,y8):Ihe:t instanceof fv?y8:t instanceof Date?Ehe:xhe(t)?She:Array.isArray(t)?khe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?The:Ew)(e,t)}function gI(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Fhe(e,t){t===void 0&&(t=e,e=mg);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Ohe(e){return function(){return e}}function Tw(e){return+e}var b8=[0,1];function va(e){return e}function rE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ohe(isNaN(t)?NaN:.5)}function Lhe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Uhe(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=rE(i,r),a=n(o,a)):(r=rE(r,i),a=n(a,o)),function(s){return a(r(s))}}function Nhe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=rE(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var c=n1(e,s,1,r)-1;return a[c](i[c](s))}}function i1(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function qC(){var e=b8,t=b8,n=mg,r,i,a,o=va,s,c,l;function A(){var d=Math.min(e.length,t.length);return o!==va&&(o=Lhe(e[0],e[d-1])),s=d>2?Nhe:Uhe,c=l=null,u}function u(d){return d==null||isNaN(d=+d)?a:(c||(c=s(e.map(r),t,n)))(r(o(d)))}return u.invert=function(d){return o(i((l||(l=s(t,e.map(r),Ew)))(d)))},u.domain=function(d){return arguments.length?(e=Array.from(d,Tw),A()):e.slice()},u.range=function(d){return arguments.length?(t=Array.from(d),A()):t.slice()},u.rangeRound=function(d){return t=Array.from(d),n=gI,A()},u.clamp=function(d){return arguments.length?(o=d?!0:va,A()):o!==va},u.interpolate=function(d){return arguments.length?(n=d,A()):n},u.unknown=function(d){return arguments.length?(a=d,u):a},function(d,f){return r=d,i=f,A()}}function mI(){return qC()(va,va)}function Mhe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _w(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Kp(e){return e=_w(Math.abs(e)),e?e[1]:NaN}function Rhe(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),a.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Dhe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Qhe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hv(e){if(!(t=Qhe.exec(e)))throw new Error("invalid format: "+e);var t;return new vI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}hv.prototype=vI.prototype;function vI(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}vI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jhe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Pw;function Hhe(e,t){var n=_w(e,t);if(!n)return Pw=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(Pw=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+_w(e,Math.max(0,t+a-1))[0]}function w8(e,t){var n=_w(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const C8={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Mhe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>w8(e*100,t),r:w8,s:Hhe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function B8(e){return e}var S8=Array.prototype.map,x8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $he(e){var t=e.grouping===void 0||e.thousands===void 0?B8:Rhe(S8.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?B8:Dhe(S8.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(u,d){u=hv(u);var f=u.fill,h=u.align,p=u.sign,v=u.symbol,m=u.zero,w=u.width,B=u.comma,C=u.precision,S=u.trim,k=u.type;k==="n"?(B=!0,k="g"):C8[k]||(C===void 0&&(C=12),S=!0,k="g"),(m||f==="0"&&h==="=")&&(m=!0,f="0",h="=");var _=(d&&d.prefix!==void 0?d.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():""),F=(v==="$"?r:/[%p]/.test(k)?o:"")+(d&&d.suffix!==void 0?d.suffix:""),P=C8[k],U=/[defgprs%]/.test(k);C=C===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function T(O){var H=_,$=F,Z,ae,ie;if(k==="c")$=P(O)+$,O="";else{O=+O;var W=O<0||1/O<0;if(O=isNaN(O)?c:P(Math.abs(O),C),S&&(O=jhe(O)),W&&+O==0&&p!=="+"&&(W=!1),H=(W?p==="("?p:s:p==="-"||p==="("?"":p)+H,$=(k==="s"&&!isNaN(O)&&Pw!==void 0?x8[8+Pw/3]:"")+$+(W&&p==="("?")":""),U){for(Z=-1,ae=O.length;++Z<ae;)if(ie=O.charCodeAt(Z),48>ie||ie>57){$=(ie===46?i+O.slice(Z+1):O.slice(Z))+$,O=O.slice(0,Z);break}}}B&&!m&&(O=t(O,1/0));var te=H.length+O.length+$.length,de=te<w?new Array(w-te+1).join(f):"";switch(B&&m&&(O=t(de+O,de.length?w-$.length:1/0),de=""),h){case"<":O=H+O+$+de;break;case"=":O=H+de+O+$;break;case"^":O=de.slice(0,te=de.length>>1)+H+O+$+de.slice(te);break;default:O=de+H+O+$;break}return a(O)}return T.toString=function(){return u+""},T}function A(u,d){var f=Math.max(-8,Math.min(8,Math.floor(Kp(d)/3)))*3,h=Math.pow(10,-f),p=l((u=hv(u),u.type="f",u),{suffix:x8[8+f/3]});return function(v){return p(h*v)}}return{format:l,formatPrefix:A}}var Dy,yI,SW;Khe({thousands:",",grouping:[3],currency:["$",""]});function Khe(e){return Dy=$he(e),yI=Dy.format,SW=Dy.formatPrefix,Dy}function Vhe(e){return Math.max(0,-Kp(Math.abs(e)))}function zhe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kp(t)/3)))*3-Kp(Math.abs(e)))}function Whe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Kp(t)-Kp(e))+1}function xW(e,t,n,r){var i=Zk(e,t,n),a;switch(r=hv(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=zhe(i,o))&&(r.precision=a),SW(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Whe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Vhe(i))&&(r.precision=a-(r.type==="%")*2);break}}return yI(r)}function Zu(e){var t=e.domain;return e.ticks=function(n){var r=t();return Xk(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return xW(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],c,l,A=10;for(s<o&&(l=o,o=s,s=l,l=i,i=a,a=l);A-- >0;){if(l=Jk(o,s,n),l===c)return r[i]=o,r[a]=s,t(r);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;c=l}return e},e}function kW(){var e=mI();return e.copy=function(){return i1(e,kW())},vs.apply(e,arguments),Zu(e)}function EW(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Tw),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return EW(e).unknown(t)},e=arguments.length?Array.from(e,Tw):[0,1],Zu(n)}function TW(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function k8(e){return Math.log(e)}function E8(e){return Math.exp(e)}function Ghe(e){return-Math.log(-e)}function qhe(e){return-Math.exp(-e)}function Yhe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Xhe(e){return e===10?Yhe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Jhe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function T8(e){return(t,n)=>-e(-t,n)}function bI(e){const t=e(k8,E8),n=t.domain;let r=10,i,a;function o(){return i=Jhe(r),a=Xhe(r),n()[0]<0?(i=T8(i),a=T8(a),e(Ghe,qhe)):e(k8,E8),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const c=n();let l=c[0],A=c[c.length-1];const u=A<l;u&&([l,A]=[A,l]);let d=i(l),f=i(A),h,p;const v=s==null?10:+s;let m=[];if(!(r%1)&&f-d<v){if(d=Math.floor(d),f=Math.ceil(f),l>0){for(;d<=f;++d)for(h=1;h<r;++h)if(p=d<0?h/a(-d):h*a(d),!(p<l)){if(p>A)break;m.push(p)}}else for(;d<=f;++d)for(h=r-1;h>=1;--h)if(p=d>0?h/a(-d):h*a(d),!(p<l)){if(p>A)break;m.push(p)}m.length*2<v&&(m=Xk(l,A,v))}else m=Xk(d,f,Math.min(f-d,v)).map(a);return u?m.reverse():m},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=hv(c)).precision==null&&(c.trim=!0),c=yI(c)),s===1/0)return c;const l=Math.max(1,r*s/t.ticks().length);return A=>{let u=A/a(Math.round(i(A)));return u*r<r-.5&&(u*=r),u<=l?c(A):""}},t.nice=()=>n(TW(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function _W(){const e=bI(qC()).domain([1,10]);return e.copy=()=>i1(e,_W()).base(e.base()),vs.apply(e,arguments),e}function _8(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function P8(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function wI(e){var t=1,n=e(_8(t),P8(t));return n.constant=function(r){return arguments.length?e(_8(t=+r),P8(t)):t},Zu(n)}function PW(){var e=wI(qC());return e.copy=function(){return i1(e,PW()).constant(e.constant())},vs.apply(e,arguments)}function I8(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Zhe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function epe(e){return e<0?-e*e:e*e}function CI(e){var t=e(va,va),n=1;function r(){return n===1?e(va,va):n===.5?e(Zhe,epe):e(I8(n),I8(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Zu(t)}function BI(){var e=CI(qC());return e.copy=function(){return i1(e,BI()).exponent(e.exponent())},vs.apply(e,arguments),e}function tpe(){return BI.apply(null,arguments).exponent(.5)}function F8(e){return Math.sign(e)*e*e}function npe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function IW(){var e=mI(),t=[0,1],n=!1,r;function i(a){var o=npe(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(F8(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Tw)).map(F8)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return IW(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},vs.apply(i,arguments),Zu(i)}function FW(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=ohe(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[n1(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Pu),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return FW().domain(e).range(t).unknown(r)},vs.apply(a,arguments)}function OW(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[n1(r,c,0,n)]:a}function s(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,s()):i.slice()},o.invertExtent=function(c){var l=i.indexOf(c);return l<0?[NaN,NaN]:l<1?[e,r[0]]:l>=n?[r[n-1],t]:[r[l-1],r[l]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return OW().domain([e,t]).range(i).unknown(a)},vs.apply(Zu(o),arguments)}function LW(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[n1(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return LW().domain(e).range(t).unknown(n)},vs.apply(i,arguments)}const bS=new Date,wS=new Date;function si(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const c=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return c;let l;do c.push(l=new Date(+a)),t(a,s),e(a);while(l<a&&a<o);return c},i.filter=a=>si(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(bS.setTime(+a),wS.setTime(+o),e(bS),e(wS),Math.floor(n(bS,wS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Iw=si(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Iw.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?si(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Iw);Iw.range;const $l=1e3,as=$l*60,Kl=as*60,sA=Kl*24,SI=sA*7,O8=sA*30,CS=sA*365,Vd=si(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$l)},(e,t)=>(t-e)/$l,e=>e.getUTCSeconds());Vd.range;const xI=si(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$l)},(e,t)=>{e.setTime(+e+t*as)},(e,t)=>(t-e)/as,e=>e.getMinutes());xI.range;const kI=si(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*as)},(e,t)=>(t-e)/as,e=>e.getUTCMinutes());kI.range;const EI=si(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$l-e.getMinutes()*as)},(e,t)=>{e.setTime(+e+t*Kl)},(e,t)=>(t-e)/Kl,e=>e.getHours());EI.range;const TI=si(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Kl)},(e,t)=>(t-e)/Kl,e=>e.getUTCHours());TI.range;const a1=si(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*as)/sA,e=>e.getDate()-1);a1.range;const YC=si(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/sA,e=>e.getUTCDate()-1);YC.range;const UW=si(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/sA,e=>Math.floor(e/sA));UW.range;function $f(e){return si(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*as)/SI)}const XC=$f(0),Fw=$f(1),rpe=$f(2),ipe=$f(3),Vp=$f(4),ape=$f(5),ope=$f(6);XC.range;Fw.range;rpe.range;ipe.range;Vp.range;ape.range;ope.range;function Kf(e){return si(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/SI)}const JC=Kf(0),Ow=Kf(1),spe=Kf(2),cpe=Kf(3),zp=Kf(4),lpe=Kf(5),Ape=Kf(6);JC.range;Ow.range;spe.range;cpe.range;zp.range;lpe.range;Ape.range;const _I=si(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_I.range;const PI=si(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());PI.range;const cA=si(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());cA.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:si(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});cA.range;const lA=si(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());lA.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:si(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});lA.range;function NW(e,t,n,r,i,a){const o=[[Vd,1,$l],[Vd,5,5*$l],[Vd,15,15*$l],[Vd,30,30*$l],[a,1,as],[a,5,5*as],[a,15,15*as],[a,30,30*as],[i,1,Kl],[i,3,3*Kl],[i,6,6*Kl],[i,12,12*Kl],[r,1,sA],[r,2,2*sA],[n,1,SI],[t,1,O8],[t,3,3*O8],[e,1,CS]];function s(l,A,u){const d=A<l;d&&([l,A]=[A,l]);const f=u&&typeof u.range=="function"?u:c(l,A,u),h=f?f.range(l,+A+1):[];return d?h.reverse():h}function c(l,A,u){const d=Math.abs(A-l)/u,f=uI(([,,v])=>v).right(o,d);if(f===o.length)return e.every(Zk(l/CS,A/CS,u));if(f===0)return Iw.every(Math.max(Zk(l,A,u),1));const[h,p]=o[d/o[f-1][2]<o[f][2]/d?f-1:f];return h.every(p)}return[s,c]}const[upe,dpe]=NW(lA,PI,JC,UW,TI,kI),[fpe,hpe]=NW(cA,_I,XC,a1,EI,xI);function BS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function SS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cm(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function ppe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,l=Bm(i),A=Sm(i),u=Bm(a),d=Sm(a),f=Bm(o),h=Sm(o),p=Bm(s),v=Sm(s),m=Bm(c),w=Sm(c),B={a:ie,A:W,b:te,B:de,c:null,d:D8,e:D8,f:Rpe,g:Gpe,G:Ype,H:Upe,I:Npe,j:Mpe,L:MW,m:Dpe,M:Qpe,p:pe,q:R,Q:H8,s:$8,S:jpe,u:Hpe,U:$pe,V:Kpe,w:Vpe,W:zpe,x:null,X:null,y:Wpe,Y:qpe,Z:Xpe,"%":j8},C={a:z,A:X,b:re,B:oe,c:null,d:Q8,e:Q8,f:tge,g:uge,G:fge,H:Jpe,I:Zpe,j:ege,L:DW,m:nge,M:rge,p:ce,q:be,Q:H8,s:$8,S:ige,u:age,U:oge,V:sge,w:cge,W:lge,x:null,X:null,y:Age,Y:dge,Z:hge,"%":j8},S={a:U,A:T,b:O,B:H,c:$,d:M8,e:M8,f:Ipe,g:N8,G:U8,H:R8,I:R8,j:Epe,L:Ppe,m:kpe,M:Tpe,p:P,q:xpe,Q:Ope,s:Lpe,S:_pe,u:bpe,U:wpe,V:Cpe,w:ype,W:Bpe,x:Z,X:ae,y:N8,Y:U8,Z:Spe,"%":Fpe};B.x=k(n,B),B.X=k(r,B),B.c=k(t,B),C.x=k(n,C),C.X=k(r,C),C.c=k(t,C);function k(ee,ge){return function(xe){var ne=[],Ce=-1,Ue=0,Q=ee.length,ke,je,De;for(xe instanceof Date||(xe=new Date(+xe));++Ce<Q;)ee.charCodeAt(Ce)===37&&(ne.push(ee.slice(Ue,Ce)),(je=L8[ke=ee.charAt(++Ce)])!=null?ke=ee.charAt(++Ce):je=ke==="e"?" ":"0",(De=ge[ke])&&(ke=De(xe,je)),ne.push(ke),Ue=Ce+1);return ne.push(ee.slice(Ue,Ce)),ne.join("")}}function _(ee,ge){return function(xe){var ne=Cm(1900,void 0,1),Ce=F(ne,ee,xe+="",0),Ue,Q;if(Ce!=xe.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(ge&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(Ue=SS(Cm(ne.y,0,1)),Q=Ue.getUTCDay(),Ue=Q>4||Q===0?Ow.ceil(Ue):Ow(Ue),Ue=YC.offset(Ue,(ne.V-1)*7),ne.y=Ue.getUTCFullYear(),ne.m=Ue.getUTCMonth(),ne.d=Ue.getUTCDate()+(ne.w+6)%7):(Ue=BS(Cm(ne.y,0,1)),Q=Ue.getDay(),Ue=Q>4||Q===0?Fw.ceil(Ue):Fw(Ue),Ue=a1.offset(Ue,(ne.V-1)*7),ne.y=Ue.getFullYear(),ne.m=Ue.getMonth(),ne.d=Ue.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),Q="Z"in ne?SS(Cm(ne.y,0,1)).getUTCDay():BS(Cm(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(Q+5)%7:ne.w+ne.U*7-(Q+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,SS(ne)):BS(ne)}}function F(ee,ge,xe,ne){for(var Ce=0,Ue=ge.length,Q=xe.length,ke,je;Ce<Ue;){if(ne>=Q)return-1;if(ke=ge.charCodeAt(Ce++),ke===37){if(ke=ge.charAt(Ce++),je=S[ke in L8?ge.charAt(Ce++):ke],!je||(ne=je(ee,xe,ne))<0)return-1}else if(ke!=xe.charCodeAt(ne++))return-1}return ne}function P(ee,ge,xe){var ne=l.exec(ge.slice(xe));return ne?(ee.p=A.get(ne[0].toLowerCase()),xe+ne[0].length):-1}function U(ee,ge,xe){var ne=f.exec(ge.slice(xe));return ne?(ee.w=h.get(ne[0].toLowerCase()),xe+ne[0].length):-1}function T(ee,ge,xe){var ne=u.exec(ge.slice(xe));return ne?(ee.w=d.get(ne[0].toLowerCase()),xe+ne[0].length):-1}function O(ee,ge,xe){var ne=m.exec(ge.slice(xe));return ne?(ee.m=w.get(ne[0].toLowerCase()),xe+ne[0].length):-1}function H(ee,ge,xe){var ne=p.exec(ge.slice(xe));return ne?(ee.m=v.get(ne[0].toLowerCase()),xe+ne[0].length):-1}function $(ee,ge,xe){return F(ee,t,ge,xe)}function Z(ee,ge,xe){return F(ee,n,ge,xe)}function ae(ee,ge,xe){return F(ee,r,ge,xe)}function ie(ee){return o[ee.getDay()]}function W(ee){return a[ee.getDay()]}function te(ee){return c[ee.getMonth()]}function de(ee){return s[ee.getMonth()]}function pe(ee){return i[+(ee.getHours()>=12)]}function R(ee){return 1+~~(ee.getMonth()/3)}function z(ee){return o[ee.getUTCDay()]}function X(ee){return a[ee.getUTCDay()]}function re(ee){return c[ee.getUTCMonth()]}function oe(ee){return s[ee.getUTCMonth()]}function ce(ee){return i[+(ee.getUTCHours()>=12)]}function be(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var ge=k(ee+="",B);return ge.toString=function(){return ee},ge},parse:function(ee){var ge=_(ee+="",!1);return ge.toString=function(){return ee},ge},utcFormat:function(ee){var ge=k(ee+="",C);return ge.toString=function(){return ee},ge},utcParse:function(ee){var ge=_(ee+="",!0);return ge.toString=function(){return ee},ge}}}var L8={"-":"",_:" ",0:"0"},xi=/^\s*\d+/,gpe=/^%/,mpe=/[\\^$*+?|[\]().{}]/g;function an(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function vpe(e){return e.replace(mpe,"\\$&")}function Bm(e){return new RegExp("^(?:"+e.map(vpe).join("|")+")","i")}function Sm(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function ype(e,t,n){var r=xi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function bpe(e,t,n){var r=xi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function wpe(e,t,n){var r=xi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Cpe(e,t,n){var r=xi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Bpe(e,t,n){var r=xi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function U8(e,t,n){var r=xi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function N8(e,t,n){var r=xi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Spe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function xpe(e,t,n){var r=xi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function kpe(e,t,n){var r=xi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function M8(e,t,n){var r=xi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Epe(e,t,n){var r=xi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function R8(e,t,n){var r=xi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Tpe(e,t,n){var r=xi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function _pe(e,t,n){var r=xi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Ppe(e,t,n){var r=xi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Ipe(e,t,n){var r=xi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Fpe(e,t,n){var r=gpe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Ope(e,t,n){var r=xi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Lpe(e,t,n){var r=xi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function D8(e,t){return an(e.getDate(),t,2)}function Upe(e,t){return an(e.getHours(),t,2)}function Npe(e,t){return an(e.getHours()%12||12,t,2)}function Mpe(e,t){return an(1+a1.count(cA(e),e),t,3)}function MW(e,t){return an(e.getMilliseconds(),t,3)}function Rpe(e,t){return MW(e,t)+"000"}function Dpe(e,t){return an(e.getMonth()+1,t,2)}function Qpe(e,t){return an(e.getMinutes(),t,2)}function jpe(e,t){return an(e.getSeconds(),t,2)}function Hpe(e){var t=e.getDay();return t===0?7:t}function $pe(e,t){return an(XC.count(cA(e)-1,e),t,2)}function RW(e){var t=e.getDay();return t>=4||t===0?Vp(e):Vp.ceil(e)}function Kpe(e,t){return e=RW(e),an(Vp.count(cA(e),e)+(cA(e).getDay()===4),t,2)}function Vpe(e){return e.getDay()}function zpe(e,t){return an(Fw.count(cA(e)-1,e),t,2)}function Wpe(e,t){return an(e.getFullYear()%100,t,2)}function Gpe(e,t){return e=RW(e),an(e.getFullYear()%100,t,2)}function qpe(e,t){return an(e.getFullYear()%1e4,t,4)}function Ype(e,t){var n=e.getDay();return e=n>=4||n===0?Vp(e):Vp.ceil(e),an(e.getFullYear()%1e4,t,4)}function Xpe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+an(t/60|0,"0",2)+an(t%60,"0",2)}function Q8(e,t){return an(e.getUTCDate(),t,2)}function Jpe(e,t){return an(e.getUTCHours(),t,2)}function Zpe(e,t){return an(e.getUTCHours()%12||12,t,2)}function ege(e,t){return an(1+YC.count(lA(e),e),t,3)}function DW(e,t){return an(e.getUTCMilliseconds(),t,3)}function tge(e,t){return DW(e,t)+"000"}function nge(e,t){return an(e.getUTCMonth()+1,t,2)}function rge(e,t){return an(e.getUTCMinutes(),t,2)}function ige(e,t){return an(e.getUTCSeconds(),t,2)}function age(e){var t=e.getUTCDay();return t===0?7:t}function oge(e,t){return an(JC.count(lA(e)-1,e),t,2)}function QW(e){var t=e.getUTCDay();return t>=4||t===0?zp(e):zp.ceil(e)}function sge(e,t){return e=QW(e),an(zp.count(lA(e),e)+(lA(e).getUTCDay()===4),t,2)}function cge(e){return e.getUTCDay()}function lge(e,t){return an(Ow.count(lA(e)-1,e),t,2)}function Age(e,t){return an(e.getUTCFullYear()%100,t,2)}function uge(e,t){return e=QW(e),an(e.getUTCFullYear()%100,t,2)}function dge(e,t){return an(e.getUTCFullYear()%1e4,t,4)}function fge(e,t){var n=e.getUTCDay();return e=n>=4||n===0?zp(e):zp.ceil(e),an(e.getUTCFullYear()%1e4,t,4)}function hge(){return"+0000"}function j8(){return"%"}function H8(e){return+e}function $8(e){return Math.floor(+e/1e3)}var dh,jW,HW;pge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pge(e){return dh=ppe(e),jW=dh.format,dh.parse,HW=dh.utcFormat,dh.utcParse,dh}function gge(e){return new Date(e)}function mge(e){return e instanceof Date?+e:+new Date(+e)}function II(e,t,n,r,i,a,o,s,c,l){var A=mI(),u=A.invert,d=A.domain,f=l(".%L"),h=l(":%S"),p=l("%I:%M"),v=l("%I %p"),m=l("%a %d"),w=l("%b %d"),B=l("%B"),C=l("%Y");function S(k){return(c(k)<k?f:s(k)<k?h:o(k)<k?p:a(k)<k?v:r(k)<k?i(k)<k?m:w:n(k)<k?B:C)(k)}return A.invert=function(k){return new Date(u(k))},A.domain=function(k){return arguments.length?d(Array.from(k,mge)):d().map(gge)},A.ticks=function(k){var _=d();return e(_[0],_[_.length-1],k??10)},A.tickFormat=function(k,_){return _==null?S:l(_)},A.nice=function(k){var _=d();return(!k||typeof k.range!="function")&&(k=t(_[0],_[_.length-1],k??10)),k?d(TW(_,k)):A},A.copy=function(){return i1(A,II(e,t,n,r,i,a,o,s,c,l))},A}function vge(){return vs.apply(II(fpe,hpe,cA,_I,XC,a1,EI,xI,Vd,jW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yge(){return vs.apply(II(upe,dpe,lA,PI,JC,YC,TI,kI,Vd,HW).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ZC(){var e=0,t=1,n,r,i,a,o=va,s=!1,c;function l(u){return u==null||isNaN(u=+u)?c:o(i===0?.5:(u=(a(u)-n)*i,s?Math.max(0,Math.min(1,u)):u))}l.domain=function(u){return arguments.length?([e,t]=u,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),l):[e,t]},l.clamp=function(u){return arguments.length?(s=!!u,l):s},l.interpolator=function(u){return arguments.length?(o=u,l):o};function A(u){return function(d){var f,h;return arguments.length?([f,h]=d,o=u(f,h),l):[o(0),o(1)]}}return l.range=A(mg),l.rangeRound=A(gI),l.unknown=function(u){return arguments.length?(c=u,l):c},function(u){return a=u,n=u(e),r=u(t),i=n===r?0:1/(r-n),l}}function ed(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $W(){var e=Zu(ZC()(va));return e.copy=function(){return ed(e,$W())},yA.apply(e,arguments)}function KW(){var e=bI(ZC()).domain([1,10]);return e.copy=function(){return ed(e,KW()).base(e.base())},yA.apply(e,arguments)}function VW(){var e=wI(ZC());return e.copy=function(){return ed(e,VW()).constant(e.constant())},yA.apply(e,arguments)}function FI(){var e=CI(ZC());return e.copy=function(){return ed(e,FI()).exponent(e.exponent())},yA.apply(e,arguments)}function bge(){return FI.apply(null,arguments).exponent(.5)}function zW(){var e=[],t=va;function n(r){if(r!=null&&!isNaN(r=+r))return t((n1(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Pu),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>ahe(e,a/r))},n.copy=function(){return zW(t).domain(e)},yA.apply(n,arguments)}function eB(){var e=0,t=.5,n=1,r=1,i,a,o,s,c,l=va,A,u=!1,d;function f(p){return isNaN(p=+p)?d:(p=.5+((p=+A(p))-a)*(r*p<r*a?s:c),l(u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t,n]=p,i=A(e=+e),a=A(t=+t),o=A(n=+n),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,f):[e,t,n]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(l=p,f):l};function h(p){return function(v){var m,w,B;return arguments.length?([m,w,B]=v,l=Fhe(p,[m,w,B]),f):[l(0),l(.5),l(1)]}}return f.range=h(mg),f.rangeRound=h(gI),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return A=p,i=p(e),a=p(t),o=p(n),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,f}}function WW(){var e=Zu(eB()(va));return e.copy=function(){return ed(e,WW())},yA.apply(e,arguments)}function GW(){var e=bI(eB()).domain([.1,1,10]);return e.copy=function(){return ed(e,GW()).base(e.base())},yA.apply(e,arguments)}function qW(){var e=wI(eB());return e.copy=function(){return ed(e,qW()).constant(e.constant())},yA.apply(e,arguments)}function OI(){var e=CI(eB());return e.copy=function(){return ed(e,OI()).exponent(e.exponent())},yA.apply(e,arguments)}function wge(){return OI.apply(null,arguments).exponent(.5)}const Ym=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:fI,scaleDiverging:WW,scaleDivergingLog:GW,scaleDivergingPow:OI,scaleDivergingSqrt:wge,scaleDivergingSymlog:qW,scaleIdentity:EW,scaleImplicit:eE,scaleLinear:kW,scaleLog:_W,scaleOrdinal:dI,scalePoint:che,scalePow:BI,scaleQuantile:FW,scaleQuantize:OW,scaleRadial:IW,scaleSequential:$W,scaleSequentialLog:KW,scaleSequentialPow:FI,scaleSequentialQuantile:zW,scaleSequentialSqrt:bge,scaleSequentialSymlog:VW,scaleSqrt:tpe,scaleSymlog:PW,scaleThreshold:LW,scaleTime:vge,scaleUtc:yge,tickFormat:xW},Symbol.toStringTag,{value:"Module"}));var td=e=>e.chartData,Cge=Be([td],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),LI=(e,t,n,r)=>r?Cge(e):td(e);function AA(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(rn(t)&&rn(n))return!0}return!1}function K8(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function YW(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(rn(n))i=n;else if(typeof n=="function")return;if(rn(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(AA(o))return o}}function Bge(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(AA(r))return K8(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(dt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&uN.test(i)){var c=uN.exec(i);if(c==null||c[1]==null||t==null)o=void 0;else{var l=+c[1];o=t[0]-l}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(dt(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&dN.test(a)){var A=dN.exec(a);if(A==null||A[1]==null||t==null)s=void 0;else{var u=+A[1];s=t[1]+u}}else s=t==null?void 0:t[1];var d=[o,s];if(AA(d))return t==null?d:K8(d,t,n)}}}var vg=1e9,Sge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},NI,qn=!0,fs="[DecimalError] ",af=fs+"Invalid argument: ",UI=fs+"Exponent out of range: ",yg=Math.floor,Fd=Math.pow,xge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fo,hi=1e7,Mn=7,XW=9007199254740991,Lw=yg(XW/Mn),Ge={};Ge.absoluteValue=Ge.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ge.comparedTo=Ge.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ge.decimalPlaces=Ge.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Mn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ge.dividedBy=Ge.div=function(e){return Wl(this,new this.constructor(e))};Ge.dividedToIntegerBy=Ge.idiv=function(e){var t=this,n=t.constructor;return xn(Wl(t,new n(e),0,1),n.precision)};Ge.equals=Ge.eq=function(e){return!this.cmp(e)};Ge.exponent=function(){return $r(this)};Ge.greaterThan=Ge.gt=function(e){return this.cmp(e)>0};Ge.greaterThanOrEqualTo=Ge.gte=function(e){return this.cmp(e)>=0};Ge.isInteger=Ge.isint=function(){return this.e>this.d.length-2};Ge.isNegative=Ge.isneg=function(){return this.s<0};Ge.isPositive=Ge.ispos=function(){return this.s>0};Ge.isZero=function(){return this.s===0};Ge.lessThan=Ge.lt=function(e){return this.cmp(e)<0};Ge.lessThanOrEqualTo=Ge.lte=function(e){return this.cmp(e)<1};Ge.logarithm=Ge.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(fo))throw Error(fs+"NaN");if(n.s<1)throw Error(fs+(n.s?"NaN":"-Infinity"));return n.eq(fo)?new r(0):(qn=!1,t=Wl(pv(n,a),pv(e,a),a),qn=!0,xn(t,i))};Ge.minus=Ge.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?eG(t,e):JW(t,(e.s=-e.s,e))};Ge.modulo=Ge.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(fs+"NaN");return n.s?(qn=!1,t=Wl(n,e,0,1).times(e),qn=!0,n.minus(t)):xn(new r(n),i)};Ge.naturalExponential=Ge.exp=function(){return ZW(this)};Ge.naturalLogarithm=Ge.ln=function(){return pv(this)};Ge.negated=Ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ge.plus=Ge.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?JW(t,e):eG(t,(e.s=-e.s,e))};Ge.precision=Ge.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(af+e);if(t=$r(i)+1,r=i.d.length-1,n=r*Mn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ge.squareRoot=Ge.sqrt=function(){var e,t,n,r,i,a,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(fs+"NaN")}for(e=$r(s),qn=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Lc(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=yg((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(Wl(s,a,o+2)).times(.5),Lc(a.d).slice(0,o)===(t=Lc(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(xn(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(t!="9999")break;o+=4}return qn=!0,xn(r,n)};Ge.times=Ge.mul=function(e){var t,n,r,i,a,o,s,c,l,A=this,u=A.constructor,d=A.d,f=(e=new u(e)).d;if(!A.s||!e.s)return new u(0);for(e.s*=A.s,n=A.e+e.e,c=d.length,l=f.length,c<l&&(a=d,d=f,f=a,o=c,c=l,l=o),a=[],o=c+l,r=o;r--;)a.push(0);for(r=l;--r>=0;){for(t=0,i=c+r;i>r;)s=a[i]+f[r]*d[i-r-1]+t,a[i--]=s%hi|0,t=s/hi|0;a[i]=(a[i]+t)%hi|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,qn?xn(e,u.precision):e};Ge.toDecimalPlaces=Ge.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(zc(e,0,vg),t===void 0?t=r.rounding:zc(t,0,8),xn(n,e+$r(n)+1,t))};Ge.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=kf(r,!0):(zc(e,0,vg),t===void 0?t=i.rounding:zc(t,0,8),r=xn(new i(r),e+1,t),n=kf(r,!0,e+1)),n};Ge.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?kf(i):(zc(e,0,vg),t===void 0?t=a.rounding:zc(t,0,8),r=xn(new a(i),e+$r(i)+1,t),n=kf(r.abs(),!1,e+$r(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ge.toInteger=Ge.toint=function(){var e=this,t=e.constructor;return xn(new t(e),$r(e)+1,t.rounding)};Ge.toNumber=function(){return+this};Ge.toPower=Ge.pow=function(e){var t,n,r,i,a,o,s=this,c=s.constructor,l=12,A=+(e=new c(e));if(!e.s)return new c(fo);if(s=new c(s),!s.s){if(e.s<1)throw Error(fs+"Infinity");return s}if(s.eq(fo))return s;if(r=c.precision,e.eq(fo))return xn(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=s.s,o){if((n=A<0?-A:A)<=XW){for(i=new c(fo),t=Math.ceil(r/Mn+4),qn=!1;n%2&&(i=i.times(s),z8(i.d,t)),n=yg(n/2),n!==0;)s=s.times(s),z8(s.d,t);return qn=!0,e.s<0?new c(fo).div(i):xn(i,r)}}else if(a<0)throw Error(fs+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,qn=!1,i=e.times(pv(s,r+l)),qn=!0,i=ZW(i),i.s=a,i};Ge.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=$r(i),r=kf(i,n<=a.toExpNeg||n>=a.toExpPos)):(zc(e,1,vg),t===void 0?t=a.rounding:zc(t,0,8),i=xn(new a(i),e,t),n=$r(i),r=kf(i,e<=n||n<=a.toExpNeg,e)),r};Ge.toSignificantDigits=Ge.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(zc(e,1,vg),t===void 0?t=r.rounding:zc(t,0,8)),xn(new r(n),e,t)};Ge.toString=Ge.valueOf=Ge.val=Ge.toJSON=Ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$r(e),n=e.constructor;return kf(e,t<=n.toExpNeg||t>=n.toExpPos)};function JW(e,t){var n,r,i,a,o,s,c,l,A=e.constructor,u=A.precision;if(!e.s||!t.s)return t.s||(t=new A(e)),qn?xn(t,u):t;if(c=e.d,l=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,s=l.length):(r=l,i=o,s=c.length),o=Math.ceil(u/Mn),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=c.length,a=l.length,s-a<0&&(a=s,r=l,l=c,c=r),n=0;a;)n=(c[--a]=c[a]+l[a]+n)/hi|0,c[a]%=hi;for(n&&(c.unshift(n),++i),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=i,qn?xn(t,u):t}function zc(e,t,n){if(e!==~~e||e<t||e>n)throw Error(af+e)}function Lc(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Mn-r.length,n&&(a+=nu(n)),a+=r;o=e[t],r=o+"",n=Mn-r.length,n&&(a+=nu(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Wl=function(){function e(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%hi|0,o=a/hi|0;return o&&r.unshift(o),r}function t(r,i,a,o){var s,c;if(a!=o)c=a>o?1:-1;else for(s=c=0;s<a;s++)if(r[s]!=i[s]){c=r[s]>i[s]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*hi+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,c,l,A,u,d,f,h,p,v,m,w,B,C,S,k,_,F,P=r.constructor,U=r.s==i.s?1:-1,T=r.d,O=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(fs+"Division by zero");for(c=r.e-i.e,_=O.length,S=T.length,f=new P(U),h=f.d=[],l=0;O[l]==(T[l]||0);)++l;if(O[l]>(T[l]||0)&&--c,a==null?w=a=P.precision:o?w=a+($r(r)-$r(i))+1:w=a,w<0)return new P(0);if(w=w/Mn+2|0,l=0,_==1)for(A=0,O=O[0],w++;(l<S||A)&&w--;l++)B=A*hi+(T[l]||0),h[l]=B/O|0,A=B%O|0;else{for(A=hi/(O[0]+1)|0,A>1&&(O=e(O,A),T=e(T,A),_=O.length,S=T.length),C=_,p=T.slice(0,_),v=p.length;v<_;)p[v++]=0;F=O.slice(),F.unshift(0),k=O[0],O[1]>=hi/2&&++k;do A=0,s=t(O,p,_,v),s<0?(m=p[0],_!=v&&(m=m*hi+(p[1]||0)),A=m/k|0,A>1?(A>=hi&&(A=hi-1),u=e(O,A),d=u.length,v=p.length,s=t(u,p,d,v),s==1&&(A--,n(u,_<d?F:O,d))):(A==0&&(s=A=1),u=O.slice()),d=u.length,d<v&&u.unshift(0),n(p,u,v),s==-1&&(v=p.length,s=t(O,p,_,v),s<1&&(A++,n(p,_<v?F:O,v))),v=p.length):s===0&&(A++,p=[0]),h[l++]=A,s&&p[0]?p[v++]=T[C]||0:(p=[T[C]],v=1);while((C++<S||p[0]!==void 0)&&w--)}return h[0]||h.shift(),f.e=c,xn(f,o?a+$r(f)+1:a)}}();function ZW(e,t){var n,r,i,a,o,s,c=0,l=0,A=e.constructor,u=A.precision;if($r(e)>16)throw Error(UI+$r(e));if(!e.s)return new A(fo);for(qn=!1,s=u,o=new A(.03125);e.abs().gte(.1);)e=e.times(o),l+=5;for(r=Math.log(Fd(2,l))/Math.LN10*2+5|0,s+=r,n=i=a=new A(fo),A.precision=s;;){if(i=xn(i.times(e),s),n=n.times(++c),o=a.plus(Wl(i,n,s)),Lc(o.d).slice(0,s)===Lc(a.d).slice(0,s)){for(;l--;)a=xn(a.times(a),s);return A.precision=u,t==null?(qn=!0,xn(a,u)):a}a=o}}function $r(e){for(var t=e.e*Mn,n=e.d[0];n>=10;n/=10)t++;return t}function xS(e,t,n){if(t>e.LN10.sd())throw qn=!0,n&&(e.precision=n),Error(fs+"LN10 precision limit exceeded");return xn(new e(e.LN10),t)}function nu(e){for(var t="";e--;)t+="0";return t}function pv(e,t){var n,r,i,a,o,s,c,l,A,u=1,d=10,f=e,h=f.d,p=f.constructor,v=p.precision;if(f.s<1)throw Error(fs+(f.s?"NaN":"-Infinity"));if(f.eq(fo))return new p(0);if(t==null?(qn=!1,l=v):l=t,f.eq(10))return t==null&&(qn=!0),xS(p,l);if(l+=d,p.precision=l,n=Lc(h),r=n.charAt(0),a=$r(f),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)f=f.times(e),n=Lc(f.d),r=n.charAt(0),u++;a=$r(f),r>1?(f=new p("0."+n),a++):f=new p(r+"."+n.slice(1))}else return c=xS(p,l+2,v).times(a+""),f=pv(new p(r+"."+n.slice(1)),l-d).plus(c),p.precision=v,t==null?(qn=!0,xn(f,v)):f;for(s=o=f=Wl(f.minus(fo),f.plus(fo),l),A=xn(f.times(f),l),i=3;;){if(o=xn(o.times(A),l),c=s.plus(Wl(o,new p(i),l)),Lc(c.d).slice(0,l)===Lc(s.d).slice(0,l))return s=s.times(2),a!==0&&(s=s.plus(xS(p,l+2,v).times(a+""))),s=Wl(s,new p(u),l),p.precision=v,t==null?(qn=!0,xn(s,v)):s;s=c,i+=2}}function V8(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=yg(n/Mn),e.d=[],r=(n+1)%Mn,n<0&&(r+=Mn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Mn;r<i;)e.d.push(+t.slice(r,r+=Mn));t=t.slice(r),r=Mn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),qn&&(e.e>Lw||e.e<-Lw))throw Error(UI+n)}else e.s=0,e.e=0,e.d=[0];return e}function xn(e,t,n){var r,i,a,o,s,c,l,A,u=e.d;for(o=1,a=u[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Mn,i=t,l=u[A=0];else{if(A=Math.ceil((r+1)/Mn),a=u.length,A>=a)return e;for(l=a=u[A],o=1;a>=10;a/=10)o++;r%=Mn,i=r-Mn+o}if(n!==void 0&&(a=Fd(10,o-i-1),s=l/a%10|0,c=t<0||u[A+1]!==void 0||l%a,c=n<4?(s||c)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||c||n==6&&(r>0?i>0?l/Fd(10,o-i):0:u[A-1])%10&1||n==(e.s<0?8:7))),t<1||!u[0])return c?(a=$r(e),u.length=1,t=t-a-1,u[0]=Fd(10,(Mn-t%Mn)%Mn),e.e=yg(-t/Mn)||0):(u.length=1,u[0]=e.e=e.s=0),e;if(r==0?(u.length=A,a=1,A--):(u.length=A+1,a=Fd(10,Mn-r),u[A]=i>0?(l/Fd(10,o-i)%Fd(10,i)|0)*a:0),c)for(;;)if(A==0){(u[0]+=a)==hi&&(u[0]=1,++e.e);break}else{if(u[A]+=a,u[A]!=hi)break;u[A--]=0,a=1}for(r=u.length;u[--r]===0;)u.pop();if(qn&&(e.e>Lw||e.e<-Lw))throw Error(UI+$r(e));return e}function eG(e,t){var n,r,i,a,o,s,c,l,A,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new d(e),qn?xn(t,f):t;if(c=e.d,u=t.d,r=t.e,l=e.e,c=c.slice(),o=l-r,o){for(A=o<0,A?(n=c,o=-o,s=u.length):(n=u,r=l,s=c.length),i=Math.max(Math.ceil(f/Mn),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,s=u.length,A=i<s,A&&(s=i),i=0;i<s;i++)if(c[i]!=u[i]){A=c[i]<u[i];break}o=0}for(A&&(n=c,c=u,u=n,t.s=-t.s),s=c.length,i=u.length-s;i>0;--i)c[s++]=0;for(i=u.length;i>o;){if(c[--i]<u[i]){for(a=i;a&&c[--a]===0;)c[a]=hi-1;--c[a],c[i]+=hi}c[i]-=u[i]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,qn?xn(t,f):t):new d(0)}function kf(e,t,n){var r,i=$r(e),a=Lc(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+nu(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+nu(-i-1)+a,n&&(r=n-o)>0&&(a+=nu(r))):i>=o?(a+=nu(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+nu(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=nu(r))),e.s<0?"-"+a:a}function z8(e,t){if(e.length>t)return e.length=t,!0}function tG(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(af+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return V8(o,a.toString())}else if(typeof a!="string")throw Error(af+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,xge.test(a))V8(o,a);else throw Error(af+a)}if(i.prototype=Ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=tG,i.config=i.set=kge,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function kge(e){if(!e||typeof e!="object")throw Error(fs+"Object expected");var t,n,r,i=["precision",1,vg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(yg(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(af+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(af+n+": "+r);return this}var NI=tG(Sge);fo=new NI(1);const hn=NI;function nG(e){var t;return e===0?t=1:t=Math.floor(new hn(e).abs().log(10).toNumber())+1,t}function rG(e,t,n){for(var r=new hn(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var iG=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},aG=(e,t,n)=>{if(e.lte(0))return new hn(0);var r=nG(e.toNumber()),i=new hn(10).pow(r),a=e.div(i),o=r!==1?.05:.1,s=new hn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=s.mul(i);return t?new hn(c.toNumber()):new hn(Math.ceil(c.toNumber()))},Ege=(e,t,n)=>{var r=new hn(1),i=new hn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new hn(10).pow(nG(e)-1),i=new hn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new hn(Math.floor(e)))}else e===0?i=new hn(Math.floor((t-1)/2)):n||(i=new hn(Math.floor(e)));for(var o=Math.floor((t-1)/2),s=[],c=0;c<t;c++)s.push(i.add(new hn(c-o).mul(r)).toNumber());return s},oG=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new hn(0),tickMin:new hn(0),tickMax:new hn(0)};var o=aG(new hn(n).sub(t).div(r-1),i,a),s;t<=0&&n>=0?s=new hn(0):(s=new hn(t).add(n).div(2),s=s.sub(new hn(s).mod(o)));var c=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new hn(n).sub(s).div(o).toNumber()),A=c+l+1;return A>r?oG(t,n,r,i,a+1):(A<r&&(l=n>0?l+(r-A):l,c=n>0?c:c+(r-A)),{step:o,tickMin:s.sub(new hn(c).mul(o)),tickMax:s.add(new hn(l).mul(o))})},Tge=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[s,c]=iG([n,r]);if(s===-1/0||c===1/0){var l=c===1/0?[s,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),c];return n>r?l.reverse():l}if(s===c)return Ege(s,i,a);var{step:A,tickMin:u,tickMax:d}=oG(s,c,o,a,0),f=rG(u,d.add(new hn(.1).mul(A)),A);return n>r?f.reverse():f},_ge=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=iG([r,i]);if(o===-1/0||s===1/0)return[r,i];if(o===s)return[o];var c=Math.max(n,2),l=aG(new hn(s).sub(o).div(c-1),a,0),A=[...rG(new hn(o),new hn(s),l),s];return a===!1&&(A=A.map(u=>Math.round(u))),r>i?A.reverse():A},Pge=e=>e.rootProps.barCategoryGap,tB=e=>e.rootProps.stackOffset,sG=e=>e.rootProps.reverseStackOrder,MI=e=>e.options.chartName,RI=e=>e.rootProps.syncId,cG=e=>e.rootProps.syncMethod,DI=e=>e.options.eventEmitter,ya={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Sd={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Bc={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},nB=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function rB(e,t,n){if(n!=="auto")return n;if(e!=null)return gA(e,t)?"category":"number"}function W8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W8(Object(n),!0).forEach(function(r){Ige(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ige(e,t,n){return(t=Fge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fge(e){var t=Oge(e,"string");return typeof t=="symbol"?t:t+""}function Oge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G8={allowDataOverflow:Sd.allowDataOverflow,allowDecimals:Sd.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Sd.angleAxisId,includeHidden:!1,name:void 0,reversed:Sd.reversed,scale:Sd.scale,tick:Sd.tick,tickCount:void 0,ticks:void 0,type:Sd.type,unit:void 0},q8={allowDataOverflow:Bc.allowDataOverflow,allowDecimals:Bc.allowDecimals,allowDuplicatedCategory:Bc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bc.radiusAxisId,includeHidden:Bc.includeHidden,name:void 0,reversed:Bc.reversed,scale:Bc.scale,tick:Bc.tick,tickCount:Bc.tickCount,ticks:void 0,type:Bc.type,unit:void 0},Lge=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},QI=Be([Lge,qz],(e,t)=>{var n;if(e!=null)return e;var r=(n=rB(t,"angleAxis",G8.type))!==null&&n!==void 0?n:"category";return Uw(Uw({},G8),{},{type:r})}),Uge=(e,t)=>e.polarAxis.radiusAxis[t],jI=Be([Uge,qz],(e,t)=>{var n;if(e!=null)return e;var r=(n=rB(t,"radiusAxis",q8.type))!==null&&n!==void 0?n:"category";return Uw(Uw({},q8),{},{type:r})}),iB=e=>e.polarOptions,HI=Be([mA,vA,Wi],Mfe),lG=Be([iB,HI],(e,t)=>{if(e!=null)return Hu(e.innerRadius,t,0)}),AG=Be([iB,HI],(e,t)=>{if(e!=null)return Hu(e.outerRadius,t,t*.8)}),Nge=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},uG=Be([iB],Nge);Be([QI,uG],nB);var dG=Be([HI,lG,AG],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Be([jI,dG],nB);var fG=Be([ar,iB,lG,AG,mA,vA],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:s,startAngle:c,endAngle:l}=t;return{cx:Hu(o,i,i/2),cy:Hu(s,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:l,clockWise:!1}}}),ki=(e,t)=>t,aB=(e,t,n)=>n;function hG(e){return e==null?void 0:e.id}function pG(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(s=>{var c,l=(c=s.data)!==null&&c!==void 0?c:r;if(!(l==null||l.length===0)){var A=hG(s);l.forEach((u,d)=>{var f=a==null||i?d:String(Ki(u,a,null)),h=Ki(u,s.dataKey,0),p;o.has(f)?p=o.get(f):p={},Object.assign(p,{[A]:h}),o.set(f,p)})}}),Array.from(o.values())}function $I(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var oB=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function sB(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Mge(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Ei=e=>{var t=ar(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},bg=e=>e.tooltip.settings.axisId;function Rge(e){if(e in Ym)return Ym[e]();var t="scale".concat(qv(e));if(t in Ym)return Ym[t]()}function Y8(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:function(a){function o(){return a.apply(this,arguments)}return o.toString=function(){return a.toString()},o}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var o=i[0],s=i[1];return o<=s?a>=o&&a<=s:a>=s&&a<=o},bandwidth:n?()=>n.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,o)=>{var s=e(a);if(s!=null){if(e.bandwidth&&o!==null&&o!==void 0&&o.position){var c=e.bandwidth();switch(o.position){case"middle":s+=c/2;break;case"end":s+=c;break}}return s}}}}function X8(e,t,n){if(typeof e=="function")return Y8(e.copy().domain(t).range(n));if(e!=null){var r=Rge(e);if(r!=null)return r.domain(t).range(n),Y8(r)}}var Dge=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!AA(t)){for(var n,r,i=0;i<t.length;i++){var a=t[i];rn(a)&&((n===void 0||a<n)&&(n=a),(r===void 0||a>r)&&(r=a))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function J8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J8(Object(n),!0).forEach(function(r){Qge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qge(e,t,n){return(t=jge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jge(e){var t=Hge(e,"string");return typeof t=="symbol"?t:t+""}function Hge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iE=[0,"auto"],di={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},gG=(e,t)=>e.cartesianAxis.xAxis[t],bA=(e,t)=>{var n=gG(e,t);return n??di},fi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:iE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Zv},mG=(e,t)=>e.cartesianAxis.yAxis[t],wA=(e,t)=>{var n=mG(e,t);return n??fi},$ge={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},KI=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??$ge},Ta=(e,t,n)=>{switch(t){case"xAxis":return bA(e,n);case"yAxis":return wA(e,n);case"zAxis":return KI(e,n);case"angleAxis":return QI(e,n);case"radiusAxis":return jI(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Kge=(e,t,n)=>{switch(t){case"xAxis":return bA(e,n);case"yAxis":return wA(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},o1=(e,t,n)=>{switch(t){case"xAxis":return bA(e,n);case"yAxis":return wA(e,n);case"angleAxis":return QI(e,n);case"radiusAxis":return jI(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},vG=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function yG(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var bG=e=>e.graphicalItems.cartesianItems,Vge=Be([ki,aB],yG),wG=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),s1=Be([bG,Ta,Vge],wG,{memoizeOptions:{resultEqualityCheck:sB}}),CG=Be([s1],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter($I)),BG=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),zge=Be([s1],BG),SG=e=>e.map(t=>t.data).filter(Boolean).flat(1),Wge=Be([s1],SG,{memoizeOptions:{resultEqualityCheck:sB}}),xG=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},VI=Be([Wge,LI],xG),kG=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ki(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Ki(i,r)}))):e.map(r=>({value:r})),cB=Be([VI,Ta,s1],kG);function EG(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Y2(e){if(Vc(e)||e instanceof Date){var t=Number(e);if(rn(t))return t}}function Z8(e){if(Array.isArray(e)){var t=[Y2(e[0]),Y2(e[1])];return AA(t)?t:void 0}var n=Y2(e);if(n!=null)return[n,n]}function uA(e){return e.map(Y2).filter(Ra)}function Gge(e,t,n){return!n||typeof t!="number"||aA(t)?[]:n.length?uA(n.flatMap(r=>{var i=Ki(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!rn(a)||!rn(o)))return[t-a,t+o]})):[]}var ci=e=>{var t=Ei(e),n=bg(e);return o1(e,t,n)},c1=Be([ci],e=>e==null?void 0:e.dataKey),qge=Be([CG,LI,ci],pG),TG=(e,t,n,r)=>{var i={},a=t.reduce((o,s)=>{if(s.stackId==null)return o;var c=o[s.stackId];return c==null&&(c=[]),c.push(s),o[s.stackId]=c,o},i);return Object.fromEntries(Object.entries(a).map(o=>{var[s,c]=o,l=r?[...c].reverse():c,A=l.map(hG);return[s,{stackedData:Vue(e,A,n),graphicalItems:l}]}))},Yge=Be([qge,CG,tB,sG],TG),_G=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var o=Gue(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Xge=Be([Ta],e=>e.allowDataOverflow),zI=e=>{var t;if(e==null||!("domain"in e))return iE;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=uA(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:iE},PG=Be([Ta],zI),IG=Be([PG,Xge],YW),Jge=Be([Yge,td,ki,IG],_G,{memoizeOptions:{resultEqualityCheck:oB}}),WI=e=>e.errorBars,Zge=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>EG(n,r)),Mw=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},FG=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(s=>{n.forEach(c=>{var l,A,u=(l=r[c.id])===null||l===void 0?void 0:l.filter(m=>EG(i,m)),d=Ki(s,(A=t.dataKey)!==null&&A!==void 0?A:c.dataKey),f=Gge(s,d,u);if(f.length>=2){var h=Math.min(...f),p=Math.max(...f);(a==null||h<a)&&(a=h),(o==null||p>o)&&(o=p)}var v=Z8(d);v!=null&&(a=a==null?v[0]:Math.min(a,v[0]),o=o==null?v[1]:Math.max(o,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var c=Z8(Ki(s,t.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),rn(a)&&rn(o))return[a,o]},eme=Be([VI,Ta,zge,WI,ki],FG,{memoizeOptions:{resultEqualityCheck:oB}});function tme(e){var{value:t}=e;if(Vc(t)||t instanceof Date)return t}var nme=(e,t,n)=>{var r=e.map(tme).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&_V(r))?gW(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},OG=e=>e.referenceElements.dots,wg=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),rme=Be([OG,ki,aB],wg),LG=e=>e.referenceElements.areas,ime=Be([LG,ki,aB],wg),UG=e=>e.referenceElements.lines,ame=Be([UG,ki,aB],wg),NG=(e,t)=>{if(e!=null){var n=uA(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},ome=Be(rme,ki,NG),MG=(e,t)=>{if(e!=null){var n=uA(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},sme=Be([ime,ki],MG);function cme(e){var t;if(e.x!=null)return uA([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:uA(n)}function lme(e){var t;if(e.y!=null)return uA([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:uA(n)}var RG=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?cme(r):lme(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Ame=Be([ame,ki],RG),ume=Be(ome,Ame,sme,(e,t,n)=>Mw(e,n,t)),DG=(e,t,n,r,i,a,o,s)=>{if(n!=null)return n;var c=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",l=c?Mw(r,a,i):Mw(a,i);return Bge(t,l,e.allowDataOverflow)},dme=Be([Ta,PG,IG,Jge,eme,ume,ar,ki],DG,{memoizeOptions:{resultEqualityCheck:oB}}),fme=[0,1],QG=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:c}=e,l=gA(t,a);if(l&&s==null){var A;return gW(0,(A=n==null?void 0:n.length)!==null&&A!==void 0?A:0)}return c==="category"?nme(r,e,l):i==="expand"?fme:o}},GI=Be([Ta,ar,VI,cB,tB,ki,dme],QG);function hme(e){return e in Ym}var jG=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var a="scale".concat(qv(r));return hme(a)?a:"point"}}},Cg=Be([Ta,vG,MI],jG);function qI(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?X8(e.scale,n,r):X8(t,n,r)}var HG=(e,t,n)=>{var r=zI(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&AA(e))return Tge(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&AA(e))return _ge(e,t.tickCount,t.allowDecimals)}},YI=Be([GI,o1,Cg],HG),$G=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&AA(t)&&Array.isArray(n)&&n.length>0){var i,a,o=t[0],s=(i=n[0])!==null&&i!==void 0?i:0,c=t[1],l=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(o,s),Math.max(c,l)]}return t},pme=Be([Ta,GI,YI,ki],$G),gme=Be(cB,Ta,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(uA(e.map(u=>u.value))).sort((u,d)=>u-d),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var o=a-i;if(o===0)return 1/0;for(var s=0;s<r.length-1;s++){var c=r[s],l=r[s+1];if(!(c==null||l==null)){var A=l-c;n=Math.min(n,A)}}return n/o}}),KG=Be(gme,ar,Pge,Wi,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!rn(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Hu(n,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),mme=(e,t,n)=>{var r=bA(e,t);return r==null||typeof r.padding!="string"?0:KG(e,"xAxis",t,n,r.padding)},vme=(e,t,n)=>{var r=wA(e,t);return r==null||typeof r.padding!="string"?0:KG(e,"yAxis",t,n,r.padding)},yme=Be(bA,mme,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),bme=Be(wA,vme,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),wme=Be([Wi,yme,$C,HC,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Cme=Be([Wi,ar,bme,$C,HC,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),l1=(e,t,n,r)=>{var i;switch(t){case"xAxis":return wme(e,n,r);case"yAxis":return Cme(e,n,r);case"zAxis":return(i=KI(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return uG(e);case"radiusAxis":return dG(e,n);default:return}},VG=Be([Ta,l1],nB),Bme=Be([Cg,pme],Dge),lB=Be([Ta,Cg,Bme,VG],qI);Be([s1,WI,ki],Zge);function zG(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var AB=(e,t)=>t,uB=(e,t,n)=>n,Sme=Be(QC,AB,uB,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(zG)),xme=Be(jC,AB,uB,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(zG)),WG=(e,t)=>({width:e.width,height:t.height}),kme=(e,t)=>{var n=typeof t.width=="number"?t.width:Zv;return{width:n,height:e.height}},Eme=Be(Wi,bA,WG),Tme=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},_me=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Pme=Be(vA,Wi,Sme,AB,uB,(e,t,n,r,i)=>{var a={},o;return n.forEach(s=>{var c=WG(t,s);o==null&&(o=Tme(t,r,e));var l=r==="top"&&!i||r==="bottom"&&i;a[s.id]=o-Number(l)*c.height,o+=(l?-1:1)*c.height}),a}),Ime=Be(mA,Wi,xme,AB,uB,(e,t,n,r,i)=>{var a={},o;return n.forEach(s=>{var c=kme(t,s);o==null&&(o=_me(t,r,e));var l=r==="left"&&!i||r==="right"&&i;a[s.id]=o-Number(l)*c.width,o+=(l?-1:1)*c.width}),a}),Fme=(e,t)=>{var n=bA(e,t);if(n!=null)return Pme(e,n.orientation,n.mirror)},Ome=Be([Wi,bA,Fme,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Lme=(e,t)=>{var n=wA(e,t);if(n!=null)return Ime(e,n.orientation,n.mirror)},Ume=Be([Wi,wA,Lme,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Nme=Be(Wi,wA,(e,t)=>{var n=typeof t.width=="number"?t.width:Zv;return{width:n,height:e.height}}),GG=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,s=gA(e,r),c=t.map(l=>l.value);if(o&&s&&a==="category"&&i&&_V(c))return c}},XI=Be([ar,cB,Ta,ki],GG),qG=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=gA(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},JI=Be([ar,cB,o1,ki],qG),eM=Be([ar,Kge,Cg,lB,XI,JI,l1,YI,ki],(e,t,n,r,i,a,o,s,c)=>{if(t!=null){var l=gA(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:l,niceTicks:s,range:o,realScaleType:n,scale:r}}}),Mme=(e,t,n,r,i,a,o,s,c)=>{if(!(t==null||r==null)){var l=gA(e,c),{type:A,ticks:u,tickCount:d}=t,f=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,h=A==="category"&&r.bandwidth?r.bandwidth()/f:0;h=c==="angleAxis"&&a!=null&&a.length>=2?is(a[0]-a[1])*2*h:h;var p=u||i;return p?p.map((v,m)=>{var w=o?o.indexOf(v):v,B=r.map(w);return rn(B)?{index:m,coordinate:B+h,value:v,offset:h}:null}).filter(Ra):l&&s?s.map((v,m)=>{var w=r.map(v);return rn(w)?{coordinate:w+h,value:v,index:m,offset:h}:null}).filter(Ra):r.ticks?r.ticks(d).map((v,m)=>{var w=r.map(v);return rn(w)?{coordinate:w+h,value:v,index:m,offset:h}:null}).filter(Ra):r.domain().map((v,m)=>{var w=r.map(v);return rn(w)?{coordinate:w+h,value:o?o[v]:v,index:m,offset:h}:null}).filter(Ra)}},YG=Be([ar,o1,Cg,lB,YI,l1,XI,JI,ki],Mme),Rme=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=gA(e,o),{tickCount:c}=t,l=0;return l=o==="angleAxis"&&(r==null?void 0:r.length)>=2?is(r[0]-r[1])*2*l:l,s&&a?a.map((A,u)=>{var d=n.map(A);return rn(d)?{coordinate:d+l,value:A,index:u,offset:l}:null}).filter(Ra):n.ticks?n.ticks(c).map((A,u)=>{var d=n.map(A);return rn(d)?{coordinate:d+l,value:A,index:u,offset:l}:null}).filter(Ra):n.domain().map((A,u)=>{var d=n.map(A);return rn(d)?{coordinate:d+l,value:i?i[A]:A,index:u,offset:l}:null}).filter(Ra)}},XG=Be([ar,o1,lB,l1,XI,JI,ki],Rme),JG=Be(Ta,lB,(e,t)=>{if(!(e==null||t==null))return Nw(Nw({},e),{},{scale:t})}),Dme=Be([Ta,Cg,GI,VG],qI);Be((e,t,n)=>KI(e,n),Dme,(e,t)=>{if(!(e==null||t==null))return Nw(Nw({},e),{},{scale:t})});var Qme=Be([ar,QC,jC],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),ZG=e=>e.options.defaultTooltipEventType,eq=e=>e.options.validateTooltipEventTypes;function tq(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function ZI(e,t){var n=ZG(e),r=eq(e);return tq(t,n,r)}function jme(e){return pt(t=>ZI(t,e))}var nq=(e,t)=>{var n,r=Number(t);if(!(aA(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Hme=e=>e.tooltip.settings,cu={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},$me={itemInteraction:{click:cu,hover:cu},axisInteraction:{click:cu,hover:cu},keyboardInteraction:cu,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},rq=Ga({name:"tooltip",initialState:$me,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Vn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Gs(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Vn()},removeTooltipEntrySettings:{reducer(e,t){var n=Gs(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Vn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:Kme,replaceTooltipEntrySettings:Vme,removeTooltipEntrySettings:zme,setTooltipSettingsState:Wme,setActiveMouseOverItemIndex:Gme,mouseLeaveItem:nRe,mouseLeaveChart:iq,setActiveClickItemIndex:rRe,setMouseOverAxisIndex:aq,setMouseClickAxisIndex:qme,setSyncInteraction:aE,setKeyboardInteraction:oE}=rq.actions,Yme=rq.reducer;function tM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tM(Object(n),!0).forEach(function(r){Xme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xme(e,t,n){return(t=Jme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jme(e){var t=Zme(e,"string");return typeof t=="symbol"?t:t+""}function Zme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e0e(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function t0e(e){return e.index!=null}var oq=(e,t,n,r)=>{if(t==null)return cu;var i=e0e(e,t,n);if(i==null)return cu;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(t0e(i)){if(a)return Qy(Qy({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Qy(Qy({},cu),{},{coordinate:i.coordinate})};function n0e(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function r0e(e,t){var n=n0e(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function i0e(e,t,n){if(n==null||t==null)return!0;var r=Ki(e,t);return r==null||!AA(n)?!0:r0e(r,n)}var eF=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!rn(a))return i;var o=0,s=1/0;t.length>0&&(s=t.length-1);var c=Math.max(o,Math.min(a,s)),l=t[c];return l==null||i0e(l,n,r)?String(c):null},sq=(e,t,n,r,i,a,o)=>{if(a!=null){var s=o[0],c=s==null?void 0:s.getPosition(a);if(c!=null)return c;var l=i==null?void 0:i[Number(a)];if(l)switch(n){case"horizontal":return{x:l.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:l.coordinate}}}},cq=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===i})},lq=e=>e.options.tooltipPayloadSearcher,Bg=e=>e.tooltip;function nM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nM(Object(n),!0).forEach(function(r){a0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a0e(e,t,n){return(t=o0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o0e(e){var t=s0e(e,"string");return typeof t=="symbol"?t:t+""}function s0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c0e(e,t){return e??t}var Aq=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:c,dataStartIndex:l,dataEndIndex:A}=n,u=[];return e.reduce((d,f)=>{var h,{dataDefinedOnItem:p,settings:v}=f,m=c0e(p,s),w=Array.isArray(m)?Rz(m,l,A):m,B=(h=v==null?void 0:v.dataKey)!==null&&h!==void 0?h:r,C=v==null?void 0:v.nameKey,S;if(r&&Array.isArray(w)&&!Array.isArray(w[0])&&o==="axis"?S=PV(w,r,i):S=a(w,t,c,C),Array.isArray(S))S.forEach(_=>{var F=rM(rM({},v),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});d.push(fN({tooltipEntrySettings:F,dataKey:_.dataKey,payload:_.payload,value:Ki(_.payload,_.dataKey),name:_.name}))});else{var k;d.push(fN({tooltipEntrySettings:v,dataKey:B,payload:S,value:Ki(S,B),name:(k=Ki(S,C))!==null&&k!==void 0?k:v==null?void 0:v.name}))}return d},u)}},tF=Be([ci,vG,MI],jG),l0e=Be([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),A0e=Be([Ei,bg],yG),Sg=Be([l0e,ci,A0e],wG,{memoizeOptions:{resultEqualityCheck:sB}}),u0e=Be([Sg],e=>e.filter($I)),d0e=Be([Sg],SG,{memoizeOptions:{resultEqualityCheck:sB}}),xg=Be([d0e,td],xG),f0e=Be([u0e,td,ci],pG),nF=Be([xg,ci,Sg],kG),uq=Be([ci],zI),h0e=Be([ci],e=>e.allowDataOverflow),dq=Be([uq,h0e],YW),p0e=Be([Sg],e=>e.filter($I)),g0e=Be([f0e,p0e,tB,sG],TG),m0e=Be([g0e,td,Ei,dq],_G),v0e=Be([Sg],BG),y0e=Be([xg,ci,v0e,WI,Ei],FG,{memoizeOptions:{resultEqualityCheck:oB}}),b0e=Be([OG,Ei,bg],wg),w0e=Be([b0e,Ei],NG),C0e=Be([LG,Ei,bg],wg),B0e=Be([C0e,Ei],MG),S0e=Be([UG,Ei,bg],wg),x0e=Be([S0e,Ei],RG),k0e=Be([w0e,x0e,B0e],Mw),E0e=Be([ci,uq,dq,m0e,y0e,k0e,ar,Ei],DG),A1=Be([ci,ar,xg,nF,tB,Ei,E0e],QG),T0e=Be([A1,ci,tF],HG),_0e=Be([ci,A1,T0e,Ei],$G),fq=e=>{var t=Ei(e),n=bg(e),r=!1;return l1(e,t,n,r)},hq=Be([ci,fq],nB),pq=Be([ci,tF,_0e,hq],qI),P0e=Be([ar,nF,ci,Ei],GG),I0e=Be([ar,nF,ci,Ei],qG),F0e=(e,t,n,r,i,a,o,s)=>{if(t){var{type:c}=t,l=gA(e,s);if(r){var A=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,u=c==="category"&&r.bandwidth?r.bandwidth()/A:0;return u=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?is(i[0]-i[1])*2*u:u,l&&o?o.map((d,f)=>{var h=r.map(d);return rn(h)?{coordinate:h+u,value:d,index:f,offset:u}:null}).filter(Ra):r.domain().map((d,f)=>{var h=r.map(d);return rn(h)?{coordinate:h+u,value:a?a[d]:d,index:f,offset:u}:null}).filter(Ra)}}},CA=Be([ar,ci,tF,pq,fq,P0e,I0e,Ei],F0e),rF=Be([ZG,eq,Hme],(e,t,n)=>tq(n.shared,e,t)),gq=e=>e.tooltip.settings.trigger,iF=e=>e.tooltip.settings.defaultIndex,u1=Be([Bg,rF,gq,iF],oq),gv=Be([u1,xg,c1,A1],eF),mq=Be([CA,gv],nq),O0e=Be([u1],e=>{if(e)return e.dataKey});Be([u1],e=>{if(e)return e.graphicalItemId});var vq=Be([Bg,rF,gq,iF],cq),L0e=Be([mA,vA,ar,Wi,CA,iF,vq],sq),U0e=Be([u1,L0e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),N0e=Be([u1],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),M0e=Be([vq,gv,td,c1,mq,lq,rF],Aq),R0e=Be([M0e],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function iM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iM(Object(n),!0).forEach(function(r){D0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D0e(e,t,n){return(t=Q0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q0e(e){var t=j0e(e,"string");return typeof t=="symbol"?t:t+""}function j0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H0e=()=>pt(ci),$0e=()=>{var e=H0e(),t=pt(CA),n=pt(pq);return pw(!e||!n?void 0:aM(aM({},e),{},{scale:n}),t)};function oM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oM(Object(n),!0).forEach(function(r){K0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K0e(e,t,n){return(t=V0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V0e(e){var t=z0e(e,"string");return typeof t=="symbol"?t:t+""}function z0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W0e=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},G0e=(e,t,n,r)=>{var i=t.find(l=>l&&l.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=r;return fh(fh(fh({},r),Ri(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:c}=r;return fh(fh(fh({},r),Ri(r.cx,r.cy,s,c)),{},{angle:c,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function q0e(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var yq=(e,t,n,r,i)=>{var a,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var s=0;s<o;s++){var c,l,A,u,d,f=s>0?(c=n[s-1])===null||c===void 0?void 0:c.coordinate:(l=n[o-1])===null||l===void 0?void 0:l.coordinate,h=(A=n[s])===null||A===void 0?void 0:A.coordinate,p=s>=o-1?(u=n[0])===null||u===void 0?void 0:u.coordinate:(d=n[s+1])===null||d===void 0?void 0:d.coordinate,v=void 0;if(!(f==null||h==null||p==null))if(is(h-f)!==is(p-h)){var m=[];if(is(p-h)===is(i[1]-i[0])){v=p;var w=h+i[1]-i[0];m[0]=Math.min(w,(w+f)/2),m[1]=Math.max(w,(w+f)/2)}else{v=f;var B=p+i[1]-i[0];m[0]=Math.min(h,(B+h)/2),m[1]=Math.max(h,(B+h)/2)}var C=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>C[0]&&e<=C[1]||e>=m[0]&&e<=m[1]){var S;return(S=n[s])===null||S===void 0?void 0:S.index}}else{var k=Math.min(f,p),_=Math.max(f,p);if(e>(k+h)/2&&e<=(_+h)/2){var F;return(F=n[s])===null||F===void 0?void 0:F.index}}}else if(t)for(var P=0;P<o;P++){var U=t[P];if(U!=null){var T=t[P+1],O=t[P-1];if(P===0&&T!=null&&e<=(U.coordinate+T.coordinate)/2||P===o-1&&O!=null&&e>(U.coordinate+O.coordinate)/2||P>0&&P<o-1&&O!=null&&T!=null&&e>(U.coordinate+O.coordinate)/2&&e<=(U.coordinate+T.coordinate)/2)return U.index}}return-1},Y0e=()=>pt(MI),aF=(e,t)=>t,bq=(e,t,n)=>n,oF=(e,t,n,r)=>r,X0e=Be(CA,e=>PC(e,t=>t.coordinate)),sF=Be([Bg,aF,bq,oF],oq),cF=Be([sF,xg,c1,A1],eF),J0e=(e,t,n)=>{if(t!=null){var r=Bg(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},wq=Be([Bg,aF,bq,oF],cq),Rw=Be([mA,vA,ar,Wi,CA,oF,wq],sq),Z0e=Be([sF,Rw],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),Cq=Be([CA,cF],nq),eve=Be([wq,cF,td,c1,Cq,lq,aF],Aq),tve=Be([sF,cF],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),nve=(e,t,n,r,i,a,o)=>{if(!(!e||!n||!r||!i)&&q0e(e,o)){var s=que(e,t),c=yq(s,a,i,n,r),l=W0e(t,i,c,e);return{activeIndex:String(c),activeCoordinate:l}}},rve=(e,t,n,r,i,a,o)=>{if(!(!e||!r||!i||!a||!n)){var s=Hfe(e,n);if(s){var c=Yue(s,t),l=yq(c,o,a,r,i),A=G0e(t,a,l,s);return{activeIndex:String(l),activeCoordinate:A}}}},ive=(e,t,n,r,i,a,o,s)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?nve(e,t,r,i,a,o,s):rve(e,t,n,r,i,a,o)},ave=Be(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),ove=Be(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(ya)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Mge}});function sM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sM(Object(n),!0).forEach(function(r){sve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sve(e,t,n){return(t=cve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cve(e){var t=lve(e,"string");return typeof t=="symbol"?t:t+""}function lve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ave={},uve={zIndexMap:Object.values(ya).reduce((e,t)=>cM(cM({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Ave)},dve=new Set(Object.values(ya));function fve(e){return dve.has(e)}var Bq=Ga({name:"zIndex",initialState:uve,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Vn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!fve(n)&&delete e.zIndexMap[n])},prepare:Vn()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Vn()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:Vn()}}}),{registerZIndexPortal:hve,unregisterZIndexPortal:pve,registerZIndexPortalElement:gve,unregisterZIndexPortalElement:mve}=Bq.actions,vve=Bq.reducer;function BA(e){var{zIndex:t,children:n}=e,r=fde(),i=r&&t!==void 0&&t!==0,a=qa(),o=Si();y.useLayoutEffect(()=>i?(o(hve({zIndex:t})),()=>{o(pve({zIndex:t}))}):Yv,[o,t,i]);var s=pt(c=>ave(c,t,a));return i?s?I_.createPortal(n,s):null:n}function sE(){return sE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sE.apply(null,arguments)}function lM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lM(Object(n),!0).forEach(function(r){yve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yve(e,t,n){return(t=bve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bve(e){var t=wve(e,"string");return typeof t=="symbol"?t:t+""}function wve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cve(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return y.isValidElement(t)?y.cloneElement(t,r):y.createElement(n,r)}function Bve(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:s,cursor:c,tooltipEventType:l,chartName:A}=e,u=n,d=r,f=i;if(!c||!u||A!=="ScatterChart"&&l!=="axis")return null;var h,p,v;if(A==="ScatterChart")h=u,p=tfe,v=ya.cursorLine;else if(A==="BarChart")h=nfe(s,u,a,o),p=lW,v=ya.cursorRectangle;else if(s==="radial"&&OV(u)){var{cx:m,cy:w,radius:B,startAngle:C,endAngle:S}=AW(u);h={cx:m,cy:w,startAngle:C,endAngle:S,innerRadius:B,outerRadius:B},p=dW,v=ya.cursorLine}else h={points:zfe(s,u,a)},p=iW,v=ya.cursorLine;var k=typeof c=="object"&&"className"in c?c.className:void 0,_=jy(jy(jy(jy({stroke:"#ccc",pointerEvents:"none"},a),h),yC(c)),{},{payload:d,payloadIndex:f,className:Ln("recharts-tooltip-cursor",k)});return y.createElement(BA,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},y.createElement(Cve,{cursor:c,cursorComp:p,cursorProps:_}))}function Sve(e){var t=$0e(),n=Vz(),r=gg(),i=Y0e();return t==null||n==null||r==null||i==null?null:y.createElement(Bve,sE({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var Sq=y.createContext(null),xve=()=>y.useContext(Sq),xq={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,l,A){this.fn=c,this.context=l,this.once=A||!1}function a(c,l,A,u,d){if(typeof A!="function")throw new TypeError("The listener must be a function");var f=new i(A,u||c,d),h=n?n+l:l;return c._events[h]?c._events[h].fn?c._events[h]=[c._events[h],f]:c._events[h].push(f):(c._events[h]=f,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],A,u;if(this._eventsCount===0)return l;for(u in A=this._events)t.call(A,u)&&l.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(A)):l},s.prototype.listeners=function(l){var A=n?n+l:l,u=this._events[A];if(!u)return[];if(u.fn)return[u.fn];for(var d=0,f=u.length,h=new Array(f);d<f;d++)h[d]=u[d].fn;return h},s.prototype.listenerCount=function(l){var A=n?n+l:l,u=this._events[A];return u?u.fn?1:u.length:0},s.prototype.emit=function(l,A,u,d,f,h){var p=n?n+l:l;if(!this._events[p])return!1;var v=this._events[p],m=arguments.length,w,B;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),m){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,A),!0;case 3:return v.fn.call(v.context,A,u),!0;case 4:return v.fn.call(v.context,A,u,d),!0;case 5:return v.fn.call(v.context,A,u,d,f),!0;case 6:return v.fn.call(v.context,A,u,d,f,h),!0}for(B=1,w=new Array(m-1);B<m;B++)w[B-1]=arguments[B];v.fn.apply(v.context,w)}else{var C=v.length,S;for(B=0;B<C;B++)switch(v[B].once&&this.removeListener(l,v[B].fn,void 0,!0),m){case 1:v[B].fn.call(v[B].context);break;case 2:v[B].fn.call(v[B].context,A);break;case 3:v[B].fn.call(v[B].context,A,u);break;case 4:v[B].fn.call(v[B].context,A,u,d);break;default:if(!w)for(S=1,w=new Array(m-1);S<m;S++)w[S-1]=arguments[S];v[B].fn.apply(v[B].context,w)}}return!0},s.prototype.on=function(l,A,u){return a(this,l,A,u,!1)},s.prototype.once=function(l,A,u){return a(this,l,A,u,!0)},s.prototype.removeListener=function(l,A,u,d){var f=n?n+l:l;if(!this._events[f])return this;if(!A)return o(this,f),this;var h=this._events[f];if(h.fn)h.fn===A&&(!d||h.once)&&(!u||h.context===u)&&o(this,f);else{for(var p=0,v=[],m=h.length;p<m;p++)(h[p].fn!==A||d&&!h[p].once||u&&h[p].context!==u)&&v.push(h[p]);v.length?this._events[f]=v.length===1?v[0]:v:o(this,f)}return this},s.prototype.removeAllListeners=function(l){var A;return l?(A=n?n+l:l,this._events[A]&&o(this,A)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(xq);var kve=xq.exports;const Eve=Gu(kve);var mv=new Eve,cE="recharts.syncEvent.tooltip",AM="recharts.syncEvent.brush",Tve=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!aA(n))return e[n]}},_ve={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},kq=Ga({name:"options",initialState:_ve,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Pve=kq.reducer,{createEventEmitter:Ive}=kq.actions;function Fve(e){return e.tooltip.syncInteraction}var Ove={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Eq=Ga({name:"chartData",initialState:Ove,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:uM,setDataStartEndIndexes:Lve,setComputedData:iRe}=Eq.actions,Uve=Eq.reducer,Nve=["x","y"];function dM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dM(Object(n),!0).forEach(function(r){Mve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mve(e,t,n){return(t=Rve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rve(e){var t=Dve(e,"string");return typeof t=="symbol"?t:t+""}function Dve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qve(e,t){if(e==null)return{};var n,r,i=jve(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Hve(){var e=pt(RI),t=pt(DI),n=Si(),r=pt(cG),i=pt(CA),a=gg(),o=KC(),s=pt(c=>c.rootProps.className);y.useEffect(()=>{if(e==null)return Yv;var c=(l,A,u)=>{if(t!==u&&e===l){if(r==="index"){var d;if(o&&A!==null&&A!==void 0&&(d=A.payload)!==null&&d!==void 0&&d.coordinate&&A.payload.sourceViewBox){var f=A.payload.coordinate,{x:h,y:p}=f,v=Qve(f,Nve),{x:m,y:w,width:B,height:C}=A.payload.sourceViewBox,S=hh(hh({},v),{},{x:o.x+(B?(h-m)/B:0)*o.width,y:o.y+(C?(p-w)/C:0)*o.height});n(hh(hh({},A),{},{payload:hh(hh({},A.payload),{},{coordinate:S})}))}else n(A);return}if(i!=null){var k;if(typeof r=="function"){var _={activeTooltipIndex:A.payload.index==null?void 0:Number(A.payload.index),isTooltipActive:A.payload.active,activeIndex:A.payload.index==null?void 0:Number(A.payload.index),activeLabel:A.payload.label,activeDataKey:A.payload.dataKey,activeCoordinate:A.payload.coordinate},F=r(i,_);k=i[F]}else r==="value"&&(k=i.find(ae=>String(ae.value)===A.payload.label));var{coordinate:P}=A.payload;if(k==null||A.payload.active===!1||P==null||o==null){n(aE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:U,y:T}=P,O=Math.min(U,o.x+o.width),H=Math.min(T,o.y+o.height),$={x:a==="horizontal"?k.coordinate:O,y:a==="horizontal"?H:k.coordinate},Z=aE({active:A.payload.active,coordinate:$,dataKey:A.payload.dataKey,index:String(k.index),label:A.payload.label,sourceViewBox:A.payload.sourceViewBox,graphicalItemId:A.payload.graphicalItemId});n(Z)}}};return mv.on(cE,c),()=>{mv.off(cE,c)}},[s,n,t,e,r,i,a,o])}function $ve(){var e=pt(RI),t=pt(DI),n=Si();y.useEffect(()=>{if(e==null)return Yv;var r=(i,a,o)=>{t!==o&&e===i&&n(Lve(a))};return mv.on(AM,r),()=>{mv.off(AM,r)}},[n,t,e])}function Kve(){var e=Si();y.useEffect(()=>{e(Ive())},[e]),Hve(),$ve()}function Vve(e,t,n,r,i,a){var o=pt(f=>J0e(f,e,t)),s=pt(DI),c=pt(RI),l=pt(cG),A=pt(Fve),u=A==null?void 0:A.active,d=KC();y.useEffect(()=>{if(!u&&c!=null&&s!=null){var f=aE({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:d,graphicalItemId:void 0});mv.emit(cE,c,f,s)}},[u,n,o,i,r,s,c,l,a,d])}function fM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(n),!0).forEach(function(r){zve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zve(e,t,n){return(t=Wve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wve(e){var t=Gve(e,"string");return typeof t=="symbol"?t:t+""}function Gve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qve(e){return e.dataKey}function Yve(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(Lde,t)}var pM=[],Xve={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Jve(e){var t,n,r=Wa(e,Xve),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:s,content:c,filterNull:l,isAnimationActive:A,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:p,wrapperStyle:v,cursor:m,shared:w,trigger:B,defaultIndex:C,portal:S,axisId:k}=r,_=Si(),F=typeof C=="number"?String(C):C;y.useEffect(()=>{_(Wme({shared:w,trigger:B,axisId:k,active:i,defaultIndex:F}))},[_,w,B,k,i,F]);var P=KC(),U=rW(),T=jme(w),{activeIndex:O,isActive:H}=(t=pt(ce=>tve(ce,T,B,F)))!==null&&t!==void 0?t:{},$=pt(ce=>eve(ce,T,B,F)),Z=pt(ce=>Cq(ce,T,B,F)),ae=pt(ce=>Z0e(ce,T,B,F)),ie=$,W=xve(),te=(n=i??H)!==null&&n!==void 0?n:!1,[de,pe]=MAe([ie,te]),R=T==="axis"?Z:void 0;Vve(T,B,ae,R,O,te);var z=S??W;if(z==null||P==null||T==null)return null;var X=ie??pM;te||(X=pM),l&&X.length&&(X=tAe(X.filter(ce=>ce.value!=null&&(ce.hide!==!0||r.includeHidden)),d,qve));var re=X.length>0,oe=y.createElement(jde,{allowEscapeViewBox:a,animationDuration:o,animationEasing:s,isAnimationActive:A,active:te,coordinate:ae,hasPayload:re,offset:u,position:f,reverseDirection:h,useTranslate3d:p,viewBox:P,wrapperStyle:v,lastBoundingBox:de,innerRef:pe,hasPortalFromProps:!!S},Yve(c,hM(hM({},r),{},{payload:X,label:R,active:te,activeIndex:O,coordinate:ae,accessibilityLayer:U})));return y.createElement(y.Fragment,null,I_.createPortal(oe,z),te&&y.createElement(Sve,{cursor:m,tooltipEventType:T,coordinate:ae,payload:X,index:O}))}function Zve(e,t,n){return(t=e1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e1e(e){var t=t1e(e,"string");return typeof t=="symbol"?t:t+""}function t1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class n1e{constructor(t){Zve(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function gM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function r1e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gM(Object(n),!0).forEach(function(r){i1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i1e(e,t,n){return(t=a1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a1e(e){var t=o1e(e,"string");return typeof t=="symbol"?t:t+""}function o1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s1e={cacheSize:2e3,enableCache:!0},Tq=r1e({},s1e),mM=new n1e(Tq.cacheSize),c1e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vM="recharts_measurement_span";function l1e(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var yM=(e,t)=>{try{var n=document.getElementById(vM);n||(n=document.createElement("span"),n.setAttribute("id",vM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,c1e,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},y0=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||GC.isSsr)return{width:0,height:0};if(!Tq.enableCache)return yM(t,n);var r=l1e(t,n),i=mM.get(r);if(i)return i;var a=yM(t,n);return mM.set(r,a),a},_q;function A1e(e,t,n){return(t=u1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u1e(e){var t=d1e(e,"string");return typeof t=="symbol"?t:t+""}function d1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,f1e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,h1e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,p1e={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},g1e=["cm","mm","pt","pc","in","Q","px"];function m1e(e){return g1e.includes(e)}var zh="NaN";function v1e(e,t){return e*p1e[t]}class Ni{static parse(t){var n,[,r,i]=(n=h1e.exec(t))!==null&&n!==void 0?n:[];return r==null?Ni.NaN:new Ni(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,aA(t)&&(this.unit=""),n!==""&&!f1e.test(n)&&(this.num=NaN,this.unit=""),m1e(n)&&(this.num=v1e(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Ni(NaN,""):new Ni(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ni(NaN,""):new Ni(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ni(NaN,""):new Ni(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ni(NaN,""):new Ni(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return aA(this.num)}}_q=Ni;A1e(Ni,"NaN",new _q(NaN,""));function Pq(e){if(e==null||e.includes(zh))return zh;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=bM.exec(t))!==null&&n!==void 0?n:[],o=Ni.parse(r??""),s=Ni.parse(a??""),c=i==="*"?o.multiply(s):o.divide(s);if(c.isNaN())return zh;t=t.replace(bM,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var l,[,A,u,d]=(l=wM.exec(t))!==null&&l!==void 0?l:[],f=Ni.parse(A??""),h=Ni.parse(d??""),p=u==="+"?f.add(h):f.subtract(h);if(p.isNaN())return zh;t=t.replace(wM,p.toString())}return t}var CM=/\(([^()]*)\)/;function y1e(e){for(var t=e,n;(n=CM.exec(t))!=null;){var[,r]=n;t=t.replace(CM,Pq(r))}return t}function b1e(e){var t=e.replace(/\s+/g,"");return t=y1e(t),t=Pq(t),t}function w1e(e){try{return b1e(e)}catch{return zh}}function kS(e){var t=w1e(e.slice(5,-1));return t===zh?"":t}var C1e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],B1e=["dx","dy","angle","className","breakAll"];function lE(){return lE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lE.apply(null,arguments)}function BM(e,t){if(e==null)return{};var n,r,i=S1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function S1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Iq=/[ \f\n\r\t\v\u2028\u2029]+/,Fq=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];zi(t)||(n?i=t.toString().split(""):i=t.toString().split(Iq));var a=i.map(s=>({word:s,width:y0(s,r).width})),o=n?0:y0("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function x1e(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Oq=(e,t,n,r)=>e.reduce((i,a)=>{var{word:o,width:s}=a,c=i[i.length-1];if(c&&s!=null&&(t==null||r||c.width+s+n<Number(t)))c.words.push(o),c.width+=s+n;else{var l={words:[o],width:s};i.push(l)}return i},[]),Lq=e=>e.reduce((t,n)=>t.width>n.width?t:n),k1e="",SM=(e,t,n,r,i,a,o,s)=>{var c=e.slice(0,t),l=Fq({breakAll:n,style:r,children:c+k1e});if(!l)return[!1,[]];var A=Oq(l.wordsWithComputedWidth,a,o,s),u=A.length>i||Lq(A).width>Number(a);return[u,A]},E1e=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:s,breakAll:c}=e,l=dt(a),A=String(o),u=Oq(t,r,n,i);if(!l||i)return u;var d=u.length>a||Lq(u).width>Number(r);if(!d)return u;for(var f=0,h=A.length-1,p=0,v;f<=h&&p<=A.length-1;){var m=Math.floor((f+h)/2),w=m-1,[B,C]=SM(A,w,c,s,a,r,n,i),[S]=SM(A,m,c,s,a,r,n,i);if(!B&&!S&&(f=m+1),B&&S&&(h=m-1),!B&&S){v=C;break}p++}return v||u},xM=e=>{var t=zi(e)?[]:e.toString().split(Iq);return[{words:t,width:void 0}]},T1e=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!GC.isSsr){var s,c,l=Fq({breakAll:a,children:r,style:i});if(l){var{wordsWithComputedWidth:A,spaceWidth:u}=l;s=A,c=u}else return xM(r);return E1e({breakAll:a,children:r,maxLines:o,style:i},s,c,t,!!n)}return xM(r)},Uq="#808080",_1e={angle:0,breakAll:!1,capHeight:"0.71em",fill:Uq,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},lF=y.forwardRef((e,t)=>{var n=Wa(e,_1e),{x:r,y:i,lineHeight:a,capHeight:o,fill:s,scaleToFit:c,textAnchor:l,verticalAnchor:A}=n,u=BM(n,C1e),d=y.useMemo(()=>T1e({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:c,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,c,u.style,u.width]),{dx:f,dy:h,angle:p,className:v,breakAll:m}=u,w=BM(u,B1e);if(!Vc(r)||!Vc(i)||d.length===0)return null;var B=Number(r)+(dt(f)?f:0),C=Number(i)+(dt(h)?h:0);if(!rn(B)||!rn(C))return null;var S;switch(A){case"start":S=kS("calc(".concat(o,")"));break;case"middle":S=kS("calc(".concat((d.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:S=kS("calc(".concat(d.length-1," * -").concat(a,")"));break}var k=[],_=d[0];if(c&&_!=null){var F=_.width,{width:P}=u;k.push("scale(".concat(dt(P)&&dt(F)?P/F:1,")"))}return p&&k.push("rotate(".concat(p,", ").concat(B,", ").concat(C,")")),k.length&&(w.transform=k.join(" ")),y.createElement("text",lE({},Ba(w),{ref:t,x:B,y:C,className:Ln("recharts-text",v),textAnchor:l,fill:s.includes("url")?Uq:s}),d.map((U,T)=>{var O=U.words.join(m?"":" ");return y.createElement("tspan",{x:B,dy:T===0?S:a,key:"".concat(O,"-").concat(T)},O)}))});lF.displayName="Text";function kM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kM(Object(n),!0).forEach(function(r){P1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P1e(e,t,n){return(t=I1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I1e(e){var t=F1e(e,"string");return typeof t=="symbol"?t:t+""}function F1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O1e=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:a,y:o,height:s,upperWidth:c,lowerWidth:l}=oI(t),A=a,u=a+(c-l)/2,d=(A+u)/2,f=(c+l)/2,h=A+c/2,p=s>=0?1:-1,v=p*r,m=p>0?"end":"start",w=p>0?"start":"end",B=c>=0?1:-1,C=B*r,S=B>0?"end":"start",k=B>0?"start":"end",_=i;if(n==="top"){var F={x:A+c/2,y:o-v,horizontalAnchor:"middle",verticalAnchor:m};return _&&(F.height=Math.max(o-_.y,0),F.width=c),F}if(n==="bottom"){var P={x:u+l/2,y:o+s+v,horizontalAnchor:"middle",verticalAnchor:w};return _&&(P.height=Math.max(_.y+_.height-(o+s),0),P.width=l),P}if(n==="left"){var U={x:d-C,y:o+s/2,horizontalAnchor:S,verticalAnchor:"middle"};return _&&(U.width=Math.max(U.x-_.x,0),U.height=s),U}if(n==="right"){var T={x:d+f+C,y:o+s/2,horizontalAnchor:k,verticalAnchor:"middle"};return _&&(T.width=Math.max(_.x+_.width-T.x,0),T.height=s),T}var O=_?{width:f,height:s}:{};return n==="insideLeft"?Sc({x:d+C,y:o+s/2,horizontalAnchor:k,verticalAnchor:"middle"},O):n==="insideRight"?Sc({x:d+f-C,y:o+s/2,horizontalAnchor:S,verticalAnchor:"middle"},O):n==="insideTop"?Sc({x:A+c/2,y:o+v,horizontalAnchor:"middle",verticalAnchor:w},O):n==="insideBottom"?Sc({x:u+l/2,y:o+s-v,horizontalAnchor:"middle",verticalAnchor:m},O):n==="insideTopLeft"?Sc({x:A+C,y:o+v,horizontalAnchor:k,verticalAnchor:w},O):n==="insideTopRight"?Sc({x:A+c-C,y:o+v,horizontalAnchor:S,verticalAnchor:w},O):n==="insideBottomLeft"?Sc({x:u+C,y:o+s-v,horizontalAnchor:k,verticalAnchor:m},O):n==="insideBottomRight"?Sc({x:u+l-C,y:o+s-v,horizontalAnchor:S,verticalAnchor:m},O):n&&typeof n=="object"&&(dt(n.x)||Ek(n.x))&&(dt(n.y)||Ek(n.y))?Sc({x:a+Hu(n.x,f),y:o+Hu(n.y,s),horizontalAnchor:"end",verticalAnchor:"end"},O):Sc({x:h,y:o+s/2,horizontalAnchor:"middle",verticalAnchor:"middle"},O)},L1e=["labelRef"],U1e=["content"];function EM(e,t){if(e==null)return{};var n,r,i=N1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function N1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function TM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(n),!0).forEach(function(r){M1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M1e(e,t,n){return(t=R1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R1e(e){var t=D1e(e,"string");return typeof t=="symbol"?t:t+""}function D1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nl.apply(null,arguments)}var Nq=y.createContext(null),Q1e=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:s}=e,c=y.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,n,r,i,a,o]);return y.createElement(Nq.Provider,{value:c},s)},Mq=()=>{var e=y.useContext(Nq),t=KC();return e||(t?oI(t):void 0)},j1e=y.createContext(null),H1e=()=>{var e=y.useContext(j1e),t=pt(fG);return e||t},$1e=e=>{var{value:t,formatter:n}=e,r=zi(e.children)?t:e.children;return typeof n=="function"?n(r):r},AF=e=>e!=null&&typeof e=="function",K1e=(e,t)=>{var n=is(t-e),r=Math.min(Math.abs(t-e),360);return n*r},V1e=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:s,cy:c,innerRadius:l,outerRadius:A,startAngle:u,endAngle:d,clockWise:f}=i,h=(l+A)/2,p=K1e(u,d),v=p>=0?1:-1,m,w;switch(t){case"insideStart":m=u+v*a,w=f;break;case"insideEnd":m=d-v*a,w=!f;break;case"end":m=d+v*a,w=f;break;default:throw new Error("Unsupported position ".concat(t))}w=p<=0?w:!w;var B=Ri(s,c,h,m),C=Ri(s,c,h,m+(w?1:-1)*359),S="M".concat(B.x,",").concat(B.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(w?0:1,`,
    `).concat(C.x,",").concat(C.y),k=zi(e.id)?rv("recharts-radial-line-"):e.id;return y.createElement("text",Nl({},r,{dominantBaseline:"central",className:Ln("recharts-radial-bar-label",o)}),y.createElement("defs",null,y.createElement("path",{id:k,d:S})),y.createElement("textPath",{xlinkHref:"#".concat(k)},n))},z1e=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:c}=e,l=(s+c)/2;if(n==="outside"){var{x:A,y:u}=Ri(r,i,o+t,l);return{x:A,y:u,textAnchor:A>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var d=(a+o)/2,{x:f,y:h}=Ri(r,i,d,l);return{x:f,y:h,textAnchor:"middle",verticalAnchor:"middle"}},X2=e=>e!=null&&"cx"in e&&dt(e.cx),W1e={angle:0,offset:5,zIndex:ya.label,position:"middle",textBreakAll:!1};function G1e(e){if(!X2(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function ru(e){var t=Wa(e,W1e),{viewBox:n,parentViewBox:r,position:i,value:a,children:o,content:s,className:c="",textBreakAll:l,labelRef:A}=t,u=H1e(),d=Mq(),f=i==="center"?d:u??d,h,p,v;n==null?h=f:X2(n)?h=n:h=oI(n);var m=G1e(h);if(!h||zi(a)&&zi(o)&&!y.isValidElement(s)&&typeof s!="function")return null;var w=Xm(Xm({},t),{},{viewBox:h});if(y.isValidElement(s)){var{labelRef:B}=w,C=EM(w,L1e);return y.cloneElement(s,C)}if(typeof s=="function"){var{content:S}=w,k=EM(w,U1e);if(p=y.createElement(s,k),y.isValidElement(p))return p}else p=$1e(t);var _=Ba(t);if(X2(h)){if(i==="insideStart"||i==="insideEnd"||i==="end")return V1e(t,i,p,_,h);v=z1e(h,t.offset,t.position)}else{if(!m)return null;var F=O1e({viewBox:m,position:i,offset:t.offset,parentViewBox:X2(r)?void 0:r});v=Xm(Xm({x:F.x,y:F.y,textAnchor:F.horizontalAnchor,verticalAnchor:F.verticalAnchor},F.width!==void 0?{width:F.width}:{}),F.height!==void 0?{height:F.height}:{})}return y.createElement(BA,{zIndex:t.zIndex},y.createElement(lF,Nl({ref:A,className:Ln("recharts-label",c)},_,v,{textAnchor:x1e(_.textAnchor)?_.textAnchor:v.textAnchor,breakAll:l}),p))}ru.displayName="Label";var q1e=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?y.createElement(ru,Nl({key:"label-implicit"},r)):Vc(e)?y.createElement(ru,Nl({key:"label-implicit",value:e},r)):y.isValidElement(e)?e.type===ru?y.cloneElement(e,Xm({key:"label-implicit"},r)):y.createElement(ru,Nl({key:"label-implicit",content:e},r)):AF(e)?y.createElement(ru,Nl({key:"label-implicit",content:e},r)):e&&typeof e=="object"?y.createElement(ru,Nl({},e,{key:"label-implicit"},r)):null};function Y1e(e){var{label:t,labelRef:n}=e,r=Mq();return q1e(t,r,n)||null}var Rq={},Dq={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Dq);var Qq={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Qq);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dq,n=Qq,r=EC;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(Rq);var X1e=Rq.last;const J1e=Gu(X1e);var Z1e=["valueAccessor"],eye=["dataKey","clockWise","id","textBreakAll","zIndex"];function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dw.apply(null,arguments)}function _M(e,t){if(e==null)return{};var n,r,i=tye(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nye=e=>Array.isArray(e.value)?J1e(e.value):e.value,jq=y.createContext(void 0),rye=jq.Provider,Hq=y.createContext(void 0);Hq.Provider;function iye(){return y.useContext(jq)}function aye(){return y.useContext(Hq)}function J2(e){var{valueAccessor:t=nye}=e,n=_M(e,Z1e),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:s}=n,c=_M(n,eye),l=iye(),A=aye(),u=l||A;return!u||!u.length?null:y.createElement(BA,{zIndex:s??ya.label},y.createElement(ju,{className:"recharts-label-list"},u.map((d,f)=>{var h,p=zi(r)?t(d,f):Ki(d.payload,r),v=zi(a)?{}:{id:"".concat(a,"-").concat(f)};return y.createElement(ru,Dw({key:"label-".concat(f)},Ba(d),c,v,{fill:(h=n.fill)!==null&&h!==void 0?h:d.fill,parentViewBox:d.parentViewBox,value:p,textBreakAll:o,viewBox:d.viewBox,index:f,zIndex:0}))})))}J2.displayName="LabelList";function oye(e){var{label:t}=e;return t?t===!0?y.createElement(J2,{key:"labelList-implicit"}):y.isValidElement(t)||AF(t)?y.createElement(J2,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(J2,Dw({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function AE(){return AE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AE.apply(null,arguments)}var $q=e=>{var{cx:t,cy:n,r,className:i}=e,a=Ln("recharts-dot",i);return dt(t)&&dt(n)&&dt(r)?y.createElement("circle",AE({},Kc(e),HP(e),{className:a,cx:t,cy:n,r})):null},sye={radiusAxis:{},angleAxis:{}},Kq=Ga({name:"polarAxis",initialState:sye,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:aRe,removeRadiusAxis:oRe,addAngleAxis:sRe,removeAngleAxis:cRe}=Kq.actions,cye=Kq.reducer;function lye(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Vq=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,zq={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(zq);var Aye=zq.isPlainObject;const uye=Gu(Aye);var PM,IM,FM,OM,LM;function UM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(n),!0).forEach(function(r){dye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dye(e,t,n){return(t=fye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fye(e){var t=hye(e,"string");return typeof t=="symbol"?t:t+""}function hye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qw.apply(null,arguments)}function xm(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var MM=(e,t,n,r,i)=>{var a=n-r,o;return o=ur(PM||(PM=xm(["M ",",",""])),e,t),o+=ur(IM||(IM=xm(["L ",",",""])),e+n,t),o+=ur(FM||(FM=xm(["L ",",",""])),e+n-a/2,t+i),o+=ur(OM||(OM=xm(["L ",",",""])),e+n-a/2-r,t+i),o+=ur(LM||(LM=xm(["L ",","," Z"])),e,t),o},pye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gye=e=>{var t=Wa(e,pye),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:c,animationDuration:l,animationBegin:A,isUpdateAnimationActive:u}=t,d=y.useRef(null),[f,h]=y.useState(-1),p=y.useRef(i),v=y.useRef(a),m=y.useRef(o),w=y.useRef(n),B=y.useRef(r),C=AI(e,"trapezoid-");if(y.useEffect(()=>{if(d.current&&d.current.getTotalLength)try{var $=d.current.getTotalLength();$&&h($)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var S=Ln("recharts-trapezoid",s);if(!u)return y.createElement("g",null,y.createElement("path",Qw({},Ba(t),{className:S,d:MM(n,r,i,a,o)})));var k=p.current,_=v.current,F=m.current,P=w.current,U=B.current,T="0px ".concat(f===-1?1:f,"px"),O="".concat(f,"px 0px"),H=aW(["strokeDasharray"],l,c);return y.createElement(lI,{animationId:C,key:C,canBegin:f>0,duration:l,easing:c,isActive:u,begin:A},$=>{var Z=Na(k,i,$),ae=Na(_,a,$),ie=Na(F,o,$),W=Na(P,n,$),te=Na(U,r,$);d.current&&(p.current=Z,v.current=ae,m.current=ie,w.current=W,B.current=te);var de=$>0?{transition:H,strokeDasharray:O}:{strokeDasharray:T};return y.createElement("path",Qw({},Ba(t),{className:S,d:MM(W,te,Z,ae,ie),ref:d,style:NM(NM({},de),t.style)}))})},mye=["option","shapeType","activeClassName"];function vye(e,t){if(e==null)return{};var n,r,i=yye(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function RM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(n),!0).forEach(function(r){bye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bye(e,t,n){return(t=wye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wye(e){var t=Cye(e,"string");return typeof t=="symbol"?t:t+""}function Cye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bye(e,t){return jw(jw({},t),e)}function Sye(e,t){return e==="symbols"}function DM(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return y.createElement(lW,n);case"trapezoid":return y.createElement(gye,n);case"sector":return y.createElement(dW,n);case"symbols":if(Sye(t))return y.createElement(FV,n);break;case"curve":return y.createElement(iW,n);default:return null}}function xye(e){return y.isValidElement(e)?e.props:e}function kye(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=vye(e,mye),a;if(y.isValidElement(t))a=y.cloneElement(t,jw(jw({},i),xye(t)));else if(typeof t=="function")a=t(i,i.index);else if(uye(t)&&typeof t!="boolean"){var o=Bye(t,i);a=y.createElement(DM,{shapeType:n,elementProps:o})}else{var s=i;a=y.createElement(DM,{shapeType:n,elementProps:s})}return i.isActive?y.createElement(ju,{className:r},a):a}function Eye(e){var{tooltipEntrySettings:t}=e,n=Si(),r=qa(),i=y.useRef(null);return y.useLayoutEffect(()=>{r||(i.current===null?n(Kme(t)):i.current!==t&&n(Vme({prev:i.current,next:t})),i.current=t)},[t,n,r]),y.useLayoutEffect(()=>()=>{i.current&&(n(zme(i.current)),i.current=null)},[n]),null}function Tye(e){var{legendPayload:t}=e,n=Si(),r=qa(),i=y.useRef(null);return y.useLayoutEffect(()=>{r||(i.current===null?n(kde(t)):i.current!==t&&n(Ede({prev:i.current,next:t})),i.current=t)},[n,r,t]),y.useLayoutEffect(()=>()=>{i.current&&(n(Tde(i.current)),i.current=null)},[n]),null}var ES,_ye=()=>{var[e]=y.useState(()=>rv("uid-"));return e},Pye=(ES=L9.useId)!==null&&ES!==void 0?ES:_ye;function Iye(e,t){var n=Pye();return t||(e?"".concat(e,"-").concat(n):n)}var Fye=y.createContext(void 0),Oye=e=>{var{id:t,type:n,children:r}=e,i=Iye("recharts-".concat(n),t);return y.createElement(Fye.Provider,{value:i},r(i))},Lye={cartesianItems:[],polarItems:[]},Wq=Ga({name:"graphicalItems",initialState:Lye,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Vn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Gs(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Vn()},removeCartesianGraphicalItem:{reducer(e,t){var n=Gs(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Vn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Vn()},removePolarGraphicalItem:{reducer(e,t){var n=Gs(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Vn()}}}),{addCartesianGraphicalItem:Uye,replaceCartesianGraphicalItem:Nye,removeCartesianGraphicalItem:Mye,addPolarGraphicalItem:lRe,removePolarGraphicalItem:ARe}=Wq.actions,Rye=Wq.reducer,Dye=e=>{var t=Si(),n=y.useRef(null);return y.useLayoutEffect(()=>{n.current===null?t(Uye(e)):n.current!==e&&t(Nye({prev:n.current,next:e})),n.current=e},[t,e]),y.useLayoutEffect(()=>()=>{n.current&&(t(Mye(n.current)),n.current=null)},[t]),null},Qye=y.memo(Dye),jye=["points"];function QM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QM(Object(n),!0).forEach(function(r){Hye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hye(e,t,n){return(t=$ye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ye(e){var t=Kye(e,"string");return typeof t=="symbol"?t:t+""}function Kye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hw(){return Hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hw.apply(null,arguments)}function Vye(e,t){if(e==null)return{};var n,r,i=zye(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Wye(e){var{option:t,dotProps:n,className:r}=e;if(y.isValidElement(t))return y.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Ln(r,typeof t!="boolean"?t.className:""),a=n??{},{points:o}=a,s=Vye(a,jye);return y.createElement($q,Hw({},s,{className:i}))}function Gye(e,t){return e==null?!1:t?!0:e.length===1}function qye(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:s,clipPathId:c,zIndex:l=ya.scatter}=e;if(!Gye(t,n))return null;var A=Vq(n),u=Gce(n),d=t.map((h,p)=>{var v,m,w=TS(TS(TS({r:3},o),u),{},{index:p,cx:(v=h.x)!==null&&v!==void 0?v:void 0,cy:(m=h.y)!==null&&m!==void 0?m:void 0,dataKey:a,value:h.value,payload:h.payload,points:t});return y.createElement(Wye,{key:"dot-".concat(p),option:n,dotProps:w,className:i})}),f={};return s&&c!=null&&(f.clipPath="url(#clipPath-".concat(A?"":"dots-").concat(c,")")),y.createElement(BA,{zIndex:l},y.createElement(ju,Hw({className:r},f),d))}function jM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(n),!0).forEach(function(r){Yye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yye(e,t,n){return(t=Xye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xye(e){var t=Jye(e,"string");return typeof t=="symbol"?t:t+""}function Jye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zye={xAxis:{},yAxis:{},zAxis:{}},Gq=Ga({name:"cartesianAxis",initialState:Zye,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Vn()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Vn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Vn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Vn()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Vn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Vn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Vn()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Vn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Vn()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a,o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-((a=o[0])!==null&&a!==void 0?a:0))<=1)return;var s=[...o,r].slice(-3);e.yAxis[n]=HM(HM({},i),{},{width:r,widthHistory:s})}}}}),{addXAxis:e2e,replaceXAxis:t2e,removeXAxis:n2e,addYAxis:r2e,replaceYAxis:i2e,removeYAxis:a2e,addZAxis:uRe,replaceZAxis:dRe,removeZAxis:fRe,updateYAxisWidth:o2e}=Gq.actions,s2e=Gq.reducer,c2e=Be([Wi],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),l2e=Be([c2e,mA,vA],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),uF=()=>pt(l2e),A2e=()=>pt(R0e);function $M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _S(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(n),!0).forEach(function(r){u2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u2e(e,t,n){return(t=d2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d2e(e){var t=f2e(e,"string");return typeof t=="symbol"?t:t+""}function f2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h2e=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var s={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=_S(_S(_S({},s),yC(i)),HP(i)),l;return y.isValidElement(i)?l=y.cloneElement(i,c):typeof i=="function"?l=i(c):l=y.createElement($q,c),y.createElement(ju,{className:"recharts-active-dot",clipPath:o},l)};function p2e(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=ya.activeDot}=e,s=pt(gv),c=A2e();if(t==null||c==null)return null;var l=t.find(A=>c.includes(A.payload));return zi(l)?null:y.createElement(BA,{zIndex:o},y.createElement(h2e,{point:l,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var g2e=e=>{var{chartData:t}=e,n=Si(),r=qa();return y.useEffect(()=>r?()=>{}:(n(uM(t)),()=>{n(uM(void 0))}),[t,n,r]),null},KM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},qq=Ga({name:"brush",initialState:KM,reducers:{setBrushSettings(e,t){return t.payload==null?KM:t.payload}}}),{setBrushSettings:hRe}=qq.actions,m2e=qq.reducer;function v2e(e){return(e%180+180)%180}var y2e=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=v2e(i),o=a*Math.PI/180,s=Math.atan(r/n),c=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},b2e={dots:[],areas:[],lines:[]},Yq=Ga({name:"referenceElements",initialState:b2e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Gs(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Gs(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Gs(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:pRe,removeDot:gRe,addArea:mRe,removeArea:vRe,addLine:yRe,removeLine:bRe}=Yq.actions,w2e=Yq.reducer,C2e=y.createContext(void 0),B2e=e=>{var{children:t}=e,[n]=y.useState("".concat(rv("recharts"),"-clip")),r=uF();if(r==null)return null;var{x:i,y:a,width:o,height:s}=r;return y.createElement(C2e.Provider,{value:n},y.createElement("defs",null,y.createElement("clipPath",{id:n},y.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function Xq(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function S2e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return y2e(r,n)}function x2e(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function vv(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function k2e(e,t){return Xq(e,t+1)}function E2e(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:s}=t,c=0,l=1,A=o,u=function(){var h=r==null?void 0:r[c];if(h===void 0)return{v:Xq(r,l)};var p=c,v,m=()=>(v===void 0&&(v=n(h,p)),v),w=h.coordinate,B=c===0||vv(e,w,m,A,s);B||(c=0,A=o,l+=1),B&&(A=w+e*(m()/2+i),c+=l)},d;l<=a.length;)if(d=u(),d)return d.v;return[]}function T2e(e,t,n,r,i){var a=(r||[]).slice(),o=a.length;if(o===0)return[];for(var{start:s,end:c}=t,l=1;l<=o;l++){for(var A=(o-1)%l,u=s,d=!0,f=function(){var C=r[p];if(C==null)return 0;var S=p,k,_=()=>(k===void 0&&(k=n(C,S)),k),F=C.coordinate,P=p===A||vv(e,F,_,u,c);if(!P)return d=!1,1;P&&(u=F+e*(_()/2+i))},h,p=A;p<o&&(h=f(),!(h!==0&&h===1));p+=l);if(d){for(var v=[],m=A;m<o;m+=l){var w=r[m];w!=null&&v.push(w)}return v}}return[]}function VM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ra(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(n),!0).forEach(function(r){_2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _2e(e,t,n){return(t=P2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P2e(e){var t=I2e(e,"string");return typeof t=="symbol"?t:t+""}function I2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F2e(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:s}=t,{end:c}=t,l=function(d){var f=a[d];if(f==null)return 1;var h=f,p,v=()=>(p===void 0&&(p=n(f,d)),p);if(d===o-1){var m=e*(h.coordinate+e*v()/2-c);a[d]=h=ra(ra({},h),{},{tickCoord:m>0?h.coordinate-m*e:h.coordinate})}else a[d]=h=ra(ra({},h),{},{tickCoord:h.coordinate});if(h.tickCoord!=null){var w=vv(e,h.tickCoord,v,s,c);w&&(c=h.tickCoord-e*(v()/2+i),a[d]=ra(ra({},h),{},{isShow:!0}))}},A=o-1;A>=0;A--)l(A);return a}function O2e(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,{start:c,end:l}=t;if(a){var A=r[s-1];if(A!=null){var u=n(A,s-1),d=e*(A.coordinate+e*u/2-l);if(o[s-1]=A=ra(ra({},A),{},{tickCoord:d>0?A.coordinate-d*e:A.coordinate}),A.tickCoord!=null){var f=vv(e,A.tickCoord,()=>u,c,l);f&&(l=A.tickCoord-e*(u/2+i),o[s-1]=ra(ra({},A),{},{isShow:!0}))}}}for(var h=a?s-1:s,p=function(w){var B=o[w];if(B==null)return 1;var C=B,S,k=()=>(S===void 0&&(S=n(B,w)),S);if(w===0){var _=e*(C.coordinate-e*k()/2-c);o[w]=C=ra(ra({},C),{},{tickCoord:_<0?C.coordinate-_*e:C.coordinate})}else o[w]=C=ra(ra({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var F=vv(e,C.tickCoord,k,c,l);F&&(c=C.tickCoord+e*(k()/2+i),o[w]=ra(ra({},C),{},{isShow:!0}))}},v=0;v<h;v++)p(v);return o}function dF(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:c,tickFormatter:l,unit:A,angle:u}=e;if(!i||!i.length||!r)return[];if(dt(c)||GC.isSsr){var d;return(d=k2e(i,dt(c)?c:0))!==null&&d!==void 0?d:[]}var f=[],h=s==="top"||s==="bottom"?"width":"height",p=A&&h==="width"?y0(A,{fontSize:t,letterSpacing:n}):{width:0,height:0},v=(S,k)=>{var _=typeof l=="function"?l(S.value,k):S.value;return h==="width"?S2e(y0(_,{fontSize:t,letterSpacing:n}),p,u):y0(_,{fontSize:t,letterSpacing:n})[h]},m=i[0],w=i[1],B=i.length>=2&&m!=null&&w!=null?is(w.coordinate-m.coordinate):1,C=x2e(a,B,h);return c==="equidistantPreserveStart"?E2e(B,C,v,i,o):c==="equidistantPreserveEnd"?T2e(B,C,v,i,o):(c==="preserveStart"||c==="preserveStartEnd"?f=O2e(B,C,v,i,o,c==="preserveStartEnd"):f=F2e(B,C,v,i,o),f.filter(S=>S.isShow))}var L2e=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(A=>{if(A){var u=A.getBoundingClientRect();u.width>o&&(o=u.width)}});var s=n?n.getBoundingClientRect().width:0,c=i+a,l=o+c+s+(n?r:0);return Math.round(l)}return 0},U2e=["axisLine","width","height","className","hide","ticks","axisType"];function N2e(e,t){if(e==null)return{};var n,r,i=M2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function M2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ef(){return Ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ef.apply(null,arguments)}function zM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(n),!0).forEach(function(r){R2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R2e(e,t,n){return(t=D2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D2e(e){var t=Q2e(e,"string");return typeof t=="symbol"?t:t+""}function Q2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gl={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ya.axis};function j2e(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:c}=e;if(!s)return null;var l=Ar(Ar(Ar({},c),Kc(s)),{},{fill:"none"});if(a==="top"||a==="bottom"){var A=+(a==="top"&&!o||a==="bottom"&&o);l=Ar(Ar({},l),{},{x1:t,y1:n+A*i,x2:t+r,y2:n+A*i})}else{var u=+(a==="left"&&!o||a==="right"&&o);l=Ar(Ar({},l),{},{x1:t+u*r,y1:n,x2:t+u*r,y2:n+i})}return y.createElement("line",Ef({},l,{className:Ln("recharts-cartesian-axis-line",kC(s,"className"))}))}function H2e(e,t,n,r,i,a,o,s,c){var l,A,u,d,f,h,p=s?-1:1,v=e.tickSize||o,m=dt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":l=A=e.coordinate,d=n+ +!s*i,u=d-p*v,h=u-p*c,f=m;break;case"left":u=d=e.coordinate,A=t+ +!s*r,l=A-p*v,f=l-p*c,h=m;break;case"right":u=d=e.coordinate,A=t+ +s*r,l=A+p*v,f=l+p*c,h=m;break;default:l=A=e.coordinate,d=n+ +s*i,u=d+p*v,h=u+p*c,f=m;break}return{line:{x1:l,y1:u,x2:A,y2:d},tick:{x:f,y:h}}}function $2e(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function K2e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function V2e(e){var{option:t,tickProps:n,value:r}=e,i,a=Ln(n.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))i=y.cloneElement(t,Ar(Ar({},n),{},{className:a}));else if(typeof t=="function")i=t(Ar(Ar({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Ln(o,lye(t))),i=y.createElement(lF,Ef({},n,{className:o}),r)}return i}var z2e=y.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:s,padding:c,tickTextProps:l,orientation:A,mirror:u,x:d,y:f,width:h,height:p,tickSize:v,tickMargin:m,fontSize:w,letterSpacing:B,getTicksConfig:C,events:S,axisType:k}=e,_=dF(Ar(Ar({},C),{},{ticks:n}),w,B),F=$2e(A,u),P=K2e(A,u),U=Kc(C),T=yC(r),O={};typeof i=="object"&&(O=i);var H=Ar(Ar({},U),{},{fill:"none"},O),$=_.map(ie=>Ar({entry:ie},H2e(ie,d,f,h,p,A,v,u,m))),Z=$.map(ie=>{var{entry:W,line:te}=ie;return y.createElement(ju,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},i&&y.createElement("line",Ef({},H,te,{className:Ln("recharts-cartesian-axis-tick-line",kC(i,"className"))})))}),ae=$.map((ie,W)=>{var te,de,{entry:pe,tick:R}=ie,z=Ar(Ar(Ar(Ar({verticalAnchor:P},U),{},{textAnchor:F,stroke:"none",fill:a},R),{},{index:W,payload:pe,visibleTicksCount:_.length,tickFormatter:o,padding:c},l),{},{angle:(te=(de=l==null?void 0:l.angle)!==null&&de!==void 0?de:U.angle)!==null&&te!==void 0?te:0}),X=Ar(Ar({},z),T);return y.createElement(ju,Ef({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(pe.value,"-").concat(pe.coordinate,"-").concat(pe.tickCoord)},qle(S,pe,W)),r&&y.createElement(V2e,{option:r,tickProps:X,value:"".concat(typeof o=="function"?o(pe.value,W):pe.value).concat(s||"")}))});return y.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},ae.length>0&&y.createElement(BA,{zIndex:ya.label},y.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:t},ae)),Z.length>0&&y.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},Z))}),W2e=y.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:s,axisType:c}=e,l=N2e(e,U2e),[A,u]=y.useState(""),[d,f]=y.useState(""),h=y.useRef(null);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return L2e({ticks:h.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var p=y.useCallback(v=>{if(v){var m=v.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=m;var w=m[0];if(w){var B=window.getComputedStyle(w),C=B.fontSize,S=B.letterSpacing;(C!==A||S!==d)&&(u(C),f(S))}}},[A,d]);return o||r!=null&&r<=0||i!=null&&i<=0?null:y.createElement(BA,{zIndex:e.zIndex},y.createElement(ju,{className:Ln("recharts-cartesian-axis",a)},y.createElement(j2e,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Kc(e)}),y.createElement(z2e,{ref:p,axisType:c,events:l,fontSize:A,getTicksConfig:e,height:e.height,letterSpacing:d,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),y.createElement(Q1e,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},y.createElement(Y1e,{label:e.label,labelRef:e.labelRef}),e.children)))}),fF=y.forwardRef((e,t)=>{var n=Wa(e,Gl);return y.createElement(W2e,Ef({},n,{ref:t}))});fF.displayName="CartesianAxis";var G2e=["x1","y1","x2","y2","key"],q2e=["offset"],Y2e=["xAxisId","yAxisId"],X2e=["xAxisId","yAxisId"];function WM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WM(Object(n),!0).forEach(function(r){J2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J2e(e,t,n){return(t=Z2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z2e(e){var t=ebe(e,"string");return typeof t=="symbol"?t:t+""}function ebe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zd(){return zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zd.apply(null,arguments)}function $w(e,t){if(e==null)return{};var n,r,i=tbe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nbe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:s}=e;return y.createElement("rect",{x:r,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Jq(e){var{option:t,lineItemProps:n}=e,r;if(y.isValidElement(t))r=y.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:o,x2:s,y2:c,key:l}=n,A=$w(n,G2e),u=(i=Kc(A))!==null&&i!==void 0?i:{},{offset:d}=u,f=$w(u,q2e);r=y.createElement("line",zd({},f,{x1:a,y1:o,x2:s,y2:c,fill:"none",key:l}))}return r}function rbe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=$w(e,Y2e),c=i.map((l,A)=>{var u=sa(sa({},s),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(A),index:A});return y.createElement(Jq,{key:"line-".concat(A),option:r,lineItemProps:u})});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function ibe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=$w(e,X2e),c=i.map((l,A)=>{var u=sa(sa({},s),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(A),index:A});return y.createElement(Jq,{option:r,lineItemProps:u,key:"line-".concat(A)})});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function abe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:s,horizontal:c=!0}=e;if(!c||!t||!t.length||s==null)return null;var l=s.map(u=>Math.round(u+i-i)).sort((u,d)=>u-d);i!==l[0]&&l.unshift(0);var A=l.map((u,d)=>{var f=l[d+1],h=f==null,p=h?i+o-u:f-u;if(p<=0)return null;var v=d%t.length;return y.createElement("rect",{key:"react-".concat(d),y:u,x:r,height:p,width:a,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},A)}function obe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:s,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var l=c.map(u=>Math.round(u+i-i)).sort((u,d)=>u-d);i!==l[0]&&l.unshift(0);var A=l.map((u,d)=>{var f=l[d+1],h=f==null,p=h?i+o-u:f-u;if(p<=0)return null;var v=d%n.length;return y.createElement("rect",{key:"react-".concat(d),x:u,y:a,width:p,height:s,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},A)}var sbe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return Dz(dF(sa(sa(sa({},Gl),n),{},{ticks:Qz(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},cbe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return Dz(dF(sa(sa(sa({},Gl),n),{},{ticks:Qz(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},lbe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ya.grid};function Zq(e){var t=zz(),n=Wz(),r=Vz(),i=sa(sa({},Wa(e,lbe)),{},{x:dt(e.x)?e.x:r.left,y:dt(e.y)?e.y:r.top,width:dt(e.width)?e.width:r.width,height:dt(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:s,y:c,width:l,height:A,syncWithTicks:u,horizontalValues:d,verticalValues:f}=i,h=qa(),p=pt(P=>eM(P,"xAxis",a,h)),v=pt(P=>eM(P,"yAxis",o,h));if(!Hp(l)||!Hp(A)||!dt(s)||!dt(c))return null;var m=i.verticalCoordinatesGenerator||sbe,w=i.horizontalCoordinatesGenerator||cbe,{horizontalPoints:B,verticalPoints:C}=i;if((!B||!B.length)&&typeof w=="function"){var S=d&&d.length,k=w({yAxis:v?sa(sa({},v),{},{ticks:S?d:v.ticks}):void 0,width:t??l,height:n??A,offset:r},S?!0:u);pN(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(B=k)}if((!C||!C.length)&&typeof m=="function"){var _=f&&f.length,F=m({xAxis:p?sa(sa({},p),{},{ticks:_?f:p.ticks}):void 0,width:t??l,height:n??A,offset:r},_?!0:u);pN(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(C=F)}return y.createElement(BA,{zIndex:i.zIndex},y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(nbe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),y.createElement(abe,zd({},i,{horizontalPoints:B})),y.createElement(obe,zd({},i,{verticalPoints:C})),y.createElement(rbe,zd({},i,{offset:r,horizontalPoints:B,xAxis:p,yAxis:v})),y.createElement(ibe,zd({},i,{offset:r,verticalPoints:C,xAxis:p,yAxis:v}))))}Zq.displayName="CartesianGrid";var Abe={},eY=Ga({name:"errorBars",initialState:Abe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:wRe,replaceErrorBar:CRe,removeErrorBar:BRe}=eY.actions,ube=eY.reducer,dbe=["children"];function fbe(e,t){if(e==null)return{};var n,r,i=hbe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pbe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},gbe=y.createContext(pbe);function mbe(e){var{children:t}=e,n=fbe(e,dbe);return y.createElement(gbe.Provider,{value:n},t)}function tY(e,t){var n,r,i=pt(l=>bA(l,e)),a=pt(l=>wA(l,t)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:di.allowDataOverflow,s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:fi.allowDataOverflow,c=o||s;return{needClip:c,needClipX:o,needClipY:s}}function vbe(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=uF(),{needClipX:a,needClipY:o,needClip:s}=tY(t,n);if(!s||!i)return null;var{x:c,y:l,width:A,height:u}=i;return y.createElement("clipPath",{id:"clipPath-".concat(r)},y.createElement("rect",{x:a?c:c-A/2,y:o?l:l-u/2,width:a?A:A*2,height:o?u:u*2}))}var nY=(e,t,n,r)=>JG(e,"xAxis",t,r),rY=(e,t,n,r)=>XG(e,"xAxis",t,r),iY=(e,t,n,r)=>JG(e,"yAxis",n,r),aY=(e,t,n,r)=>XG(e,"yAxis",n,r),ybe=Be([ar,nY,iY,rY,aY],(e,t,n,r,i)=>gA(e,"xAxis")?pw(t,r,!1):pw(n,i,!1)),bbe=(e,t,n,r,i)=>i;function wbe(e){return e.type==="line"}var Cbe=Be([bG,bbe],(e,t)=>e.filter(wbe).find(n=>n.id===t)),Bbe=Be([ar,nY,iY,rY,aY,Cbe,ybe,LI],(e,t,n,r,i,a,o,s)=>{var{chartData:c,dataStartIndex:l,dataEndIndex:A}=s;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:u,data:d}=a,f;if(d!=null&&d.length>0?f=d:f=c==null?void 0:c.slice(l,A+1),f!=null)return hwe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:u,bandSize:o,displayedData:f})}});function Sbe(e){var t=yC(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),s=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(s)||s<0)&&(s=r),{r:o,strokeWidth:s}}return{r:n,strokeWidth:r}}var xbe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d1=y;function kbe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ebe=typeof Object.is=="function"?Object.is:kbe,Tbe=d1.useSyncExternalStore,_be=d1.useRef,Pbe=d1.useEffect,Ibe=d1.useMemo,Fbe=d1.useDebugValue;xbe.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=_be(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Ibe(function(){function c(f){if(!l){if(l=!0,A=f,f=r(f),i!==void 0&&o.hasValue){var h=o.value;if(i(h,f))return u=h}return u=f}if(h=u,Ebe(A,f))return h;var p=r(f);return i!==void 0&&i(h,p)?(A=f,h):(A=f,u=p)}var l=!1,A,u,d=n===void 0?null:n;return[function(){return c(t())},d===null?void 0:function(){return c(d())}]},[t,n,r,i]);var s=Tbe(e,a[0],a[1]);return Pbe(function(){o.hasValue=!0,o.value=s},[s]),Fbe(s),s};function Obe(e){e()}function Lbe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Obe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var GM={notify(){},get:()=>[]};function Ube(e,t){let n,r=GM,i=0,a=!1;function o(p){A();const v=r.subscribe(p);let m=!1;return()=>{m||(m=!0,v(),u())}}function s(){r.notify()}function c(){h.onStateChange&&h.onStateChange()}function l(){return a}function A(){i++,n||(n=e.subscribe(c),r=Lbe())}function u(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=GM)}function d(){a||(a=!0,A())}function f(){a&&(a=!1,u())}const h={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:l,trySubscribe:d,tryUnsubscribe:f,getListeners:()=>r};return h}var Nbe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mbe=Nbe(),Rbe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Dbe=Rbe(),Qbe=()=>Mbe||Dbe?y.useLayoutEffect:y.useEffect,jbe=Qbe();function qM(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Hbe(e,t){if(qM(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!qM(e[n[i]],t[n[i]]))return!1;return!0}var PS=Symbol.for("react-redux-context"),IS=typeof globalThis<"u"?globalThis:{};function $be(){if(!y.createContext)return{};const e=IS[PS]??(IS[PS]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var Kbe=$be();function Vbe(e){const{children:t,context:n,serverState:r,store:i}=e,a=y.useMemo(()=>{const c=Ube(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),o=y.useMemo(()=>i.getState(),[i]);jbe(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const s=n||Kbe;return y.createElement(s.Provider,{value:a},t)}var zbe=Vbe,Wbe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Gbe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function hF(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Wbe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Hbe(e[r],t[r]))return!1}else if(!Gbe(e[r],t[r]))return!1;return!0}var qbe=["id"],Ybe=["type","layout","connectNulls","needClip","shape"],Xbe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yv.apply(null,arguments)}function YM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ic(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(n),!0).forEach(function(r){Jbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jbe(e,t,n){return(t=Zbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zbe(e){var t=ewe(e,"string");return typeof t=="symbol"?t:t+""}function ewe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pF(e,t){if(e==null)return{};var n,r,i=twe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function twe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nwe=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:jz(n,t),payload:e}]},rwe=y.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:s,unit:c,tooltipType:l,id:A}=e,u={dataDefinedOnItem:n,getPosition:Yv,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:jz(o,t),hide:s,type:l,color:r,unit:c,graphicalItemId:A}};return y.createElement(Eye,{tooltipEntrySettings:u})}),oY=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function iwe(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var awe=(e,t,n)=>{var r=n.reduce((f,h)=>f+h);if(!r)return oY(t,e);for(var i=Math.floor(e/r),a=e%r,o=t-e,s=[],c=0,l=0;c<n.length;l+=(A=n[c])!==null&&A!==void 0?A:0,++c){var A,u=n[c];if(u!=null&&l+u>a){s=[...n.slice(0,c),a-l];break}}var d=s.length%2===0?[0,o]:[o];return[...iwe(n,i),...s,...d].map(f=>"".concat(f,"px")).join(", ")};function owe(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:o}=r,{id:s}=r,c=pF(r,qbe),l=Kc(c);return y.createElement(qye,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:l,needClip:o,clipPathId:t})}function swe(e){var{showLabels:t,children:n,points:r}=e,i=y.useMemo(()=>r==null?void 0:r.map(a=>{var o,s,c={x:(o=a.x)!==null&&o!==void 0?o:0,y:(s=a.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ic(Ic({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return y.createElement(rye,{value:t?i:void 0},n)}function XM(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:o,layout:s,connectNulls:c,needClip:l,shape:A}=a,u=pF(a,Ybe),d=Ic(Ic({},Ba(u)),{},{fill:"none",className:"recharts-line-curve",clipPath:l?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:s,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return y.createElement(y.Fragment,null,(r==null?void 0:r.length)>1&&y.createElement(kye,yv({shapeType:"curve",option:A},d,{pathRef:n})),y.createElement(owe,{points:r,clipPathId:t,props:a}))}function cwe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function lwe(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:o,strokeDasharray:s,isAnimationActive:c,animationBegin:l,animationDuration:A,animationEasing:u,animateNewValues:d,width:f,height:h,onAnimationEnd:p,onAnimationStart:v}=n,m=i.current,w=AI(o,"recharts-line-"),B=y.useRef(w),[C,S]=y.useState(!1),k=!C,_=y.useCallback(()=>{typeof p=="function"&&p(),S(!1)},[p]),F=y.useCallback(()=>{typeof v=="function"&&v(),S(!0)},[v]),P=cwe(r.current),U=y.useRef(0);B.current!==w&&(U.current=a.current,B.current=w);var T=U.current;return y.createElement(swe,{points:o,showLabels:k},n.children,y.createElement(lI,{animationId:w,begin:l,duration:A,isActive:c,easing:u,onAnimationEnd:_,onAnimationStart:F,key:w},O=>{var H=Na(T,P+T,O),$=Math.min(H,P),Z;if(c)if(s){var ae="".concat(s).split(/[,\s]+/gim).map(te=>parseFloat(te));Z=awe($,P,ae)}else Z=oY(P,$);else Z=s==null?void 0:String(s);if(O>0&&P>0&&(i.current=o,a.current=Math.max(a.current,$)),m){var ie=m.length/o.length,W=O===1?o:o.map((te,de)=>{var pe=Math.floor(de*ie);if(m[pe]){var R=m[pe];return Ic(Ic({},te),{},{x:Na(R.x,te.x,O),y:Na(R.y,te.y,O)})}return d?Ic(Ic({},te),{},{x:Na(f*2,te.x,O),y:Na(h/2,te.y,O)}):Ic(Ic({},te),{},{x:te.x,y:te.y})});return i.current=W,y.createElement(XM,{props:n,points:W,clipPathId:t,pathRef:r,strokeDasharray:Z})}return y.createElement(XM,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:Z})}),y.createElement(oye,{label:n.label}))}function Awe(e){var{clipPathId:t,props:n}=e,r=y.useRef(null),i=y.useRef(0),a=y.useRef(null);return y.createElement(lwe,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var uwe=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Ki(e.payload,t)}};class dwe extends y.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:o,top:s,left:c,width:l,height:A,id:u,needClip:d,zIndex:f}=this.props;if(t)return null;var h=Ln("recharts-line",i),p=u,{r:v,strokeWidth:m}=Sbe(n),w=Vq(n),B=v*2+m,C=d?"url(#clipPath-".concat(w?"":"dots-").concat(p,")"):void 0;return y.createElement(BA,{zIndex:f},y.createElement(ju,{className:h},d&&y.createElement("defs",null,y.createElement(vbe,{clipPathId:p,xAxisId:a,yAxisId:o}),!w&&y.createElement("clipPath",{id:"clipPath-dots-".concat(p)},y.createElement("rect",{x:c-B/2,y:s-B/2,width:l+B,height:A+B}))),y.createElement(mbe,{xAxisId:a,yAxisId:o,data:r,dataPointFormatter:uwe,errorBarOffset:0},y.createElement(Awe,{props:this.props,clipPathId:p}))),y.createElement(p2e,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:C}))}}var sY={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ya.line,type:"linear"};function fwe(e){var t=Wa(e,sY),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:c,hide:l,isAnimationActive:A,label:u,legendType:d,xAxisId:f,yAxisId:h,id:p}=t,v=pF(t,Xbe),{needClip:m}=tY(f,h),w=uF(),B=gg(),C=qa(),S=pt(U=>Bbe(U,f,h,C,p));if(B!=="horizontal"&&B!=="vertical"||S==null||w==null)return null;var{height:k,width:_,x:F,y:P}=w;return y.createElement(dwe,yv({},v,{id:p,connectNulls:s,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:A,hide:l,label:u,legendType:d,xAxisId:f,yAxisId:h,points:S,layout:B,height:k,width:_,left:F,top:P,needClip:m}))}function hwe(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:s,displayedData:c}=e;return c.map((l,A)=>{var u=Ki(l,o);if(t==="horizontal"){var d=AN({axis:n,ticks:i,bandSize:s,entry:l,index:A}),f=zi(u)?null:r.scale.map(u);return{x:d,y:f??null,value:u,payload:l}}var h=zi(u)?null:n.scale.map(u),p=AN({axis:r,ticks:a,bandSize:s,entry:l,index:A});return h==null||p==null?null:{x:h,y:p,value:u,payload:l}}).filter(Boolean)}function pwe(e){var t=Wa(e,sY),n=qa();return y.createElement(Oye,{id:t.id,type:"line"},r=>y.createElement(y.Fragment,null,y.createElement(Tye,{legendPayload:nwe(t)}),y.createElement(rwe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),y.createElement(Qye,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),y.createElement(fwe,yv({},t,{id:r}))))}var cY=y.memo(pwe,hF);cY.displayName="Line";var gwe=["domain","range"],mwe=["domain","range"];function JM(e,t){if(e==null)return{};var n,r,i=vwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ZM(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function lY(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=JM(e,gwe),{domain:a,range:o}=t,s=JM(t,mwe);return!ZM(n,a)||!ZM(r,o)?!1:hF(i,s)}var ywe=["type"],bwe=["dangerouslySetInnerHTML","ticks","scale"],wwe=["id","scale"];function uE(){return uE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uE.apply(null,arguments)}function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(n),!0).forEach(function(r){Cwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cwe(e,t,n){return(t=Bwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bwe(e){var t=Swe(e,"string");return typeof t=="symbol"?t:t+""}function Swe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dE(e,t){if(e==null)return{};var n,r,i=xwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kwe(e){var t=Si(),n=y.useRef(null),r=Gz(),{type:i}=e,a=dE(e,ywe),o=rB(r,"xAxis",i),s=y.useMemo(()=>{if(o!=null)return tR(tR({},a),{},{type:o})},[a,o]);return y.useLayoutEffect(()=>{s!=null&&(n.current===null?t(e2e(s)):n.current!==s&&t(t2e({prev:n.current,next:s})),n.current=s)},[s,t]),y.useLayoutEffect(()=>()=>{n.current&&(t(n2e(n.current)),n.current=null)},[t]),null}var Ewe=e=>{var{xAxisId:t,className:n}=e,r=pt($z),i=qa(),a="xAxis",o=pt(m=>YG(m,a,t,i)),s=pt(m=>Eme(m,t)),c=pt(m=>Ome(m,t)),l=pt(m=>gG(m,t));if(s==null||c==null||l==null)return null;var{dangerouslySetInnerHTML:A,ticks:u,scale:d}=e,f=dE(e,bwe),{id:h,scale:p}=l,v=dE(l,wwe);return y.createElement(fF,uE({},f,v,{x:c.x,y:c.y,width:s.width,height:s.height,className:Ln("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o,axisType:a}))},Twe={allowDataOverflow:di.allowDataOverflow,allowDecimals:di.allowDecimals,allowDuplicatedCategory:di.allowDuplicatedCategory,angle:di.angle,axisLine:Gl.axisLine,height:di.height,hide:!1,includeHidden:di.includeHidden,interval:di.interval,label:!1,minTickGap:di.minTickGap,mirror:di.mirror,orientation:di.orientation,padding:di.padding,reversed:di.reversed,scale:di.scale,tick:di.tick,tickCount:di.tickCount,tickLine:Gl.tickLine,tickSize:Gl.tickSize,type:di.type,xAxisId:0},_we=e=>{var t=Wa(e,Twe);return y.createElement(y.Fragment,null,y.createElement(kwe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),y.createElement(Ewe,t))},AY=y.memo(_we,lY);AY.displayName="XAxis";var Pwe=["type"],Iwe=["dangerouslySetInnerHTML","ticks","scale"],Fwe=["id","scale"];function fE(){return fE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fE.apply(null,arguments)}function nR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(n),!0).forEach(function(r){Owe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Owe(e,t,n){return(t=Lwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lwe(e){var t=Uwe(e,"string");return typeof t=="symbol"?t:t+""}function Uwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hE(e,t){if(e==null)return{};var n,r,i=Nwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Mwe(e){var t=Si(),n=y.useRef(null),r=Gz(),{type:i}=e,a=hE(e,Pwe),o=rB(r,"yAxis",i),s=y.useMemo(()=>{if(o!=null)return rR(rR({},a),{},{type:o})},[o,a]);return y.useLayoutEffect(()=>{s!=null&&(n.current===null?t(r2e(s)):n.current!==s&&t(i2e({prev:n.current,next:s})),n.current=s)},[s,t]),y.useLayoutEffect(()=>()=>{n.current&&(t(a2e(n.current)),n.current=null)},[t]),null}function Rwe(e){var{yAxisId:t,className:n,width:r,label:i}=e,a=y.useRef(null),o=y.useRef(null),s=pt($z),c=qa(),l=Si(),A="yAxis",u=pt(k=>Nme(k,t)),d=pt(k=>Ume(k,t)),f=pt(k=>YG(k,A,t,c)),h=pt(k=>mG(k,t));if(y.useLayoutEffect(()=>{if(!(r!=="auto"||!u||AF(i)||y.isValidElement(i)||h==null)){var k=a.current;if(k){var _=k.getCalculatedWidth();Math.round(u.width)!==Math.round(_)&&l(o2e({id:t,width:_}))}}},[f,u,l,i,t,r,h]),u==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:v,scale:m}=e,w=hE(e,Iwe),{id:B,scale:C}=h,S=hE(h,Fwe);return y.createElement(fF,fE({},w,S,{ref:a,labelRef:o,x:d.x,y:d.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:u.width,height:u.height,className:Ln("recharts-".concat(A," ").concat(A),n),viewBox:s,ticks:f,axisType:A}))}var Dwe={allowDataOverflow:fi.allowDataOverflow,allowDecimals:fi.allowDecimals,allowDuplicatedCategory:fi.allowDuplicatedCategory,angle:fi.angle,axisLine:Gl.axisLine,hide:!1,includeHidden:fi.includeHidden,interval:fi.interval,label:!1,minTickGap:fi.minTickGap,mirror:fi.mirror,orientation:fi.orientation,padding:fi.padding,reversed:fi.reversed,scale:fi.scale,tick:fi.tick,tickCount:fi.tickCount,tickLine:Gl.tickLine,tickSize:Gl.tickSize,type:fi.type,width:fi.width,yAxisId:0},Qwe=e=>{var t=Wa(e,Dwe);return y.createElement(y.Fragment,null,y.createElement(Mwe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),y.createElement(Rwe,t))},uY=y.memo(Qwe,lY);uY.displayName="YAxis";var jwe=(e,t)=>t,gF=Be([jwe,ar,fG,Ei,hq,CA,X0e,Wi],ive),mF=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},dY=ds("mouseClick"),fY=Jv();fY.startListening({actionCreator:dY,effect:(e,t)=>{var n=e.payload,r=gF(t.getState(),mF(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(qme({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var pE=ds("mouseMove"),hY=Jv(),Hy=null;hY.startListening({actionCreator:pE,effect:(e,t)=>{var n=e.payload;Hy!==null&&cancelAnimationFrame(Hy);var r=mF(n);Hy=requestAnimationFrame(()=>{var i=t.getState(),a=ZI(i,i.tooltip.settings.shared);if(a==="axis"){var o=gF(i,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(aq({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(iq())}Hy=null})}});function Hwe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var iR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},pY=Ga({name:"rootProps",initialState:iR,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:iR.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),$we=pY.reducer,{updateOptions:Kwe}=pY.actions,Vwe=null,zwe={updatePolarOptions:(e,t)=>t.payload},gY=Ga({name:"polarOptions",initialState:Vwe,reducers:zwe}),{updatePolarOptions:SRe}=gY.actions,Wwe=gY.reducer,mY=ds("keyDown"),vY=ds("focus"),vF=Jv();vF.startListening({actionCreator:mY,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=eF(i,xg(n),c1(n),A1(n)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var c=CA(n);if(a==="Enter"){var l=Rw(n,"axis","hover",String(i.index));t.dispatch(oE({active:!i.active,activeIndex:i.index,activeCoordinate:l}));return}var A=Qme(n),u=A==="left-to-right"?1:-1,d=a==="ArrowRight"?1:-1,f=s+d*u;if(!(c==null||f>=c.length||f<0)){var h=Rw(n,"axis","hover",String(f));t.dispatch(oE({active:!0,activeIndex:f.toString(),activeCoordinate:h}))}}}}}});vF.startListening({actionCreator:vY,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Rw(n,"axis","hover",String(a));t.dispatch(oE({active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Go=ds("externalEvent"),yY=Jv(),FS=new Map;yY.startListening({actionCreator:Go,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=FS.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var s=t.getState(),c={activeCoordinate:U0e(s),activeDataKey:O0e(s),activeIndex:gv(s),activeLabel:mq(s),activeTooltipIndex:gv(s),isTooltipActive:N0e(s)};n(c,r)}finally{FS.delete(i)}});FS.set(i,o)}}});var Gwe=Be([Bg],e=>e.tooltipItemPayloads),qwe=Be([Gwe,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(a=>a.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),bY=ds("touchMove"),wY=Jv();wY.startListening({actionCreator:bY,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=ZI(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var o=gF(r,mF({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(aq({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var s,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var l=document.elementFromPoint(c.clientX,c.clientY);if(!l||!l.getAttribute)return;var A=l.getAttribute(Jue),u=(s=l.getAttribute(Zue))!==null&&s!==void 0?s:void 0,d=Sg(r).find(p=>p.id===u);if(A==null||d==null||u==null)return;var{dataKey:f}=d,h=qwe(r,A,u);t.dispatch(Gme({activeDataKey:f,activeIndex:A,activeCoordinate:h,activeGraphicalItemId:u}))}}}});var Ywe=Az({brush:m2e,cartesianAxis:s2e,chartData:Uve,errorBars:ube,graphicalItems:Rye,layout:Mue,legend:_de,options:Pve,polarAxis:cye,polarOptions:Wwe,referenceElements:w2e,rootProps:$we,tooltip:Yme,zIndex:vve}),Xwe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return cue({reducer:Ywe,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([fY.middleware,hY.middleware,vF.middleware,yY.middleware,wY.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(xz({type:"raf"}))},devTools:{serialize:{replacer:Hwe},name:"recharts-".concat(n)}})};function Jwe(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=qa(),a=y.useRef(null);if(i)return n;a.current==null&&(a.current=Xwe(t,r));var o=XP;return y.createElement(zbe,{context:o,store:a.current},n)}function Zwe(e){var{layout:t,margin:n}=e,r=Si(),i=qa();return y.useEffect(()=>{i||(r(Lue(t)),r(Oue(n)))},[r,i,t,n]),null}var e5e=y.memo(Zwe,hF);function t5e(e){var t=Si();return y.useEffect(()=>{t(Kwe(e))},[t,e]),null}function aR(e){var{zIndex:t,isPanorama:n}=e,r=y.useRef(null),i=Si();return y.useLayoutEffect(()=>(r.current&&i(gve({zIndex:t,element:r.current,isPanorama:n})),()=>{i(mve({zIndex:t,isPanorama:n}))}),[i,t,n]),y.createElement("g",{tabIndex:-1,ref:r})}function oR(e){var{children:t,isPanorama:n}=e,r=pt(ove);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return y.createElement(y.Fragment,null,i.map(o=>y.createElement(aR,{key:o,zIndex:o,isPanorama:n})),t,a.map(o=>y.createElement(aR,{key:o,zIndex:o,isPanorama:n})))}var n5e=["children"];function r5e(e,t){if(e==null)return{};var n,r,i=i5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i5e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Kw(){return Kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kw.apply(null,arguments)}var a5e={width:"100%",height:"100%",display:"block"},o5e=y.forwardRef((e,t)=>{var n=zz(),r=Wz(),i=rW();if(!Hp(n)||!Hp(r))return null;var{children:a,otherAttributes:o,title:s,desc:c}=e,l,A;return o!=null&&(typeof o.tabIndex=="number"?l=o.tabIndex:l=i?0:void 0,typeof o.role=="string"?A=o.role:A=i?"application":void 0),y.createElement(AV,Kw({},o,{title:s,desc:c,role:A,tabIndex:l,width:n,height:r,style:a5e,ref:t}),a)}),s5e=e=>{var{children:t}=e,n=pt($C);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return y.createElement(AV,{width:r,height:i,x:o,y:a},t)},sR=y.forwardRef((e,t)=>{var{children:n}=e,r=r5e(e,n5e),i=qa();return i?y.createElement(s5e,null,y.createElement(oR,{isPanorama:!0},n)):y.createElement(o5e,Kw({ref:t},r),y.createElement(oR,{isPanorama:!1},n))});function c5e(){var e=Si(),[t,n]=y.useState(null),r=pt(Xue);return y.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;rn(a)&&a!==r&&e(Nue(a))}},[t,e,r]),n}function cR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function l5e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(n),!0).forEach(function(r){A5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A5e(e,t,n){return(t=u5e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u5e(e){var t=d5e(e,"string");return typeof t=="symbol"?t:t+""}function d5e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iu.apply(null,arguments)}var f5e=()=>(Kve(),null);function Vw(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var h5e=y.forwardRef((e,t)=>{var n,r,i=y.useRef(null),[a,o]=y.useState({containerWidth:Vw((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Vw((r=e.style)===null||r===void 0?void 0:r.height)}),s=y.useCallback((l,A)=>{o(u=>{var d=Math.round(l),f=Math.round(A);return u.containerWidth===d&&u.containerHeight===f?u:{containerWidth:d,containerHeight:f}})},[]),c=y.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null&&typeof ResizeObserver<"u"){var{width:A,height:u}=l.getBoundingClientRect();s(A,u);var d=h=>{var p=h[0];if(p!=null){var{width:v,height:m}=p.contentRect;s(v,m)}},f=new ResizeObserver(d);f.observe(l),i.current=f}},[t,s]);return y.useEffect(()=>()=>{var l=i.current;l!=null&&l.disconnect()},[s]),y.createElement(y.Fragment,null,y.createElement(e1,{width:a.containerWidth,height:a.containerHeight}),y.createElement("div",Iu({ref:c},e)))}),p5e=y.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=y.useState({containerWidth:Vw(n),containerHeight:Vw(r)}),o=y.useCallback((c,l)=>{a(A=>{var u=Math.round(c),d=Math.round(l);return A.containerWidth===u&&A.containerHeight===d?A:{containerWidth:u,containerHeight:d}})},[]),s=y.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:l,height:A}=c.getBoundingClientRect();o(l,A)}},[t,o]);return y.createElement(y.Fragment,null,y.createElement(e1,{width:i.containerWidth,height:i.containerHeight}),y.createElement("div",Iu({ref:s},e)))}),g5e=y.forwardRef((e,t)=>{var{width:n,height:r}=e;return y.createElement(y.Fragment,null,y.createElement(e1,{width:n,height:r}),y.createElement("div",Iu({ref:t},e)))}),m5e=y.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?y.createElement(p5e,Iu({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?y.createElement(g5e,Iu({},e,{width:n,height:r,ref:t})):y.createElement(y.Fragment,null,y.createElement(e1,{width:n,height:r}),y.createElement("div",Iu({ref:t},e)))});function v5e(e){return e?h5e:m5e}var y5e=y.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:c,onMouseEnter:l,onMouseLeave:A,onMouseMove:u,onMouseUp:d,onTouchEnd:f,onTouchMove:h,onTouchStart:p,style:v,width:m,responsive:w,dispatchTouchEvents:B=!0}=e,C=y.useRef(null),S=Si(),[k,_]=y.useState(null),[F,P]=y.useState(null),U=c5e(),T=Kz(),O=(T==null?void 0:T.width)>0?T.width:m,H=(T==null?void 0:T.height)>0?T.height:i,$=y.useCallback(ee=>{U(ee),typeof t=="function"&&t(ee),_(ee),P(ee),ee!=null&&(C.current=ee)},[U,t,_,P]),Z=y.useCallback(ee=>{S(dY(ee)),S(Go({handler:a,reactEvent:ee}))},[S,a]),ae=y.useCallback(ee=>{S(pE(ee)),S(Go({handler:l,reactEvent:ee}))},[S,l]),ie=y.useCallback(ee=>{S(iq()),S(Go({handler:A,reactEvent:ee}))},[S,A]),W=y.useCallback(ee=>{S(pE(ee)),S(Go({handler:u,reactEvent:ee}))},[S,u]),te=y.useCallback(()=>{S(vY())},[S]),de=y.useCallback(ee=>{S(mY(ee.key))},[S]),pe=y.useCallback(ee=>{S(Go({handler:o,reactEvent:ee}))},[S,o]),R=y.useCallback(ee=>{S(Go({handler:s,reactEvent:ee}))},[S,s]),z=y.useCallback(ee=>{S(Go({handler:c,reactEvent:ee}))},[S,c]),X=y.useCallback(ee=>{S(Go({handler:d,reactEvent:ee}))},[S,d]),re=y.useCallback(ee=>{S(Go({handler:p,reactEvent:ee}))},[S,p]),oe=y.useCallback(ee=>{B&&S(bY(ee)),S(Go({handler:h,reactEvent:ee}))},[S,B,h]),ce=y.useCallback(ee=>{S(Go({handler:f,reactEvent:ee}))},[S,f]),be=v5e(w);return y.createElement(Sq.Provider,{value:k},y.createElement(tle.Provider,{value:F},y.createElement(be,{width:O??(v==null?void 0:v.width),height:H??(v==null?void 0:v.height),className:Ln("recharts-wrapper",r),style:l5e({position:"relative",cursor:"default",width:O,height:H},v),onClick:Z,onContextMenu:pe,onDoubleClick:R,onFocus:te,onKeyDown:de,onMouseDown:z,onMouseEnter:ae,onMouseLeave:ie,onMouseMove:W,onMouseUp:X,onTouchEnd:ce,onTouchMove:oe,onTouchStart:re,ref:$},y.createElement(f5e,null),n)))}),b5e=["width","height","responsive","children","className","style","compact","title","desc"];function w5e(e,t){if(e==null)return{};var n,r,i=C5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function C5e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var B5e=y.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:s,compact:c,title:l,desc:A}=e,u=w5e(e,b5e),d=Kc(u);return c?y.createElement(y.Fragment,null,y.createElement(e1,{width:n,height:r}),y.createElement(sR,{otherAttributes:d,title:l,desc:A},a)):y.createElement(y5e,{className:o,style:s,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(sR,{otherAttributes:d,title:l,desc:A,ref:t},y.createElement(B2e,null,a)))});function gE(){return gE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gE.apply(null,arguments)}var S5e={top:5,right:5,bottom:5,left:5},x5e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:S5e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},k5e=y.forwardRef(function(t,n){var r,i=Wa(t.categoricalChartProps,x5e),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,categoricalChartProps:l}=t,A={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,eventEmitter:void 0};return y.createElement(Jwe,{preloadedState:{options:A},reduxStoreName:(r=l.id)!==null&&r!==void 0?r:a},y.createElement(g2e,{chartData:l.data}),y.createElement(e5e,{layout:i.layout,margin:i.margin}),y.createElement(t5e,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),y.createElement(B5e,gE({},i,{ref:n})))}),E5e=["axis"],T5e=y.forwardRef((e,t)=>y.createElement(k5e,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:E5e,tooltipPayloadSearcher:Tve,categoricalChartProps:e,ref:t}));const OS=6;function _5e({participants:e=[],onClose:t,onLaunch:n}){const[r,i]=y.useState(""),[a,o]=y.useState(["",""]),[s,c]=y.useState("single"),[l,A]=y.useState(new Set),u=()=>{a.length<OS&&o(p=>[...p,""])},d=(p,v)=>{o(m=>{const w=[...m];return w[p]=v,w})},f=p=>{a.length>2&&o(v=>v.filter((m,w)=>w!==p))},h=()=>{const p=r.trim(),v=a.map(m=>m.trim()).filter(Boolean);p&&v.length>=2&&(n==null||n({question:p,options:v,voteType:s})),t==null||t()};return L.jsx("div",{className:"ip-modal-overlay",onClick:t,children:L.jsxs("div",{className:"ip-modal ip-modal-poll",onClick:p=>p.stopPropagation(),children:[L.jsxs("div",{className:"ip-modal-header",children:[L.jsxs("div",{children:[L.jsx("h2",{className:"ip-modal-title",children:"Launch Poll"}),L.jsx("p",{className:"ip-modal-subtitle",children:"Create a live poll for your students"})]}),L.jsx("button",{type:"button",className:"ip-modal-close",onClick:t,"aria-label":"Close",children:""})]}),L.jsxs("div",{className:"ip-modal-body",children:[L.jsxs("div",{className:"ip-field",children:[L.jsx("label",{className:"ip-field-label",children:"Poll Question"}),L.jsx("input",{type:"text",className:"ip-input",placeholder:"What topic should we cover next?",value:r,onChange:p=>i(p.target.value)})]}),L.jsxs("div",{className:"ip-field",children:[L.jsxs("div",{className:"ip-field-row",children:[L.jsx("label",{className:"ip-field-label",children:"Answer Options"}),L.jsxs("span",{className:"ip-field-hint",children:["(",a.filter(Boolean).length,"/",OS,")"]}),L.jsx("button",{type:"button",className:"ip-btn-add",onClick:u,disabled:a.length>=OS,children:"+ Add Option"})]}),a.map((p,v)=>L.jsxs("div",{className:"ip-option-row",children:[L.jsxs("span",{className:"ip-option-num",children:[v+1,"."]}),L.jsx("input",{type:"text",className:"ip-input",placeholder:`Option ${v+1}`,value:p,onChange:m=>d(v,m.target.value)}),a.length>2&&L.jsx("button",{type:"button",className:"ip-btn-remove",onClick:()=>f(v),children:"Remove"})]},v))]}),L.jsxs("div",{className:"ip-field",children:[L.jsx("label",{className:"ip-field-label",children:"Vote Type"}),L.jsxs("div",{className:"ip-vote-type",children:[L.jsx("button",{type:"button",className:`ip-vote-btn ${s==="single"?"active":""}`,onClick:()=>c("single"),children:"Single Choice"}),L.jsx("button",{type:"button",className:`ip-vote-btn ${s==="multiple"?"active":""}`,onClick:()=>c("multiple"),children:"Multiple Choice"})]})]}),e.length>0&&L.jsxs("div",{className:"ip-field",children:[L.jsx("label",{className:"ip-field-label",children:"Participation Status"}),L.jsxs("p",{className:"ip-participation-hint",children:[l.size,"/",e.length," Voted"]}),L.jsx("ul",{className:"ip-participant-list",children:e.map(p=>{var v;return L.jsxs("li",{className:"ip-participant-item",children:[L.jsx("span",{children:p.name||((v=p.participant_id)==null?void 0:v.slice(0,8))}),L.jsx("span",{className:l.has(p.participant_id)?"ip-status-voted":"ip-status-pending",children:l.has(p.participant_id)?"Voted":"Not Voted"})]},p.participant_id)})})]})]}),L.jsxs("div",{className:"ip-modal-footer",children:[L.jsx("button",{type:"button",className:"ip-btn ip-btn-secondary",onClick:t,children:"Cancel"}),L.jsx("button",{type:"button",className:"ip-btn ip-btn-primary",onClick:h,disabled:!r.trim()||a.filter(Boolean).length<2,children:"Launch Poll"})]})]})})}const lR=15,P5e=300,I5e=15;function F5e({onClose:e,onStart:t}){const[n,r]=y.useState(""),[i,a]=y.useState([{text:"",correct:!1},{text:"",correct:!1}]),[o,s]=y.useState(!1),[c,l]=y.useState(60),A=()=>{i.length<6&&a(p=>[...p,{text:"",correct:!1}])},u=(p,v,m)=>{a(w=>{const B=[...w];return B[p]={...B[p],text:v??B[p].text,correct:B[p].correct},B})},d=p=>{a(v=>o?v.map((m,w)=>w===p?{...m,correct:!m.correct}:m):v.map((m,w)=>({...m,correct:w===p?!v[p].correct:!1})))},f=i.some(p=>p.correct),h=()=>{const p=n.trim(),v=i.map(m=>m.text.trim()).filter(Boolean);p&&v.length>=2&&f&&(t==null||t({question:p,options:v.map((m,w)=>({text:m,correct:i[w].correct})),timeSeconds:c})),e==null||e()};return L.jsx("div",{className:"ip-modal-overlay",onClick:e,children:L.jsxs("div",{className:"ip-modal ip-modal-quiz",onClick:p=>p.stopPropagation(),children:[L.jsxs("div",{className:"ip-modal-header",children:[L.jsxs("div",{children:[L.jsx("h2",{className:"ip-modal-title",children:"Start Quiz"}),L.jsx("p",{className:"ip-modal-subtitle",children:"Create a timed quiz for your students"})]}),L.jsx("button",{type:"button",className:"ip-modal-close",onClick:e,"aria-label":"Close",children:""})]}),L.jsxs("div",{className:"ip-modal-body",children:[L.jsxs("div",{className:"ip-field",children:[L.jsx("label",{className:"ip-field-label",children:"Question Progress"}),L.jsx("p",{className:"ip-field-hint",children:"0/10 Complete"})]}),L.jsxs("div",{className:"ip-field",children:[L.jsx("label",{className:"ip-field-label",children:"Quiz Question"}),L.jsx("textarea",{className:"ip-textarea",placeholder:"What is the Pythagorean theorem?",value:n,onChange:p=>r(p.target.value),rows:3})]}),L.jsxs("div",{className:"ip-field",children:[L.jsxs("div",{className:"ip-field-row",children:[L.jsxs("label",{className:"ip-field-label",children:["Answer Options (",i.filter(p=>p.text.trim()).length,"/4)"]}),L.jsx("button",{type:"button",className:"ip-btn-add",onClick:A,disabled:i.length>=6,children:"+ Add Answer"})]}),i.map((p,v)=>L.jsxs("div",{className:"ip-quiz-option-row",children:[L.jsx("button",{type:"button",className:`ip-radio ${p.correct?"correct":""}`,onClick:()=>d(v),title:"Mark as correct"}),L.jsxs("span",{className:"ip-option-letter",children:[String.fromCharCode(65+v),"."]}),L.jsx("input",{type:"text",className:"ip-input",placeholder:`Answer ${String.fromCharCode(65+v)}`,value:p.text,onChange:m=>u(v,m.target.value)})]},v)),!f&&i.some(p=>p.text.trim())&&L.jsx("p",{className:"ip-warning",children:"Please mark at least one correct answer."})]}),L.jsxs("div",{className:"ip-field",children:[L.jsx("label",{className:"ip-field-label",children:"Multiple Correct Answers"}),L.jsx("p",{className:"ip-field-desc",children:"Allow more than one correct answer"}),L.jsx("button",{type:"button",className:`ip-toggle ${o?"on":""}`,onClick:()=>s(p=>!p),role:"switch","aria-checked":o,children:L.jsx("span",{className:"ip-toggle-thumb"})})]}),L.jsxs("div",{className:"ip-field",children:[L.jsx("label",{className:"ip-field-label",children:"Time Limit (seconds)"}),L.jsxs("div",{className:"ip-time-range",children:[L.jsxs("span",{children:[lR,"s"]}),L.jsx("input",{type:"range",min:lR,max:P5e,step:I5e,value:c,onChange:p=>l(Number(p.target.value)),className:"ip-slider"}),L.jsx("span",{children:c>=60?`${Math.floor(c/60)}m`:`${c}s`})]}),L.jsxs("p",{className:"ip-time-value",children:[c,"s"]})]})]}),L.jsxs("div",{className:"ip-modal-footer",children:[L.jsx("button",{type:"button",className:"ip-btn ip-btn-secondary",onClick:e,children:"Cancel"}),L.jsx("button",{type:"button",className:"ip-btn ip-btn-success",onClick:h,disabled:!n.trim()||i.filter(p=>p.text.trim()).length<2||!f,children:"Start Quiz"})]})]})})}const O5e=[5,10,15,20];function L5e({onClose:e,onStart:t}){const[n,r]=y.useState(5),[i,a]=y.useState(!0),o=()=>{t==null||t({durationMinutes:n,soundEnabled:i}),e==null||e()};return L.jsx("div",{className:"ip-modal-overlay",onClick:e,children:L.jsxs("div",{className:"ip-modal ip-modal-break",onClick:s=>s.stopPropagation(),children:[L.jsxs("div",{className:"ip-modal-header",children:[L.jsxs("div",{className:"ip-modal-header-with-icon",children:[L.jsx("span",{className:"ip-break-icon","aria-hidden":!0,children:""}),L.jsxs("div",{children:[L.jsx("h2",{className:"ip-modal-title",children:"Take a Break"}),L.jsx("p",{className:"ip-modal-subtitle",children:"Give students a scheduled break"})]})]}),L.jsx("button",{type:"button",className:"ip-modal-close",onClick:e,"aria-label":"Close",children:""})]}),L.jsxs("div",{className:"ip-modal-body",children:[L.jsx("div",{className:"ip-break-timer-display",children:L.jsxs("div",{className:"ip-break-circle",children:[L.jsx("span",{className:"ip-break-clock-icon",children:""}),L.jsxs("span",{className:"ip-break-time",children:[String(n).padStart(2,"0"),":00"]}),L.jsx("span",{className:"ip-break-status",children:"Ready to Start"})]})}),L.jsxs("div",{className:"ip-field",children:[L.jsx("label",{className:"ip-field-label",children:"Break Duration (minutes)"}),L.jsx("div",{className:"ip-duration-btns",children:O5e.map(s=>L.jsxs("button",{type:"button",className:`ip-duration-btn ${n===s?"active":""}`,onClick:()=>r(s),children:[s,"m"]},s))})]}),L.jsxs("div",{className:"ip-field ip-sound-field",children:[L.jsx("span",{className:"ip-sound-icon","aria-hidden":!0,children:""}),L.jsxs("div",{children:[L.jsx("label",{className:"ip-field-label",children:"Sound Notification"}),L.jsx("p",{className:"ip-field-desc",children:"A gentle notification sound will play when the break ends to alert all participants to return."})]}),L.jsx("button",{type:"button",className:`ip-toggle ${i?"on":""}`,onClick:()=>a(s=>!s),role:"switch","aria-checked":i,children:L.jsx("span",{className:"ip-toggle-thumb"})})]})]}),L.jsxs("div",{className:"ip-modal-footer",children:[L.jsx("button",{type:"button",className:"ip-btn ip-btn-secondary",onClick:e,children:"Cancel"}),L.jsx("button",{type:"button",className:"ip-btn ip-btn-break",onClick:o,children:"Start Break"})]})]})})}const U5e="modulepreload",N5e=function(e){return"/"+e},AR={},LS=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=N5e(c),c in AR)return;AR[c]=!0;const l=c.endsWith(".css"),A=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${A}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":U5e,l||(u.as="script"),u.crossOrigin="",u.href=c,s&&u.setAttribute("nonce",s),document.head.appendChild(u),l)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};function pn(e){"@babel/helpers - typeof";return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pn(e)}var Xs=Uint8Array,go=Uint16Array,yF=Int32Array,bF=new Xs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),wF=new Xs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),uR=new Xs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),CY=function(e,t){for(var n=new go(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new yF(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},BY=CY(bF,2),M5e=BY.b,mE=BY.r;M5e[28]=258,mE[258]=28;var R5e=CY(wF,0),dR=R5e.r,vE=new go(32768);for(var Rn=0;Rn<32768;++Rn){var zA=(Rn&43690)>>1|(Rn&21845)<<1;zA=(zA&52428)>>2|(zA&13107)<<2,zA=(zA&61680)>>4|(zA&3855)<<4,vE[Rn]=((zA&65280)>>8|(zA&255)<<8)>>1}var b0=function(e,t,n){for(var r=e.length,i=0,a=new go(t);i<r;++i)e[i]&&++a[e[i]-1];var o=new go(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(n){s=new go(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var l=i<<4|e[i],A=t-e[i],u=o[e[i]-1]++<<A,d=u|(1<<A)-1;u<=d;++u)s[vE[u]>>c]=l}else for(s=new go(r),i=0;i<r;++i)e[i]&&(s[i]=vE[o[e[i]-1]++]>>15-e[i]);return s},Tf=new Xs(288);for(var Rn=0;Rn<144;++Rn)Tf[Rn]=8;for(var Rn=144;Rn<256;++Rn)Tf[Rn]=9;for(var Rn=256;Rn<280;++Rn)Tf[Rn]=7;for(var Rn=280;Rn<288;++Rn)Tf[Rn]=8;var zw=new Xs(32);for(var Rn=0;Rn<32;++Rn)zw[Rn]=5;var D5e=b0(Tf,9,0),Q5e=b0(zw,5,0),SY=function(e){return(e+7)/8|0},j5e=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Xs(e.subarray(t,n))},xl=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},km=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},US=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return{t:kY,l:0};if(i==1){var o=new Xs(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(S,k){return S.f-k.f}),n.push({s:-1,f:25001});var s=n[0],c=n[1],l=0,A=1,u=2;for(n[0]={s:-1,f:s.f+c.f,l:s,r:c};A!=i-1;)s=n[n[l].f<n[u].f?l++:u++],c=n[l!=A&&n[l].f<n[u].f?l++:u++],n[A++]={s:-1,f:s.f+c.f,l:s,r:c};for(var d=a[0].s,r=1;r<i;++r)a[r].s>d&&(d=a[r].s);var f=new go(d+1),h=yE(n[A-1],f,0);if(h>t){var r=0,p=0,v=h-t,m=1<<v;for(a.sort(function(k,_){return f[_.s]-f[k.s]||k.f-_.f});r<i;++r){var w=a[r].s;if(f[w]>t)p+=m-(1<<h-f[w]),f[w]=t;else break}for(p>>=v;p>0;){var B=a[r].s;f[B]<t?p-=1<<t-f[B]++-1:++r}for(;r>=0&&p;--r){var C=a[r].s;f[C]==t&&(--f[C],++p)}h=t}return{t:new Xs(f),l:h}},yE=function(e,t,n){return e.s==-1?Math.max(yE(e.l,t,n+1),yE(e.r,t,n+1)):t[e.s]=n},fR=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new go(++t),r=0,i=e[0],a=1,o=function(c){n[r++]=c},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[s]}return{c:n.subarray(0,r),n:t}},Em=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},xY=function(e,t,n){var r=n.length,i=SY(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=n[a];return(i+4+r)*8},hR=function(e,t,n,r,i,a,o,s,c,l,A){xl(t,A++,n),++i[256];for(var u=US(i,15),d=u.t,f=u.l,h=US(a,15),p=h.t,v=h.l,m=fR(d),w=m.c,B=m.n,C=fR(p),S=C.c,k=C.n,_=new go(19),F=0;F<w.length;++F)++_[w[F]&31];for(var F=0;F<S.length;++F)++_[S[F]&31];for(var P=US(_,7),U=P.t,T=P.l,O=19;O>4&&!U[uR[O-1]];--O);var H=l+5<<3,$=Em(i,Tf)+Em(a,zw)+o,Z=Em(i,d)+Em(a,p)+o+14+3*O+Em(_,U)+2*_[16]+3*_[17]+7*_[18];if(c>=0&&H<=$&&H<=Z)return xY(t,A,e.subarray(c,c+l));var ae,ie,W,te;if(xl(t,A,1+(Z<$)),A+=2,Z<$){ae=b0(d,f,0),ie=d,W=b0(p,v,0),te=p;var de=b0(U,T,0);xl(t,A,B-257),xl(t,A+5,k-1),xl(t,A+10,O-4),A+=14;for(var F=0;F<O;++F)xl(t,A+3*F,U[uR[F]]);A+=3*O;for(var pe=[w,S],R=0;R<2;++R)for(var z=pe[R],F=0;F<z.length;++F){var X=z[F]&31;xl(t,A,de[X]),A+=U[X],X>15&&(xl(t,A,z[F]>>5&127),A+=z[F]>>12)}}else ae=D5e,ie=Tf,W=Q5e,te=zw;for(var F=0;F<s;++F){var re=r[F];if(re>255){var X=re>>18&31;km(t,A,ae[X+257]),A+=ie[X+257],X>7&&(xl(t,A,re>>23&31),A+=bF[X]);var oe=re&31;km(t,A,W[oe]),A+=te[oe],oe>3&&(km(t,A,re>>5&8191),A+=wF[oe])}else km(t,A,ae[re]),A+=ie[re]}return km(t,A,ae[256]),A+ie[256]},H5e=new yF([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),kY=new Xs(0),$5e=function(e,t,n,r,i,a){var o=a.z||e.length,s=new Xs(r+o+5*(1+Math.ceil(o/7e3))+i),c=s.subarray(r,s.length-i),l=a.l,A=(a.r||0)&7;if(t){A&&(c[0]=a.r>>3);for(var u=H5e[t-1],d=u>>13,f=u&8191,h=(1<<n)-1,p=a.p||new go(32768),v=a.h||new go(h+1),m=Math.ceil(n/3),w=2*m,B=function(Ue){return(e[Ue]^e[Ue+1]<<m^e[Ue+2]<<w)&h},C=new yF(25e3),S=new go(288),k=new go(32),_=0,F=0,P=a.i||0,U=0,T=a.w||0,O=0;P+2<o;++P){var H=B(P),$=P&32767,Z=v[H];if(p[$]=Z,v[H]=$,T<=P){var ae=o-P;if((_>7e3||U>24576)&&(ae>423||!l)){A=hR(e,c,0,C,S,k,F,U,O,P-O,A),U=_=F=0,O=P;for(var ie=0;ie<286;++ie)S[ie]=0;for(var ie=0;ie<30;++ie)k[ie]=0}var W=2,te=0,de=f,pe=$-Z&32767;if(ae>2&&H==B(P-pe))for(var R=Math.min(d,ae)-1,z=Math.min(32767,P),X=Math.min(258,ae);pe<=z&&--de&&$!=Z;){if(e[P+W]==e[P+W-pe]){for(var re=0;re<X&&e[P+re]==e[P+re-pe];++re);if(re>W){if(W=re,te=pe,re>R)break;for(var oe=Math.min(pe,re-2),ce=0,ie=0;ie<oe;++ie){var be=P-pe+ie&32767,ee=p[be],ge=be-ee&32767;ge>ce&&(ce=ge,Z=be)}}}$=Z,Z=p[$],pe+=$-Z&32767}if(te){C[U++]=268435456|mE[W]<<18|dR[te];var xe=mE[W]&31,ne=dR[te]&31;F+=bF[xe]+wF[ne],++S[257+xe],++k[ne],T=P+W,++_}else C[U++]=e[P],++S[e[P]]}}for(P=Math.max(P,T);P<o;++P)C[U++]=e[P],++S[e[P]];A=hR(e,c,l,C,S,k,F,U,O,P-O,A),l||(a.r=A&7|c[A/8|0]<<3,A-=7,a.h=v,a.p=p,a.i=P,a.w=T)}else{for(var P=a.w||0;P<o+l;P+=65535){var Ce=P+65535;Ce>=o&&(c[A/8|0]=l,Ce=o),A=xY(c,A+1,e.subarray(P,Ce))}a.i=o}return j5e(s,0,r+SY(A)+i)},EY=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=n.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},K5e=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new Xs(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return $5e(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},TY=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},V5e=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=EY();i.p(t.dictionary),TY(e,2,i.d())}};function bE(e,t){t||(t={});var n=EY();n.p(e);var r=K5e(e,t,t.dictionary?6:2,4);return V5e(r,t),TY(r,r.length-4,n.d()),r}var z5e=typeof TextDecoder<"u"&&new TextDecoder,W5e=0;try{z5e.decode(kY,{stream:!0}),W5e=1}catch{}function G5e(e){if(Array.isArray(e))return e}function q5e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(A){l=!0,i=A}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function pR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Y5e(e,t){if(e){if(typeof e=="string")return pR(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pR(e,t):void 0}}function X5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gR(e,t){return G5e(e)||q5e(e,t)||Y5e(e,t)||X5e()}function mR(e,t="utf8"){return new TextDecoder(t).decode(e)}const J5e=new TextEncoder;function Z5e(e){return J5e.encode(e)}const eCe=1024*8,tCe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),NS={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class CF{constructor(t=eCe,n={}){on(this,"buffer");on(this,"byteLength");on(this,"byteOffset");on(this,"length");on(this,"offset");on(this,"lastWrittenByte");on(this,"littleEndian");on(this,"_data");on(this,"_mark");on(this,"_marks");let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const i=n.offset?n.offset>>>0:0,a=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof CF)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const r=NS[n].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===tCe&&n!=="uint8"&&n!=="int8"){const s=new Uint8Array(this.buffer.slice(i,i+r));s.reverse();const c=new NS[n](s.buffer);return this.offset+=r,c.reverse(),c}const o=new NS[n](a);return this.offset+=r,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let r=0;r<t;r++)n+=this.readChar();return n}readUtf8(t=1){return mR(this.readBytes(t))}decodeText(t=1,n="utf8"){return mR(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(Z5e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function kg(e){let t=e.length;for(;--t>=0;)e[t]=0}const nCe=3,rCe=258,_Y=29,iCe=256,aCe=iCe+1+_Y,PY=30,oCe=512,sCe=new Array((aCe+2)*2);kg(sCe);const cCe=new Array(PY*2);kg(cCe);const lCe=new Array(oCe);kg(lCe);const ACe=new Array(rCe-nCe+1);kg(ACe);const uCe=new Array(_Y);kg(uCe);const dCe=new Array(PY);kg(dCe);const fCe=(e,t,n,r)=>{let i=e&65535|0,a=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+t[r++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var wE=fCe;const hCe=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},pCe=new Uint32Array(hCe()),gCe=(e,t,n,r)=>{const i=pCe,a=r+n;e^=-1;for(let o=r;o<a;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var xc=gCe,CE={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},IY={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const mCe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var vCe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)mCe(n,r)&&(e[r]=n[r])}}return e},yCe=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,a=e.length;r<a;r++){let o=e[r];n.set(o,i),i+=o.length}return n},FY={assign:vCe,flattenChunks:yCe};let OY=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{OY=!1}const bv=new Uint8Array(256);for(let e=0;e<256;e++)bv[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;bv[254]=bv[254]=1;var bCe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,a,o=e.length,s=0;for(i=0;i<o;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),a=0,i=0;a<s;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|n&63):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|n&63):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|n&63);return t};const wCe=(e,t)=>{if(t<65534&&e.subarray&&OY)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var CCe=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let o=e[r++];if(o<128){a[i++]=o;continue}let s=bv[o];if(s>4){a[i++]=65533,r+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&r<n;)o=o<<6|e[r++]&63,s--;if(s>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return wCe(a,i)},BCe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+bv[e[n]]>t?n:t},BE={string2buf:bCe,buf2string:CCe,utf8border:BCe};function SCe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var xCe=SCe;const $y=16209,kCe=16191;var ECe=function(t,n){let r,i,a,o,s,c,l,A,u,d,f,h,p,v,m,w,B,C,S,k,_,F,P,U;const T=t.state;r=t.next_in,P=t.input,i=r+(t.avail_in-5),a=t.next_out,U=t.output,o=a-(n-t.avail_out),s=a+(t.avail_out-257),c=T.dmax,l=T.wsize,A=T.whave,u=T.wnext,d=T.window,f=T.hold,h=T.bits,p=T.lencode,v=T.distcode,m=(1<<T.lenbits)-1,w=(1<<T.distbits)-1;e:do{h<15&&(f+=P[r++]<<h,h+=8,f+=P[r++]<<h,h+=8),B=p[f&m];t:for(;;){if(C=B>>>24,f>>>=C,h-=C,C=B>>>16&255,C===0)U[a++]=B&65535;else if(C&16){S=B&65535,C&=15,C&&(h<C&&(f+=P[r++]<<h,h+=8),S+=f&(1<<C)-1,f>>>=C,h-=C),h<15&&(f+=P[r++]<<h,h+=8,f+=P[r++]<<h,h+=8),B=v[f&w];n:for(;;){if(C=B>>>24,f>>>=C,h-=C,C=B>>>16&255,C&16){if(k=B&65535,C&=15,h<C&&(f+=P[r++]<<h,h+=8,h<C&&(f+=P[r++]<<h,h+=8)),k+=f&(1<<C)-1,k>c){t.msg="invalid distance too far back",T.mode=$y;break e}if(f>>>=C,h-=C,C=a-o,k>C){if(C=k-C,C>A&&T.sane){t.msg="invalid distance too far back",T.mode=$y;break e}if(_=0,F=d,u===0){if(_+=l-C,C<S){S-=C;do U[a++]=d[_++];while(--C);_=a-k,F=U}}else if(u<C){if(_+=l+u-C,C-=u,C<S){S-=C;do U[a++]=d[_++];while(--C);if(_=0,u<S){C=u,S-=C;do U[a++]=d[_++];while(--C);_=a-k,F=U}}}else if(_+=u-C,C<S){S-=C;do U[a++]=d[_++];while(--C);_=a-k,F=U}for(;S>2;)U[a++]=F[_++],U[a++]=F[_++],U[a++]=F[_++],S-=3;S&&(U[a++]=F[_++],S>1&&(U[a++]=F[_++]))}else{_=a-k;do U[a++]=U[_++],U[a++]=U[_++],U[a++]=U[_++],S-=3;while(S>2);S&&(U[a++]=U[_++],S>1&&(U[a++]=U[_++]))}}else if(C&64){t.msg="invalid distance code",T.mode=$y;break e}else{B=v[(B&65535)+(f&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){T.mode=kCe;break e}else{t.msg="invalid literal/length code",T.mode=$y;break e}else{B=p[(B&65535)+(f&(1<<C)-1)];continue t}break}}while(r<i&&a<s);S=h>>3,r-=S,h-=S<<3,f&=(1<<h)-1,t.next_in=r,t.next_out=a,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=a<s?257+(s-a):257-(a-s),T.hold=f,T.bits=h};const ph=15,vR=852,yR=592,bR=0,MS=1,wR=2,TCe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),_Ce=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),PCe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ICe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),FCe=(e,t,n,r,i,a,o,s)=>{const c=s.bits;let l=0,A=0,u=0,d=0,f=0,h=0,p=0,v=0,m=0,w=0,B,C,S,k,_,F=null,P;const U=new Uint16Array(ph+1),T=new Uint16Array(ph+1);let O=null,H,$,Z;for(l=0;l<=ph;l++)U[l]=0;for(A=0;A<r;A++)U[t[n+A]]++;for(f=c,d=ph;d>=1&&U[d]===0;d--);if(f>d&&(f=d),d===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,s.bits=1,0;for(u=1;u<d&&U[u]===0;u++);for(f<u&&(f=u),v=1,l=1;l<=ph;l++)if(v<<=1,v-=U[l],v<0)return-1;if(v>0&&(e===bR||d!==1))return-1;for(T[1]=0,l=1;l<ph;l++)T[l+1]=T[l]+U[l];for(A=0;A<r;A++)t[n+A]!==0&&(o[T[t[n+A]]++]=A);if(e===bR?(F=O=o,P=20):e===MS?(F=TCe,O=_Ce,P=257):(F=PCe,O=ICe,P=0),w=0,A=0,l=u,_=a,h=f,p=0,S=-1,m=1<<f,k=m-1,e===MS&&m>vR||e===wR&&m>yR)return 1;for(;;){H=l-p,o[A]+1<P?($=0,Z=o[A]):o[A]>=P?($=O[o[A]-P],Z=F[o[A]-P]):($=96,Z=0),B=1<<l-p,C=1<<h,u=C;do C-=B,i[_+(w>>p)+C]=H<<24|$<<16|Z|0;while(C!==0);for(B=1<<l-1;w&B;)B>>=1;if(B!==0?(w&=B-1,w+=B):w=0,A++,--U[l]===0){if(l===d)break;l=t[n+o[A]]}if(l>f&&(w&k)!==S){for(p===0&&(p=f),_+=u,h=l-p,v=1<<h;h+p<d&&(v-=U[h+p],!(v<=0));)h++,v<<=1;if(m+=1<<h,e===MS&&m>vR||e===wR&&m>yR)return 1;S=w&k,i[S]=f<<24|h<<16|_-a|0}}return w!==0&&(i[_+w]=l-p<<24|64<<16|0),s.bits=f,0};var w0=FCe;const OCe=0,LY=1,UY=2,{Z_FINISH:CR,Z_BLOCK:LCe,Z_TREES:Ky,Z_OK:_f,Z_STREAM_END:UCe,Z_NEED_DICT:NCe,Z_STREAM_ERROR:hs,Z_DATA_ERROR:NY,Z_MEM_ERROR:MY,Z_BUF_ERROR:MCe,Z_DEFLATED:BR}=IY,dB=16180,SR=16181,xR=16182,kR=16183,ER=16184,TR=16185,_R=16186,PR=16187,IR=16188,FR=16189,Ww=16190,kl=16191,RS=16192,OR=16193,DS=16194,LR=16195,UR=16196,NR=16197,MR=16198,Vy=16199,zy=16200,RR=16201,DR=16202,QR=16203,jR=16204,HR=16205,QS=16206,$R=16207,KR=16208,$n=16209,RY=16210,DY=16211,RCe=852,DCe=592,QCe=15,jCe=QCe,VR=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function HCe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Vf=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<dB||t.mode>DY?1:0},QY=e=>{if(Vf(e))return hs;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=dB,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(RCe),t.distcode=t.distdyn=new Int32Array(DCe),t.sane=1,t.back=-1,_f},jY=e=>{if(Vf(e))return hs;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,QY(e)},HY=(e,t)=>{let n;if(Vf(e))return hs;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?hs:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,jY(e))},$Y=(e,t)=>{if(!e)return hs;const n=new HCe;e.state=n,n.strm=e,n.window=null,n.mode=dB;const r=HY(e,t);return r!==_f&&(e.state=null),r},$Ce=e=>$Y(e,jCe);let zR=!0,jS,HS;const KCe=e=>{if(zR){jS=new Int32Array(512),HS=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(w0(LY,e.lens,0,288,jS,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;w0(UY,e.lens,0,32,HS,0,e.work,{bits:5}),zR=!1}e.lencode=jS,e.lenbits=9,e.distcode=HS,e.distbits=5},KY=(e,t,n,r)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(t.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(t.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},VCe=(e,t)=>{let n,r,i,a,o,s,c,l,A,u,d,f,h,p,v=0,m,w,B,C,S,k,_,F;const P=new Uint8Array(4);let U,T;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Vf(e)||!e.output||!e.input&&e.avail_in!==0)return hs;n=e.state,n.mode===kl&&(n.mode=RS),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,r=e.input,s=e.avail_in,l=n.hold,A=n.bits,u=s,d=c,F=_f;e:for(;;)switch(n.mode){case dB:if(n.wrap===0){n.mode=RS;break}for(;A<16;){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}if(n.wrap&2&&l===35615){n.wbits===0&&(n.wbits=15),n.check=0,P[0]=l&255,P[1]=l>>>8&255,n.check=xc(n.check,P,2,0),l=0,A=0,n.mode=SR;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",n.mode=$n;break}if((l&15)!==BR){e.msg="unknown compression method",n.mode=$n;break}if(l>>>=4,A-=4,_=(l&15)+8,n.wbits===0&&(n.wbits=_),_>15||_>n.wbits){e.msg="invalid window size",n.mode=$n;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=l&512?FR:kl,l=0,A=0;break;case SR:for(;A<16;){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}if(n.flags=l,(n.flags&255)!==BR){e.msg="unknown compression method",n.mode=$n;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=$n;break}n.head&&(n.head.text=l>>8&1),n.flags&512&&n.wrap&4&&(P[0]=l&255,P[1]=l>>>8&255,n.check=xc(n.check,P,2,0)),l=0,A=0,n.mode=xR;case xR:for(;A<32;){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}n.head&&(n.head.time=l),n.flags&512&&n.wrap&4&&(P[0]=l&255,P[1]=l>>>8&255,P[2]=l>>>16&255,P[3]=l>>>24&255,n.check=xc(n.check,P,4,0)),l=0,A=0,n.mode=kR;case kR:for(;A<16;){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}n.head&&(n.head.xflags=l&255,n.head.os=l>>8),n.flags&512&&n.wrap&4&&(P[0]=l&255,P[1]=l>>>8&255,n.check=xc(n.check,P,2,0)),l=0,A=0,n.mode=ER;case ER:if(n.flags&1024){for(;A<16;){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}n.length=l,n.head&&(n.head.extra_len=l),n.flags&512&&n.wrap&4&&(P[0]=l&255,P[1]=l>>>8&255,n.check=xc(n.check,P,2,0)),l=0,A=0}else n.head&&(n.head.extra=null);n.mode=TR;case TR:if(n.flags&1024&&(f=n.length,f>s&&(f=s),f&&(n.head&&(_=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+f),_)),n.flags&512&&n.wrap&4&&(n.check=xc(n.check,r,f,a)),s-=f,a+=f,n.length-=f),n.length))break e;n.length=0,n.mode=_R;case _R:if(n.flags&2048){if(s===0)break e;f=0;do _=r[a+f++],n.head&&_&&n.length<65536&&(n.head.name+=String.fromCharCode(_));while(_&&f<s);if(n.flags&512&&n.wrap&4&&(n.check=xc(n.check,r,f,a)),s-=f,a+=f,_)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=PR;case PR:if(n.flags&4096){if(s===0)break e;f=0;do _=r[a+f++],n.head&&_&&n.length<65536&&(n.head.comment+=String.fromCharCode(_));while(_&&f<s);if(n.flags&512&&n.wrap&4&&(n.check=xc(n.check,r,f,a)),s-=f,a+=f,_)break e}else n.head&&(n.head.comment=null);n.mode=IR;case IR:if(n.flags&512){for(;A<16;){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}if(n.wrap&4&&l!==(n.check&65535)){e.msg="header crc mismatch",n.mode=$n;break}l=0,A=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=kl;break;case FR:for(;A<32;){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}e.adler=n.check=VR(l),l=0,A=0,n.mode=Ww;case Ww:if(n.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=s,n.hold=l,n.bits=A,NCe;e.adler=n.check=1,n.mode=kl;case kl:if(t===LCe||t===Ky)break e;case RS:if(n.last){l>>>=A&7,A-=A&7,n.mode=QS;break}for(;A<3;){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}switch(n.last=l&1,l>>>=1,A-=1,l&3){case 0:n.mode=OR;break;case 1:if(KCe(n),n.mode=Vy,t===Ky){l>>>=2,A-=2;break e}break;case 2:n.mode=UR;break;case 3:e.msg="invalid block type",n.mode=$n}l>>>=2,A-=2;break;case OR:for(l>>>=A&7,A-=A&7;A<32;){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",n.mode=$n;break}if(n.length=l&65535,l=0,A=0,n.mode=DS,t===Ky)break e;case DS:n.mode=LR;case LR:if(f=n.length,f){if(f>s&&(f=s),f>c&&(f=c),f===0)break e;i.set(r.subarray(a,a+f),o),s-=f,a+=f,c-=f,o+=f,n.length-=f;break}n.mode=kl;break;case UR:for(;A<14;){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}if(n.nlen=(l&31)+257,l>>>=5,A-=5,n.ndist=(l&31)+1,l>>>=5,A-=5,n.ncode=(l&15)+4,l>>>=4,A-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=$n;break}n.have=0,n.mode=NR;case NR:for(;n.have<n.ncode;){for(;A<3;){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}n.lens[O[n.have++]]=l&7,l>>>=3,A-=3}for(;n.have<19;)n.lens[O[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,U={bits:n.lenbits},F=w0(OCe,n.lens,0,19,n.lencode,0,n.work,U),n.lenbits=U.bits,F){e.msg="invalid code lengths set",n.mode=$n;break}n.have=0,n.mode=MR;case MR:for(;n.have<n.nlen+n.ndist;){for(;v=n.lencode[l&(1<<n.lenbits)-1],m=v>>>24,w=v>>>16&255,B=v&65535,!(m<=A);){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}if(B<16)l>>>=m,A-=m,n.lens[n.have++]=B;else{if(B===16){for(T=m+2;A<T;){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}if(l>>>=m,A-=m,n.have===0){e.msg="invalid bit length repeat",n.mode=$n;break}_=n.lens[n.have-1],f=3+(l&3),l>>>=2,A-=2}else if(B===17){for(T=m+3;A<T;){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}l>>>=m,A-=m,_=0,f=3+(l&7),l>>>=3,A-=3}else{for(T=m+7;A<T;){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}l>>>=m,A-=m,_=0,f=11+(l&127),l>>>=7,A-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=$n;break}for(;f--;)n.lens[n.have++]=_}}if(n.mode===$n)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=$n;break}if(n.lenbits=9,U={bits:n.lenbits},F=w0(LY,n.lens,0,n.nlen,n.lencode,0,n.work,U),n.lenbits=U.bits,F){e.msg="invalid literal/lengths set",n.mode=$n;break}if(n.distbits=6,n.distcode=n.distdyn,U={bits:n.distbits},F=w0(UY,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,U),n.distbits=U.bits,F){e.msg="invalid distances set",n.mode=$n;break}if(n.mode=Vy,t===Ky)break e;case Vy:n.mode=zy;case zy:if(s>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=s,n.hold=l,n.bits=A,ECe(e,d),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,r=e.input,s=e.avail_in,l=n.hold,A=n.bits,n.mode===kl&&(n.back=-1);break}for(n.back=0;v=n.lencode[l&(1<<n.lenbits)-1],m=v>>>24,w=v>>>16&255,B=v&65535,!(m<=A);){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}if(w&&!(w&240)){for(C=m,S=w,k=B;v=n.lencode[k+((l&(1<<C+S)-1)>>C)],m=v>>>24,w=v>>>16&255,B=v&65535,!(C+m<=A);){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}l>>>=C,A-=C,n.back+=C}if(l>>>=m,A-=m,n.back+=m,n.length=B,w===0){n.mode=HR;break}if(w&32){n.back=-1,n.mode=kl;break}if(w&64){e.msg="invalid literal/length code",n.mode=$n;break}n.extra=w&15,n.mode=RR;case RR:if(n.extra){for(T=n.extra;A<T;){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,A-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=DR;case DR:for(;v=n.distcode[l&(1<<n.distbits)-1],m=v>>>24,w=v>>>16&255,B=v&65535,!(m<=A);){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}if(!(w&240)){for(C=m,S=w,k=B;v=n.distcode[k+((l&(1<<C+S)-1)>>C)],m=v>>>24,w=v>>>16&255,B=v&65535,!(C+m<=A);){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}l>>>=C,A-=C,n.back+=C}if(l>>>=m,A-=m,n.back+=m,w&64){e.msg="invalid distance code",n.mode=$n;break}n.offset=B,n.extra=w&15,n.mode=QR;case QR:if(n.extra){for(T=n.extra;A<T;){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,A-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=$n;break}n.mode=jR;case jR:if(c===0)break e;if(f=d-c,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=$n;break}f>n.wnext?(f-=n.wnext,h=n.wsize-f):h=n.wnext-f,f>n.length&&(f=n.length),p=n.window}else p=i,h=o-n.offset,f=n.length;f>c&&(f=c),c-=f,n.length-=f;do i[o++]=p[h++];while(--f);n.length===0&&(n.mode=zy);break;case HR:if(c===0)break e;i[o++]=n.length,c--,n.mode=zy;break;case QS:if(n.wrap){for(;A<32;){if(s===0)break e;s--,l|=r[a++]<<A,A+=8}if(d-=c,e.total_out+=d,n.total+=d,n.wrap&4&&d&&(e.adler=n.check=n.flags?xc(n.check,i,d,o-d):wE(n.check,i,d,o-d)),d=c,n.wrap&4&&(n.flags?l:VR(l))!==n.check){e.msg="incorrect data check",n.mode=$n;break}l=0,A=0}n.mode=$R;case $R:if(n.wrap&&n.flags){for(;A<32;){if(s===0)break e;s--,l+=r[a++]<<A,A+=8}if(n.wrap&4&&l!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=$n;break}l=0,A=0}n.mode=KR;case KR:F=UCe;break e;case $n:F=NY;break e;case RY:return MY;case DY:default:return hs}return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=s,n.hold=l,n.bits=A,(n.wsize||d!==e.avail_out&&n.mode<$n&&(n.mode<QS||t!==CR))&&KY(e,e.output,e.next_out,d-e.avail_out),u-=e.avail_in,d-=e.avail_out,e.total_in+=u,e.total_out+=d,n.total+=d,n.wrap&4&&d&&(e.adler=n.check=n.flags?xc(n.check,i,d,e.next_out-d):wE(n.check,i,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(n.mode===kl?128:0)+(n.mode===Vy||n.mode===DS?256:0),(u===0&&d===0||t===CR)&&F===_f&&(F=MCe),F},zCe=e=>{if(Vf(e))return hs;let t=e.state;return t.window&&(t.window=null),e.state=null,_f},WCe=(e,t)=>{if(Vf(e))return hs;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,_f):hs},GCe=(e,t)=>{const n=t.length;let r,i,a;return Vf(e)||(r=e.state,r.wrap!==0&&r.mode!==Ww)?hs:r.mode===Ww&&(i=1,i=wE(i,t,n,0),i!==r.check)?NY:(a=KY(e,t,n,n),a?(r.mode=RY,MY):(r.havedict=1,_f))};var qCe=jY,YCe=HY,XCe=QY,JCe=$Ce,ZCe=$Y,eBe=VCe,tBe=zCe,nBe=WCe,rBe=GCe,iBe="pako inflate (from Nodeca project)",Ol={inflateReset:qCe,inflateReset2:YCe,inflateResetKeep:XCe,inflateInit:JCe,inflateInit2:ZCe,inflate:eBe,inflateEnd:tBe,inflateGetHeader:nBe,inflateSetDictionary:rBe,inflateInfo:iBe};function aBe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var oBe=aBe;const VY=Object.prototype.toString,{Z_NO_FLUSH:sBe,Z_FINISH:cBe,Z_OK:wv,Z_STREAM_END:$S,Z_NEED_DICT:KS,Z_STREAM_ERROR:lBe,Z_DATA_ERROR:WR,Z_MEM_ERROR:ABe}=IY;function f1(e){this.options=FY.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xCe,this.strm.avail_out=0;let n=Ol.inflateInit2(this.strm,t.windowBits);if(n!==wv)throw new Error(CE[n]);if(this.header=new oBe,Ol.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=BE.string2buf(t.dictionary):VY.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Ol.inflateSetDictionary(this.strm,t.dictionary),n!==wv)))throw new Error(CE[n])}f1.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?cBe:sBe,VY.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=Ol.inflate(n,o),a===KS&&i&&(a=Ol.inflateSetDictionary(n,i),a===wv?a=Ol.inflate(n,o):a===WR&&(a=KS));n.avail_in>0&&a===$S&&n.state.wrap>0&&e[n.next_in]!==0;)Ol.inflateReset(n),a=Ol.inflate(n,o);switch(a){case lBe:case WR:case KS:case ABe:return this.onEnd(a),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(n.avail_out===0||a===$S))if(this.options.to==="string"){let c=BE.utf8border(n.output,n.next_out),l=n.next_out-c,A=BE.buf2string(n.output,c);n.next_out=l,n.avail_out=r-l,l&&n.output.set(n.output.subarray(c,c+l),0),this.onData(A)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===wv&&s===0)){if(a===$S)return a=Ol.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};f1.prototype.onData=function(e){this.chunks.push(e)};f1.prototype.onEnd=function(e){e===wv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=FY.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function uBe(e,t){const n=new f1(t);if(n.push(e),n.err)throw n.msg||CE[n.err];return n.result}var dBe=f1,fBe=uBe,hBe={Inflate:dBe,inflate:fBe};const{Inflate:pBe,inflate:gBe}=hBe;var GR=pBe,mBe=gBe;const zY=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;zY[e]=t}const qR=4294967295;function vBe(e,t,n){let r=e;for(let i=0;i<n;i++)r=zY[(r^t[i])&255]^r>>>8;return r}function yBe(e,t){return(vBe(qR,e,t)^qR)>>>0}function YR(e,t,n){const r=e.readUint32(),i=yBe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function WY(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function GY(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function qY(e,t,n,r){let i=0;if(n.length===0)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function YY(e,t,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(n[a]>>1)&255;for(;a<r;a++)t[a]=e[a]+(t[a-i]+n[a]>>1)&255}}function XY(e,t,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+n[a]&255;for(;a<r;a++)t[a]=e[a]+bBe(t[a-i],n[a],n[a-i])&255}}function bBe(e,t,n){const r=e+t-n,i=Math.abs(r-e),a=Math.abs(r-t),o=Math.abs(r-n);return i<=a&&i<=o?e:a<=o?t:n}function wBe(e,t,n,r,i,a){switch(e){case 0:WY(t,n,i);break;case 1:GY(t,n,i,a);break;case 2:qY(t,n,r,i);break;case 3:YY(t,n,r,i,a);break;case 4:XY(t,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const CBe=new Uint16Array([255]),BBe=new Uint8Array(CBe.buffer),SBe=BBe[0]===255;function xBe(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(a/8)*i,c=new Uint8Array(r*n*s);let l=0;for(let A=0;A<7;A++){const u=o[A],d=Math.ceil((n-u.x)/u.xStep),f=Math.ceil((r-u.y)/u.yStep);if(d<=0||f<=0)continue;const h=d*s,p=new Uint8Array(h);for(let v=0;v<f;v++){const m=t[l++],w=t.subarray(l,l+h);l+=h;const B=new Uint8Array(h);wBe(m,w,B,p,h,s),p.set(B);for(let C=0;C<d;C++){const S=u.x+C*u.xStep,k=u.y+v*u.yStep;if(!(S>=n||k>=r))for(let _=0;_<s;_++)c[(k*n+S)*s+_]=B[C*s+_]}}}if(a===16){const A=new Uint16Array(c.buffer);if(SBe)for(let u=0;u<A.length;u++)A[u]=kBe(A[u]);return A}else return c}function kBe(e){return(e&255)<<8|e>>8&255}const EBe=new Uint16Array([255]),TBe=new Uint8Array(EBe.buffer),_Be=TBe[0]===255,PBe=new Uint8Array(0);function XR(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,o=Math.ceil(a/8)*i,s=Math.ceil(a/8*i*n),c=new Uint8Array(r*s);let l=PBe,A=0,u,d;for(let f=0;f<r;f++){switch(u=t.subarray(A+1,A+1+s),d=c.subarray(f*s,(f+1)*s),t[A]){case 0:WY(u,d,s);break;case 1:GY(u,d,s,o);break;case 2:qY(u,d,l,s);break;case 3:YY(u,d,l,s,o);break;case 4:XY(u,d,l,s,o);break;default:throw new Error(`Unsupported filter: ${t[A]}`)}l=d,A+=s+1}if(a===16){const f=new Uint16Array(c.buffer);if(_Be)for(let h=0;h<f.length;h++)f[h]=IBe(f[h]);return f}else return c}function IBe(e){return(e&255)<<8|e>>8&255}const Z2=Uint8Array.of(137,80,78,71,13,10,26,10);function JR(e){if(!FBe(e.readBytes(Z2.length)))throw new Error("wrong PNG signature")}function FBe(e){if(e.length<Z2.length)return!1;for(let t=0;t<Z2.length;t++)if(e[t]!==Z2[t])return!1;return!0}const OBe="tEXt",LBe=0,JY=new TextDecoder("latin1");function UBe(e){if(MBe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const NBe=/^[\u0000-\u00FF]*$/;function MBe(e){if(!NBe.test(e))throw new Error("invalid latin1 text")}function RBe(e,t,n){const r=ZY(t);e[r]=DBe(t,n-r.length-1)}function ZY(e){for(e.mark();e.readByte()!==LBe;);const t=e.offset;e.reset();const n=JY.decode(e.readBytes(t-e.offset-1));return e.skip(1),UBe(n),n}function DBe(e,t){return JY.decode(e.readBytes(t))}const lo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},VS={UNKNOWN:-1,DEFLATE:0},ZR={UNKNOWN:-1,ADAPTIVE:0},zS={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Wy={NONE:0,BACKGROUND:1,PREVIOUS:2},WS={SOURCE:0,OVER:1};class QBe extends CF{constructor(n,r={}){super(n);on(this,"_checkCrc");on(this,"_inflator");on(this,"_png");on(this,"_apng");on(this,"_end");on(this,"_hasPalette");on(this,"_palette");on(this,"_hasTransparency");on(this,"_transparency");on(this,"_compressionMethod");on(this,"_filterMethod");on(this,"_interlaceMethod");on(this,"_colorType");on(this,"_isAnimated");on(this,"_numberOfFrames");on(this,"_numberOfPlays");on(this,"_frames");on(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new GR,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=VS.UNKNOWN,this._filterMethod=ZR.UNKNOWN,this._interlaceMethod=zS.UNKNOWN,this._colorType=lo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(JR(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(JR(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case OBe:RBe(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?YR(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?YR(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=jBe(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case lo.GREYSCALE:i=1;break;case lo.TRUECOLOUR:i=3;break;case lo.INDEXED_COLOUR:i=1;break;case lo.GREYSCALE_ALPHA:i=2;break;case lo.TRUECOLOUR_ALPHA:i=4;break;case lo.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==VS.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<r;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case lo.GREYSCALE:case lo.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case lo.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case lo.UNKNOWN:case lo.GREYSCALE_ALPHA:case lo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=ZY(this),i=this.readUint8();if(i!==VS.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:mBe(a)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=XR({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(i,a,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case Wy.NONE:break;case Wy.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const s=(a*n.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[s+c]=0}break;case Wy.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,a=(o,s)=>{const c=((o+r.yOffset)*this._png.width+r.xOffset+s)*this._png.channels,l=(o*r.width+s)*this._png.channels;return{index:c,frameIndex:l}};switch(r.blendOp){case WS.SOURCE:for(let o=0;o<r.height;o++)for(let s=0;s<r.width;s++){const{index:c,frameIndex:l}=a(o,s);for(let A=0;A<this._png.channels;A++)n.data[c+A]=r.data[l+A]}break;case WS.OVER:for(let o=0;o<r.height;o++)for(let s=0;s<r.width;s++){const{index:c,frameIndex:l}=a(o,s);for(let A=0;A<this._png.channels;A++){const u=r.data[l+this._png.channels-1]/i,d=A%(this._png.channels-1)===0?1:r.data[l+A],f=Math.floor(u*d+(1-u)*n.data[c+A]);n.data[c+A]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==ZR.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===zS.NO_INTERLACE)this._png.data=XR({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===zS.ADAM7)this._png.data=xBe({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Wy.NONE,blendOp:WS.SOURCE,data:n}),this._inflator=new GR,this._writingDataChunks=!1}}function jBe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var eD;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(eD||(eD={}));function HBe(e,t){return new QBe(e,t).decode()}var wt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function GS(){wt.console&&typeof wt.console.log=="function"&&wt.console.log.apply(wt.console,arguments)}var Cn={log:GS,warn:function(e){wt.console&&(typeof wt.console.warn=="function"?wt.console.warn.apply(wt.console,arguments):GS.call(null,arguments))},error:function(e){wt.console&&(typeof wt.console.error=="function"?wt.console.error.apply(wt.console,arguments):GS(e))}};function qS(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Od(r.response,t,n)},r.onerror=function(){Cn.error("could not download file")},r.send()}function tD(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Gy(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Od=wt.saveAs||((typeof window>"u"?"undefined":pn(window))!=="object"||window!==wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=wt.URL||wt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?tD(i.href)?qS(e,t,n):Gy(i,i.target="_blank"):Gy(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Gy(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(tD(e))qS(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Gy(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:pn(a)!=="object"&&(Cn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return qS(e,t,n);var i=e.type==="application/octet-stream",a=/constructor/i.test(wt.HTMLElement)||wt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":pn(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var A=s.result;A=o?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=A:location=A,r=null},s.readAsDataURL(e)}else{var c=wt.URL||wt.webkitURL,l=c.createObjectURL(e);r?r.location=l:location.href=l,r=null,setTimeout(function(){c.revokeObjectURL(l)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function eX(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),c=this.g.toString(16),l=this.b.toString(16);return s.length==1&&(s="0"+s),c.length==1&&(c="0"+c),l.length==1&&(l="0"+l),"#"+s+c+l}}var eb=wt.atob.bind(wt),nD=wt.btoa.bind(wt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function YS(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=Ji(n,r,i,a,t[0],7,-680876936),a=Ji(a,n,r,i,t[1],12,-389564586),i=Ji(i,a,n,r,t[2],17,606105819),r=Ji(r,i,a,n,t[3],22,-1044525330),n=Ji(n,r,i,a,t[4],7,-176418897),a=Ji(a,n,r,i,t[5],12,1200080426),i=Ji(i,a,n,r,t[6],17,-1473231341),r=Ji(r,i,a,n,t[7],22,-45705983),n=Ji(n,r,i,a,t[8],7,1770035416),a=Ji(a,n,r,i,t[9],12,-1958414417),i=Ji(i,a,n,r,t[10],17,-42063),r=Ji(r,i,a,n,t[11],22,-1990404162),n=Ji(n,r,i,a,t[12],7,1804603682),a=Ji(a,n,r,i,t[13],12,-40341101),i=Ji(i,a,n,r,t[14],17,-1502002290),n=Zi(n,r=Ji(r,i,a,n,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Zi(a,n,r,i,t[6],9,-1069501632),i=Zi(i,a,n,r,t[11],14,643717713),r=Zi(r,i,a,n,t[0],20,-373897302),n=Zi(n,r,i,a,t[5],5,-701558691),a=Zi(a,n,r,i,t[10],9,38016083),i=Zi(i,a,n,r,t[15],14,-660478335),r=Zi(r,i,a,n,t[4],20,-405537848),n=Zi(n,r,i,a,t[9],5,568446438),a=Zi(a,n,r,i,t[14],9,-1019803690),i=Zi(i,a,n,r,t[3],14,-187363961),r=Zi(r,i,a,n,t[8],20,1163531501),n=Zi(n,r,i,a,t[13],5,-1444681467),a=Zi(a,n,r,i,t[2],9,-51403784),i=Zi(i,a,n,r,t[7],14,1735328473),n=ea(n,r=Zi(r,i,a,n,t[12],20,-1926607734),i,a,t[5],4,-378558),a=ea(a,n,r,i,t[8],11,-2022574463),i=ea(i,a,n,r,t[11],16,1839030562),r=ea(r,i,a,n,t[14],23,-35309556),n=ea(n,r,i,a,t[1],4,-1530992060),a=ea(a,n,r,i,t[4],11,1272893353),i=ea(i,a,n,r,t[7],16,-155497632),r=ea(r,i,a,n,t[10],23,-1094730640),n=ea(n,r,i,a,t[13],4,681279174),a=ea(a,n,r,i,t[0],11,-358537222),i=ea(i,a,n,r,t[3],16,-722521979),r=ea(r,i,a,n,t[6],23,76029189),n=ea(n,r,i,a,t[9],4,-640364487),a=ea(a,n,r,i,t[12],11,-421815835),i=ea(i,a,n,r,t[15],16,530742520),n=ta(n,r=ea(r,i,a,n,t[2],23,-995338651),i,a,t[0],6,-198630844),a=ta(a,n,r,i,t[7],10,1126891415),i=ta(i,a,n,r,t[14],15,-1416354905),r=ta(r,i,a,n,t[5],21,-57434055),n=ta(n,r,i,a,t[12],6,1700485571),a=ta(a,n,r,i,t[3],10,-1894986606),i=ta(i,a,n,r,t[10],15,-1051523),r=ta(r,i,a,n,t[1],21,-2054922799),n=ta(n,r,i,a,t[8],6,1873313359),a=ta(a,n,r,i,t[15],10,-30611744),i=ta(i,a,n,r,t[6],15,-1560198380),r=ta(r,i,a,n,t[13],21,1309151649),n=ta(n,r,i,a,t[4],6,-145523070),a=ta(a,n,r,i,t[11],10,-1120210379),i=ta(i,a,n,r,t[2],15,718787259),r=ta(r,i,a,n,t[9],21,-343485551),e[0]=hu(n,e[0]),e[1]=hu(r,e[1]),e[2]=hu(i,e[2]),e[3]=hu(a,e[3])}function fB(e,t,n,r,i,a){return t=hu(hu(t,e),hu(r,a)),hu(t<<i|t>>>32-i,n)}function Ji(e,t,n,r,i,a,o){return fB(t&n|~t&r,e,t,i,a,o)}function Zi(e,t,n,r,i,a,o){return fB(t&r|n&~r,e,t,i,a,o)}function ea(e,t,n,r,i,a,o){return fB(t^n^r,e,t,i,a,o)}function ta(e,t,n,r,i,a,o){return fB(n^(t|~r),e,t,i,a,o)}function tX(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)YS(r,$Be(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(YS(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,YS(r,i),r}function $Be(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var rD="0123456789abcdef".split("");function KBe(e){for(var t="",n=0;n<4;n++)t+=rD[e>>8*n+4&15]+rD[e>>8*n&15];return t}function VBe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function SE(e){return tX(e).map(VBe).join("")}var zBe=function(e){for(var t=0;t<e.length;t++)e[t]=KBe(e[t]);return e.join("")}(tX("hello"))!="5d41402abc4b2a76b9719d911017c592";function hu(e,t){if(zBe){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function xE(e,t){var n,r,i,a;if(e!==n){for(var o=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),s=[],c=0;c<256;c++)s[c]=c;var l=0;for(c=0;c<256;c++){var A=s[c];l=(l+A+o.charCodeAt(c))%256,s[c]=s[l],s[l]=A}n=e,r=s}else s=r;var u=t.length,d=0,f=0,h="";for(c=0;c<u;c++)f=(f+(A=s[d=(d+1)%256]))%256,s[d]=s[f],s[f]=A,o=s[(s[d]+s[f])%256],h+=String.fromCharCode(t.charCodeAt(c)^o);return h}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var iD={print:4,modify:8,copy:16,"annot-forms":32};function Th(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(s){if(iD.perm!==void 0)throw new Error("Invalid permission: "+s);i+=iD[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=SE(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=xE(this.encryptionKey,this.padding)}function _h(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function aD(e){if(pn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[n]){var o=t[n][a];try{o[0].apply(e,r)}catch(s){wt.console&&Cn.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Gw(e){if(!(this instanceof Gw))return new Gw(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function nX(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Nd(e,t,n,r,i){if(!(this instanceof Nd))return new Nd(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,nX.call(this,r,i)}function Wh(e,t,n,r,i){if(!(this instanceof Wh))return new Wh(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,nX.call(this,r,i)}function at(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,c=16,l="S",A=null;pn(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(A=e.encryption||null)!==null&&(A.userPassword=A.userPassword||"",A.ownerPassword=A.ownerPassword||"",A.userPermissions=A.userPermissions||[]),s=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),l=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=aD;var h="1.3",p=f.__private__.getPdfVersion=function(){return h};f.__private__.setPdfVersion=function(x){h=x};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return v};var m=f.__private__.getPageFormat=function(x){return v[x]};i=i||"a4";var w="compat",B="advanced",C=w;function S(){this.saveGraphicsState(),Q(new yt(Pt,0,0,-Pt,0,fd()*Pt).toString()+" cm"),this.setFontSize(this.getFontSize()/Pt),l="n",C=B}function k(){this.restoreGraphicsState(),l="S",C=w}var _=f.__private__.combineFontStyleAndFontWeight=function(x,N){if(x=="bold"&&N=="normal"||x=="bold"&&N==400||x=="normal"&&N=="italic"||x=="bold"&&N=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return N&&(x=N==400||N==="normal"?x==="italic"?"italic":"normal":N!=700&&N!=="bold"||x!=="normal"?(N==700?"bold":N)+""+x:"bold"),x};f.advancedAPI=function(x){var N=C===w;return N&&S.call(this),typeof x!="function"||(x(this),N&&k.call(this)),this},f.compatAPI=function(x){var N=C===B;return N&&k.call(this),typeof x!="function"||(x(this),N&&S.call(this)),this},f.isAdvancedAPI=function(){return C===B};var F,P=function(x){if(C!==B)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=f.roundToPrecision=f.__private__.roundToPrecision=function(x,N){var Y=t||N;if(isNaN(x)||isNaN(Y))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(Y).replace(/0+$/,"")};F=f.hpf=f.__private__.hpf=typeof c=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return U(x,c)}:c==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return U(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return U(x,16)};var T=f.f2=f.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return U(x,2)},O=f.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return U(x,3)},H=f.scale=f.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return C===w?x*Pt:C===B?x:void 0},$=function(x){return H(function(N){return C===w?fd()-N:C===B?N:void 0}(x))};f.__private__.setPrecision=f.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(t=parseInt(x,10))};var Z,ae="00000000000000000000000000000000",ie=f.__private__.getFileId=function(){return ae},W=f.__private__.setFileId=function(x){return ae=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),A!==null&&(Vr=new Th(A.userPermissions,A.userPassword,A.ownerPassword,ae)),ae};f.setFileId=function(x){return W(x),this},f.getFileId=function(){return ie()};var te=f.__private__.convertDateToPDFDate=function(x){var N=x.getTimezoneOffset(),Y=N<0?"+":"-",se=Math.floor(Math.abs(N/60)),ue=Math.abs(N%60),Pe=[Y,X(se),"'",X(ue),"'"].join("");return["D:",x.getFullYear(),X(x.getMonth()+1),X(x.getDate()),X(x.getHours()),X(x.getMinutes()),X(x.getSeconds()),Pe].join("")},de=f.__private__.convertPDFDateToDate=function(x){var N=parseInt(x.substr(2,4),10),Y=parseInt(x.substr(6,2),10)-1,se=parseInt(x.substr(8,2),10),ue=parseInt(x.substr(10,2),10),Pe=parseInt(x.substr(12,2),10),Oe=parseInt(x.substr(14,2),10);return new Date(N,Y,se,ue,Pe,Oe,0)},pe=f.__private__.setCreationDate=function(x){var N;if(x===void 0&&(x=new Date),x instanceof Date)N=te(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");N=x}return Z=N},R=f.__private__.getCreationDate=function(x){var N=Z;return x==="jsDate"&&(N=de(Z)),N};f.setCreationDate=function(x){return pe(x),this},f.getCreationDate=function(x){return R(x)};var z,X=f.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},re=f.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},oe=0,ce=[],be=[],ee=0,ge=[],xe=[],ne=!1,Ce=be;f.__private__.setCustomOutputDestination=function(x){ne=!0,Ce=x};var Ue=function(x){ne||(Ce=x)};f.__private__.resetCustomOutputDestination=function(){ne=!1,Ce=be};var Q=f.__private__.out=function(x){return x=x.toString(),ee+=x.length+1,Ce.push(x),Ce},ke=f.__private__.write=function(x){return Q(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},je=f.__private__.getArrayBuffer=function(x){for(var N=x.length,Y=new ArrayBuffer(N),se=new Uint8Array(Y);N--;)se[N]=x.charCodeAt(N);return Y},De=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return De};var Se=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(x){return Se=C===B?x/Pt:x,this};var qe,Ve=f.__private__.getFontSize=f.getFontSize=function(){return C===w?Se:Se*Pt},ft=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(x){return ft=x,this},f.__private__.getR2L=f.getR2L=function(){return ft};var At,ze=f.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))qe=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');qe=x}else qe=parseInt(x,10)};f.__private__.getZoomMode=function(){return qe};var Ct,kt=f.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');At=x};f.__private__.getPageMode=function(){return At};var Vt=f.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');Ct=x};f.__private__.getLayoutMode=function(){return Ct},f.__private__.setDisplayMode=f.setDisplayMode=function(x,N,Y){return ze(x),Vt(N),kt(Y),this};var Ht={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(x){if(Object.keys(Ht).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ht[x]},f.__private__.getDocumentProperties=function(){return Ht},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(x){for(var N in Ht)Ht.hasOwnProperty(N)&&x[N]&&(Ht[N]=x[N]);return this},f.__private__.setDocumentProperty=function(x,N){if(Object.keys(Ht).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ht[x]=N};var nt,Pt,ct,gr,Yt,Ut={},Nt={},Qn=[],ht={},kn={},bt={},Et={},jn=null,Mt=0,vt=[],ln=new aD(f),ad=e.hotfixes||[],Gi={},sl={},Ac=[],yt=function x(N,Y,se,ue,Pe,Oe){if(!(this instanceof x))return new x(N,Y,se,ue,Pe,Oe);isNaN(N)&&(N=1),isNaN(Y)&&(Y=0),isNaN(se)&&(se=0),isNaN(ue)&&(ue=1),isNaN(Pe)&&(Pe=0),isNaN(Oe)&&(Oe=0),this._matrix=[N,Y,se,ue,Pe,Oe]};Object.defineProperty(yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),yt.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(x)},yt.prototype.multiply=function(x){var N=x.sx*this.sx+x.shy*this.shx,Y=x.sx*this.shy+x.shy*this.sy,se=x.shx*this.sx+x.sy*this.shx,ue=x.shx*this.shy+x.sy*this.sy,Pe=x.tx*this.sx+x.ty*this.shx+this.tx,Oe=x.tx*this.shy+x.ty*this.sy+this.ty;return new yt(N,Y,se,ue,Pe,Oe)},yt.prototype.decompose=function(){var x=this.sx,N=this.shy,Y=this.shx,se=this.sy,ue=this.tx,Pe=this.ty,Oe=Math.sqrt(x*x+N*N),Ze=(x/=Oe)*Y+(N/=Oe)*se;Y-=x*Ze,se-=N*Ze;var rt=Math.sqrt(Y*Y+se*se);return Ze/=rt,x*(se/=rt)<N*(Y/=rt)&&(x=-x,N=-N,Ze=-Ze,Oe=-Oe),{scale:new yt(Oe,0,0,rt,0,0),translate:new yt(1,0,0,1,ue,Pe),rotate:new yt(x,N,-N,x,0,0),skew:new yt(1,0,Ze,1,0,0)}},yt.prototype.toString=function(x){return this.join(" ")},yt.prototype.inversed=function(){var x=this.sx,N=this.shy,Y=this.shx,se=this.sy,ue=this.tx,Pe=this.ty,Oe=1/(x*se-N*Y),Ze=se*Oe,rt=-N*Oe,Bt=-Y*Oe,It=x*Oe;return new yt(Ze,rt,Bt,It,-Ze*ue-Bt*Pe,-rt*ue-It*Pe)},yt.prototype.applyToPoint=function(x){var N=x.x*this.sx+x.y*this.shx+this.tx,Y=x.x*this.shy+x.y*this.sy+this.ty;return new hl(N,Y)},yt.prototype.applyToRectangle=function(x){var N=this.applyToPoint(x),Y=this.applyToPoint(new hl(x.x+x.w,x.y+x.h));return new Dg(N.x,N.y,Y.x-N.x,Y.y-N.y)},yt.prototype.clone=function(){var x=this.sx,N=this.shy,Y=this.shx,se=this.sy,ue=this.tx,Pe=this.ty;return new yt(x,N,Y,se,ue,Pe)},f.Matrix=yt;var cl=f.matrixMult=function(x,N){return N.multiply(x)},ll=new yt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=ll;var Lo=function(x,N){if(!kn[x]){var Y=(N instanceof Nd?"Sh":"P")+(Object.keys(ht).length+1).toString(10);N.id=Y,kn[x]=Y,ht[Y]=N,ln.publish("addPattern",N)}};f.ShadingPattern=Nd,f.TilingPattern=Wh,f.addShadingPattern=function(x,N){return P("addShadingPattern()"),Lo(x,N),this},f.beginTilingPattern=function(x){P("beginTilingPattern()"),Qg(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},f.endTilingPattern=function(x,N){P("endTilingPattern()"),N.stream=xe[z].join(`
`),Lo(x,N),ln.publish("endTilingPattern",N),Ac.pop().restore()};var Uo,or=f.__private__.newObject=function(){var x=li();return Ti(x,!0),x},li=f.__private__.newObjectDeferred=function(){return oe++,ce[oe]=function(){return ee},oe},Ti=function(x,N){return N=typeof N=="boolean"&&N,ce[x]=ee,N&&Q(x+" 0 obj"),x},od=f.__private__.newAdditionalObject=function(){var x={objId:li(),content:""};return ge.push(x),x},EA=li(),bs=li(),uc=f.__private__.decodeColorString=function(x){var N=x.split(" ");if(N.length!==2||N[1]!=="g"&&N[1]!=="G")N.length!==5||N[4]!=="k"&&N[4]!=="K"||(N=[(1-N[0])*(1-N[3]),(1-N[1])*(1-N[3]),(1-N[2])*(1-N[3]),"r"]);else{var Y=parseFloat(N[0]);N=[Y,Y,Y,"r"]}for(var se="#",ue=0;ue<3;ue++)se+=("0"+Math.floor(255*parseFloat(N[ue])).toString(16)).slice(-2);return se},ws=f.__private__.encodeColorString=function(x){var N;typeof x=="string"&&(x={ch1:x});var Y=x.ch1,se=x.ch2,ue=x.ch3,Pe=x.ch4,Oe=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Y=="string"&&Y.charAt(0)!=="#"){var Ze=new eX(Y);if(Ze.ok)Y=Ze.toHex();else if(!/^\d*\.?\d*$/.test(Y))throw new Error('Invalid color "'+Y+'" passed to jsPDF.encodeColorString.')}if(typeof Y=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Y)&&(Y="#"+Y[1]+Y[1]+Y[2]+Y[2]+Y[3]+Y[3]),typeof Y=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Y)){var rt=parseInt(Y.substr(1),16);Y=rt>>16&255,se=rt>>8&255,ue=255&rt}if(se===void 0||Pe===void 0&&Y===se&&se===ue)N=typeof Y=="string"?Y+" "+Oe[0]:x.precision===2?T(Y/255)+" "+Oe[0]:O(Y/255)+" "+Oe[0];else if(Pe===void 0||pn(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return["1.","1.","1.",Oe[1]].join(" ");N=typeof Y=="string"?[Y,se,ue,Oe[1]].join(" "):x.precision===2?[T(Y/255),T(se/255),T(ue/255),Oe[1]].join(" "):[O(Y/255),O(se/255),O(ue/255),Oe[1]].join(" ")}else N=typeof Y=="string"?[Y,se,ue,Pe,Oe[2]].join(" "):x.precision===2?[T(Y),T(se),T(ue),T(Pe),Oe[2]].join(" "):[O(Y),O(se),O(ue),O(Pe),Oe[2]].join(" ");return N},Cs=f.__private__.getFilters=function(){return o},No=f.__private__.putStream=function(x){var N=(x=x||{}).data||"",Y=x.filters||Cs(),se=x.alreadyAppliedFilters||[],ue=x.addLength1||!1,Pe=N.length,Oe=x.objectId,Ze=function(zr){return zr};if(A!==null&&Oe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");A!==null&&(Ze=Vr.encryptor(Oe,0));var rt={};Y===!0&&(Y=["FlateEncode"]);var Bt=x.additionalKeyValues||[],It=(rt=at.API.processDataByFilters!==void 0?at.API.processDataByFilters(N,Y):{data:N,reverseChain:[]}).reverseChain+(Array.isArray(se)?se.join(" "):se.toString());if(rt.data.length!==0&&(Bt.push({key:"Length",value:rt.data.length}),ue===!0&&Bt.push({key:"Length1",value:Pe})),It.length!=0)if(It.split("/").length-1==1)Bt.push({key:"Filter",value:It});else{Bt.push({key:"Filter",value:"["+It+"]"});for(var Xt=0;Xt<Bt.length;Xt+=1)if(Bt[Xt].key==="DecodeParms"){for(var Xn=[],Ur=0;Ur<rt.reverseChain.split("/").length-1;Ur+=1)Xn.push("null");Xn.push(Bt[Xt].value),Bt[Xt].value="["+Xn.join(" ")+"]"}}Q("<<");for(var En=0;En<Bt.length;En++)Q("/"+Bt[En].key+" "+Bt[En].value);Q(">>"),rt.data.length!==0&&(Q("stream"),Q(Ze(rt.data)),Q("endstream"))},sd=f.__private__.putPage=function(x){var N=x.number,Y=x.data,se=x.objId,ue=x.contentsObjId;Ti(se,!0),Q("<</Type /Page"),Q("/Parent "+x.rootDictionaryObjId+" 0 R"),Q("/Resources "+x.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(F(x.mediaBox.bottomLeftX))+" "+parseFloat(F(x.mediaBox.bottomLeftY))+" "+F(x.mediaBox.topRightX)+" "+F(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&Q("/CropBox ["+F(x.cropBox.bottomLeftX)+" "+F(x.cropBox.bottomLeftY)+" "+F(x.cropBox.topRightX)+" "+F(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&Q("/BleedBox ["+F(x.bleedBox.bottomLeftX)+" "+F(x.bleedBox.bottomLeftY)+" "+F(x.bleedBox.topRightX)+" "+F(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&Q("/TrimBox ["+F(x.trimBox.bottomLeftX)+" "+F(x.trimBox.bottomLeftY)+" "+F(x.trimBox.topRightX)+" "+F(x.trimBox.topRightY)+"]"),x.artBox!==null&&Q("/ArtBox ["+F(x.artBox.bottomLeftX)+" "+F(x.artBox.bottomLeftY)+" "+F(x.artBox.topRightX)+" "+F(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&Q("/UserUnit "+x.userUnit),ln.publish("putPage",{objId:se,pageContext:vt[N],pageNumber:N,page:Y}),Q("/Contents "+ue+" 0 R"),Q(">>"),Q("endobj");var Pe=Y.join(`
`);return C===B&&(Pe+=`
Q`),Ti(ue,!0),No({data:Pe,filters:Cs(),objectId:ue}),Q("endobj"),se},dc=f.__private__.putPages=function(){var x,N,Y=[];for(x=1;x<=Mt;x++)vt[x].objId=li(),vt[x].contentsObjId=li();for(x=1;x<=Mt;x++)Y.push(sd({number:x,data:xe[x],objId:vt[x].objId,contentsObjId:vt[x].contentsObjId,mediaBox:vt[x].mediaBox,cropBox:vt[x].cropBox,bleedBox:vt[x].bleedBox,trimBox:vt[x].trimBox,artBox:vt[x].artBox,userUnit:vt[x].userUnit,rootDictionaryObjId:EA,resourceDictionaryObjId:bs}));Ti(EA,!0),Q("<</Type /Pages");var se="/Kids [";for(N=0;N<Mt;N++)se+=Y[N]+" 0 R ";Q(se+"]"),Q("/Count "+Mt),Q(">>"),Q("endobj"),ln.publish("postPutPages")},cd=function(x){ln.publish("putFont",{font:x,out:Q,newObject:or,putStream:No}),x.isAlreadyPutted!==!0&&(x.objectNumber=or(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+_h(x.postScriptName)),Q("/Subtype /Type1"),typeof x.encoding=="string"&&Q("/Encoding /"+x.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},Gf=function(x){x.objectNumber=or();var N=[];N.push({key:"Type",value:"/XObject"}),N.push({key:"Subtype",value:"/Form"}),N.push({key:"BBox",value:"["+[F(x.x),F(x.y),F(x.x+x.width),F(x.y+x.height)].join(" ")+"]"}),N.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var Y=x.pages[1].join(`
`);No({data:Y,additionalKeyValues:N,objectId:x.objectNumber}),Q("endobj")},qf=function(x,N){N||(N=21);var Y=or(),se=function(Oe,Ze){var rt,Bt=[],It=1/(Ze-1);for(rt=0;rt<1;rt+=It)Bt.push(rt);if(Bt.push(1),Oe[0].offset!=0){var Xt={offset:0,color:Oe[0].color};Oe.unshift(Xt)}if(Oe[Oe.length-1].offset!=1){var Xn={offset:1,color:Oe[Oe.length-1].color};Oe.push(Xn)}for(var Ur="",En=0,zr=0;zr<Bt.length;zr++){for(rt=Bt[zr];rt>Oe[En+1].offset;)En++;var Nr=Oe[En].offset,_i=(rt-Nr)/(Oe[En+1].offset-Nr),ml=Oe[En].color,Ss=Oe[En+1].color;Ur+=re(Math.round((1-_i)*ml[0]+_i*Ss[0]).toString(16))+re(Math.round((1-_i)*ml[1]+_i*Ss[1]).toString(16))+re(Math.round((1-_i)*ml[2]+_i*Ss[2]).toString(16))}return Ur.trim()}(x.colors,N),ue=[];ue.push({key:"FunctionType",value:"0"}),ue.push({key:"Domain",value:"[0.0 1.0]"}),ue.push({key:"Size",value:"["+N+"]"}),ue.push({key:"BitsPerSample",value:"8"}),ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),No({data:se,additionalKeyValues:ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Y}),Q("endobj"),x.objectNumber=or(),Q("<< /ShadingType "+x.type),Q("/ColorSpace /DeviceRGB");var Pe="/Coords ["+F(parseFloat(x.coords[0]))+" "+F(parseFloat(x.coords[1]))+" ";x.type===2?Pe+=F(parseFloat(x.coords[2]))+" "+F(parseFloat(x.coords[3])):Pe+=F(parseFloat(x.coords[2]))+" "+F(parseFloat(x.coords[3]))+" "+F(parseFloat(x.coords[4]))+" "+F(parseFloat(x.coords[5])),Q(Pe+="]"),x.matrix&&Q("/Matrix ["+x.matrix.toString()+"]"),Q("/Function "+Y+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},Yf=function(x,N){var Y=li(),se=or();N.push({resourcesOid:Y,objectOid:se}),x.objectNumber=se;var ue=[];ue.push({key:"Type",value:"/Pattern"}),ue.push({key:"PatternType",value:"1"}),ue.push({key:"PaintType",value:"1"}),ue.push({key:"TilingType",value:"1"}),ue.push({key:"BBox",value:"["+x.boundingBox.map(F).join(" ")+"]"}),ue.push({key:"XStep",value:F(x.xStep)}),ue.push({key:"YStep",value:F(x.yStep)}),ue.push({key:"Resources",value:Y+" 0 R"}),x.matrix&&ue.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),No({data:x.stream,additionalKeyValues:ue,objectId:x.objectNumber}),Q("endobj")},VB=function(x){for(var N in x.objectNumber=or(),Q("<<"),x)switch(N){case"opacity":Q("/ca "+T(x[N]));break;case"stroke-opacity":Q("/CA "+T(x[N]))}Q(">>"),Q("endobj")},Ig=function(x){Ti(x.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var N in Q("/Font <<"),Ut)Ut.hasOwnProperty(N)&&(u===!1||u===!0&&d.hasOwnProperty(N))&&Q("/"+N+" "+Ut[N].objectNumber+" 0 R");Q(">>")}(),function(){if(Object.keys(ht).length>0){for(var N in Q("/Shading <<"),ht)ht.hasOwnProperty(N)&&ht[N]instanceof Nd&&ht[N].objectNumber>=0&&Q("/"+N+" "+ht[N].objectNumber+" 0 R");ln.publish("putShadingPatternDict"),Q(">>")}}(),function(N){if(Object.keys(ht).length>0){for(var Y in Q("/Pattern <<"),ht)ht.hasOwnProperty(Y)&&ht[Y]instanceof f.TilingPattern&&ht[Y].objectNumber>=0&&ht[Y].objectNumber<N&&Q("/"+Y+" "+ht[Y].objectNumber+" 0 R");ln.publish("putTilingPatternDict"),Q(">>")}}(x.objectOid),function(){if(Object.keys(bt).length>0){var N;for(N in Q("/ExtGState <<"),bt)bt.hasOwnProperty(N)&&bt[N].objectNumber>=0&&Q("/"+N+" "+bt[N].objectNumber+" 0 R");ln.publish("putGStateDict"),Q(">>")}}(),function(){for(var N in Q("/XObject <<"),Gi)Gi.hasOwnProperty(N)&&Gi[N].objectNumber>=0&&Q("/"+N+" "+Gi[N].objectNumber+" 0 R");ln.publish("putXobjectDict"),Q(">>")}(),Q(">>"),Q("endobj")},b1=function(x){Nt[x.fontName]=Nt[x.fontName]||{},Nt[x.fontName][x.fontStyle]=x.id},w1=function(x,N,Y,se,ue){var Pe={id:"F"+(Object.keys(Ut).length+1).toString(10),postScriptName:x,fontName:N,fontStyle:Y,encoding:se,isStandardFont:ue||!1,metadata:{}};return ln.publish("addFont",{font:Pe,instance:this}),Ut[Pe.id]=Pe,b1(Pe),Pe.id},Mo=f.__private__.pdfEscape=f.pdfEscape=function(x,N){return function(Y,se){var ue,Pe,Oe,Ze,rt,Bt,It,Xt,Xn;if(Oe=(se=se||{}).sourceEncoding||"Unicode",rt=se.outputEncoding,(se.autoencode||rt)&&Ut[nt].metadata&&Ut[nt].metadata[Oe]&&Ut[nt].metadata[Oe].encoding&&(Ze=Ut[nt].metadata[Oe].encoding,!rt&&Ut[nt].encoding&&(rt=Ut[nt].encoding),!rt&&Ze.codePages&&(rt=Ze.codePages[0]),typeof rt=="string"&&(rt=Ze[rt]),rt)){for(It=!1,Bt=[],ue=0,Pe=Y.length;ue<Pe;ue++)(Xt=rt[Y.charCodeAt(ue)])?Bt.push(String.fromCharCode(Xt)):Bt.push(Y[ue]),Bt[ue].charCodeAt(0)>>8&&(It=!0);Y=Bt.join("")}for(ue=Y.length;It===void 0&&ue!==0;)Y.charCodeAt(ue-1)>>8&&(It=!0),ue--;if(!It)return Y;for(Bt=se.noBOM?[]:[254,255],ue=0,Pe=Y.length;ue<Pe;ue++){if((Xn=(Xt=Y.charCodeAt(ue))>>8)>>8)throw new Error("Character at position "+ue+" of string '"+Y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Bt.push(Xn),Bt.push(Xt-(Xn<<8))}return String.fromCharCode.apply(void 0,Bt)}(x,N).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fg=f.__private__.beginPage=function(x){xe[++Mt]=[],vt[Mt]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},B1(Mt),Ue(xe[z])},C1=function(x,N){var Y,se,ue;switch(n=N||n,typeof x=="string"&&(Y=m(x.toLowerCase()),Array.isArray(Y)&&(se=Y[0],ue=Y[1])),Array.isArray(x)&&(se=x[0]*Pt,ue=x[1]*Pt),isNaN(se)&&(se=i[0],ue=i[1]),(se>14400||ue>14400)&&(Cn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),se=Math.min(14400,se),ue=Math.min(14400,ue)),i=[se,ue],n.substr(0,1)){case"l":ue>se&&(i=[ue,se]);break;case"p":se>ue&&(i=[ue,se])}Fg(i),St(Ug),Q(eh),Mg!==0&&Q(Mg+" J"),Rg!==0&&Q(Rg+" j"),ln.publish("addPage",{pageNumber:Mt})},Og=function(x){x>0&&x<=Mt&&(xe.splice(x,1),vt.splice(x,1),Mt--,z>Mt&&(z=Mt),this.setPage(z))},B1=function(x){x>0&&x<=Mt&&(z=x)},S1=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return xe.length-1},x1=function(x,N,Y){var se,ue=void 0;return Y=Y||{},x=x!==void 0?x:Ut[nt].fontName,N=N!==void 0?N:Ut[nt].fontStyle,se=x.toLowerCase(),Nt[se]!==void 0&&Nt[se][N]!==void 0?ue=Nt[se][N]:Nt[x]!==void 0&&Nt[x][N]!==void 0?ue=Nt[x][N]:Y.disableWarning===!1&&Cn.warn("Unable to look up font label for font '"+x+"', '"+N+"'. Refer to getFontList() for available fonts."),ue||Y.noFallback||(ue=Nt.times[N])==null&&(ue=Nt.times.normal),ue},fc=f.__private__.putInfo=function(){var x=or(),N=function(se){return se};for(var Y in A!==null&&(N=Vr.encryptor(x,0)),Q("<<"),Q("/Producer ("+Mo(N("jsPDF "+at.version))+")"),Ht)Ht.hasOwnProperty(Y)&&Ht[Y]&&Q("/"+Y.substr(0,1).toUpperCase()+Y.substr(1)+" ("+Mo(N(Ht[Y]))+")");Q("/CreationDate ("+Mo(N(Z))+")"),Q(">>"),Q("endobj")},Xf=f.__private__.putCatalog=function(x){var N=(x=x||{}).rootDictionaryObjId||EA;switch(or(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+N+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Y=""+qe;Y.substr(Y.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+T(qe)+"]")}switch(Ct||(Ct="continuous"),Ct){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}At&&Q("/PageMode /"+At),ln.publish("putCatalog"),Q(">>"),Q("endobj")},zB=f.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(oe+1)),Q("/Root "+oe+" 0 R"),Q("/Info "+(oe-1)+" 0 R"),A!==null&&Q("/Encrypt "+Vr.oid+" 0 R"),Q("/ID [ <"+ae+"> <"+ae+"> ]"),Q(">>")},Lr=f.__private__.putHeader=function(){Q("%PDF-"+h),Q("%")},k1=f.__private__.putXRef=function(){var x="0000000000";Q("xref"),Q("0 "+(oe+1)),Q("0000000000 65535 f ");for(var N=1;N<=oe;N++)typeof ce[N]=="function"?Q((x+ce[N]()).slice(-10)+" 00000 n "):ce[N]!==void 0?Q((x+ce[N]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},hc=f.__private__.buildDocument=function(){var x;oe=0,ee=0,be=[],ce=[],ge=[],EA=li(),bs=li(),Ue(be),ln.publish("buildDocument"),Lr(),dc(),function(){ln.publish("putAdditionalObjects");for(var Y=0;Y<ge.length;Y++){var se=ge[Y];Ti(se.objId,!0),Q(se.content),Q("endobj")}ln.publish("postPutAdditionalObjects")}(),x=[],function(){for(var Y in Ut)Ut.hasOwnProperty(Y)&&(u===!1||u===!0&&d.hasOwnProperty(Y))&&cd(Ut[Y])}(),function(){var Y;for(Y in bt)bt.hasOwnProperty(Y)&&VB(bt[Y])}(),function(){for(var Y in Gi)Gi.hasOwnProperty(Y)&&Gf(Gi[Y])}(),function(Y){var se;for(se in ht)ht.hasOwnProperty(se)&&(ht[se]instanceof Nd?qf(ht[se]):ht[se]instanceof Wh&&Yf(ht[se],Y))}(x),ln.publish("putResources"),x.forEach(Ig),Ig({resourcesOid:bs,objectOid:Number.MAX_SAFE_INTEGER}),ln.publish("postPutResources"),A!==null&&(Vr.oid=or(),Q("<<"),Q("/Filter /Standard"),Q("/V "+Vr.v),Q("/R "+Vr.r),Q("/U <"+Vr.toHexString(Vr.U)+">"),Q("/O <"+Vr.toHexString(Vr.O)+">"),Q("/P "+Vr.P),Q(">>"),Q("endobj")),fc(),Xf();var N=ee;return k1(),zB(),Q("startxref"),Q(""+N),Q("%%EOF"),Ue(xe[z]),be.join(`
`)},Jf=f.__private__.getBlob=function(x){return new Blob([je(x)],{type:"application/pdf"})},E1=f.output=f.__private__.output=(Uo=function(x,N){switch(typeof(N=N||{})=="string"?N={filename:N}:N.filename=N.filename||"generated.pdf",x){case void 0:return hc();case"save":f.save(N.filename);break;case"arraybuffer":return je(hc());case"blob":return Jf(hc());case"bloburi":case"bloburl":if(wt.URL!==void 0&&typeof wt.URL.createObjectURL=="function")return wt.URL&&wt.URL.createObjectURL(Jf(hc()))||void 0;Cn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Y="",se=hc();try{Y=nD(se)}catch{Y=nD(unescape(encodeURIComponent(se)))}return"data:application/pdf;filename="+N.filename+";base64,"+Y;case"pdfobjectnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';N.pdfObjectUrl&&(ue=N.pdfObjectUrl,Pe="");var Oe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ue+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(N)+");<\/script></body></html>",Ze=wt.open();return Ze!==null&&Ze.document.write(Oe),Ze}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(N.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+N.filename+'" width="500px" height="400px" /></body></html>',Bt=wt.open();if(Bt!==null){Bt.document.write(rt);var It=this;Bt.document.documentElement.querySelector("#pdfViewer").onload=function(){Bt.document.title=N.filename,Bt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(It.output("bloburl"))}}return Bt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",N)+'"></iframe></body></html>',Xn=wt.open();if(Xn!==null&&(Xn.document.write(Xt),Xn.document.title=N.filename),Xn||typeof safari>"u")return Xn;break;case"datauri":case"dataurl":return wt.document.location.href=this.output("datauristring",N);default:return null}},Uo.foo=function(){try{return Uo.apply(this,arguments)}catch(Y){var x=Y.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var N="Error in function "+x.split(`
`)[0].split("<")[0]+": "+Y.message;if(!wt.console)throw new Error(N);wt.console.error(N,Y),wt.alert&&alert(N)}},Uo.foo.bar=Uo,Uo.foo),Ro=function(x){return Array.isArray(ad)===!0&&ad.indexOf(x)>-1};switch(r){case"pt":Pt=1;break;case"mm":Pt=72/25.4;break;case"cm":Pt=72/2.54;break;case"in":Pt=72;break;case"px":Pt=Ro("px_scaling")==1?.75:96/72;break;case"pc":case"em":Pt=12;break;case"ex":Pt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Pt=r}var Vr=null;pe(),W();var Al=f.__private__.getPageInfo=f.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[x].objId,pageNumber:x,pageContext:vt[x]}},T1=f.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var N in vt)if(vt[N].objId===x)break;return Al(N)},WB=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:vt[z].objId,pageNumber:z,pageContext:vt[z]}};f.addPage=function(){return C1.apply(this,arguments),this},f.setPage=function(){return B1.apply(this,arguments),Ue.call(this,xe[z]),this},f.insertPage=function(x){return this.addPage(),this.movePage(z,x),this},f.movePage=function(x,N){var Y,se;if(x>N){Y=xe[x],se=vt[x];for(var ue=x;ue>N;ue--)xe[ue]=xe[ue-1],vt[ue]=vt[ue-1];xe[N]=Y,vt[N]=se,this.setPage(N)}else if(x<N){Y=xe[x],se=vt[x];for(var Pe=x;Pe<N;Pe++)xe[Pe]=xe[Pe+1],vt[Pe]=vt[Pe+1];xe[N]=Y,vt[N]=se,this.setPage(N)}return this},f.deletePage=function(){return Og.apply(this,arguments),this},f.__private__.text=f.text=function(x,N,Y,se,ue){var Pe,Oe,Ze,rt,Bt,It,Xt,Xn,Ur,En=(se=se||{}).scope||this;if(typeof x=="number"&&typeof N=="number"&&(typeof Y=="string"||Array.isArray(Y))){var zr=Y;Y=N,N=x,x=zr}if(arguments[3]instanceof yt==0?(Ze=arguments[4],rt=arguments[5],pn(Xt=arguments[3])==="object"&&Xt!==null||(typeof Ze=="string"&&(rt=Ze,Ze=null),typeof Xt=="string"&&(rt=Xt,Xt=null),typeof Xt=="number"&&(Ze=Xt,Xt=null),se={flags:Xt,angle:Ze,align:rt})):(P("The transform parameter of text() with a Matrix value"),Ur=ue),isNaN(N)||isNaN(Y)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return En;var Nr,_i="",ml=typeof se.lineHeightFactor=="number"?se.lineHeightFactor:Ad,Ss=En.internal.scaleFactor;function vl(An){return An=An.split("	").join(Array(se.TabLen||9).join(" ")),Mo(An,Xt)}function Hg(An){for(var bn,vr=An.concat(),Wr=[],wl=vr.length;wl--;)typeof(bn=vr.shift())=="string"?Wr.push(bn):Array.isArray(An)&&(bn.length===1||bn[1]===void 0&&bn[2]===void 0)?Wr.push(bn[0]):Wr.push([bn[0],bn[1],bn[2]]);return Wr}function nh(An,bn){var vr;if(typeof An=="string")vr=bn(An)[0];else if(Array.isArray(An)){for(var Wr,wl,Jg=An.concat(),ah=[],D1=Jg.length;D1--;)typeof(Wr=Jg.shift())=="string"?ah.push(bn(Wr)[0]):Array.isArray(Wr)&&typeof Wr[0]=="string"&&(wl=bn(Wr[0],Wr[1],Wr[2]),ah.push([wl[0],wl[1],wl[2]]));vr=ah}return vr}var TA=!1,hd=!0;if(typeof x=="string")TA=!0;else if(Array.isArray(x)){var pd=x.concat();Oe=[];for(var _A,Pi=pd.length;Pi--;)(typeof(_A=pd.shift())!="string"||Array.isArray(_A)&&typeof _A[0]!="string")&&(hd=!1);TA=hd}if(TA===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var gd=Se/En.internal.scaleFactor,md=gd*(ml-1);switch(se.baseline){case"bottom":Y-=md;break;case"top":Y+=gd-md;break;case"hanging":Y+=gd-2*md;break;case"middle":Y+=gd/2-md}if((It=se.maxWidth||0)>0&&(typeof x=="string"?x=En.splitTextToSize(x,It):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(An,bn){return An.concat(En.splitTextToSize(bn,It))},[]))),Pe={text:x,x:N,y:Y,options:se,mutex:{pdfEscape:Mo,activeFontKey:nt,fonts:Ut,activeFontSize:Se}},ln.publish("preProcessText",Pe),x=Pe.text,Ze=(se=Pe.options).angle,Ur instanceof yt==0&&Ze&&typeof Ze=="number"){Ze*=Math.PI/180,se.rotationDirection===0&&(Ze=-Ze),C===B&&(Ze=-Ze);var $g=Math.cos(Ze),Kg=Math.sin(Ze);Ur=new yt($g,Kg,-Kg,$g,0,0)}else Ze&&Ze instanceof yt&&(Ur=Ze);C!==B||Ur||(Ur=ll),(Bt=se.charSpace||fl)!==void 0&&(_i+=F(H(Bt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Xn=se.horizontalScale)!==void 0&&(_i+=F(100*Xn)+` Tz
`),se.lang;var Aa=-1,yl=se.renderingMode!==void 0?se.renderingMode:se.stroke,rh=En.internal.getCurrentPageInfo().pageContext;switch(yl){case 0:case!1:case"fill":Aa=0;break;case 1:case!0:case"stroke":Aa=1;break;case 2:case"fillThenStroke":Aa=2;break;case 3:case"invisible":Aa=3;break;case 4:case"fillAndAddForClipping":Aa=4;break;case 5:case"strokeAndAddPathForClipping":Aa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Aa=6;break;case 7:case"addToPathForClipping":Aa=7}var M1=rh.usedRenderingMode!==void 0?rh.usedRenderingMode:-1;Aa!==-1?_i+=Aa+` Tr
`:M1!==-1&&(_i+=`0 Tr
`),Aa!==-1&&(rh.usedRenderingMode=Aa),rt=se.align||"left";var Do,vd=Se*ml,Vg=En.internal.pageSize.getWidth(),zg=Ut[nt];Bt=se.charSpace||fl,It=se.maxWidth||0,Xt=Object.assign({autoencode:!0,noBOM:!0},se.flags);var PA=[],yd=function(An){return En.getStringUnitWidth(An,{font:zg,charSpace:Bt,fontSize:Se,doKerning:!1})*Se/Ss};if(Object.prototype.toString.call(x)==="[object Array]"){var Xa;Oe=Hg(x),rt!=="left"&&(Do=Oe.map(yd));var Ja,IA=0;if(rt==="right"){N-=Do[0],x=[],Pi=Oe.length;for(var bl=0;bl<Pi;bl++)bl===0?(Ja=ul(N),Xa=dl(Y)):(Ja=H(IA-Do[bl]),Xa=-vd),x.push([Oe[bl],Ja,Xa]),IA=Do[bl]}else if(rt==="center"){N-=Do[0]/2,x=[],Pi=Oe.length;for(var FA=0;FA<Pi;FA++)FA===0?(Ja=ul(N),Xa=dl(Y)):(Ja=H((IA-Do[FA])/2),Xa=-vd),x.push([Oe[FA],Ja,Xa]),IA=Do[FA]}else if(rt==="left"){x=[],Pi=Oe.length;for(var Wg=0;Wg<Pi;Wg++)x.push(Oe[Wg])}else if(rt==="justify"&&zg.encoding==="Identity-H"){x=[],Pi=Oe.length,It=It!==0?It:Vg;for(var ih=0,mr=0;mr<Pi;mr++)if(Xa=mr===0?dl(Y):-vd,Ja=mr===0?ul(N):ih,mr<Pi-1){var R1=H((It-Do[mr])/(Oe[mr].split(" ").length-1)),gc=Oe[mr].split(" ");x.push([gc[0]+" ",Ja,Xa]),ih=0;for(var mc=1;mc<gc.length;mc++){var Gg=(yd(gc[mc-1]+" "+gc[mc])-yd(gc[mc]))*Ss+R1;mc==gc.length-1?x.push([gc[mc],Gg,0]):x.push([gc[mc]+" ",Gg,0]),ih-=Gg}}else x.push([Oe[mr],Ja,Xa]);x.push(["",ih,0])}else{if(rt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Pi=Oe.length,It=It!==0?It:Vg,mr=0;mr<Pi;mr++){Xa=mr===0?dl(Y):-vd,Ja=mr===0?ul(N):0;var qg=Oe[mr].split(" ").length-1,Yg=qg>0?(It-Do[mr])/qg:0;mr<Pi-1?PA.push(F(H(Yg))):PA.push(0),x.push([Oe[mr],Ja,Xa])}}}(typeof se.R2L=="boolean"?se.R2L:ft)===!0&&(x=nh(x,function(An,bn,vr){return[An.split("").reverse().join(""),bn,vr]})),Pe={text:x,x:N,y:Y,options:se,mutex:{pdfEscape:Mo,activeFontKey:nt,fonts:Ut,activeFontSize:Se}},ln.publish("postProcessText",Pe),x=Pe.text,Nr=Pe.mutex.isHex||!1;var Xg=Ut[nt].encoding;Xg!=="WinAnsiEncoding"&&Xg!=="StandardEncoding"||(x=nh(x,function(An,bn,vr){return[vl(An),bn,vr]})),Oe=Hg(x),x=[];for(var OA,LA,UA,bd=Array.isArray(Oe[0])?1:0,NA="",wd=function(An,bn,vr){var Wr="";return vr instanceof yt?(vr=typeof se.angle=="number"?cl(vr,new yt(1,0,0,1,An,bn)):cl(new yt(1,0,0,1,An,bn),vr),C===B&&(vr=cl(new yt(1,0,0,-1,0,0),vr)),Wr=vr.join(" ")+` Tm
`):Wr=F(An)+" "+F(bn)+` Td
`,Wr},Qo=0;Qo<Oe.length;Qo++){switch(NA="",bd){case 1:UA=(Nr?"<":"(")+Oe[Qo][0]+(Nr?">":")"),OA=parseFloat(Oe[Qo][1]),LA=parseFloat(Oe[Qo][2]);break;case 0:UA=(Nr?"<":"(")+Oe[Qo]+(Nr?">":")"),OA=ul(N),LA=dl(Y)}PA!==void 0&&PA[Qo]!==void 0&&(NA=PA[Qo]+` Tw
`),Qo===0?x.push(NA+wd(OA,LA,Ur)+UA):bd===0?x.push(NA+UA):bd===1&&x.push(NA+wd(OA,LA,Ur)+UA)}x=bd===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var vc=`BT
/`;return vc+=nt+" "+Se+` Tf
`,vc+=F(Se*ml)+` TL
`,vc+=ud+`
`,vc+=_i,vc+=x,Q(vc+="ET"),d[nt]=!0,En};var GB=f.__private__.clip=f.clip=function(x){return Q(x==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return GB("evenodd")},f.__private__.discardPath=f.discardPath=function(){return Q("n"),this};var pc=f.__private__.isValidStyle=function(x){var N=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(N=!0),N};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(x){return pc(x)&&(l=x),this};var _1=f.__private__.getStyle=f.getStyle=function(x){var N=l;switch(x){case"D":case"S":N="S";break;case"F":N="f";break;case"FD":case"DF":N="B";break;case"f":case"f*":case"B":case"B*":N=x}return N},P1=f.close=function(){return Q("h"),this};f.stroke=function(){return Q("S"),this},f.fill=function(x){return Zf("f",x),this},f.fillEvenOdd=function(x){return Zf("f*",x),this},f.fillStroke=function(x){return Zf("B",x),this},f.fillStrokeEvenOdd=function(x){return Zf("B*",x),this};var Zf=function(x,N){pn(N)==="object"?YB(N,x):Q(x)},ld=function(x){x===null||C===B&&x===void 0||(x=_1(x),Q(x))};function qB(x,N,Y,se,ue){var Pe=new Wh(N||this.boundingBox,Y||this.xStep,se||this.yStep,this.gState,ue||this.matrix);Pe.stream=this.stream;var Oe=x+"$$"+this.cloneIndex+++"$$";return Lo(Oe,Pe),Pe}var YB=function(x,N){var Y=kn[x.key],se=ht[Y];if(se instanceof Nd)Q("q"),Q(XB(N)),se.gState&&f.setGState(se.gState),Q(x.matrix.toString()+" cm"),Q("/"+Y+" sh"),Q("Q");else if(se instanceof Wh){var ue=new yt(1,0,0,-1,0,fd());x.matrix&&(ue=ue.multiply(x.matrix||ll),Y=qB.call(se,x.key,x.boundingBox,x.xStep,x.yStep,ue).id),Q("q"),Q("/Pattern cs"),Q("/"+Y+" scn"),se.gState&&f.setGState(se.gState),Q(N),Q("Q")}},XB=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Lg=f.moveTo=function(x,N){return Q(F(H(x))+" "+F($(N))+" m"),this},I1=f.lineTo=function(x,N){return Q(F(H(x))+" "+F($(N))+" l"),this},Bs=f.curveTo=function(x,N,Y,se,ue,Pe){return Q([F(H(x)),F($(N)),F(H(Y)),F($(se)),F(H(ue)),F($(Pe)),"c"].join(" ")),this};f.__private__.line=f.line=function(x,N,Y,se,ue){if(isNaN(x)||isNaN(N)||isNaN(Y)||isNaN(se)||!pc(ue))throw new Error("Invalid arguments passed to jsPDF.line");return C===w?this.lines([[Y-x,se-N]],x,N,[1,1],ue||"S"):this.lines([[Y-x,se-N]],x,N,[1,1]).stroke()},f.__private__.lines=f.lines=function(x,N,Y,se,ue,Pe){var Oe,Ze,rt,Bt,It,Xt,Xn,Ur,En,zr,Nr,_i;if(typeof x=="number"&&(_i=Y,Y=N,N=x,x=_i),se=se||[1,1],Pe=Pe||!1,isNaN(N)||isNaN(Y)||!Array.isArray(x)||!Array.isArray(se)||!pc(ue)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Lg(N,Y),Oe=se[0],Ze=se[1],Bt=x.length,zr=N,Nr=Y,rt=0;rt<Bt;rt++)(It=x[rt]).length===2?(zr=It[0]*Oe+zr,Nr=It[1]*Ze+Nr,I1(zr,Nr)):(Xt=It[0]*Oe+zr,Xn=It[1]*Ze+Nr,Ur=It[2]*Oe+zr,En=It[3]*Ze+Nr,zr=It[4]*Oe+zr,Nr=It[5]*Ze+Nr,Bs(Xt,Xn,Ur,En,zr,Nr));return Pe&&P1(),ld(ue),this},f.path=function(x){for(var N=0;N<x.length;N++){var Y=x[N],se=Y.c;switch(Y.op){case"m":Lg(se[0],se[1]);break;case"l":I1(se[0],se[1]);break;case"c":Bs.apply(this,se);break;case"h":P1()}}return this},f.__private__.rect=f.rect=function(x,N,Y,se,ue){if(isNaN(x)||isNaN(N)||isNaN(Y)||isNaN(se)||!pc(ue))throw new Error("Invalid arguments passed to jsPDF.rect");return C===w&&(se=-se),Q([F(H(x)),F($(N)),F(H(Y)),F(H(se)),"re"].join(" ")),ld(ue),this},f.__private__.triangle=f.triangle=function(x,N,Y,se,ue,Pe,Oe){if(isNaN(x)||isNaN(N)||isNaN(Y)||isNaN(se)||isNaN(ue)||isNaN(Pe)||!pc(Oe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Y-x,se-N],[ue-Y,Pe-se],[x-ue,N-Pe]],x,N,[1,1],Oe,!0),this},f.__private__.roundedRect=f.roundedRect=function(x,N,Y,se,ue,Pe,Oe){if(isNaN(x)||isNaN(N)||isNaN(Y)||isNaN(se)||isNaN(ue)||isNaN(Pe)||!pc(Oe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ze=4/3*(Math.SQRT2-1);return ue=Math.min(ue,.5*Y),Pe=Math.min(Pe,.5*se),this.lines([[Y-2*ue,0],[ue*Ze,0,ue,Pe-Pe*Ze,ue,Pe],[0,se-2*Pe],[0,Pe*Ze,-ue*Ze,Pe,-ue,Pe],[2*ue-Y,0],[-ue*Ze,0,-ue,-Pe*Ze,-ue,-Pe],[0,2*Pe-se],[0,-Pe*Ze,ue*Ze,-Pe,ue,-Pe]],x+ue,N,[1,1],Oe,!0),this},f.__private__.ellipse=f.ellipse=function(x,N,Y,se,ue){if(isNaN(x)||isNaN(N)||isNaN(Y)||isNaN(se)||!pc(ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*Y,Oe=4/3*(Math.SQRT2-1)*se;return Lg(x+Y,N),Bs(x+Y,N-Oe,x+Pe,N-se,x,N-se),Bs(x-Pe,N-se,x-Y,N-Oe,x-Y,N),Bs(x-Y,N+Oe,x-Pe,N+se,x,N+se),Bs(x+Pe,N+se,x+Y,N+Oe,x+Y,N),ld(ue),this},f.__private__.circle=f.circle=function(x,N,Y,se){if(isNaN(x)||isNaN(N)||isNaN(Y)||!pc(se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,N,Y,Y,se)},f.setFont=function(x,N,Y){return Y&&(N=_(N,Y)),nt=x1(x,N,{disableWarning:!1}),this};var JB=f.__private__.getFont=f.getFont=function(){return Ut[x1.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var x,N,Y={};for(x in Nt)if(Nt.hasOwnProperty(x))for(N in Y[x]=[],Nt[x])Nt[x].hasOwnProperty(N)&&Y[x].push(N);return Y},f.addFont=function(x,N,Y,se,ue){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?ue=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(Y=_(Y,se)),w1.call(this,x,N,Y,ue=ue||"Identity-H")};var Ad,Ug=e.lineWidth||.200025,ZB=f.__private__.getLineWidth=f.getLineWidth=function(){return Ug},St=f.__private__.setLineWidth=f.setLineWidth=function(x){return Ug=x,Q(F(H(x))+" w"),this};f.__private__.setLineDash=at.API.setLineDash=at.API.setLineDashPattern=function(x,N){if(x=x||[],N=N||0,isNaN(N)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(Y){return F(H(Y))}).join(" "),N=F(H(N)),Q("["+x+"] "+N+" d"),this};var e4=f.__private__.getLineHeight=f.getLineHeight=function(){return Se*Ad};f.__private__.getLineHeight=f.getLineHeight=function(){return Se*Ad};var t4=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(Ad=x),this},n4=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Ad};t4(e.lineHeight);var ul=f.__private__.getHorizontalCoordinate=function(x){return H(x)},dl=f.__private__.getVerticalCoordinate=function(x){return C===B?x:vt[z].mediaBox.topRightY-vt[z].mediaBox.bottomLeftY-H(x)},r4=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(x){return F(ul(x))},i4=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(x){return F(dl(x))},eh=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return uc(eh)},f.__private__.setStrokeColor=f.setDrawColor=function(x,N,Y,se){return eh=ws({ch1:x,ch2:N,ch3:Y,ch4:se,pdfColorType:"draw",precision:2}),Q(eh),this};var Ng=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return uc(Ng)},f.__private__.setFillColor=f.setFillColor=function(x,N,Y,se){return Ng=ws({ch1:x,ch2:N,ch3:Y,ch4:se,pdfColorType:"fill",precision:2}),Q(Ng),this};var ud=e.textColor||"0 g",a4=f.__private__.getTextColor=f.getTextColor=function(){return uc(ud)};f.__private__.setTextColor=f.setTextColor=function(x,N,Y,se){return ud=ws({ch1:x,ch2:N,ch3:Y,ch4:se,pdfColorType:"text",precision:3}),this};var fl=e.charSpace,o4=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(fl||0)};f.__private__.setCharSpace=f.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return fl=x,this};var Mg=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(x){var N=f.CapJoinStyles[x];if(N===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mg=N,Q(N+" J"),this};var Rg=0;f.__private__.setLineJoin=f.setLineJoin=function(x){var N=f.CapJoinStyles[x];if(N===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rg=N,Q(N+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(F(H(x))+" M"),this},f.GState=Gw,f.setGState=function(x){(x=typeof x=="string"?bt[Et[x]]:F1(null,x)).equals(jn)||(Q("/"+x.id+" gs"),jn=x)};var F1=function(x,N){if(!x||!Et[x]){var Y=!1;for(var se in bt)if(bt.hasOwnProperty(se)&&bt[se].equals(N)){Y=!0;break}if(Y)N=bt[se];else{var ue="GS"+(Object.keys(bt).length+1).toString(10);bt[ue]=N,N.id=ue}return x&&(Et[x]=N.id),ln.publish("addGState",N),N}};f.addGState=function(x,N){return F1(x,N),this},f.saveGraphicsState=function(){return Q("q"),Qn.push({key:nt,size:Se,color:ud}),this},f.restoreGraphicsState=function(){Q("Q");var x=Qn.pop();return nt=x.key,Se=x.size,ud=x.color,jn=null,this},f.setCurrentTransformationMatrix=function(x){return Q(x.toString()+" cm"),this},f.comment=function(x){return Q("#"+x),this};var hl=function(x,N){var Y=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Y},set:function(Pe){isNaN(Pe)||(Y=parseFloat(Pe))}});var se=N||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return se},set:function(Pe){isNaN(Pe)||(se=parseFloat(Pe))}});var ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ue},set:function(Pe){ue=Pe.toString()}}),this},Dg=function(x,N,Y,se){hl.call(this,x,N),this.type="rect";var ue=Y||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ue},set:function(Oe){isNaN(Oe)||(ue=parseFloat(Oe))}});var Pe=se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function(Oe){isNaN(Oe)||(Pe=parseFloat(Oe))}}),this},th=function(){this.page=Mt,this.currentPage=z,this.pages=xe.slice(0),this.pagesContext=vt.slice(0),this.x=ct,this.y=gr,this.matrix=Yt,this.width=jg(z),this.height=L1(z),this.outputDestination=Ce,this.id="",this.objectNumber=-1};th.prototype.restore=function(){Mt=this.page,z=this.currentPage,vt=this.pagesContext,xe=this.pages,ct=this.x,gr=this.y,Yt=this.matrix,O1(z,this.width),pl(z,this.height),Ce=this.outputDestination};var Qg=function(x,N,Y,se,ue){Ac.push(new th),Mt=z=0,xe=[],ct=x,gr=N,Yt=ue,Fg([Y,se])};for(var dd in f.beginFormObject=function(x,N,Y,se,ue){return Qg(x,N,Y,se,ue),this},f.endFormObject=function(x){return function(N){if(sl[N])Ac.pop().restore();else{var Y=new th,se="Xo"+(Object.keys(Gi).length+1).toString(10);Y.id=se,sl[N]=se,Gi[se]=Y,ln.publish("addFormObject",Y),Ac.pop().restore()}}(x),this},f.doFormObject=function(x,N){var Y=Gi[sl[x]];return Q("q"),Q(N.toString()+" cm"),Q("/"+Y.id+" Do"),Q("Q"),this},f.getFormObject=function(x){var N=Gi[sl[x]];return{x:N.x,y:N.y,width:N.width,height:N.height,matrix:N.matrix}},f.save=function(x,N){return x=x||"generated.pdf",(N=N||{}).returnPromise=N.returnPromise||!1,N.returnPromise===!1?(Od(Jf(hc()),x),typeof Od.unload=="function"&&wt.setTimeout&&setTimeout(Od.unload,911),this):new Promise(function(Y,se){try{var ue=Od(Jf(hc()),x);typeof Od.unload=="function"&&wt.setTimeout&&setTimeout(Od.unload,911),Y(ue)}catch(Pe){se(Pe.message)}})},at.API)at.API.hasOwnProperty(dd)&&(dd==="events"&&at.API.events.length?function(x,N){var Y,se,ue;for(ue=N.length-1;ue!==-1;ue--)Y=N[ue][0],se=N[ue][1],x.subscribe.apply(x,[Y].concat(typeof se=="function"?[se]:se))}(ln,at.API.events):f[dd]=at.API[dd]);function jg(x){return vt[x].mediaBox.topRightX-vt[x].mediaBox.bottomLeftX}function O1(x,N){vt[x].mediaBox.topRightX=N+vt[x].mediaBox.bottomLeftX}function L1(x){return vt[x].mediaBox.topRightY-vt[x].mediaBox.bottomLeftY}function pl(x,N){vt[x].mediaBox.topRightY=N+vt[x].mediaBox.bottomLeftY}var gl=f.getPageWidth=function(x){return jg(x=x||z)/Pt},U1=f.setPageWidth=function(x,N){O1(x,N*Pt)},fd=f.getPageHeight=function(x){return L1(x=x||z)/Pt},N1=f.setPageHeight=function(x,N){pl(x,N*Pt)};return f.internal={pdfEscape:Mo,getStyle:_1,getFont:JB,getFontSize:Ve,getCharSpace:o4,getTextColor:a4,getLineHeight:e4,getLineHeightFactor:n4,getLineWidth:ZB,write:ke,getHorizontalCoordinate:ul,getVerticalCoordinate:dl,getCoordinateString:r4,getVerticalCoordinateString:i4,collections:{},newObject:or,newAdditionalObject:od,newObjectDeferred:li,newObjectDeferredBegin:Ti,getFilters:Cs,putStream:No,events:ln,scaleFactor:Pt,pageSize:{getWidth:function(){return gl(z)},setWidth:function(x){U1(z,x)},getHeight:function(){return fd(z)},setHeight:function(x){N1(z,x)}},encryptionOptions:A,encryption:Vr,getEncryptor:function(x){return A!==null?Vr.encryptor(x,0):function(N){return N}},output:E1,getNumberOfPages:S1,get pages(){return xe},out:Q,f2:T,f3:O,getPageInfo:Al,getPageInfoByObjId:T1,getCurrentPageInfo:WB,getPDFVersion:p,Point:hl,Rectangle:Dg,Matrix:yt,hasHotfix:Ro},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return gl(z)},set:function(x){U1(z,x)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return fd(z)},set:function(x){N1(z,x)},enumerable:!0,configurable:!0}),(function(x){for(var N=0,Y=De.length;N<Y;N++){var se=w1.call(this,x[N][0],x[N][1],x[N][2],De[N][3],!0);u===!1&&(d[se]=!0);var ue=x[N][0].split("-");b1({id:se,fontName:ue[0],fontStyle:ue[1]||""})}ln.publish("addFonts",{fonts:Ut,dictionary:Nt})}).call(f,De),nt="F1",C1(i,n),ln.publish("initialized"),f}Th.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Th.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Th.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Th.prototype.processOwnerPassword=function(e,t){return xE(SE(t).substr(0,5),e)},Th.prototype.encryptor=function(e,t){var n=SE(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return xE(n,r)}},Gw.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||pn(e)!==pn(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},at.API={events:[]},at.version="4.2.0";var lr=at.API,BF=1,zf=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Pf=function(e){return e.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var n=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},xt=function(e){return e.toFixed(2)},WA=function(e){return e.toFixed(5)};lr.__acroform__={};var Ya=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},oD=function(e){return e*BF},Ec=function(e){var t=new iX,n=Xe.internal.getHeight(e)||0,r=Xe.internal.getWidth(e)||0;return t.BBox=[0,0,Number(xt(r)),Number(xt(n))],t},WBe=lr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},GBe=lr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},qBe=lr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Er=lr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return qBe(e,t-1)},Tr=lr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return WBe(e,t-1)},_r=lr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return GBe(e,t-1)},YBe=lr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],s=e[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(a+s)||0,c.upperRight_X=n(i+o)||0,c.upperRight_Y=r(a)||0,[Number(xt(c.lowerLeft_X)),Number(xt(c.lowerLeft_Y)),Number(xt(c.upperRight_X)),Number(xt(c.upperRight_Y))]},XBe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=kE(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+xt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Ec(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},kE=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var a=n,o=Xe.internal.getHeight(e)||0;o=o<0?-o:o;var s=Xe.internal.getWidth(e)||0;s=s<0?-s:s;var c=function(T,O,H){if(T+1<i.length){var $=O+" "+i[T+1][0];return qy($,e,H).width<=s-4}return!1};a++;e:for(;a>0;){t="",a--;var l,A,u=qy("3",e,a).height,d=e.multiline?o-a:(o-u)/2,f=d+=2,h=0,p=0,v=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+qy(t,e,a=12).width+", FieldWidth:"+s+`
`;break}for(var m="",w=0,B=0;B<i.length;B++)if(i.hasOwnProperty(B)){var C=!1;if(i[B].length!==1&&v!==i[B].length-1){if((u+2)*(w+2)+2>o)continue e;m+=i[B][v],C=!0,p=B,B--}else{m=(m+=i[B][v]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var S=parseInt(B),k=c(S,m,a),_=B>=i.length-1;if(k&&!_){m+=" ",v=0;continue}if(k||_){if(_)p=S;else if(e.multiline&&(u+2)*(w+2)+2>o)continue e}else{if(!e.multiline||(u+2)*(w+2)+2>o)continue e;p=S}}for(var F="",P=h;P<=p;P++){var U=i[P];if(e.multiline){if(P===p){F+=U[v]+" ",v=(v+1)%U.length;continue}if(P===h){F+=U[U.length-1]+" ";continue}}F+=U[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,A=qy(F,e,a).width,e.textAlign){case"right":l=s-A-2;break;case"center":l=(s-A)/2;break;default:l=2}t+=xt(l)+" "+xt(f)+` Td
`,t+="("+zf(F)+`) Tj
`,t+=-xt(l)+` 0 Td
`,f=-(a+2),A=0,h=C?p:p+1,w++,m=""}break}return r.text=t,r.fontSize=a,r},qy=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},JBe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ZBe=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},e4e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(oc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(JBe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");BF=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new aX,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&ZBe(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var s=r[o],c=[],l=s.Rect;if(s.Rect&&(s.Rect=YBe(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=Xe.createDefaultAppearanceStream(s),pn(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(c=s.getKeyValueListForStream()),s.Rect=l,s.hasAppearanceStream&&!s.appearanceStreamContent){var A=XBe(s);c.push({key:"AP",value:"<</N "+A+">>"}),i.internal.acroformPlugin.xForms.push(A)}if(s.appearanceStreamContent){var u="";for(var d in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(d)){var f=s.appearanceStreamContent[d];if(u+="/"+d+" ",u+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var h=f[o];typeof h=="function"&&(h=h.call(i,s)),u+="/"+o+" "+h+" ",i.internal.acroformPlugin.xForms.indexOf(h)>=0||i.internal.acroformPlugin.xForms.push(h)}}else typeof(h=f)=="function"&&(h=h.call(i,s)),u+="/"+o+" "+h,i.internal.acroformPlugin.xForms.indexOf(h)>=0||i.internal.acroformPlugin.xForms.push(h);u+=">>"}c.push({key:"AP",value:`<<
`+u+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:s.objId}),i.internal.out("endobj")}a&&function(p,v){for(var m in p)if(p.hasOwnProperty(m)){var w=m,B=p[m];v.internal.newObjectDeferredBegin(B.objId,!0),pn(B)==="object"&&typeof B.putStream=="function"&&B.putStream(),delete p[w]}}(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},rX=lr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),pn(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)==="/"?i+="/"+Pf(e[a].substr(1)):(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+zf(r(e[a].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},XS=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+zf(r(e))+")"},Uc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Uc.prototype.toString=function(){return this.objId+" 0 R"},Uc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Uc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:rX(i,this.objId,this.scope)}):i instanceof Uc?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var iX=function(){Uc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Ya(iX,Uc);var aX=function(){Uc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+zf(n(e))+")"}},set:function(n){e=n}})};Ya(aX,Uc);var oc=function e(){Uc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');t=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Er(t,3)},set:function(m){m?this.F=Tr(t,3):this.F=_r(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');n=m}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(m){r=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(m){r[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(m){r[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(m){r[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(m){r[3]=m}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof qw)return;a="FieldObject"+e.FieldNum++}var m=function(w){return w};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+zf(m(a))+")"},set:function(m){a=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(m){a=m}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(m){s=m}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(m){c=m}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/BF:l},set:function(m){l=m}});var A="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return A},set:function(m){A=m}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof qw||this instanceof of))return XS(u,this.objId,this.scope)},set:function(m){m=m.toString(),u=m}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof mi==0?XS(d,this.objId,this.scope):d},set:function(m){m=m.toString(),d=this instanceof mi==0?m.substr(0,1)==="("?gh(m.substr(1,m.length-2)):gh(m):m}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mi==1?gh(d.substr(1,d.length-1)):d},set:function(m){m=m.toString(),d=this instanceof mi==1?"/"+Pf(m):m}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof mi==0?XS(f,this.objId,this.scope):f},set:function(m){m=m.toString(),f=this instanceof mi==0?m.substr(0,1)==="("?gh(m.substr(1,m.length-2)):gh(m):m}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mi==1?gh(f.substr(1,f.length-1)):f},set:function(m){m=m.toString(),f=this instanceof mi==1?"/"+Pf(m):m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var h,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(m){m=!!m,p=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(h)return h},set:function(m){h=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,1)},set:function(m){m?this.Ff=Tr(this.Ff,1):this.Ff=_r(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,2)},set:function(m){m?this.Ff=Tr(this.Ff,2):this.Ff=_r(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,3)},set:function(m){m?this.Ff=Tr(this.Ff,3):this.Ff=_r(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');v=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(v){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};Ya(oc,Uc);var cp=function(){oc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return rX(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,o,s){s||(s=1);for(var c,l=[];c=o.exec(a);)l.push(c[s]);return l}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,18)},set:function(n){n?this.Ff=Tr(this.Ff,18):this.Ff=_r(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Tr(this.Ff,19):this.Ff=_r(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,20)},set:function(n){n?(this.Ff=Tr(this.Ff,20),t.sort()):this.Ff=_r(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,22)},set:function(n){n?this.Ff=Tr(this.Ff,22):this.Ff=_r(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,23)},set:function(n){n?this.Ff=Tr(this.Ff,23):this.Ff=_r(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,27)},set:function(n){n?this.Ff=Tr(this.Ff,27):this.Ff=_r(this.Ff,27)}}),this.hasAppearanceStream=!1};Ya(cp,oc);var lp=function(){cp.call(this),this.fontName="helvetica",this.combo=!1};Ya(lp,cp);var Ap=function(){lp.call(this),this.combo=!0};Ya(Ap,lp);var tb=function(){Ap.call(this),this.edit=!0};Ya(tb,Ap);var mi=function(){oc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,15)},set:function(n){n?this.Ff=Tr(this.Ff,15):this.Ff=_r(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,16)},set:function(n){n?this.Ff=Tr(this.Ff,16):this.Ff=_r(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,17)},set:function(n){n?this.Ff=Tr(this.Ff,17):this.Ff=_r(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,26)},set:function(n){n?this.Ff=Tr(this.Ff,26):this.Ff=_r(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+zf(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){pn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){var r=n==null?"":n.toString();r.substr(0,1)==="/"&&(r=r.substr(1)),e="/"+Pf(r)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+Pf(n)}})};Ya(mi,oc);var nb=function(){mi.call(this),this.pushButton=!0};Ya(nb,mi);var up=function(){mi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ya(up,mi);var qw=function(){var e,t;oc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+zf(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){pn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){var a=i==null?"":i.toString();a.substr(0,1)==="/"&&(a=a.substr(1)),n="/"+Pf(a)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){var a=i==null?"":i.toString();a.substr(0,1)==="/"&&(a=a.substr(1)),n="/"+Pf(a)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Xe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ya(qw,oc),up.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},up.prototype.createOption=function(e){var t=new qw;return t.Parent=this,t.optionName=e,this.Kids.push(t),t4e.call(this.scope,t),t};var rb=function(){mi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Xe.CheckBox.createAppearanceStream()};Ya(rb,mi);var of=function(){oc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,13)},set:function(t){t?this.Ff=Tr(this.Ff,13):this.Ff=_r(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,21)},set:function(t){t?this.Ff=Tr(this.Ff,21):this.Ff=_r(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,23)},set:function(t){t?this.Ff=Tr(this.Ff,23):this.Ff=_r(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,24)},set:function(t){t?this.Ff=Tr(this.Ff,24):this.Ff=_r(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,25)},set:function(t){t?this.Ff=Tr(this.Ff,25):this.Ff=_r(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,26)},set:function(t){t?this.Ff=Tr(this.Ff,26):this.Ff=_r(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ya(of,oc);var ib=function(){of.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,14)},set:function(e){e?this.Ff=Tr(this.Ff,14):this.Ff=_r(this.Ff,14)}}),this.password=!0};Ya(ib,of);var Xe={CheckBox:{createAppearanceStream:function(){return{N:{On:Xe.CheckBox.YesNormal},D:{On:Xe.CheckBox.YesPushDown,Off:Xe.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ec(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=kE(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+xt(Xe.internal.getWidth(e))+" "+xt(Xe.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+xt(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Ec(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=Xe.internal.getHeight(e),o=Xe.internal.getWidth(e),s=kE(e,e.caption);return i.push("1 g"),i.push("0 0 "+xt(o)+" "+xt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+xt(o-1)+" "+xt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+xt(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Ec(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+xt(Xe.internal.getWidth(e))+" "+xt(Xe.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Xe.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Xe.RadioButton.Circle.YesNormal,t.D[e]=Xe.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ec(e);t.scope=e.scope;var n=[],r=Xe.internal.getWidth(e)<=Xe.internal.getHeight(e)?Xe.internal.getWidth(e)/4:Xe.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Xe.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+WA(Xe.internal.getWidth(e)/2)+" "+WA(Xe.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Ec(e);t.scope=e.scope;var n=[],r=Xe.internal.getWidth(e)<=Xe.internal.getHeight(e)?Xe.internal.getWidth(e)/4:Xe.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Xe.internal.Bezier_C).toFixed(5)),o=Number((r*Xe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+WA(Xe.internal.getWidth(e)/2)+" "+WA(Xe.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+WA(Xe.internal.getWidth(e)/2)+" "+WA(Xe.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ec(e);t.scope=e.scope;var n=[],r=Xe.internal.getWidth(e)<=Xe.internal.getHeight(e)?Xe.internal.getWidth(e)/4:Xe.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Xe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+WA(Xe.internal.getWidth(e)/2)+" "+WA(Xe.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Xe.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Xe.RadioButton.Cross.YesNormal,t.D[e]=Xe.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ec(e);t.scope=e.scope;var n=[],r=Xe.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+xt(Xe.internal.getWidth(e)-2)+" "+xt(Xe.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(xt(r.x1.x)+" "+xt(r.x1.y)+" m"),n.push(xt(r.x2.x)+" "+xt(r.x2.y)+" l"),n.push(xt(r.x4.x)+" "+xt(r.x4.y)+" m"),n.push(xt(r.x3.x)+" "+xt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Ec(e);t.scope=e.scope;var n=Xe.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+xt(Xe.internal.getWidth(e))+" "+xt(Xe.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+xt(Xe.internal.getWidth(e)-2)+" "+xt(Xe.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(xt(n.x1.x)+" "+xt(n.x1.y)+" m"),r.push(xt(n.x2.x)+" "+xt(n.x2.y)+" l"),r.push(xt(n.x4.x)+" "+xt(n.x4.y)+" m"),r.push(xt(n.x3.x)+" "+xt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ec(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+xt(Xe.internal.getWidth(e))+" "+xt(Xe.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Xe.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Xe.internal.getWidth(e),n=Xe.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Xe.internal.getWidth=function(e){var t=0;return pn(e)==="object"&&(t=oD(e.Rect[2])),t},Xe.internal.getHeight=function(e){var t=0;return pn(e)==="object"&&(t=oD(e.Rect[3])),t};var t4e=lr.addField=function(e){if(e4e(this,e),!(e instanceof oc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};lr.AcroFormChoiceField=cp,lr.AcroFormListBox=lp,lr.AcroFormComboBox=Ap,lr.AcroFormEditBox=tb,lr.AcroFormButton=mi,lr.AcroFormPushButton=nb,lr.AcroFormRadioButton=up,lr.AcroFormCheckBox=rb,lr.AcroFormTextField=of,lr.AcroFormPasswordField=ib,lr.AcroFormAppearance=Xe,lr.AcroForm={ChoiceField:cp,ListBox:lp,ComboBox:Ap,EditBox:tb,Button:mi,PushButton:nb,RadioButton:up,CheckBox:rb,TextField:of,PasswordField:ib,Appearance:Xe},at.AcroForm={ChoiceField:cp,ListBox:lp,ComboBox:Ap,EditBox:tb,Button:mi,PushButton:nb,RadioButton:up,CheckBox:rb,TextField:of,PasswordField:ib,Appearance:Xe};at.AcroForm;function oX(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(T,O){var H,$,Z,ae,ie,W=n;if((O=O||n)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(k(T))for(ie in r)for(Z=r[ie],H=0;H<Z.length;H+=1){for(ae=!0,$=0;$<Z[H].length;$+=1)if(Z[H][$]!==void 0&&Z[H][$]!==T[$]){ae=!1;break}if(ae===!0){W=ie;break}}else for(ie in r)for(Z=r[ie],H=0;H<Z.length;H+=1){for(ae=!0,$=0;$<Z[H].length;$+=1)if(Z[H][$]!==void 0&&Z[H][$]!==T.charCodeAt($)){ae=!1;break}if(ae===!0){W=ie;break}}return W===n&&O!==n&&(W=O),W},a=function T(O){for(var H=this.internal.write,$=this.internal.putStream,Z=(0,this.internal.getFilters)();Z.indexOf("FlateEncode")!==-1;)Z.splice(Z.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:O.width}),ae.push({key:"Height",value:O.height}),O.colorSpace===m.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===m.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var ie="",W=0,te=O.transparency.length;W<te;W++)ie+=O.transparency[W]+" "+O.transparency[W]+" ";ae.push({key:"Mask",value:"["+ie+"]"})}O.sMask!==void 0&&ae.push({key:"SMask",value:O.objectId+1+" 0 R"});var de=O.filter!==void 0?["/"+O.filter]:void 0;if($({data:O.data,additionalKeyValues:ae,alreadyAppliedFilters:de,objectId:O.objectId}),H("endobj"),"sMask"in O&&O.sMask!==void 0){var pe,R=(pe=O.sMaskBitsPerComponent)!==null&&pe!==void 0?pe:O.bitsPerComponent,z={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:R,data:O.sMask};"filter"in O&&(z.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(R," /Columns ").concat(O.width),z.filter=O.filter),T.call(this,z)}if(O.colorSpace===m.INDEXED){var X=this.internal.newObject();$({data:F(new Uint8Array(O.palette)),objectId:X}),H("endobj")}},o=function(){var T=this.internal.collections[t+"images"];for(var O in T)a.call(this,T[O])},s=function(){var T,O=this.internal.collections[t+"images"],H=this.internal.write;for(var $ in O)H("/I"+(T=O[$]).index,T.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var T=this.internal.collections[t+"images"];return c.call(this),T},A=function(){return Object.keys(this.internal.collections[t+"images"]).length},u=function(T){return typeof e["process"+T.toUpperCase()]=="function"},d=function(T){return pn(T)==="object"&&T.nodeType===1},f=function(T,O){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var H=""+T.getAttribute("src");if(H.indexOf("data:image/")===0)return eb(unescape(H).split("base64,").pop());var $=e.loadFile(H,!0);if($!==void 0)return $}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var Z;switch(O){case"PNG":Z="image/png";break;case"WEBP":Z="image/webp";break;default:Z="image/jpeg"}return eb(T.toDataURL(Z,1).split("base64,").pop())}},h=function(T){var O=this.internal.collections[t+"images"];if(O){for(var H in O)if(T===O[H].alias)return O[H]}},p=function(T,O,H){return T||O||(T=-96,O=-96),T<0&&(T=-1*H.width*72/T/this.internal.scaleFactor),O<0&&(O=-1*H.height*72/O/this.internal.scaleFactor),T===0&&(T=O*H.width/H.height),O===0&&(O=T*H.height/H.width),[T,O]},v=function(T,O,H,$,Z,ae){var ie=p.call(this,H,$,Z),W=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,de=l.call(this);if(H=ie[0],$=ie[1],de[Z.index]=Z,ae){ae*=Math.PI/180;var pe=Math.cos(ae),R=Math.sin(ae),z=function(re){return re.toFixed(4)},X=[z(pe),z(R),z(-1*R),z(pe),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,W(T),te(O+$),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([W(H),"0","0",W($),"0","0","cm"].join(" "))):this.internal.write([W(H),"0","0",W($),W(T),te(O+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Z.index+" Do"),this.internal.write("Q")},m=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=e.__addimage__.sHashCode=function(T){var O,H,$=0;if(typeof T=="string")for(H=T.length,O=0;O<H;O++)$=($<<5)-$+T.charCodeAt(O),$|=0;else if(k(T))for(H=T.byteLength/2,O=0;O<H;O++)$=($<<5)-$+T[O],$|=0;return $},C=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var O=!0;return T.length===0&&(O=!1),T.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(O=!1),O},S=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var O=T.indexOf(",");return O<0?null:T.substring(0,O).trim().endsWith("base64")?T.substring(O+1):null};e.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var k=e.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},_=e.__addimage__.binaryStringToUint8Array=function(T){for(var O=T.length,H=new Uint8Array(O),$=0;$<O;$++)H[$]=T.charCodeAt($);return H},F=e.__addimage__.arrayBufferToBinaryString=function(T){for(var O="",H=k(T)?T:new Uint8Array(T),$=0;$<H.length;$+=8192)O+=String.fromCharCode.apply(null,H.subarray($,$+8192));return O};e.addImage=function(){var T,O,H,$,Z,ae,ie,W,te;if(typeof arguments[1]=="number"?(O=n,H=arguments[1],$=arguments[2],Z=arguments[3],ae=arguments[4],ie=arguments[5],W=arguments[6],te=arguments[7]):(O=arguments[1],H=arguments[2],$=arguments[3],Z=arguments[4],ae=arguments[5],ie=arguments[6],W=arguments[7],te=arguments[8]),pn(T=arguments[0])==="object"&&!d(T)&&"imageData"in T){var de=T;T=de.imageData,O=de.format||O||n,H=de.x||H||0,$=de.y||$||0,Z=de.w||de.width||Z,ae=de.h||de.height||ae,ie=de.alias||ie,W=de.compression||W,te=de.rotation||de.angle||te}var pe=this.internal.getFilters();if(W===void 0&&pe.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(H)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var R=P.call(this,T,O,ie,W);return v.call(this,H,$,Z,ae,R,te),this};var P=function(T,O,H,$){var Z,ae,ie;if(typeof T=="string"&&i(T)===n){T=unescape(T);var W=U(T,!1);(W!==""||(W=e.loadFile(T,!0))!==void 0)&&(T=W)}if(d(T)&&(T=f(T,O)),O=i(T,O),!u(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((ie=H)==null||ie.length===0)&&(H=function(te){return typeof te=="string"||k(te)?B(te):k(te.data)?B(te.data):null}(T)),(Z=h.call(this,H))||(T instanceof Uint8Array||O==="RGBA"||(ae=T,T=_(T)),Z=this["process"+O.toUpperCase()](T,A.call(this),H,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in e.image_compression?te:w.NONE}($),ae)),!Z)throw new Error("An unknown error occurred whilst processing the image.");return Z},U=e.__addimage__.convertBase64ToBinaryString=function(T,O){O=typeof O!="boolean"||O;var H,$="";if(typeof T=="string"){var Z;H=(Z=S(T))!==null&&Z!==void 0?Z:T;try{$=eb(H)}catch(ae){if(O)throw C(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};e.getImageProperties=function(T){var O,H,$="";if(d(T)&&(T=f(T)),typeof T=="string"&&i(T)===n&&(($=U(T,!1))===""&&($=e.loadFile(T)||""),T=$),H=i(T),!u(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(T instanceof Uint8Array||(T=_(T)),!(O=this["process"+H.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=H,O}})(at.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};at.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),l=n.pageContext.annotations,A=!1,u=0;u<l.length&&!A;u++)switch((r=l[u]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(A!=0){this.internal.write("/Annots [");for(var d=0;d<l.length;d++){r=l[d];var f=this.internal.pdfEscape,h=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(p.objId),w=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+f(m(r.contents))+")",a+=" /Popup "+v.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+f(m(w))+") >>",p.content=a;var B=p.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+B,r.open&&(a+=" /Open true"),a+=" >>",v.content=a,this.internal.write(p.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var C=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(h(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var S=this.annotations._nameMap[r.options.name];r.options.pageNumber=S.page,r.options.top=S.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(h(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var k=s(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+k+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,a,o){var s=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:c(n),y:l(r),w:c(n+i),h:l(r+a)},options:o,type:"link"})},e.textWithLink=function(n,r,i,a){var o,s,c=this.getTextWidth(n),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var A=this.splitTextToSize(n,s).length;o=Math.ceil(l*A)}else s=c,o=l;return this.text(n,r,i,a),i+=.2*l,a.align==="center"&&(r-=c/2),a.align==="right"&&(r-=c),this.link(r,i-l,s,o,a),c},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(at.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(p){return t[p.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},s=e.__arabicParser__.isArabicEndLetter=function(p){return o(p)&&a(p)&&t[p.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(p){return o(p)&&i.indexOf(p.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return o(p)&&a(p)&&t[p.charCodeAt(0)].length>=1};var l=e.__arabicParser__.arabicLetterHasFinalForm=function(p){return o(p)&&a(p)&&t[p.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(p){return o(p)&&a(p)&&t[p.charCodeAt(0)].length>=3};var A=e.__arabicParser__.arabicLetterHasMedialForm=function(p){return o(p)&&a(p)&&t[p.charCodeAt(0)].length==4},u=e.__arabicParser__.resolveLigatures=function(p){var v=0,m=n,w="",B=0;for(v=0;v<p.length;v+=1)m[p.charCodeAt(v)]!==void 0?(B++,typeof(m=m[p.charCodeAt(v)])=="number"&&(w+=String.fromCharCode(m),m=n,B=0),v===p.length-1&&(m=n,w+=p.charAt(v-(B-1)),v-=B-1,B=0)):(m=n,w+=p.charAt(v-B),v-=B,B=0);return w};e.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&r[p.charCodeAt(0)]!==void 0};var d=e.__arabicParser__.getCorrectForm=function(p,v,m){return o(p)?a(p)===!1?-1:!l(p)||!o(v)&&!o(m)||!o(m)&&s(v)||s(p)&&!o(v)||s(p)&&c(v)||s(p)&&s(v)?0:A(p)&&o(v)&&!s(v)&&o(m)&&l(m)?3:s(p)||!o(m)?1:2:-1},f=function(p){var v=0,m=0,w=0,B="",C="",S="",k=(p=p||"").split("\\s+"),_=[];for(v=0;v<k.length;v+=1){for(_.push(""),m=0;m<k[v].length;m+=1)B=k[v][m],C=k[v][m-1],S=k[v][m+1],o(B)?(w=d(B,C,S),_[v]+=w!==-1?String.fromCharCode(t[B.charCodeAt(0)][w]):B):_[v]+=B;_[v]=u(_[v])}return _.join(" ")},h=e.__arabicParser__.processArabic=e.processArabic=function(){var p,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(v)){var w=0;for(m=[],w=0;w<v.length;w+=1)Array.isArray(v[w])?m.push([f(v[w][0]),v[w][1],v[w][2]]):m.push([f(v[w])]);p=m}else p=f(v);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};e.events.push(["preProcessText",h])}(at.API),at.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(s){n=s}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(at.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(p){l=p}});var A=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return A},set:function(p){A=p}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var h=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return h},set:function(p){h=p}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,l){r.call(this);var A=(l=l||{}).fontSize||this.getFontSize(),u=l.font||this.getFont(),d=l.scaleFactor||this.internal.scaleFactor,f=0,h=0,p=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var m=l.maxWidth;m>0?typeof c=="string"?c=this.splitTextToSize(c,m):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(B,C){return B.concat(v.splitTextToSize(C,m))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)f<(p=this.getStringUnitWidth(c[w],{font:u})*A)&&(f=p);return f!==0&&(h=c.length),{w:f/=d,h:Math.max((h*A*this.getLineHeightFactor()-A*(this.getLineHeightFactor()-1))/d,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var l=this.internal.__cell__.lastCell,A=this.internal.__cell__.padding,u=this.internal.__cell__.margins||t,d=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return l.lineNumber!==void 0&&(l.lineNumber===c.lineNumber?(c.x=(l.x||0)+(l.width||0),c.y=l.y||0):l.y+l.height+c.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=u.top,f&&d&&(this.printHeaderRow(c.lineNumber,!0),c.y+=d[0].height)):c.y=l.y+l.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-A,c.y+A,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+A,{align:"center",baseline:"top",maxWidth:c.width-A-A}):this.text(c.text,c.x+A,c.y+A,{align:"left",baseline:"top",maxWidth:c.width-A-A})),this.internal.__cell__.lastCell=c,this};e.table=function(c,l,A,u,d){if(r.call(this),!A)throw new Error("No data for PDF table.");var f,h,p,v,m=[],w=[],B=[],C={},S={},k=[],_=[],F=(d=d||{}).autoSize||!1,P=d.printHeaders!==!1,U=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,T=d.margins||Object.assign({width:this.getPageWidth()},t),O=typeof d.padding=="number"?d.padding:3,H=d.headerBackgroundColor||"#c8c8c8",$=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=$,this.setFontSize(U),u==null)w=m=Object.keys(A[0]),B=m.map(function(){return"left"});else if(Array.isArray(u)&&pn(u[0])==="object")for(m=u.map(function(de){return de.name}),w=u.map(function(de){return de.prompt||de.name||""}),B=u.map(function(de){return de.align||"left"}),f=0;f<u.length;f+=1)S[u[f].name]=.7499990551181103*u[f].width;else Array.isArray(u)&&typeof u[0]=="string"&&(w=m=u,B=m.map(function(){return"left"}));if(F||Array.isArray(u)&&typeof u[0]=="string")for(f=0;f<m.length;f+=1){for(C[v=m[f]]=A.map(function(de){return de[v]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(w[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=C[v],this.setFont(void 0,"normal"),p=0;p<h.length;p+=1)k.push(this.getTextDimensions(h[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[v]=Math.max.apply(null,k)+O+O,k=[]}if(P){var Z={};for(f=0;f<m.length;f+=1)Z[m[f]]={},Z[m[f]].text=w[f],Z[m[f]].align=B[f];var ae=s.call(this,Z,S);_=m.map(function(de){return new a(c,l,S[de],ae,Z[de].text,void 0,Z[de].align)}),this.setTableHeaderRow(_),this.printHeaderRow(1,!1)}var ie=u.reduce(function(de,pe){return de[pe.name]=pe.align,de},{});for(f=0;f<A.length;f+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:f,data:A[f]},this);var W=s.call(this,A[f],S);for(p=0;p<m.length;p+=1){var te=A[f][m[p]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:f,col:p,data:te},this),o.call(this,new a(c,l,S[m[p]],W,te,f+2,ie[m[p]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=l,this};var s=function(c,l){var A=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(c).map(function(f){var h=c[f];return this.splitTextToSize(h.hasOwnProperty("text")?h.text:h,l[f]-A-A)},this).map(function(f){return this.getLineHeightFactor()*f.length*u/d+A+A},this).reduce(function(f,h){return Math.max(f,h)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,l){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var A;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){A=this.internal.__cell__.tableHeaderRow[f].clone(),l&&(A.y=this.internal.__cell__.margins.top||0,d.push(A)),A.lineNumber=c;var h=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,A),this.setTextColor(h)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),n=!1}}(at.API);var sX={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},cX=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],EE=oX(cX),lX=[100,200,300,400,500,600,700,800,900],n4e=oX(lX);function JS(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return sX[a=a||"normal"]?a:"normal"}(e.style),r=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof EE[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function sD(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var r4e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},cD={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function lD(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function AD(e){return e.trimLeft()}function i4e(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function a4e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var mh,Yy,uD,dD,fD,ZS=["times"];function hD(e,t,n,r,i){var a=4,o=gD;switch(i){case at.API.image_compression.FAST:a=1,o=pD;break;case at.API.image_compression.MEDIUM:a=6,o=mD;break;case at.API.image_compression.SLOW:a=9,o=vD}e=function(c,l,A,u){for(var d,f=c.length/l,h=new Uint8Array(c.length+f),p=[o4e,pD,gD,mD,vD],v=0;v<f;v+=1){var m=v*l,w=c.subarray(m,m+l);if(u)h.set(u(w,A,d),m+v);else{for(var B=p.length,C=[],S=0;S<B;S+=1)C[S]=p[S](w,A,d);var k=c4e(C.concat());h.set(C[k],m+v)}d=w}return h}(e,t,Math.ceil(n*r/8),o);var s=bE(e,{level:a});return at.API.__addimage__.arrayBufferToBinaryString(s)}function o4e(e){var t=Array.apply([],e);return t.unshift(0),t}function pD(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=e[i-t]||0;r[i+1]=e[i]-a+256&255}return r}function gD(e,t,n){var r=e.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var o=n&&n[a]||0;i[a+1]=e[a]-o+256&255}return i}function mD(e,t,n){var r=e.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var o=e[a-t]||0,s=n&&n[a]||0;i[a+1]=e[a]+256-(o+s>>>1)&255}return i}function vD(e,t,n){var r=e.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var o=s4e(e[a-t]||0,n&&n[a]||0,n&&n[a-t]||0);i[a+1]=e[a]-o+256&255}return i}function s4e(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),a=Math.abs(e+t-n-n);return r<=i&&r<=a?e:i<=a?t:n}function c4e(e){var t=e.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function ex(e,t,n){var r=t*n,i=Math.floor(r/8),a=16-(r-8*i+n),o=(1<<n)-1;return AX(e,i)>>a&o}function yD(e,t,n,r){var i=n*r,a=Math.floor(i/8),o=16-(i-8*a+r),s=(1<<r)-1,c=(t&s)<<o;(function(l,A,u){if(A+1<l.byteLength)l.setUint16(A,u,!1);else{var d=u>>8&255;l.setUint8(A,d)}})(e,a,AX(e,a)&~(s<<o)&65535|c)}function AX(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function l4e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<1+(7&i);e[t++],e[t++];var s=null,c=null;a&&(s=t,c=o,t+=3*o);var l=!0,A=[],u=0,d=null,f=0,h=null;for(this.width=n,this.height=r;l&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,h=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var p=e[t++];u=e[t++]|e[t++]<<8,d=e[t++],1&p||(d=null),f=p>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,B=e[t++]|e[t++]<<8,C=e[t++],S=C>>6&1,k=1<<1+(7&C),_=s,F=c,P=!1;C>>7&&(P=!0,_=t,F=k,t+=3*k);var U=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}A.push({x:v,y:m,width:w,height:B,has_local_palette:P,palette_offset:_,palette_size:F,data_offset:U,data_length:t-U,transparent_index:d,interlaced:!!S,delay:u,disposal:f});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return h},this.frameInfo=function(O){if(O<0||O>=A.length)throw new Error("Frame index out of range.");return A[O]},this.decodeAndBlitFrameBGRA=function(O,H){var $=this.frameInfo(O),Z=$.width*$.height;if(Z>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var ae=new Uint8Array(Z);bD(e,$.data_offset,ae,Z);var ie=$.palette_offset,W=$.transparent_index;W===null&&(W=256);var te=$.width,de=n-te,pe=te,R=4*($.y*n+$.x),z=4*(($.y+$.height)*n+$.x),X=R,re=4*de;$.interlaced===!0&&(re+=4*n*7);for(var oe=8,ce=0,be=ae.length;ce<be;++ce){var ee=ae[ce];if(pe===0&&(pe=te,(X+=re)>=z&&(re=4*de+4*n*(oe-1),X=R+(te+de)*(oe<<1),oe>>=1)),ee===W)X+=4;else{var ge=e[ie+3*ee],xe=e[ie+3*ee+1],ne=e[ie+3*ee+2];H[X++]=ne,H[X++]=xe,H[X++]=ge,H[X++]=255}--pe}},this.decodeAndBlitFrameRGBA=function(O,H){var $=this.frameInfo(O),Z=$.width*$.height;if(Z>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var ae=new Uint8Array(Z);bD(e,$.data_offset,ae,Z);var ie=$.palette_offset,W=$.transparent_index;W===null&&(W=256);var te=$.width,de=n-te,pe=te,R=4*($.y*n+$.x),z=4*(($.y+$.height)*n+$.x),X=R,re=4*de;$.interlaced===!0&&(re+=4*n*7);for(var oe=8,ce=0,be=ae.length;ce<be;++ce){var ee=ae[ce];if(pe===0&&(pe=te,(X+=re)>=z&&(re=4*de+4*n*(oe-1),X=R+(te+de)*(oe<<1),oe>>=1)),ee===W)X+=4;else{var ge=e[ie+3*ee],xe=e[ie+3*ee+1],ne=e[ie+3*ee+2];H[X++]=ge,H[X++]=xe,H[X++]=ne,H[X++]=255}--pe}}}function bD(e,t,n,r){for(var i=e[t++],a=1<<i,o=a+1,s=o+1,c=i+1,l=(1<<c)-1,A=0,u=0,d=0,f=e[t++],h=new Int32Array(4096),p=null;;){for(;A<16&&f!==0;)u|=e[t++]<<A,A+=8,f===1?f=e[t++]:--f;if(A<c)break;var v=u&l;if(u>>=c,A-=c,v!==a){if(v===o)break;for(var m=v<s?v:p,w=0,B=m;B>a;)B=h[B]>>8,++w;var C=B;if(d+w+(m!==v?1:0)>r)return void Cn.log("Warning, gif stream longer than expected.");n[d++]=C;var S=d+=w;for(m!==v&&(n[d++]=C),B=m;w--;)B=h[B],n[--S]=255&B,B>>=8;p!==null&&s<4096&&(h[s++]=p<<8|C,s>=l+1&&c<12&&(++c,l=l<<1|1)),p=v}else s=o+1,l=(1<<(c=i+1))-1,p=null}return d!==r&&Cn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function tx(e){var t,n,r,i,a,o=Math.floor,s=new Array(64),c=new Array(64),l=new Array(64),A=new Array(64),u=new Array(65535),d=new Array(65535),f=new Array(64),h=new Array(64),p=[],v=0,m=7,w=new Array(64),B=new Array(64),C=new Array(64),S=new Array(256),k=new Array(2048),_=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(R,z){for(var X=0,re=0,oe=new Array,ce=1;ce<=16;ce++){for(var be=1;be<=R[ce];be++)oe[z[re]]=[],oe[z[re]][0]=X,oe[z[re]][1]=ce,re++,X++;X*=2}return oe}function ie(R){for(var z=R[0],X=R[1]-1;X>=0;)z&1<<X&&(v|=1<<m),X--,--m<0&&(v==255?(W(255),W(0)):W(v),m=7,v=0)}function W(R){p.push(R)}function te(R){W(R>>8&255),W(255&R)}function de(R,z,X,re,oe){for(var ce,be=oe[0],ee=oe[240],ge=function(Se,qe){var Ve,ft,At,ze,Ct,kt,Vt,Ht,nt,Pt,ct=0;for(nt=0;nt<8;++nt){Ve=Se[ct],ft=Se[ct+1],At=Se[ct+2],ze=Se[ct+3],Ct=Se[ct+4],kt=Se[ct+5],Vt=Se[ct+6];var gr=Ve+(Ht=Se[ct+7]),Yt=Ve-Ht,Ut=ft+Vt,Nt=ft-Vt,Qn=At+kt,ht=At-kt,kn=ze+Ct,bt=ze-Ct,Et=gr+kn,jn=gr-kn,Mt=Ut+Qn,vt=Ut-Qn;Se[ct]=Et+Mt,Se[ct+4]=Et-Mt;var ln=.707106781*(vt+jn);Se[ct+2]=jn+ln,Se[ct+6]=jn-ln;var ad=.382683433*((Et=bt+ht)-(vt=Nt+Yt)),Gi=.5411961*Et+ad,sl=1.306562965*vt+ad,Ac=.707106781*(Mt=ht+Nt),yt=Yt+Ac,cl=Yt-Ac;Se[ct+5]=cl+Gi,Se[ct+3]=cl-Gi,Se[ct+1]=yt+sl,Se[ct+7]=yt-sl,ct+=8}for(ct=0,nt=0;nt<8;++nt){Ve=Se[ct],ft=Se[ct+8],At=Se[ct+16],ze=Se[ct+24],Ct=Se[ct+32],kt=Se[ct+40],Vt=Se[ct+48];var ll=Ve+(Ht=Se[ct+56]),Lo=Ve-Ht,Uo=ft+Vt,or=ft-Vt,li=At+kt,Ti=At-kt,od=ze+Ct,EA=ze-Ct,bs=ll+od,uc=ll-od,ws=Uo+li,Cs=Uo-li;Se[ct]=bs+ws,Se[ct+32]=bs-ws;var No=.707106781*(Cs+uc);Se[ct+16]=uc+No,Se[ct+48]=uc-No;var sd=.382683433*((bs=EA+Ti)-(Cs=or+Lo)),dc=.5411961*bs+sd,cd=1.306562965*Cs+sd,Gf=.707106781*(ws=Ti+or),qf=Lo+Gf,Yf=Lo-Gf;Se[ct+40]=Yf+dc,Se[ct+24]=Yf-dc,Se[ct+8]=qf+cd,Se[ct+56]=qf-cd,ct++}for(nt=0;nt<64;++nt)Pt=Se[nt]*qe[nt],f[nt]=Pt>0?Pt+.5|0:Pt-.5|0;return f}(R,z),xe=0;xe<64;++xe)h[_[xe]]=ge[xe];var ne=h[0]-X;X=h[0],ne==0?ie(re[0]):(ie(re[d[ce=32767+ne]]),ie(u[ce]));for(var Ce=63;Ce>0&&h[Ce]==0;)Ce--;if(Ce==0)return ie(be),X;for(var Ue,Q=1;Q<=Ce;){for(var ke=Q;h[Q]==0&&Q<=Ce;)++Q;var je=Q-ke;if(je>=16){Ue=je>>4;for(var De=1;De<=Ue;++De)ie(ee);je&=15}ce=32767+h[Q],ie(oe[(je<<4)+d[ce]]),ie(u[ce]),Q++}return Ce!=63&&ie(be),X}function pe(R){R=Math.min(Math.max(R,1),100),a!=R&&(function(z){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var oe=o((X[re]*z+50)/100);oe=Math.min(Math.max(oe,1),255),s[_[re]]=oe}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var ee=o((ce[be]*z+50)/100);ee=Math.min(Math.max(ee,1),255),c[_[be]]=ee}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,ne=0;ne<8;ne++)for(var Ce=0;Ce<8;Ce++)l[xe]=1/(s[_[xe]]*ge[ne]*ge[Ce]*8),A[xe]=1/(c[_[xe]]*ge[ne]*ge[Ce]*8),xe++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),a=R)}this.encode=function(R,z){z&&pe(z),p=new Array,v=0,m=7,te(65496),te(65504),te(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),te(1),te(1),W(0),W(0),function(){te(65499),te(132),W(0);for(var ft=0;ft<64;ft++)W(s[ft]);W(1);for(var At=0;At<64;At++)W(c[At])}(),function(ft,At){te(65472),te(17),W(8),te(At),te(ft),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(R.width,R.height),function(){te(65476),te(418),W(0);for(var ft=0;ft<16;ft++)W(F[ft+1]);for(var At=0;At<=11;At++)W(P[At]);W(16);for(var ze=0;ze<16;ze++)W(U[ze+1]);for(var Ct=0;Ct<=161;Ct++)W(T[Ct]);W(1);for(var kt=0;kt<16;kt++)W(O[kt+1]);for(var Vt=0;Vt<=11;Vt++)W(H[Vt]);W(17);for(var Ht=0;Ht<16;Ht++)W($[Ht+1]);for(var nt=0;nt<=161;nt++)W(Z[nt])}(),te(65498),te(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var X=0,re=0,oe=0;v=0,m=7,this.encode.displayName="_encode_";for(var ce,be,ee,ge,xe,ne,Ce,Ue,Q,ke=R.data,je=R.width,De=R.height,Se=4*je,qe=0;qe<De;){for(ce=0;ce<Se;){for(xe=Se*qe+ce,Ce=-1,Ue=0,Q=0;Q<64;Q++)ne=xe+(Ue=Q>>3)*Se+(Ce=4*(7&Q)),qe+Ue>=De&&(ne-=Se*(qe+1+Ue-De)),ce+Ce>=Se&&(ne-=ce+Ce-Se+4),be=ke[ne++],ee=ke[ne++],ge=ke[ne++],w[Q]=(k[be]+k[ee+256|0]+k[ge+512|0]>>16)-128,B[Q]=(k[be+768|0]+k[ee+1024|0]+k[ge+1280|0]>>16)-128,C[Q]=(k[be+1280|0]+k[ee+1536|0]+k[ge+1792|0]>>16)-128;X=de(w,l,X,t,r),re=de(B,A,re,n,i),oe=de(C,A,oe,n,i),ce+=32}qe+=8}if(m>=0){var Ve=[];Ve[1]=m+1,Ve[0]=(1<<m+1)-1,ie(Ve)}return te(65497),new Uint8Array(p)},e=e||50,function(){for(var R=String.fromCharCode,z=0;z<256;z++)S[z]=R(z)}(),t=ae(F,P),n=ae(O,H),r=ae(U,T),i=ae($,Z),function(){for(var R=1,z=2,X=1;X<=15;X++){for(var re=R;re<z;re++)d[32767+re]=X,u[32767+re]=[],u[32767+re][1]=X,u[32767+re][0]=re;for(var oe=-(z-1);oe<=-R;oe++)d[32767+oe]=X,u[32767+oe]=[],u[32767+oe][1]=X,u[32767+oe][0]=z-1+oe;R<<=1,z<<=1}}(),function(){for(var R=0;R<256;R++)k[R]=19595*R,k[R+256|0]=38470*R,k[R+512|0]=7471*R+32768,k[R+768|0]=-11059*R,k[R+1024|0]=-21709*R,k[R+1280|0]=32768*R+8421375,k[R+1536|0]=-27439*R,k[R+1792|0]=-5329*R}(),pe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function _s(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function wD(e){function t(P){if(!P)throw Error("assert :P")}function n(P,U,T){for(var O=0;4>O;O++)if(P[U+O]!=T.charCodeAt(O))return!0;return!1}function r(P,U,T,O,H){for(var $=0;$<H;$++)P[U+$]=T[O+$]}function i(P,U,T,O){for(var H=0;H<O;H++)P[U+H]=T}function a(P){return new Int32Array(P)}function o(P,U){for(var T=[],O=0;O<P;O++)T.push(new U);return T}function s(P,U){var T=[];return function O(H,$,Z){for(var ae=Z[$],ie=0;ie<ae&&(H.push(Z.length>$+1?[]:new U),!(Z.length<$+1));ie++)O(H[ie],$+1,Z)}(T,0,P),T}var c=function(){var P=this;function U(g,b){for(var E=1<<b-1>>>0;g&E;)E>>>=1;return E?(g&E-1)+E:g}function T(g,b,E,I,M){t(!(I%E));do g[b+(I-=E)]=M;while(0<I)}function O(g,b,E,I,M){if(t(2328>=M),512>=M)var D=a(512);else if((D=a(M))==null)return 0;return function(j,K,V,G,le,ye){var q,Ae,he=K,Ee=1<<V,me=a(16),Te=a(16);for(t(le!=0),t(G!=null),t(j!=null),t(0<V),Ae=0;Ae<le;++Ae){if(15<G[Ae])return 0;++me[G[Ae]]}if(me[0]==le)return 0;for(Te[1]=0,q=1;15>q;++q){if(me[q]>1<<q)return 0;Te[q+1]=Te[q]+me[q]}for(Ae=0;Ae<le;++Ae)q=G[Ae],0<G[Ae]&&(ye[Te[q]++]=Ae);if(Te[15]==1)return(G=new H).g=0,G.value=ye[0],T(j,he,1,Ee,G),Ee;var Ie,Ne=-1,Le=Ee-1,it=0,Ye=1,Ft=1,et=1<<V;for(Ae=0,q=1,le=2;q<=V;++q,le<<=1){if(Ye+=Ft<<=1,0>(Ft-=me[q]))return 0;for(;0<me[q];--me[q])(G=new H).g=q,G.value=ye[Ae++],T(j,he+it,le,et,G),it=U(it,q)}for(q=V+1,le=2;15>=q;++q,le<<=1){if(Ye+=Ft<<=1,0>(Ft-=me[q]))return 0;for(;0<me[q];--me[q]){if(G=new H,(it&Le)!=Ne){for(he+=et,Ie=1<<(Ne=q)-V;15>Ne&&!(0>=(Ie-=me[Ne]));)++Ne,Ie<<=1;Ee+=et=1<<(Ie=Ne-V),j[K+(Ne=it&Le)].g=Ie+V,j[K+Ne].value=he-K-Ne}G.g=q-V,G.value=ye[Ae++],T(j,he+(it>>V),le,et,G),it=U(it,q)}}return Ye!=2*Te[15]-1?0:Ee}(g,b,E,I,M,D)}function H(){this.value=this.g=0}function $(){this.value=this.g=0}function Z(){this.G=o(5,H),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(yd,$)}function ae(g,b,E,I){t(g!=null),t(b!=null),t(2147483648>I),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=b,g.pa=E,g.Jd=b,g.Yc=E+I,g.Zc=4<=I?E+I-4+1:E,be(g)}function ie(g,b){for(var E=0;0<b--;)E|=ge(g,128)<<b;return E}function W(g,b){var E=ie(g,b);return ee(g)?-E:E}function te(g,b,E,I){var M,D=0;for(t(g!=null),t(b!=null),t(4294967288>I),g.Sb=I,g.Ra=0,g.u=0,g.h=0,4<I&&(I=4),M=0;M<I;++M)D+=b[E+M]<<8*M;g.Ra=D,g.bb=I,g.oa=b,g.pa=E}function de(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<IA-8>>>0,++g.bb,g.u-=8;re(g)&&(g.h=1,g.u=0)}function pe(g,b){if(t(0<=b),!g.h&&b<=Ja){var E=X(g)&Xa[b];return g.u+=b,de(g),E}return g.h=1,g.u=0}function R(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(g){return g.Ra>>>(g.u&IA-1)>>>0}function re(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>IA}function oe(g,b){g.u=b,g.h=re(g)}function ce(g){g.u>=bl&&(t(g.u>=bl),de(g))}function be(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function ee(g){return ie(g,1)}function ge(g,b){var E=g.Ca;0>g.b&&be(g);var I=g.b,M=E*b>>>8,D=(g.I>>>I>M)+0;for(D?(E-=M,g.I-=M+1<<I>>>0):E=M+1,I=E,M=0;256<=I;)M+=8,I>>=8;return I=7^M+FA[I],g.b-=I,g.Ca=(E<<I)-1,D}function xe(g,b,E){g[b+0]=E>>24&255,g[b+1]=E>>16&255,g[b+2]=E>>8&255,g[b+3]=255&E}function ne(g,b){return g[b+0]|g[b+1]<<8}function Ce(g,b){return ne(g,b)|g[b+2]<<16}function Ue(g,b){return ne(g,b)|ne(g,b+2)<<16}function Q(g,b){var E=1<<b;return t(g!=null),t(0<b),g.X=a(E),g.X==null?0:(g.Mb=32-b,g.Xa=b,1)}function ke(g,b){t(g!=null),t(b!=null),t(g.Xa==b.Xa),r(b.X,0,g.X,0,1<<b.Xa)}function je(){this.X=[],this.Xa=this.Mb=0}function De(g,b,E,I){t(E!=null),t(I!=null);var M=E[0],D=I[0];return M==0&&(M=(g*D+b/2)/b),D==0&&(D=(b*M+g/2)/g),0>=M||0>=D?0:(E[0]=M,I[0]=D,1)}function Se(g,b){return g+(1<<b)-1>>>b}function qe(g,b){return((4278255360&g)+(4278255360&b)>>>0&4278255360)+((16711935&g)+(16711935&b)>>>0&16711935)>>>0}function Ve(g,b){P[b]=function(E,I,M,D,j,K,V){var G;for(G=0;G<j;++G){var le=P[g](K[V+G-1],M,D+G);K[V+G]=qe(E[I+G],le)}}}function ft(){this.ud=this.hd=this.jd=0}function At(g,b){return((4278124286&(g^b))>>>1)+(g&b)>>>0}function ze(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Ct(g,b){return ze(g+(g-b+.5>>1))}function kt(g,b,E){return Math.abs(b-E)-Math.abs(g-E)}function Vt(g,b,E,I,M,D,j){for(I=D[j-1],E=0;E<M;++E)D[j+E]=I=qe(g[b+E],I)}function Ht(g,b,E,I,M){var D;for(D=0;D<E;++D){var j=g[b+D],K=j>>8&255,V=16711935&(V=(V=16711935&j)+((K<<16)+K));I[M+D]=(4278255360&j)+V>>>0}}function nt(g,b){b.jd=255&g,b.hd=g>>8&255,b.ud=g>>16&255}function Pt(g,b,E,I,M,D){var j;for(j=0;j<I;++j){var K=b[E+j],V=K>>>8,G=K,le=255&(le=(le=K>>>16)+((g.jd<<24>>24)*(V<<24>>24)>>>5));G=255&(G=(G+=(g.hd<<24>>24)*(V<<24>>24)>>>5)+((g.ud<<24>>24)*(le<<24>>24)>>>5)),M[D+j]=(4278255360&K)+(le<<16)+G}}function ct(g,b,E,I,M){P[b]=function(D,j,K,V,G,le,ye,q,Ae){for(V=ye;V<q;++V)for(ye=0;ye<Ae;++ye)G[le++]=M(K[I(D[j++])])},P[g]=function(D,j,K,V,G,le,ye){var q=8>>D.b,Ae=D.Ea,he=D.K[0],Ee=D.w;if(8>q)for(D=(1<<D.b)-1,Ee=(1<<q)-1;j<K;++j){var me,Te=0;for(me=0;me<Ae;++me)me&D||(Te=I(V[G++])),le[ye++]=M(he[Te&Ee]),Te>>=q}else P["VP8LMapColor"+E](V,G,he,Ee,le,ye,j,K,Ae)}}function gr(g,b,E,I,M){for(E=b+E;b<E;){var D=g[b++];I[M++]=D>>16&255,I[M++]=D>>8&255,I[M++]=255&D}}function Yt(g,b,E,I,M){for(E=b+E;b<E;){var D=g[b++];I[M++]=D>>16&255,I[M++]=D>>8&255,I[M++]=255&D,I[M++]=D>>24&255}}function Ut(g,b,E,I,M){for(E=b+E;b<E;){var D=(j=g[b++])>>16&240|j>>12&15,j=240&j|j>>28&15;I[M++]=D,I[M++]=j}}function Nt(g,b,E,I,M){for(E=b+E;b<E;){var D=(j=g[b++])>>16&248|j>>13&7,j=j>>5&224|j>>3&31;I[M++]=D,I[M++]=j}}function Qn(g,b,E,I,M){for(E=b+E;b<E;){var D=g[b++];I[M++]=255&D,I[M++]=D>>8&255,I[M++]=D>>16&255}}function ht(g,b,E,I,M,D){if(D==0)for(E=b+E;b<E;)xe(I,((D=g[b++])[0]>>24|D[1]>>8&65280|D[2]<<8&16711680|D[3]<<24)>>>0),M+=32;else r(I,M,g,b,E)}function kn(g,b){P[b][0]=P[g+"0"],P[b][1]=P[g+"1"],P[b][2]=P[g+"2"],P[b][3]=P[g+"3"],P[b][4]=P[g+"4"],P[b][5]=P[g+"5"],P[b][6]=P[g+"6"],P[b][7]=P[g+"7"],P[b][8]=P[g+"8"],P[b][9]=P[g+"9"],P[b][10]=P[g+"10"],P[b][11]=P[g+"11"],P[b][12]=P[g+"12"],P[b][13]=P[g+"13"],P[b][14]=P[g+"0"],P[b][15]=P[g+"0"]}function bt(g){return g==l4||g==A4||g==V1||g==u4}function Et(){this.eb=[],this.size=this.A=this.fb=0}function jn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Mt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Et,this.f.kb=new jn,this.sd=null}function vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ln(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ad(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Gi(g,b){var E=g.T,I=b.ba.f.RGBA,M=I.eb,D=I.fb+g.ka*I.A,j=Ho[b.ba.S],K=g.y,V=g.O,G=g.f,le=g.N,ye=g.ea,q=g.W,Ae=b.cc,he=b.dc,Ee=b.Mc,me=b.Nc,Te=g.ka,Ie=g.ka+g.T,Ne=g.U,Le=Ne+1>>1;for(Te==0?j(K,V,null,null,G,le,ye,q,G,le,ye,q,M,D,null,null,Ne):(j(b.ec,b.fc,K,V,Ae,he,Ee,me,G,le,ye,q,M,D-I.A,M,D,Ne),++E);Te+2<Ie;Te+=2)Ae=G,he=le,Ee=ye,me=q,le+=g.Rc,q+=g.Rc,D+=2*I.A,j(K,(V+=2*g.fa)-g.fa,K,V,Ae,he,Ee,me,G,le,ye,q,M,D-I.A,M,D,Ne);return V+=g.fa,g.j+Ie<g.o?(r(b.ec,b.fc,K,V,Ne),r(b.cc,b.dc,G,le,Le),r(b.Mc,b.Nc,ye,q,Le),E--):1&Ie||j(K,V,null,null,G,le,ye,q,G,le,ye,q,M,D+I.A,null,null,Ne),E}function sl(g,b,E){var I=g.F,M=[g.J];if(I!=null){var D=g.U,j=b.ba.S,K=j==K1||j==V1;b=b.ba.f.RGBA;var V=[0],G=g.ka;V[0]=g.T,g.Kb&&(G==0?--V[0]:(--G,M[0]-=g.width),g.j+g.ka+g.T==g.o&&(V[0]=g.o-g.j-G));var le=b.eb;G=b.fb+G*b.A,g=_6(I,M[0],g.width,D,V,le,G+(K?0:3),b.A),t(E==V),g&&bt(j)&&Zg(le,G,K,D,V,b.A)}return 0}function Ac(g){var b=g.ma,E=b.ba.S,I=11>E,M=E==H1||E==$1||E==K1||E==c4||E==12||bt(E);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Vg(b.Oa,g,M?11:12))return 0;if(M&&bt(E)&&Hg(),g.da)alert("todo:use_scaling");else{if(I){if(b.Ib=ad,g.Kb){if(E=g.U+1>>1,b.memory=a(g.U+2*E),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+g.U,b.Mc=b.cc,b.Nc=b.dc+E,b.Ib=Gi,Hg()}}else alert("todo:EmitYUV");M&&(b.Jb=sl,I&&Ss())}if(I&&!V6){for(g=0;256>g;++g)Gte[g]=89858*(g-128)+W1>>z1,Xte[g]=-22014*(g-128)+W1,Yte[g]=-45773*(g-128),qte[g]=113618*(g-128)+W1>>z1;for(g=tm;g<h4;++g)b=76283*(g-16)+W1>>z1,Jte[g-tm]=fc(b,255),Zte[g-tm]=fc(b+8>>4,15);V6=1}return 1}function yt(g){var b=g.ma,E=g.U,I=g.T;return t(!(1&g.ka)),0>=E||0>=I?0:(E=b.Ib(g,b),b.Jb!=null&&b.Jb(g,b,E),b.Dc+=E,1)}function cl(g){g.ma.memory=null}function ll(g,b,E,I){return pe(g,8)!=47?0:(b[0]=pe(g,14)+1,E[0]=pe(g,14)+1,I[0]=pe(g,1),pe(g,3)!=0?0:!g.h)}function Lo(g,b){if(4>g)return g+1;var E=g-2>>1;return(2+(1&g)<<E)+pe(b,E)+1}function Uo(g,b){return 120<b?b-120:1<=(E=((E=Lte[b-1])>>4)*g+(8-(15&E)))?E:1;var E}function or(g,b,E){var I=X(E),M=g[b+=255&I].g-8;return 0<M&&(oe(E,E.u+8),I=X(E),b+=g[b].value,b+=I&(1<<M)-1),oe(E,E.u+g[b].g),g[b].value}function li(g,b,E){return E.g+=g.g,E.value+=g.value<<b>>>0,t(8>=E.g),g.g}function Ti(g,b,E){var I=g.xc;return t((b=I==0?0:g.vc[g.md*(E>>I)+(b>>I)])<g.Wb),g.Ya[b]}function od(g,b,E,I){var M=g.ab,D=g.c*b,j=g.C;b=j+b;var K=E,V=I;for(I=g.Ta,E=g.Ua;0<M--;){var G=g.gc[M],le=j,ye=b,q=K,Ae=V,he=(V=I,K=E,G.Ea);switch(t(le<ye),t(ye<=G.nc),G.hc){case 2:mr(q,Ae,(ye-le)*he,V,K);break;case 0:var Ee=le,me=ye,Te=V,Ie=K,Ne=(et=G).Ea;Ee==0&&(Wg(q,Ae,null,null,1,Te,Ie),Vt(q,Ae+1,0,0,Ne-1,Te,Ie+1),Ae+=Ne,Ie+=Ne,++Ee);for(var Le=1<<et.b,it=Le-1,Ye=Se(Ne,et.b),Ft=et.K,et=et.w+(Ee>>et.b)*Ye;Ee<me;){var zt=Ft,Gr=et,Ot=1;for(ih(q,Ae,Te,Ie-Ne,1,Te,Ie);Ot<Ne;){var tt=(Ot&~it)+Le;tt>Ne&&(tt=Ne),(0,qg[zt[Gr++]>>8&15])(q,Ae+ +Ot,Te,Ie+Ot-Ne,tt-Ot,Te,Ie+Ot),Ot=tt}Ae+=Ne,Ie+=Ne,++Ee&it||(et+=Ye)}ye!=G.nc&&r(V,K-he,V,K+(ye-le-1)*he,he);break;case 1:for(he=q,me=Ae,Ne=(q=G.Ea)-(Ie=q&~(Te=(Ae=1<<G.b)-1)),Ee=Se(q,G.b),Le=G.K,G=G.w+(le>>G.b)*Ee;le<ye;){for(it=Le,Ye=G,Ft=new ft,et=me+Ie,zt=me+q;me<et;)nt(it[Ye++],Ft),Yg(Ft,he,me,Ae,V,K),me+=Ae,K+=Ae;me<zt&&(nt(it[Ye++],Ft),Yg(Ft,he,me,Ne,V,K),me+=Ne,K+=Ne),++le&Te||(G+=Ee)}break;case 3:if(q==V&&Ae==K&&0<G.b){for(me=V,q=he=K+(ye-le)*he-(Ie=(ye-le)*Se(G.Ea,G.b)),Ae=V,Te=K,Ee=[],Ie=(Ne=Ie)-1;0<=Ie;--Ie)Ee[Ie]=Ae[Te+Ie];for(Ie=Ne-1;0<=Ie;--Ie)me[q+Ie]=Ee[Ie];R1(G,le,ye,V,he,V,K)}else R1(G,le,ye,q,Ae,V,K)}K=I,V=E}V!=E&&r(I,E,K,V,D)}function EA(g,b){var E=g.V,I=g.Ba+g.c*g.C,M=b-g.C;if(t(b<=g.l.o),t(16>=M),0<M){var D=g.l,j=g.Ta,K=g.Ua,V=D.width;if(od(g,M,E,I),M=K=[K],t((E=g.C)<(I=b)),t(D.v<D.va),I>D.o&&(I=D.o),E<D.j){var G=D.j-E;E=D.j,M[0]+=G*V}if(E>=I?E=0:(M[0]+=4*D.v,D.ka=E-D.j,D.U=D.va-D.v,D.T=I-E,E=1),E){if(K=K[0],11>(E=g.ca).S){var le=E.f.RGBA,ye=(I=E.S,M=D.U,D=D.T,G=le.eb,le.A),q=D;for(le=le.fb+g.Ma*le.A;0<q--;){var Ae=j,he=K,Ee=M,me=G,Te=le;switch(I){case j1:Xg(Ae,he,Ee,me,Te);break;case H1:OA(Ae,he,Ee,me,Te);break;case l4:OA(Ae,he,Ee,me,Te),Zg(me,Te,0,Ee,1,0);break;case N6:bd(Ae,he,Ee,me,Te);break;case $1:ht(Ae,he,Ee,me,Te,1);break;case A4:ht(Ae,he,Ee,me,Te,1),Zg(me,Te,0,Ee,1,0);break;case K1:ht(Ae,he,Ee,me,Te,0);break;case V1:ht(Ae,he,Ee,me,Te,0),Zg(me,Te,1,Ee,1,0);break;case c4:LA(Ae,he,Ee,me,Te);break;case u4:LA(Ae,he,Ee,me,Te),T6(me,Te,Ee,1,0);break;case M6:UA(Ae,he,Ee,me,Te);break;default:t(0)}K+=V,le+=ye}g.Ma+=D}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=E.height)}}g.C=b,t(g.C<=g.i)}function bs(g){var b;if(0<g.ua)return 0;for(b=0;b<g.Wb;++b){var E=g.Ya[b].G,I=g.Ya[b].H;if(0<E[1][I[1]+0].g||0<E[2][I[2]+0].g||0<E[3][I[3]+0].g)return 0}return 1}function uc(g,b,E,I,M,D){if(g.Z!=0){var j=g.qd,K=g.rd;for(t(RA[g.Z]!=null);b<E;++b)RA[g.Z](j,K,I,M,I,M,D),j=I,K=M,M+=D;g.qd=j,g.rd=K}}function ws(g,b){var E=g.l.ma,I=E.Z==0||E.Z==1?g.l.j:g.C;if(I=g.C<I?I:g.C,t(b<=g.l.o),b>I){var M=g.l.width,D=E.ca,j=E.tb+M*I,K=g.V,V=g.Ba+g.c*I,G=g.gc;t(g.ab==1),t(G[0].hc==3),mc(G[0],I,b,K,V,D,j),uc(E,I,b,D,j,M)}g.C=g.Ma=b}function Cs(g,b,E,I,M,D,j){var K=g.$/I,V=g.$%I,G=g.m,le=g.s,ye=E+g.$,q=ye;M=E+I*M;var Ae=E+I*D,he=280+le.ua,Ee=g.Pb?K:16777216,me=0<le.ua?le.Wa:null,Te=le.wc,Ie=ye<Ae?Ti(le,V,K):null;t(g.C<D),t(Ae<=M);var Ne=!1;e:for(;;){for(;Ne||ye<Ae;){var Le=0;if(K>=Ee){var it=ye-E;t((Ee=g).Pb),Ee.wd=Ee.m,Ee.xd=it,0<Ee.s.ua&&ke(Ee.s.Wa,Ee.s.vb),Ee=K+Nte}if(V&Te||(Ie=Ti(le,V,K)),t(Ie!=null),Ie.Qb&&(b[ye]=Ie.qb,Ne=!0),!Ne)if(ce(G),Ie.jc){Le=G,it=b;var Ye=ye,Ft=Ie.pd[X(Le)&yd-1];t(Ie.jc),256>Ft.g?(oe(Le,Le.u+Ft.g),it[Ye]=Ft.value,Le=0):(oe(Le,Le.u+Ft.g-256),t(256<=Ft.value),Le=Ft.value),Le==0&&(Ne=!0)}else Le=or(Ie.G[0],Ie.H[0],G);if(G.h)break;if(Ne||256>Le){if(!Ne)if(Ie.nd)b[ye]=(Ie.qb|Le<<8)>>>0;else{if(ce(G),Ne=or(Ie.G[1],Ie.H[1],G),ce(G),it=or(Ie.G[2],Ie.H[2],G),Ye=or(Ie.G[3],Ie.H[3],G),G.h)break;b[ye]=(Ye<<24|Ne<<16|Le<<8|it)>>>0}if(Ne=!1,++ye,++V>=I&&(V=0,++K,j!=null&&K<=D&&!(K%16)&&j(g,K),me!=null))for(;q<ye;)Le=b[q++],me.X[(506832829*Le&4294967295)>>>me.Mb]=Le}else if(280>Le){if(Le=Lo(Le-256,G),it=or(Ie.G[4],Ie.H[4],G),ce(G),it=Uo(I,it=Lo(it,G)),G.h)break;if(ye-E<it||M-ye<Le)break e;for(Ye=0;Ye<Le;++Ye)b[ye+Ye]=b[ye+Ye-it];for(ye+=Le,V+=Le;V>=I;)V-=I,++K,j!=null&&K<=D&&!(K%16)&&j(g,K);if(t(ye<=M),V&Te&&(Ie=Ti(le,V,K)),me!=null)for(;q<ye;)Le=b[q++],me.X[(506832829*Le&4294967295)>>>me.Mb]=Le}else{if(!(Le<he))break e;for(Ne=Le-280,t(me!=null);q<ye;)Le=b[q++],me.X[(506832829*Le&4294967295)>>>me.Mb]=Le;Le=ye,t(!(Ne>>>(it=me).Xa)),b[Le]=it.X[Ne],Ne=!0}Ne||t(G.h==re(G))}if(g.Pb&&G.h&&ye<M)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&ke(g.s.vb,g.s.Wa);else{if(G.h)break e;j!=null&&j(g,K>D?D:K),g.a=0,g.$=ye-E}return 1}return g.a=3,0}function No(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var b=g.Wa;b!=null&&(b.X=null),g.vb=null,t(g!=null)}function sd(){var g=new Bt;return g==null?null:(g.a=0,g.xb=Q6,kn("Predictor","VP8LPredictors"),kn("Predictor","VP8LPredictors_C"),kn("PredictorAdd","VP8LPredictorsAdd"),kn("PredictorAdd","VP8LPredictorsAdd_C"),mr=Ht,Yg=Pt,Xg=gr,OA=Yt,LA=Ut,UA=Nt,bd=Qn,P.VP8LMapColor32b=gc,P.VP8LMapColor8b=Gg,g)}function dc(g,b,E,I,M){var D=1,j=[g],K=[b],V=I.m,G=I.s,le=null,ye=0;e:for(;;){if(E)for(;D&&pe(V,1);){var q=j,Ae=K,he=I,Ee=1,me=he.m,Te=he.gc[he.ab],Ie=pe(me,2);if(he.Oc&1<<Ie)D=0;else{switch(he.Oc|=1<<Ie,Te.hc=Ie,Te.Ea=q[0],Te.nc=Ae[0],Te.K=[null],++he.ab,t(4>=he.ab),Ie){case 0:case 1:Te.b=pe(me,3)+2,Ee=dc(Se(Te.Ea,Te.b),Se(Te.nc,Te.b),0,he,Te.K),Te.K=Te.K[0];break;case 3:var Ne,Le=pe(me,8)+1,it=16<Le?0:4<Le?1:2<Le?2:3;if(q[0]=Se(Te.Ea,it),Te.b=it,Ne=Ee=dc(Le,1,0,he,Te.K)){var Ye,Ft=Le,et=Te,zt=1<<(8>>et.b),Gr=a(zt);if(Gr==null)Ne=0;else{var Ot=et.K[0],tt=et.w;for(Gr[0]=et.K[0][0],Ye=1;Ye<1*Ft;++Ye)Gr[Ye]=qe(Ot[tt+Ye],Gr[Ye-1]);for(;Ye<4*zt;++Ye)Gr[Ye]=0;et.K[0]=null,et.K[0]=Gr,Ne=1}}Ee=Ne;break;case 2:break;default:t(0)}D=Ee}}if(j=j[0],K=K[0],D&&pe(V,1)&&!(D=1<=(ye=pe(V,4))&&11>=ye)){I.a=3;break e}var He;if(He=D)t:{var yr,Tt,Gt,Un=I,Ii=j,ua=K,sr=ye,qi=E,da=Un.m,qr=Un.s,Jt=[null],dn=1,cr=0,fn=Ute[sr];n:for(;;){if(qi&&pe(da,1)){var Fi=pe(da,3)+2,ks=Se(Ii,Fi),br=Se(ua,Fi),Pa=ks*br;if(!dc(ks,br,0,Un,Jt))break n;for(Jt=Jt[0],qr.xc=Fi,yr=0;yr<Pa;++yr){var wn=Jt[yr]>>8&65535;Jt[yr]=wn,wn>=dn&&(dn=wn+1)}}if(da.h)break n;for(Tt=0;5>Tt;++Tt){var Yr=R6[Tt];!Tt&&0<sr&&(Yr+=1<<sr),cr<Yr&&(cr=Yr)}var eo=o(dn*fn,H),fa=dn,to=o(fa,Z);if(to==null)var no=null;else t(65536>=fa),no=to;var Ia=a(cr);if(no==null||Ia==null||eo==null){Un.a=1;break n}var ro=eo;for(yr=Gt=0;yr<dn;++yr){var Tn=no[yr],io=Tn.G,Es=Tn.H,Cd=0,Bl=1,Oi=0;for(Tt=0;5>Tt;++Tt){Yr=R6[Tt],io[Tt]=ro,Es[Tt]=Gt,!Tt&&0<sr&&(Yr+=1<<sr);i:{var q1,p4=Yr,Y1=Un,nm=Ia,nne=ro,rne=Gt,g4=0,DA=Y1.m,ine=pe(DA,1);if(i(nm,0,0,p4),ine){var ane=pe(DA,1)+1,one=pe(DA,1),G6=pe(DA,one==0?1:8);nm[G6]=1,ane==2&&(nm[G6=pe(DA,8)]=1);var X1=1}else{var q6=a(19),Y6=pe(DA,4)+4;if(19<Y6){Y1.a=3;var J1=0;break i}for(q1=0;q1<Y6;++q1)q6[Ote[q1]]=pe(DA,3);var m4=void 0,rm=void 0,X6=Y1,sne=q6,Z1=p4,J6=nm,v4=0,QA=X6.m,Z6=8,eO=o(128,H);r:for(;O(eO,0,7,sne,19);){if(pe(QA,1)){var cne=2+2*pe(QA,3);if((m4=2+pe(QA,cne))>Z1)break r}else m4=Z1;for(rm=0;rm<Z1&&m4--;){ce(QA);var tO=eO[0+(127&X(QA))];oe(QA,QA.u+tO.g);var oh=tO.value;if(16>oh)J6[rm++]=oh,oh!=0&&(Z6=oh);else{var lne=oh==16,nO=oh-16,Ane=Ite[nO],rO=pe(QA,Pte[nO])+Ane;if(rm+rO>Z1)break r;for(var une=lne?Z6:0;0<rO--;)J6[rm++]=une}}v4=1;break r}v4||(X6.a=3),X1=v4}(X1=X1&&!DA.h)&&(g4=O(nne,rne,8,nm,p4)),X1&&g4!=0?J1=g4:(Y1.a=3,J1=0)}if(J1==0)break n;if(Bl&&Fte[Tt]==1&&(Bl=ro[Gt].g==0),Cd+=ro[Gt].g,Gt+=J1,3>=Tt){var im,y4=Ia[0];for(im=1;im<Yr;++im)Ia[im]>y4&&(y4=Ia[im]);Oi+=y4}}if(Tn.nd=Bl,Tn.Qb=0,Bl&&(Tn.qb=(io[3][Es[3]+0].value<<24|io[1][Es[1]+0].value<<16|io[2][Es[2]+0].value)>>>0,Cd==0&&256>io[0][Es[0]+0].value&&(Tn.Qb=1,Tn.qb+=io[0][Es[0]+0].value<<8)),Tn.jc=!Tn.Qb&&6>Oi,Tn.jc){var ey,Sl=Tn;for(ey=0;ey<yd;++ey){var jA=ey,HA=Sl.pd[jA],ty=Sl.G[0][Sl.H[0]+jA];256<=ty.value?(HA.g=ty.g+256,HA.value=ty.value):(HA.g=0,HA.value=0,jA>>=li(ty,8,HA),jA>>=li(Sl.G[1][Sl.H[1]+jA],16,HA),jA>>=li(Sl.G[2][Sl.H[2]+jA],0,HA),li(Sl.G[3][Sl.H[3]+jA],24,HA))}}}qr.vc=Jt,qr.Wb=dn,qr.Ya=no,qr.yc=eo,He=1;break t}He=0}if(!(D=He)){I.a=3;break e}if(0<ye){if(G.ua=1<<ye,!Q(G.Wa,ye)){I.a=1,D=0;break e}}else G.ua=0;var b4=I,iO=j,dne=K,w4=b4.s,C4=w4.xc;if(b4.c=iO,b4.i=dne,w4.md=Se(iO,C4),w4.wc=C4==0?-1:(1<<C4)-1,E){I.xb=$te;break e}if((le=a(j*K))==null){I.a=1,D=0;break e}D=(D=Cs(I,le,0,j,K,K,null))&&!V.h;break e}return D?(M!=null?M[0]=le:(t(le==null),t(E)),I.$=0,E||No(G)):No(G),D}function cd(g,b){var E=g.c*g.i,I=E+b+16*b;return t(g.c<=b),g.V=a(I),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+E+b,1)}function Gf(g,b){var E=g.C,I=b-E,M=g.V,D=g.Ba+g.c*E;for(t(b<=g.l.o);0<I;){var j=16<I?16:I,K=g.l.ma,V=g.l.width,G=V*j,le=K.ca,ye=K.tb+V*E,q=g.Ta,Ae=g.Ua;od(g,j,M,D),P6(q,Ae,le,ye,G),uc(K,E,E+j,le,ye,V),I-=j,M+=j*g.c,E+=j}t(E==b),g.C=g.Ma=b}function qf(){this.ub=this.yd=this.td=this.Rb=0}function Yf(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function VB(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Ig(){this.Yb=function(){var g=[];return function b(E,I,M){for(var D=M[I],j=0;j<D&&(E.push(M.length>I+1?[]:0),!(M.length<I+1));j++)b(E[j],I+1,M)}(g,0,[3,11]),g}()}function b1(){this.jb=a(3),this.Wc=s([4,8],Ig),this.Xc=s([4,17],Ig)}function w1(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Mo(){this.ld=this.La=this.dd=this.tc=0}function Fg(){this.Na=this.la=0}function C1(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Og(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function B1(){this.uc=this.M=this.Nb=0,this.wa=Array(new Mo),this.Y=0,this.ya=Array(new Og),this.aa=0,this.l=new Xf}function S1(){this.y=a(16),this.f=a(8),this.ea=a(8)}function x1(){this.cb=this.a=0,this.sc="",this.m=new R,this.Od=new qf,this.Kc=new Yf,this.ed=new w1,this.Qa=new VB,this.Ic=this.$c=this.Aa=0,this.D=new B1,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,R),this.ia=0,this.pb=o(4,C1),this.Pa=new b1,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new S1),this.Hd=0,this.rb=Array(new Fg),this.sb=0,this.wa=Array(new Mo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Og),this.L=this.aa=0,this.gd=s([4,2],Mo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function fc(g,b){return 0>g?0:g>b?b:g}function Xf(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function zB(){var g=new x1;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,em||(em=Jf)),g}function Lr(g,b,E){return g.a==0&&(g.a=b,g.sc=E,g.cb=0),0}function k1(g,b,E){return 3<=E&&g[b+0]==157&&g[b+1]==1&&g[b+2]==42}function hc(g,b){if(g==null)return 0;if(g.a=0,g.sc="OK",b==null)return Lr(g,2,"null VP8Io passed to VP8GetHeaders()");var E=b.data,I=b.w,M=b.ha;if(4>M)return Lr(g,7,"Truncated header.");var D=E[I+0]|E[I+1]<<8|E[I+2]<<16,j=g.Od;if(j.Rb=!(1&D),j.td=D>>1&7,j.yd=D>>4&1,j.ub=D>>5,3<j.td)return Lr(g,3,"Incorrect keyframe parameters.");if(!j.yd)return Lr(g,4,"Frame not displayable.");I+=3,M-=3;var K=g.Kc;if(j.Rb){if(7>M)return Lr(g,7,"cannot parse picture header");if(!k1(E,I,M))return Lr(g,3,"Bad code word");K.c=16383&(E[I+4]<<8|E[I+3]),K.Td=E[I+4]>>6,K.i=16383&(E[I+6]<<8|E[I+5]),K.Ud=E[I+6]>>6,I+=7,M-=7,g.za=K.c+15>>4,g.Ub=K.i+15>>4,b.width=K.c,b.height=K.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,i((D=g.Pa).jb,0,255,D.jb.length),t((D=g.Qa)!=null),D.Cb=0,D.Bb=0,D.Fb=1,i(D.Zb,0,0,D.Zb.length),i(D.Lb,0,0,D.Lb)}if(j.ub>M)return Lr(g,7,"bad partition length");ae(D=g.m,E,I,j.ub),I+=j.ub,M-=j.ub,j.Rb&&(K.Ld=ee(D),K.Kd=ee(D)),K=g.Qa;var V,G=g.Pa;if(t(D!=null),t(K!=null),K.Cb=ee(D),K.Cb){if(K.Bb=ee(D),ee(D)){for(K.Fb=ee(D),V=0;4>V;++V)K.Zb[V]=ee(D)?W(D,7):0;for(V=0;4>V;++V)K.Lb[V]=ee(D)?W(D,6):0}if(K.Bb)for(V=0;3>V;++V)G.jb[V]=ee(D)?ie(D,8):255}else K.Bb=0;if(D.Ka)return Lr(g,3,"cannot parse segment header");if((K=g.ed).zd=ee(D),K.Tb=ie(D,6),K.wb=ie(D,3),K.Pc=ee(D),K.Pc&&ee(D)){for(G=0;4>G;++G)ee(D)&&(K.vd[G]=W(D,6));for(G=0;4>G;++G)ee(D)&&(K.od[G]=W(D,6))}if(g.L=K.Tb==0?0:K.zd?1:2,D.Ka)return Lr(g,3,"cannot parse filter header");var le=M;if(M=V=I,I=V+le,K=le,g.Xb=(1<<ie(g.m,2))-1,le<3*(G=g.Xb))E=7;else{for(V+=3*G,K-=3*G,le=0;le<G;++le){var ye=E[M+0]|E[M+1]<<8|E[M+2]<<16;ye>K&&(ye=K),ae(g.Jc[+le],E,V,ye),V+=ye,K-=ye,M+=3}ae(g.Jc[+G],E,V,K),E=V<I?0:5}if(E!=0)return Lr(g,E,"cannot parse partitions");for(E=ie(V=g.m,7),M=ee(V)?W(V,4):0,I=ee(V)?W(V,4):0,K=ee(V)?W(V,4):0,G=ee(V)?W(V,4):0,V=ee(V)?W(V,4):0,le=g.Qa,ye=0;4>ye;++ye){if(le.Cb){var q=le.Zb[ye];le.Fb||(q+=E)}else{if(0<ye){g.pb[ye]=g.pb[0];continue}q=E}var Ae=g.pb[ye];Ae.Sc[0]=d4[fc(q+M,127)],Ae.Sc[1]=f4[fc(q+0,127)],Ae.Eb[0]=2*d4[fc(q+I,127)],Ae.Eb[1]=101581*f4[fc(q+K,127)]>>16,8>Ae.Eb[1]&&(Ae.Eb[1]=8),Ae.Qc[0]=d4[fc(q+G,117)],Ae.Qc[1]=f4[fc(q+V,127)],Ae.lc=q+V}if(!j.Rb)return Lr(g,4,"Not a key frame.");for(ee(D),j=g.Pa,E=0;4>E;++E){for(M=0;8>M;++M)for(I=0;3>I;++I)for(K=0;11>K;++K)G=ge(D,jte[E][M][I][K])?ie(D,8):Dte[E][M][I][K],j.Wc[E][M].Yb[I][K]=G;for(M=0;17>M;++M)j.Xc[E][M]=j.Wc[E][Hte[M]]}return g.kc=ee(D),g.kc&&(g.Bd=ie(D,8)),g.cb=1}function Jf(g,b,E,I,M,D,j){var K=b[M].Yb[E];for(E=0;16>M;++M){if(!ge(g,K[E+0]))return M;for(;!ge(g,K[E+1]);)if(K=b[++M].Yb[0],E=0,M==16)return 16;var V=b[M+1].Yb;if(ge(g,K[E+2])){var G=g,le=0;if(ge(G,(q=K)[(ye=E)+3]))if(ge(G,q[ye+6])){for(K=0,ye=2*(le=ge(G,q[ye+8]))+(q=ge(G,q[ye+9+le])),le=0,q=Mte[ye];q[K];++K)le+=le+ge(G,q[K]);le+=3+(8<<ye)}else ge(G,q[ye+7])?(le=7+2*ge(G,165),le+=ge(G,145)):le=5+ge(G,159);else le=ge(G,q[ye+4])?3+ge(G,q[ye+5]):2;K=V[2]}else le=1,K=V[1];V=j+Rte[M],0>(G=g).b&&be(G);var ye,q=G.b,Ae=(ye=G.Ca>>1)-(G.I>>q)>>31;--G.b,G.Ca+=Ae,G.Ca|=1,G.I-=(ye+1&Ae)<<q,D[V]=((le^Ae)-Ae)*I[(0<M)+0]}return 16}function E1(g){var b=g.rb[g.sb-1];b.la=0,b.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function Ro(g,b,E,I,M){M=g[b+E+32*I]+(M>>3),g[b+E+32*I]=-256&M?0>M?0:255:M}function Vr(g,b,E,I,M,D){Ro(g,b,0,E,I+M),Ro(g,b,1,E,I+D),Ro(g,b,2,E,I-D),Ro(g,b,3,E,I-M)}function Al(g){return(20091*g>>16)+g}function T1(g,b,E,I){var M,D=0,j=a(16);for(M=0;4>M;++M){var K=g[b+0]+g[b+8],V=g[b+0]-g[b+8],G=(35468*g[b+4]>>16)-Al(g[b+12]),le=Al(g[b+4])+(35468*g[b+12]>>16);j[D+0]=K+le,j[D+1]=V+G,j[D+2]=V-G,j[D+3]=K-le,D+=4,b++}for(M=D=0;4>M;++M)K=(g=j[D+0]+4)+j[D+8],V=g-j[D+8],G=(35468*j[D+4]>>16)-Al(j[D+12]),Ro(E,I,0,0,K+(le=Al(j[D+4])+(35468*j[D+12]>>16))),Ro(E,I,1,0,V+G),Ro(E,I,2,0,V-G),Ro(E,I,3,0,K-le),D++,I+=32}function WB(g,b,E,I){var M=g[b+0]+4,D=35468*g[b+4]>>16,j=Al(g[b+4]),K=35468*g[b+1]>>16;Vr(E,I,0,M+j,g=Al(g[b+1]),K),Vr(E,I,1,M+D,g,K),Vr(E,I,2,M-D,g,K),Vr(E,I,3,M-j,g,K)}function GB(g,b,E,I,M){T1(g,b,E,I),M&&T1(g,b+16,E,I+4)}function pc(g,b,E,I){wd(g,b+0,E,I,1),wd(g,b+32,E,I+128,1)}function _1(g,b,E,I){var M;for(g=g[b+0]+4,M=0;4>M;++M)for(b=0;4>b;++b)Ro(E,I,b,M,g)}function P1(g,b,E,I){g[b+0]&&An(g,b+0,E,I),g[b+16]&&An(g,b+16,E,I+4),g[b+32]&&An(g,b+32,E,I+128),g[b+48]&&An(g,b+48,E,I+128+4)}function Zf(g,b,E,I){var M,D=a(16);for(M=0;4>M;++M){var j=g[b+0+M]+g[b+12+M],K=g[b+4+M]+g[b+8+M],V=g[b+4+M]-g[b+8+M],G=g[b+0+M]-g[b+12+M];D[0+M]=j+K,D[8+M]=j-K,D[4+M]=G+V,D[12+M]=G-V}for(M=0;4>M;++M)j=(g=D[0+4*M]+3)+D[3+4*M],K=D[1+4*M]+D[2+4*M],V=D[1+4*M]-D[2+4*M],G=g-D[3+4*M],E[I+0]=j+K>>3,E[I+16]=G+V>>3,E[I+32]=j-K>>3,E[I+48]=G-V>>3,I+=64}function ld(g,b,E){var I,M=b-32,D=Za,j=255-g[M-1];for(I=0;I<E;++I){var K,V=D,G=j+g[b-1];for(K=0;K<E;++K)g[b+K]=V[G+g[M+K]];b+=32}}function qB(g,b){ld(g,b,4)}function YB(g,b){ld(g,b,8)}function XB(g,b){ld(g,b,16)}function Lg(g,b){var E;for(E=0;16>E;++E)r(g,b+32*E,g,b-32,16)}function I1(g,b){var E;for(E=16;0<E;--E)i(g,b,g[b-1],16),b+=32}function Bs(g,b,E){var I;for(I=0;16>I;++I)i(b,E+32*I,g,16)}function JB(g,b){var E,I=16;for(E=0;16>E;++E)I+=g[b-1+32*E]+g[b+E-32];Bs(I>>5,g,b)}function Ad(g,b){var E,I=8;for(E=0;16>E;++E)I+=g[b-1+32*E];Bs(I>>4,g,b)}function Ug(g,b){var E,I=8;for(E=0;16>E;++E)I+=g[b+E-32];Bs(I>>4,g,b)}function ZB(g,b){Bs(128,g,b)}function St(g,b,E){return g+2*b+E+2>>2}function e4(g,b){var E,I=b-32;for(I=new Uint8Array([St(g[I-1],g[I+0],g[I+1]),St(g[I+0],g[I+1],g[I+2]),St(g[I+1],g[I+2],g[I+3]),St(g[I+2],g[I+3],g[I+4])]),E=0;4>E;++E)r(g,b+32*E,I,0,I.length)}function t4(g,b){var E=g[b-1],I=g[b-1+32],M=g[b-1+64],D=g[b-1+96];xe(g,b+0,16843009*St(g[b-1-32],E,I)),xe(g,b+32,16843009*St(E,I,M)),xe(g,b+64,16843009*St(I,M,D)),xe(g,b+96,16843009*St(M,D,D))}function n4(g,b){var E,I=4;for(E=0;4>E;++E)I+=g[b+E-32]+g[b-1+32*E];for(I>>=3,E=0;4>E;++E)i(g,b+32*E,I,4)}function ul(g,b){var E=g[b-1+0],I=g[b-1+32],M=g[b-1+64],D=g[b-1-32],j=g[b+0-32],K=g[b+1-32],V=g[b+2-32],G=g[b+3-32];g[b+0+96]=St(I,M,g[b-1+96]),g[b+1+96]=g[b+0+64]=St(E,I,M),g[b+2+96]=g[b+1+64]=g[b+0+32]=St(D,E,I),g[b+3+96]=g[b+2+64]=g[b+1+32]=g[b+0+0]=St(j,D,E),g[b+3+64]=g[b+2+32]=g[b+1+0]=St(K,j,D),g[b+3+32]=g[b+2+0]=St(V,K,j),g[b+3+0]=St(G,V,K)}function dl(g,b){var E=g[b+1-32],I=g[b+2-32],M=g[b+3-32],D=g[b+4-32],j=g[b+5-32],K=g[b+6-32],V=g[b+7-32];g[b+0+0]=St(g[b+0-32],E,I),g[b+1+0]=g[b+0+32]=St(E,I,M),g[b+2+0]=g[b+1+32]=g[b+0+64]=St(I,M,D),g[b+3+0]=g[b+2+32]=g[b+1+64]=g[b+0+96]=St(M,D,j),g[b+3+32]=g[b+2+64]=g[b+1+96]=St(D,j,K),g[b+3+64]=g[b+2+96]=St(j,K,V),g[b+3+96]=St(K,V,V)}function r4(g,b){var E=g[b-1+0],I=g[b-1+32],M=g[b-1+64],D=g[b-1-32],j=g[b+0-32],K=g[b+1-32],V=g[b+2-32],G=g[b+3-32];g[b+0+0]=g[b+1+64]=D+j+1>>1,g[b+1+0]=g[b+2+64]=j+K+1>>1,g[b+2+0]=g[b+3+64]=K+V+1>>1,g[b+3+0]=V+G+1>>1,g[b+0+96]=St(M,I,E),g[b+0+64]=St(I,E,D),g[b+0+32]=g[b+1+96]=St(E,D,j),g[b+1+32]=g[b+2+96]=St(D,j,K),g[b+2+32]=g[b+3+96]=St(j,K,V),g[b+3+32]=St(K,V,G)}function i4(g,b){var E=g[b+0-32],I=g[b+1-32],M=g[b+2-32],D=g[b+3-32],j=g[b+4-32],K=g[b+5-32],V=g[b+6-32],G=g[b+7-32];g[b+0+0]=E+I+1>>1,g[b+1+0]=g[b+0+64]=I+M+1>>1,g[b+2+0]=g[b+1+64]=M+D+1>>1,g[b+3+0]=g[b+2+64]=D+j+1>>1,g[b+0+32]=St(E,I,M),g[b+1+32]=g[b+0+96]=St(I,M,D),g[b+2+32]=g[b+1+96]=St(M,D,j),g[b+3+32]=g[b+2+96]=St(D,j,K),g[b+3+64]=St(j,K,V),g[b+3+96]=St(K,V,G)}function eh(g,b){var E=g[b-1+0],I=g[b-1+32],M=g[b-1+64],D=g[b-1+96];g[b+0+0]=E+I+1>>1,g[b+2+0]=g[b+0+32]=I+M+1>>1,g[b+2+32]=g[b+0+64]=M+D+1>>1,g[b+1+0]=St(E,I,M),g[b+3+0]=g[b+1+32]=St(I,M,D),g[b+3+32]=g[b+1+64]=St(M,D,D),g[b+3+64]=g[b+2+64]=g[b+0+96]=g[b+1+96]=g[b+2+96]=g[b+3+96]=D}function Ng(g,b){var E=g[b-1+0],I=g[b-1+32],M=g[b-1+64],D=g[b-1+96],j=g[b-1-32],K=g[b+0-32],V=g[b+1-32],G=g[b+2-32];g[b+0+0]=g[b+2+32]=E+j+1>>1,g[b+0+32]=g[b+2+64]=I+E+1>>1,g[b+0+64]=g[b+2+96]=M+I+1>>1,g[b+0+96]=D+M+1>>1,g[b+3+0]=St(K,V,G),g[b+2+0]=St(j,K,V),g[b+1+0]=g[b+3+32]=St(E,j,K),g[b+1+32]=g[b+3+64]=St(I,E,j),g[b+1+64]=g[b+3+96]=St(M,I,E),g[b+1+96]=St(D,M,I)}function ud(g,b){var E;for(E=0;8>E;++E)r(g,b+32*E,g,b-32,8)}function a4(g,b){var E;for(E=0;8>E;++E)i(g,b,g[b-1],8),b+=32}function fl(g,b,E){var I;for(I=0;8>I;++I)i(b,E+32*I,g,8)}function o4(g,b){var E,I=8;for(E=0;8>E;++E)I+=g[b+E-32]+g[b-1+32*E];fl(I>>4,g,b)}function Mg(g,b){var E,I=4;for(E=0;8>E;++E)I+=g[b+E-32];fl(I>>3,g,b)}function Rg(g,b){var E,I=4;for(E=0;8>E;++E)I+=g[b-1+32*E];fl(I>>3,g,b)}function F1(g,b){fl(128,g,b)}function hl(g,b,E){var I=g[b-E],M=g[b+0],D=3*(M-I)+s4[1020+g[b-2*E]-g[b+E]],j=Q1[112+(D+4>>3)];g[b-E]=Za[255+I+Q1[112+(D+3>>3)]],g[b+0]=Za[255+M-j]}function Dg(g,b,E,I){var M=g[b+0],D=g[b+E];return jo[255+g[b-2*E]-g[b-E]]>I||jo[255+D-M]>I}function th(g,b,E,I){return 4*jo[255+g[b-E]-g[b+0]]+jo[255+g[b-2*E]-g[b+E]]<=I}function Qg(g,b,E,I,M){var D=g[b-3*E],j=g[b-2*E],K=g[b-E],V=g[b+0],G=g[b+E],le=g[b+2*E],ye=g[b+3*E];return 4*jo[255+K-V]+jo[255+j-G]>I?0:jo[255+g[b-4*E]-D]<=M&&jo[255+D-j]<=M&&jo[255+j-K]<=M&&jo[255+ye-le]<=M&&jo[255+le-G]<=M&&jo[255+G-V]<=M}function dd(g,b,E,I){var M=2*I+1;for(I=0;16>I;++I)th(g,b+I,E,M)&&hl(g,b+I,E)}function jg(g,b,E,I){var M=2*I+1;for(I=0;16>I;++I)th(g,b+I*E,1,M)&&hl(g,b+I*E,1)}function O1(g,b,E,I){var M;for(M=3;0<M;--M)dd(g,b+=4*E,E,I)}function L1(g,b,E,I){var M;for(M=3;0<M;--M)jg(g,b+=4,E,I)}function pl(g,b,E,I,M,D,j,K){for(D=2*D+1;0<M--;){if(Qg(g,b,E,D,j))if(Dg(g,b,E,K))hl(g,b,E);else{var V=g,G=b,le=E,ye=V[G-2*le],q=V[G-le],Ae=V[G+0],he=V[G+le],Ee=V[G+2*le],me=27*(Ie=s4[1020+3*(Ae-q)+s4[1020+ye-he]])+63>>7,Te=18*Ie+63>>7,Ie=9*Ie+63>>7;V[G-3*le]=Za[255+V[G-3*le]+Ie],V[G-2*le]=Za[255+ye+Te],V[G-le]=Za[255+q+me],V[G+0]=Za[255+Ae-me],V[G+le]=Za[255+he-Te],V[G+2*le]=Za[255+Ee-Ie]}b+=I}}function gl(g,b,E,I,M,D,j,K){for(D=2*D+1;0<M--;){if(Qg(g,b,E,D,j))if(Dg(g,b,E,K))hl(g,b,E);else{var V=g,G=b,le=E,ye=V[G-le],q=V[G+0],Ae=V[G+le],he=Q1[112+(4+(Ee=3*(q-ye))>>3)],Ee=Q1[112+(Ee+3>>3)],me=he+1>>1;V[G-2*le]=Za[255+V[G-2*le]+me],V[G-le]=Za[255+ye+Ee],V[G+0]=Za[255+q-he],V[G+le]=Za[255+Ae-me]}b+=I}}function U1(g,b,E,I,M,D){pl(g,b,E,1,16,I,M,D)}function fd(g,b,E,I,M,D){pl(g,b,1,E,16,I,M,D)}function N1(g,b,E,I,M,D){var j;for(j=3;0<j;--j)gl(g,b+=4*E,E,1,16,I,M,D)}function x(g,b,E,I,M,D){var j;for(j=3;0<j;--j)gl(g,b+=4,1,E,16,I,M,D)}function N(g,b,E,I,M,D,j,K){pl(g,b,M,1,8,D,j,K),pl(E,I,M,1,8,D,j,K)}function Y(g,b,E,I,M,D,j,K){pl(g,b,1,M,8,D,j,K),pl(E,I,1,M,8,D,j,K)}function se(g,b,E,I,M,D,j,K){gl(g,b+4*M,M,1,8,D,j,K),gl(E,I+4*M,M,1,8,D,j,K)}function ue(g,b,E,I,M,D,j,K){gl(g,b+4,1,M,8,D,j,K),gl(E,I+4,1,M,8,D,j,K)}function Pe(){this.ba=new Mt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ln,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Oe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ze(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function rt(){this.ua=0,this.Wa=new je,this.vb=new je,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Z,this.yc=new H}function Bt(){this.xb=this.a=0,this.l=new Xf,this.ca=new Mt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new rt,this.ab=0,this.gc=o(4,Ze),this.Oc=0}function It(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Xf,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xt(g,b,E,I,M,D,j){for(g=g==null?0:g[b+0],b=0;b<j;++b)M[D+b]=g+E[I+b]&255,g=M[D+b]}function Xn(g,b,E,I,M,D,j){var K;if(g==null)Xt(null,null,E,I,M,D,j);else for(K=0;K<j;++K)M[D+K]=g[b+K]+E[I+K]&255}function Ur(g,b,E,I,M,D,j){if(g==null)Xt(null,null,E,I,M,D,j);else{var K,V=g[b+0],G=V,le=V;for(K=0;K<j;++K)G=le+(V=g[b+K])-G,le=E[I+K]+(-256&G?0>G?0:255:G)&255,G=V,M[D+K]=le}}function En(g,b,E,I){var M=b.width,D=b.o;if(t(g!=null&&b!=null),0>E||0>=I||E+I>D)return null;if(!g.Cc){if(g.ga==null){var j;if(g.ga=new It,(j=g.ga==null)||(j=b.width*b.o,t(g.Gb.length==0),g.Gb=a(j),g.Uc=0,g.Gb==null?j=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,j=1),j=!j),!j){j=g.ga;var K=g.Fa,V=g.P,G=g.qc,le=g.mb,ye=g.nb,q=V+1,Ae=G-1,he=j.l;if(t(K!=null&&le!=null&&b!=null),RA[0]=null,RA[1]=Xt,RA[2]=Xn,RA[3]=Ur,j.ca=le,j.tb=ye,j.c=b.width,j.i=b.height,t(0<j.c&&0<j.i),1>=G)b=0;else if(j.$a=3&K[V+0],j.Z=K[V+0]>>2&3,j.Lc=K[V+0]>>4&3,V=K[V+0]>>6&3,0>j.$a||1<j.$a||4<=j.Z||1<j.Lc||V)b=0;else if(he.put=yt,he.ac=Ac,he.bc=cl,he.ma=j,he.width=b.width,he.height=b.height,he.Da=b.Da,he.v=b.v,he.va=b.va,he.j=b.j,he.o=b.o,j.$a)e:{t(j.$a==1),b=sd();t:for(;;){if(b==null){b=0;break e}if(t(j!=null),j.mc=b,b.c=j.c,b.i=j.i,b.l=j.l,b.l.ma=j,b.l.width=j.c,b.l.height=j.i,b.a=0,te(b.m,K,q,Ae),!dc(j.c,j.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&bs(b.s)?(j.ic=1,K=b.c*b.i,b.Ta=null,b.Ua=0,b.V=a(K),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(j.ic=0,b=cd(b,j.c)),!b))break t;b=1;break e}j.mc=null,b=0}else b=Ae>=j.c*j.i;j=!b}if(j)return null;g.ga.Lc!=1?g.Ga=0:I=D-E}t(g.ga!=null),t(E+I<=D);e:{if(b=(K=g.ga).c,D=K.l.o,K.$a==0){if(q=g.rc,Ae=g.Vc,he=g.Fa,V=g.P+1+E*b,G=g.mb,le=g.nb+E*b,t(V<=g.P+g.qc),K.Z!=0)for(t(RA[K.Z]!=null),j=0;j<I;++j)RA[K.Z](q,Ae,he,V,G,le,b),q=G,Ae=le,le+=b,V+=b;else for(j=0;j<I;++j)r(G,le,he,V,b),q=G,Ae=le,le+=b,V+=b;g.rc=q,g.Vc=Ae}else{if(t(K.mc!=null),b=E+I,t((j=K.mc)!=null),t(b<=j.i),j.C>=b)b=1;else if(K.ic||Ss(),K.ic){K=j.V,q=j.Ba,Ae=j.c;var Ee=j.i,me=(he=1,V=j.$/Ae,G=j.$%Ae,le=j.m,ye=j.s,j.$),Te=Ae*Ee,Ie=Ae*b,Ne=ye.wc,Le=me<Ie?Ti(ye,G,V):null;t(me<=Te),t(b<=Ee),t(bs(ye));t:for(;;){for(;!le.h&&me<Ie;){if(G&Ne||(Le=Ti(ye,G,V)),t(Le!=null),ce(le),256>(Ee=or(Le.G[0],Le.H[0],le)))K[q+me]=Ee,++me,++G>=Ae&&(G=0,++V<=b&&!(V%16)&&ws(j,V));else{if(!(280>Ee)){he=0;break t}Ee=Lo(Ee-256,le);var it,Ye=or(Le.G[4],Le.H[4],le);if(ce(le),!(me>=(Ye=Uo(Ae,Ye=Lo(Ye,le)))&&Te-me>=Ee)){he=0;break t}for(it=0;it<Ee;++it)K[q+me+it]=K[q+me+it-Ye];for(me+=Ee,G+=Ee;G>=Ae;)G-=Ae,++V<=b&&!(V%16)&&ws(j,V);me<Ie&&G&Ne&&(Le=Ti(ye,G,V))}t(le.h==re(le))}ws(j,V>b?b:V);break t}!he||le.h&&me<Te?(he=0,j.a=le.h?5:3):j.$=me,b=he}else b=Cs(j,j.V,j.Ba,j.c,j.i,b,Gf);if(!b){I=0;break e}}E+I>=D&&(g.Cc=1),I=1}if(!I)return null;if(g.Cc&&((I=g.ga)!=null&&(I.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+E*M}function zr(g,b,E,I,M,D){for(;0<M--;){var j,K=g,V=b+(E?1:0),G=g,le=b+(E?0:3);for(j=0;j<I;++j){var ye=G[le+4*j];ye!=255&&(ye*=32897,K[V+4*j+0]=K[V+4*j+0]*ye>>23,K[V+4*j+1]=K[V+4*j+1]*ye>>23,K[V+4*j+2]=K[V+4*j+2]*ye>>23)}b+=D}}function Nr(g,b,E,I,M){for(;0<I--;){var D;for(D=0;D<E;++D){var j=g[b+2*D+0],K=15&(G=g[b+2*D+1]),V=4369*K,G=(240&G|G>>4)*V>>16;g[b+2*D+0]=(240&j|j>>4)*V>>16&240|(15&j|j<<4)*V>>16>>4&15,g[b+2*D+1]=240&G|K}b+=M}}function _i(g,b,E,I,M,D,j,K){var V,G,le=255;for(G=0;G<M;++G){for(V=0;V<I;++V){var ye=g[b+V];D[j+4*V]=ye,le&=ye}b+=E,j+=K}return le!=255}function ml(g,b,E,I,M){var D;for(D=0;D<M;++D)E[I+D]=g[b+D]>>8}function Ss(){Zg=zr,T6=Nr,_6=_i,P6=ml}function vl(g,b,E){P[g]=function(I,M,D,j,K,V,G,le,ye,q,Ae,he,Ee,me,Te,Ie,Ne){var Le,it=Ne-1>>1,Ye=K[V+0]|G[le+0]<<16,Ft=ye[q+0]|Ae[he+0]<<16;t(I!=null);var et=3*Ye+Ft+131074>>2;for(b(I[M+0],255&et,et>>16,Ee,me),D!=null&&(et=3*Ft+Ye+131074>>2,b(D[j+0],255&et,et>>16,Te,Ie)),Le=1;Le<=it;++Le){var zt=K[V+Le]|G[le+Le]<<16,Gr=ye[q+Le]|Ae[he+Le]<<16,Ot=Ye+zt+Ft+Gr+524296,tt=Ot+2*(zt+Ft)>>3;et=tt+Ye>>1,Ye=(Ot=Ot+2*(Ye+Gr)>>3)+zt>>1,b(I[M+2*Le-1],255&et,et>>16,Ee,me+(2*Le-1)*E),b(I[M+2*Le-0],255&Ye,Ye>>16,Ee,me+(2*Le-0)*E),D!=null&&(et=Ot+Ft>>1,Ye=tt+Gr>>1,b(D[j+2*Le-1],255&et,et>>16,Te,Ie+(2*Le-1)*E),b(D[j+2*Le+0],255&Ye,Ye>>16,Te,Ie+(2*Le+0)*E)),Ye=zt,Ft=Gr}1&Ne||(et=3*Ye+Ft+131074>>2,b(I[M+Ne-1],255&et,et>>16,Ee,me+(Ne-1)*E),D!=null&&(et=3*Ft+Ye+131074>>2,b(D[j+Ne-1],255&et,et>>16,Te,Ie+(Ne-1)*E)))}}function Hg(){Ho[j1]=Kte,Ho[H1]=j6,Ho[N6]=Vte,Ho[$1]=H6,Ho[K1]=$6,Ho[c4]=K6,Ho[M6]=zte,Ho[l4]=j6,Ho[A4]=H6,Ho[V1]=$6,Ho[u4]=K6}function nh(g){return g&-16384?0>g?0:255:g>>Wte}function TA(g,b){return nh((19077*g>>8)+(26149*b>>8)-14234)}function hd(g,b,E){return nh((19077*g>>8)-(6419*b>>8)-(13320*E>>8)+8708)}function pd(g,b){return nh((19077*g>>8)+(33050*b>>8)-17685)}function _A(g,b,E,I,M){I[M+0]=TA(g,E),I[M+1]=hd(g,b,E),I[M+2]=pd(g,b)}function Pi(g,b,E,I,M){I[M+0]=pd(g,b),I[M+1]=hd(g,b,E),I[M+2]=TA(g,E)}function gd(g,b,E,I,M){var D=hd(g,b,E);b=D<<3&224|pd(g,b)>>3,I[M+0]=248&TA(g,E)|D>>5,I[M+1]=b}function md(g,b,E,I,M){var D=240&pd(g,b)|15;I[M+0]=240&TA(g,E)|hd(g,b,E)>>4,I[M+1]=D}function $g(g,b,E,I,M){I[M+0]=255,_A(g,b,E,I,M+1)}function Kg(g,b,E,I,M){Pi(g,b,E,I,M),I[M+3]=255}function Aa(g,b,E,I,M){_A(g,b,E,I,M),I[M+3]=255}function yl(g,b,E){P[g]=function(I,M,D,j,K,V,G,le,ye){for(var q=le+(-2&ye)*E;le!=q;)b(I[M+0],D[j+0],K[V+0],G,le),b(I[M+1],D[j+0],K[V+0],G,le+E),M+=2,++j,++V,le+=2*E;1&ye&&b(I[M+0],D[j+0],K[V+0],G,le)}}function rh(g,b,E){return E==0?g==0?b==0?6:5:b==0?4:0:E}function M1(g,b,E,I,M){switch(g>>>30){case 3:wd(b,E,I,M,0);break;case 2:Qo(b,E,I,M);break;case 1:An(b,E,I,M)}}function Do(g,b){var E,I,M=b.M,D=b.Nb,j=g.oc,K=g.pc+40,V=g.oc,G=g.pc+584,le=g.oc,ye=g.pc+600;for(E=0;16>E;++E)j[K+32*E-1]=129;for(E=0;8>E;++E)V[G+32*E-1]=129,le[ye+32*E-1]=129;for(0<M?j[K-1-32]=V[G-1-32]=le[ye-1-32]=129:(i(j,K-32-1,127,21),i(V,G-32-1,127,9),i(le,ye-32-1,127,9)),I=0;I<g.za;++I){var q=b.ya[b.aa+I];if(0<I){for(E=-1;16>E;++E)r(j,K+32*E-4,j,K+32*E+12,4);for(E=-1;8>E;++E)r(V,G+32*E-4,V,G+32*E+4,4),r(le,ye+32*E-4,le,ye+32*E+4,4)}var Ae=g.Gd,he=g.Hd+I,Ee=q.ad,me=q.Hc;if(0<M&&(r(j,K-32,Ae[he].y,0,16),r(V,G-32,Ae[he].f,0,8),r(le,ye-32,Ae[he].ea,0,8)),q.Za){var Te=j,Ie=K-32+16;for(0<M&&(I>=g.za-1?i(Te,Ie,Ae[he].y[15],4):r(Te,Ie,Ae[he+1].y,0,4)),E=0;4>E;E++)Te[Ie+128+E]=Te[Ie+256+E]=Te[Ie+384+E]=Te[Ie+0+E];for(E=0;16>E;++E,me<<=2)Te=j,Ie=K+z6[E],xs[q.Ob[E]](Te,Ie),M1(me,Ee,16*+E,Te,Ie)}else if(Te=rh(I,M,q.Ob[0]),MA[Te](j,K),me!=0)for(E=0;16>E;++E,me<<=2)M1(me,Ee,16*+E,j,K+z6[E]);for(E=q.Gc,Te=rh(I,M,q.Dd),Cl[Te](V,G),Cl[Te](le,ye),me=Ee,Te=V,Ie=G,255&(q=0|E)&&(170&q?vc(me,256,Te,Ie):bn(me,256,Te,Ie)),q=le,me=ye,255&(E>>=8)&&(170&E?vc(Ee,320,q,me):bn(Ee,320,q,me)),M<g.Ub-1&&(r(Ae[he].y,0,j,K+480,16),r(Ae[he].f,0,V,G+224,8),r(Ae[he].ea,0,le,ye+224,8)),E=8*D*g.B,Ae=g.sa,he=g.ta+16*I+16*D*g.R,Ee=g.qa,q=g.ra+8*I+E,me=g.Ha,Te=g.Ia+8*I+E,E=0;16>E;++E)r(Ae,he+E*g.R,j,K+32*E,16);for(E=0;8>E;++E)r(Ee,q+E*g.B,V,G+32*E,8),r(me,Te+E*g.B,le,ye+32*E,8)}}function vd(g,b,E,I,M,D,j,K,V){var G=[0],le=[0],ye=0,q=V!=null?V.kd:0,Ae=V??new Oe;if(g==null||12>E)return 7;Ae.data=g,Ae.w=b,Ae.ha=E,b=[b],E=[E],Ae.gb=[Ae.gb];e:{var he=b,Ee=E,me=Ae.gb;if(t(g!=null),t(Ee!=null),t(me!=null),me[0]=0,12<=Ee[0]&&!n(g,he[0],"RIFF")){if(n(g,he[0]+8,"WEBP")){me=3;break e}var Te=Ue(g,he[0]+4);if(12>Te||4294967286<Te){me=3;break e}if(q&&Te>Ee[0]-8){me=7;break e}me[0]=Te,he[0]+=12,Ee[0]-=12}me=0}if(me!=0)return me;for(Te=0<Ae.gb[0],E=E[0];;){e:{var Ie=g;Ee=b,me=E;var Ne=G,Le=le,it=he=[0];if((et=ye=[ye])[0]=0,8>me[0])me=7;else{if(!n(Ie,Ee[0],"VP8X")){if(Ue(Ie,Ee[0]+4)!=10){me=3;break e}if(18>me[0]){me=7;break e}var Ye=Ue(Ie,Ee[0]+8),Ft=1+Ce(Ie,Ee[0]+12);if(2147483648<=Ft*(Ie=1+Ce(Ie,Ee[0]+15))){me=3;break e}it!=null&&(it[0]=Ye),Ne!=null&&(Ne[0]=Ft),Le!=null&&(Le[0]=Ie),Ee[0]+=18,me[0]-=18,et[0]=1}me=0}}if(ye=ye[0],he=he[0],me!=0)return me;if(Ee=!!(2&he),!Te&&ye)return 3;if(D!=null&&(D[0]=!!(16&he)),j!=null&&(j[0]=Ee),K!=null&&(K[0]=0),j=G[0],he=le[0],ye&&Ee&&V==null){me=0;break}if(4>E){me=7;break}if(Te&&ye||!Te&&!ye&&!n(g,b[0],"ALPH")){E=[E],Ae.na=[Ae.na],Ae.P=[Ae.P],Ae.Sa=[Ae.Sa];e:{Ye=g,me=b,Te=E;var et=Ae.gb;Ne=Ae.na,Le=Ae.P,it=Ae.Sa,Ft=22,t(Ye!=null),t(Te!=null),Ie=me[0];var zt=Te[0];for(t(Ne!=null),t(it!=null),Ne[0]=null,Le[0]=null,it[0]=0;;){if(me[0]=Ie,Te[0]=zt,8>zt){me=7;break e}var Gr=Ue(Ye,Ie+4);if(4294967286<Gr){me=3;break e}var Ot=8+Gr+1&-2;if(Ft+=Ot,0<et&&Ft>et){me=3;break e}if(!n(Ye,Ie,"VP8 ")||!n(Ye,Ie,"VP8L")){me=0;break e}if(zt[0]<Ot){me=7;break e}n(Ye,Ie,"ALPH")||(Ne[0]=Ye,Le[0]=Ie+8,it[0]=Gr),Ie+=Ot,zt-=Ot}}if(E=E[0],Ae.na=Ae.na[0],Ae.P=Ae.P[0],Ae.Sa=Ae.Sa[0],me!=0)break}E=[E],Ae.Ja=[Ae.Ja],Ae.xa=[Ae.xa];e:if(et=g,me=b,Te=E,Ne=Ae.gb[0],Le=Ae.Ja,it=Ae.xa,Ye=me[0],Ie=!n(et,Ye,"VP8 "),Ft=!n(et,Ye,"VP8L"),t(et!=null),t(Te!=null),t(Le!=null),t(it!=null),8>Te[0])me=7;else{if(Ie||Ft){if(et=Ue(et,Ye+4),12<=Ne&&et>Ne-12){me=3;break e}if(q&&et>Te[0]-8){me=7;break e}Le[0]=et,me[0]+=8,Te[0]-=8,it[0]=Ft}else it[0]=5<=Te[0]&&et[Ye+0]==47&&!(et[Ye+4]>>5),Le[0]=Te[0];me=0}if(E=E[0],Ae.Ja=Ae.Ja[0],Ae.xa=Ae.xa[0],b=b[0],me!=0)break;if(4294967286<Ae.Ja)return 3;if(K==null||Ee||(K[0]=Ae.xa?2:1),j=[j],he=[he],Ae.xa){if(5>E){me=7;break}K=j,q=he,Ee=D,g==null||5>E?g=0:5<=E&&g[b+0]==47&&!(g[b+4]>>5)?(Te=[0],et=[0],Ne=[0],te(Le=new z,g,b,E),ll(Le,Te,et,Ne)?(K!=null&&(K[0]=Te[0]),q!=null&&(q[0]=et[0]),Ee!=null&&(Ee[0]=Ne[0]),g=1):g=0):g=0}else{if(10>E){me=7;break}K=he,g==null||10>E||!k1(g,b+3,E-3)?g=0:(q=g[b+0]|g[b+1]<<8|g[b+2]<<16,Ee=16383&(g[b+7]<<8|g[b+6]),g=16383&(g[b+9]<<8|g[b+8]),1&q||3<(q>>1&7)||!(q>>4&1)||q>>5>=Ae.Ja||!Ee||!g?g=0:(j&&(j[0]=Ee),K&&(K[0]=g),g=1))}if(!g||(j=j[0],he=he[0],ye&&(G[0]!=j||le[0]!=he)))return 3;V!=null&&(V[0]=Ae,V.offset=b-V.w,t(4294967286>b-V.w),t(V.offset==V.ha-E));break}return me==0||me==7&&ye&&V==null?(D!=null&&(D[0]|=Ae.na!=null&&0<Ae.na.length),I!=null&&(I[0]=j),M!=null&&(M[0]=he),0):me}function Vg(g,b,E){var I=b.width,M=b.height,D=0,j=0,K=I,V=M;if(b.Da=g!=null&&0<g.Da,b.Da&&(K=g.cd,V=g.bd,D=g.v,j=g.j,11>E||(D&=-2,j&=-2),0>D||0>j||0>=K||0>=V||D+K>I||j+V>M))return 0;if(b.v=D,b.j=j,b.va=D+K,b.o=j+V,b.U=K,b.T=V,b.da=g!=null&&0<g.da,b.da){if(!De(K,V,E=[g.ib],D=[g.hb]))return 0;b.ib=E[0],b.hb=D[0]}return b.ob=g!=null&&g.ob,b.Kb=g==null||!g.Sd,b.da&&(b.ob=b.ib<3*I/4&&b.hb<3*M/4,b.Kb=0),1}function zg(g){if(g==null)return 2;if(11>g.S){var b=g.f.RGBA;b.fb+=(g.height-1)*b.A,b.A=-b.A}else b=g.f.kb,g=g.height,b.O+=(g-1)*b.fa,b.fa=-b.fa,b.N+=(g-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(g-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(g-1)*b.lb,b.lb=-b.lb);return 0}function PA(g,b,E,I){if(I==null||0>=g||0>=b)return 2;if(E!=null){if(E.Da){var M=E.cd,D=E.bd,j=-2&E.v,K=-2&E.j;if(0>j||0>K||0>=M||0>=D||j+M>g||K+D>b)return 2;g=M,b=D}if(E.da){if(!De(g,b,M=[E.ib],D=[E.hb]))return 2;g=M[0],b=D[0]}}I.width=g,I.height=b;e:{var V=I.width,G=I.height;if(g=I.S,0>=V||0>=G||!(g>=j1&&13>g))g=2;else{if(0>=I.Rd&&I.sd==null){j=D=M=b=0;var le=(K=V*W6[g])*G;if(11>g||(D=(G+1)/2*(b=(V+1)/2),g==12&&(j=(M=V)*G)),(G=a(le+2*D+j))==null){g=1;break e}I.sd=G,11>g?((V=I.f.RGBA).eb=G,V.fb=0,V.A=K,V.size=le):((V=I.f.kb).y=G,V.O=0,V.fa=K,V.Fd=le,V.f=G,V.N=0+le,V.Ab=b,V.Cd=D,V.ea=G,V.W=0+le+D,V.Db=b,V.Ed=D,g==12&&(V.F=G,V.J=0+le+2*D),V.Tc=j,V.lb=M)}if(b=1,M=I.S,D=I.width,j=I.height,M>=j1&&13>M)if(11>M)g=I.f.RGBA,b&=(K=Math.abs(g.A))*(j-1)+D<=g.size,b&=K>=D*W6[M],b&=g.eb!=null;else{g=I.f.kb,K=(D+1)/2,le=(j+1)/2,V=Math.abs(g.fa),G=Math.abs(g.Ab);var ye=Math.abs(g.Db),q=Math.abs(g.lb),Ae=q*(j-1)+D;b&=V*(j-1)+D<=g.Fd,b&=G*(le-1)+K<=g.Cd,b=(b&=ye*(le-1)+K<=g.Ed)&V>=D&G>=K&ye>=K,b&=g.y!=null,b&=g.f!=null,b&=g.ea!=null,M==12&&(b&=q>=D,b&=Ae<=g.Tc,b&=g.F!=null)}else b=0;g=b?0:2}}return g!=0||E!=null&&E.fd&&(g=zg(I)),g}var yd=64,Xa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ja=24,IA=32,bl=8,FA=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ve("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(g){return g},P.Predictor2=function(g,b,E){return b[E+0]},P.Predictor3=function(g,b,E){return b[E+1]},P.Predictor4=function(g,b,E){return b[E-1]},P.Predictor5=function(g,b,E){return At(At(g,b[E+1]),b[E+0])},P.Predictor6=function(g,b,E){return At(g,b[E-1])},P.Predictor7=function(g,b,E){return At(g,b[E+0])},P.Predictor8=function(g,b,E){return At(b[E-1],b[E+0])},P.Predictor9=function(g,b,E){return At(b[E+0],b[E+1])},P.Predictor10=function(g,b,E){return At(At(g,b[E-1]),At(b[E+0],b[E+1]))},P.Predictor11=function(g,b,E){var I=b[E+0];return 0>=kt(I>>24&255,g>>24&255,(b=b[E-1])>>24&255)+kt(I>>16&255,g>>16&255,b>>16&255)+kt(I>>8&255,g>>8&255,b>>8&255)+kt(255&I,255&g,255&b)?I:g},P.Predictor12=function(g,b,E){var I=b[E+0];return(ze((g>>24&255)+(I>>24&255)-((b=b[E-1])>>24&255))<<24|ze((g>>16&255)+(I>>16&255)-(b>>16&255))<<16|ze((g>>8&255)+(I>>8&255)-(b>>8&255))<<8|ze((255&g)+(255&I)-(255&b)))>>>0},P.Predictor13=function(g,b,E){var I=b[E-1];return(Ct((g=At(g,b[E+0]))>>24&255,I>>24&255)<<24|Ct(g>>16&255,I>>16&255)<<16|Ct(g>>8&255,I>>8&255)<<8|Ct(255&g,255&I))>>>0};var Wg=P.PredictorAdd0;P.PredictorAdd1=Vt,Ve("Predictor2","PredictorAdd2"),Ve("Predictor3","PredictorAdd3"),Ve("Predictor4","PredictorAdd4"),Ve("Predictor5","PredictorAdd5"),Ve("Predictor6","PredictorAdd6"),Ve("Predictor7","PredictorAdd7"),Ve("Predictor8","PredictorAdd8"),Ve("Predictor9","PredictorAdd9"),Ve("Predictor10","PredictorAdd10"),Ve("Predictor11","PredictorAdd11"),Ve("Predictor12","PredictorAdd12"),Ve("Predictor13","PredictorAdd13");var ih=P.PredictorAdd2;ct("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var mr,R1=P.ColorIndexInverseTransform,gc=P.MapARGB,mc=P.VP8LColorIndexInverseTransformAlpha,Gg=P.MapAlpha,qg=P.VP8LPredictorsAdd=[];qg.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Yg,Xg,OA,LA,UA,bd,NA,wd,Qo,vc,An,bn,vr,Wr,wl,Jg,ah,D1,C6,B6,S6,x6,k6,E6,Zg,T6,_6,P6,I6=a(511),F6=a(2041),O6=a(225),L6=a(767),U6=0,s4=F6,Q1=O6,Za=L6,jo=I6,j1=0,H1=1,N6=2,$1=3,K1=4,c4=5,M6=6,l4=7,A4=8,V1=9,u4=10,Pte=[2,3,7],Ite=[3,3,11],R6=[280,256,256,256,40],Fte=[0,1,1,1,0],Ote=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Lte=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ute=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Nte=8,d4=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],f4=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],em=null,Mte=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Rte=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],D6=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Dte=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Qte=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],jte=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Hte=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],MA=[],xs=[],Cl=[],$te=1,Q6=2,RA=[],Ho=[];vl("UpsampleRgbLinePair",_A,3),vl("UpsampleBgrLinePair",Pi,3),vl("UpsampleRgbaLinePair",Aa,4),vl("UpsampleBgraLinePair",Kg,4),vl("UpsampleArgbLinePair",$g,4),vl("UpsampleRgba4444LinePair",md,2),vl("UpsampleRgb565LinePair",gd,2);var Kte=P.UpsampleRgbLinePair,Vte=P.UpsampleBgrLinePair,j6=P.UpsampleRgbaLinePair,H6=P.UpsampleBgraLinePair,$6=P.UpsampleArgbLinePair,K6=P.UpsampleRgba4444LinePair,zte=P.UpsampleRgb565LinePair,z1=16,W1=1<<z1-1,tm=-227,h4=482,Wte=6,V6=0,Gte=a(256),qte=a(256),Yte=a(256),Xte=a(256),Jte=a(h4-tm),Zte=a(h4-tm);yl("YuvToRgbRow",_A,3),yl("YuvToBgrRow",Pi,3),yl("YuvToRgbaRow",Aa,4),yl("YuvToBgraRow",Kg,4),yl("YuvToArgbRow",$g,4),yl("YuvToRgba4444Row",md,2),yl("YuvToRgb565Row",gd,2);var z6=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],G1=[0,2,8],ene=[8,7,6,4,4,2,2,2,1,1,1,1],tne=1;this.WebPDecodeRGBA=function(g,b,E,I,M){var D=H1,j=new Pe,K=new Mt;j.ba=K,K.S=D,K.width=[K.width],K.height=[K.height];var V=K.width,G=K.height,le=new vt;if(le==null||g==null)var ye=2;else t(le!=null),ye=vd(g,b,E,le.width,le.height,le.Pd,le.Qd,le.format,null);if(ye!=0?V=0:(V!=null&&(V[0]=le.width[0]),G!=null&&(G[0]=le.height[0]),V=1),V){K.width=K.width[0],K.height=K.height[0],I!=null&&(I[0]=K.width),M!=null&&(M[0]=K.height);e:{if(I=new Xf,(M=new Oe).data=g,M.w=b,M.ha=E,M.kd=1,b=[0],t(M!=null),((g=vd(M.data,M.w,M.ha,null,null,null,b,null,M))==0||g==7)&&b[0]&&(g=4),(b=g)==0){if(t(j!=null),I.data=M.data,I.w=M.w+M.offset,I.ha=M.ha-M.offset,I.put=yt,I.ac=Ac,I.bc=cl,I.ma=j,M.xa){if((g=sd())==null){j=1;break e}if(function(q,Ae){var he=[0],Ee=[0],me=[0];t:for(;;){if(q==null)return 0;if(Ae==null)return q.a=2,0;if(q.l=Ae,q.a=0,te(q.m,Ae.data,Ae.w,Ae.ha),!ll(q.m,he,Ee,me)){q.a=3;break t}if(q.xb=Q6,Ae.width=he[0],Ae.height=Ee[0],!dc(he[0],Ee[0],1,q,null))break t;return 1}return t(q.a!=0),0}(g,I)){if(I=(b=PA(I.width,I.height,j.Oa,j.ba))==0){t:{I=g;n:for(;;){if(I==null){I=0;break t}if(t(I.s.yc!=null),t(I.s.Ya!=null),t(0<I.s.Wb),t((E=I.l)!=null),t((M=E.ma)!=null),I.xb!=0){if(I.ca=M.ba,I.tb=M.tb,t(I.ca!=null),!Vg(M.Oa,E,$1)){I.a=2;break n}if(!cd(I,E.width)||E.da)break n;if((E.da||bt(I.ca.S))&&Ss(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&Ss()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!Q(I.s.vb,I.s.Wa.Xa)){I.a=1;break n}I.xb=0}if(!Cs(I,I.V,I.Ba,I.c,I.i,E.o,EA))break n;M.Dc=I.Ma,I=1;break t}t(I.a!=0),I=0}I=!I}I&&(b=g.a)}else b=g.a}else{if((g=new zB)==null){j=1;break e}if(g.Fa=M.na,g.P=M.P,g.qc=M.Sa,hc(g,I)){if((b=PA(I.width,I.height,j.Oa,j.ba))==0){if(g.Aa=0,E=j.Oa,t((M=g)!=null),E!=null){if(0<(V=0>(V=E.Md)?0:100<V?255:255*V/100)){for(G=le=0;4>G;++G)12>(ye=M.pb[G]).lc&&(ye.ia=V*ene[0>ye.lc?0:ye.lc]>>3),le|=ye.ia;le&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=E.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}(function(q,Ae){if(q==null)return 0;if(Ae==null)return Lr(q,2,"NULL VP8Io parameter in VP8Decode().");if(!q.cb&&!hc(q,Ae))return 0;if(t(q.cb),Ae.ac==null||Ae.ac(Ae)){Ae.ob&&(q.L=0);var he=G1[q.L];if(q.L==2?(q.yb=0,q.zb=0):(q.yb=Ae.v-he>>4,q.zb=Ae.j-he>>4,0>q.yb&&(q.yb=0),0>q.zb&&(q.zb=0)),q.Va=Ae.o+15+he>>4,q.Hb=Ae.va+15+he>>4,q.Hb>q.za&&(q.Hb=q.za),q.Va>q.Ub&&(q.Va=q.Ub),0<q.L){var Ee=q.ed;for(he=0;4>he;++he){var me;if(q.Qa.Cb){var Te=q.Qa.Lb[he];q.Qa.Fb||(Te+=Ee.Tb)}else Te=Ee.Tb;for(me=0;1>=me;++me){var Ie=q.gd[he][me],Ne=Te;if(Ee.Pc&&(Ne+=Ee.vd[0],me&&(Ne+=Ee.od[0])),0<(Ne=0>Ne?0:63<Ne?63:Ne)){var Le=Ne;0<Ee.wb&&(Le=4<Ee.wb?Le>>2:Le>>1)>9-Ee.wb&&(Le=9-Ee.wb),1>Le&&(Le=1),Ie.dd=Le,Ie.tc=2*Ne+Le,Ie.ld=40<=Ne?2:15<=Ne?1:0}else Ie.tc=0;Ie.La=me}}}he=0}else Lr(q,6,"Frame setup failed"),he=q.a;if(he=he==0){if(he){q.$c=0,0<q.Aa||(q.Ic=tne);t:{he=q.Ic,Ee=4*(Le=q.za);var it=32*Le,Ye=Le+1,Ft=0<q.L?Le*(0<q.Aa?2:1):0,et=(q.Aa==2?2:1)*Le;if((Ie=Ee+832+(me=3*(16*he+G1[q.L])/2*it)+(Te=q.Fa!=null&&0<q.Fa.length?q.Kc.c*q.Kc.i:0))!=Ie)he=0;else{if(Ie>q.Vb){if(q.Vb=0,q.Ec=a(Ie),q.Fc=0,q.Ec==null){he=Lr(q,1,"no memory during frame initialization.");break t}q.Vb=Ie}Ie=q.Ec,Ne=q.Fc,q.Ac=Ie,q.Bc=Ne,Ne+=Ee,q.Gd=o(it,S1),q.Hd=0,q.rb=o(Ye+1,Fg),q.sb=1,q.wa=Ft?o(Ft,Mo):null,q.Y=0,q.D.Nb=0,q.D.wa=q.wa,q.D.Y=q.Y,0<q.Aa&&(q.D.Y+=Le),t(!0),q.oc=Ie,q.pc=Ne,Ne+=832,q.ya=o(et,Og),q.aa=0,q.D.ya=q.ya,q.D.aa=q.aa,q.Aa==2&&(q.D.aa+=Le),q.R=16*Le,q.B=8*Le,Le=(it=G1[q.L])*q.R,it=it/2*q.B,q.sa=Ie,q.ta=Ne+Le,q.qa=q.sa,q.ra=q.ta+16*he*q.R+it,q.Ha=q.qa,q.Ia=q.ra+8*he*q.B+it,q.$c=0,Ne+=me,q.mb=Te?Ie:null,q.nb=Te?Ne:null,t(Ne+Te<=q.Fc+q.Vb),E1(q),i(q.Ac,q.Bc,0,Ee),he=1}}if(he){if(Ae.ka=0,Ae.y=q.sa,Ae.O=q.ta,Ae.f=q.qa,Ae.N=q.ra,Ae.ea=q.Ha,Ae.Vd=q.Ia,Ae.fa=q.R,Ae.Rc=q.B,Ae.F=null,Ae.J=0,!U6){for(he=-255;255>=he;++he)I6[255+he]=0>he?-he:he;for(he=-1020;1020>=he;++he)F6[1020+he]=-128>he?-128:127<he?127:he;for(he=-112;112>=he;++he)O6[112+he]=-16>he?-16:15<he?15:he;for(he=-255;510>=he;++he)L6[255+he]=0>he?0:255<he?255:he;U6=1}NA=Zf,wd=GB,vc=pc,An=_1,bn=P1,Qo=WB,vr=U1,Wr=fd,wl=N,Jg=Y,ah=N1,D1=x,C6=se,B6=ue,S6=dd,x6=jg,k6=O1,E6=L1,xs[0]=n4,xs[1]=qB,xs[2]=e4,xs[3]=t4,xs[4]=ul,xs[5]=r4,xs[6]=dl,xs[7]=i4,xs[8]=Ng,xs[9]=eh,MA[0]=JB,MA[1]=XB,MA[2]=Lg,MA[3]=I1,MA[4]=Ad,MA[5]=Ug,MA[6]=ZB,Cl[0]=o4,Cl[1]=YB,Cl[2]=ud,Cl[3]=a4,Cl[4]=Rg,Cl[5]=Mg,Cl[6]=F1,he=1}else he=0}he&&(he=function(zt,Gr){for(zt.M=0;zt.M<zt.Va;++zt.M){var Ot,tt=zt.Jc[zt.M&zt.Xb],He=zt.m,yr=zt;for(Ot=0;Ot<yr.za;++Ot){var Tt=He,Gt=yr,Un=Gt.Ac,Ii=Gt.Bc+4*Ot,ua=Gt.zc,sr=Gt.ya[Gt.aa+Ot];if(Gt.Qa.Bb?sr.$b=ge(Tt,Gt.Pa.jb[0])?2+ge(Tt,Gt.Pa.jb[2]):ge(Tt,Gt.Pa.jb[1]):sr.$b=0,Gt.kc&&(sr.Ad=ge(Tt,Gt.Bd)),sr.Za=!ge(Tt,145)+0,sr.Za){var qi=sr.Ob,da=0;for(Gt=0;4>Gt;++Gt){var qr,Jt=ua[0+Gt];for(qr=0;4>qr;++qr){Jt=Qte[Un[Ii+qr]][Jt];for(var dn=D6[ge(Tt,Jt[0])];0<dn;)dn=D6[2*dn+ge(Tt,Jt[dn])];Jt=-dn,Un[Ii+qr]=Jt}r(qi,da,Un,Ii,4),da+=4,ua[0+Gt]=Jt}}else Jt=ge(Tt,156)?ge(Tt,128)?1:3:ge(Tt,163)?2:0,sr.Ob[0]=Jt,i(Un,Ii,Jt,4),i(ua,0,Jt,4);sr.Dd=ge(Tt,142)?ge(Tt,114)?ge(Tt,183)?1:3:2:0}if(yr.m.Ka)return Lr(zt,7,"Premature end-of-partition0 encountered.");for(;zt.ja<zt.za;++zt.ja){if(yr=tt,Tt=(He=zt).rb[He.sb-1],Un=He.rb[He.sb+He.ja],Ot=He.ya[He.aa+He.ja],Ii=He.kc?Ot.Ad:0)Tt.la=Un.la=0,Ot.Za||(Tt.Na=Un.Na=0),Ot.Hc=0,Ot.Gc=0,Ot.ia=0;else{var cr,fn;if(Tt=Un,Un=yr,Ii=He.Pa.Xc,ua=He.ya[He.aa+He.ja],sr=He.pb[ua.$b],Gt=ua.ad,qi=0,da=He.rb[He.sb-1],Jt=qr=0,i(Gt,qi,0,384),ua.Za)var Fi=0,ks=Ii[3];else{dn=a(16);var br=Tt.Na+da.Na;if(br=em(Un,Ii[1],br,sr.Eb,0,dn,0),Tt.Na=da.Na=(0<br)+0,1<br)NA(dn,0,Gt,qi);else{var Pa=dn[0]+3>>3;for(dn=0;256>dn;dn+=16)Gt[qi+dn]=Pa}Fi=1,ks=Ii[0]}var wn=15&Tt.la,Yr=15&da.la;for(dn=0;4>dn;++dn){var eo=1&Yr;for(Pa=fn=0;4>Pa;++Pa)wn=wn>>1|(eo=(br=em(Un,ks,br=eo+(1&wn),sr.Sc,Fi,Gt,qi))>Fi)<<7,fn=fn<<2|(3<br?3:1<br?2:Gt[qi+0]!=0),qi+=16;wn>>=4,Yr=Yr>>1|eo<<7,qr=(qr<<8|fn)>>>0}for(ks=wn,Fi=Yr>>4,cr=0;4>cr;cr+=2){for(fn=0,wn=Tt.la>>4+cr,Yr=da.la>>4+cr,dn=0;2>dn;++dn){for(eo=1&Yr,Pa=0;2>Pa;++Pa)br=eo+(1&wn),wn=wn>>1|(eo=0<(br=em(Un,Ii[2],br,sr.Qc,0,Gt,qi)))<<3,fn=fn<<2|(3<br?3:1<br?2:Gt[qi+0]!=0),qi+=16;wn>>=2,Yr=Yr>>1|eo<<5}Jt|=fn<<4*cr,ks|=wn<<4<<cr,Fi|=(240&Yr)<<cr}Tt.la=ks,da.la=Fi,ua.Hc=qr,ua.Gc=Jt,ua.ia=43690&Jt?0:sr.ia,Ii=!(qr|Jt)}if(0<He.L&&(He.wa[He.Y+He.ja]=He.gd[Ot.$b][Ot.Za],He.wa[He.Y+He.ja].La|=!Ii),yr.Ka)return Lr(zt,7,"Premature end-of-file encountered.")}if(E1(zt),He=Gr,yr=1,Ot=(tt=zt).D,Tt=0<tt.L&&tt.M>=tt.zb&&tt.M<=tt.Va,tt.Aa==0)t:{if(Ot.M=tt.M,Ot.uc=Tt,Do(tt,Ot),yr=1,Ot=(fn=tt.D).Nb,Tt=(Jt=G1[tt.L])*tt.R,Un=Jt/2*tt.B,dn=16*Ot*tt.R,Pa=8*Ot*tt.B,Ii=tt.sa,ua=tt.ta-Tt+dn,sr=tt.qa,Gt=tt.ra-Un+Pa,qi=tt.Ha,da=tt.Ia-Un+Pa,Yr=(wn=fn.M)==0,qr=wn>=tt.Va-1,tt.Aa==2&&Do(tt,fn),fn.uc)for(eo=(br=tt).D.M,t(br.D.uc),fn=br.yb;fn<br.Hb;++fn){Fi=fn,ks=eo;var fa=(to=(Oi=br).D).Nb;cr=Oi.R;var to=to.wa[to.Y+Fi],no=Oi.sa,Ia=Oi.ta+16*fa*cr+16*Fi,ro=to.dd,Tn=to.tc;if(Tn!=0)if(t(3<=Tn),Oi.L==1)0<Fi&&x6(no,Ia,cr,Tn+4),to.La&&E6(no,Ia,cr,Tn),0<ks&&S6(no,Ia,cr,Tn+4),to.La&&k6(no,Ia,cr,Tn);else{var io=Oi.B,Es=Oi.qa,Cd=Oi.ra+8*fa*io+8*Fi,Bl=Oi.Ha,Oi=Oi.Ia+8*fa*io+8*Fi;fa=to.ld,0<Fi&&(Wr(no,Ia,cr,Tn+4,ro,fa),Jg(Es,Cd,Bl,Oi,io,Tn+4,ro,fa)),to.La&&(D1(no,Ia,cr,Tn,ro,fa),B6(Es,Cd,Bl,Oi,io,Tn,ro,fa)),0<ks&&(vr(no,Ia,cr,Tn+4,ro,fa),wl(Es,Cd,Bl,Oi,io,Tn+4,ro,fa)),to.La&&(ah(no,Ia,cr,Tn,ro,fa),C6(Es,Cd,Bl,Oi,io,Tn,ro,fa))}}if(tt.ia&&alert("todo:DitherRow"),He.put!=null){if(fn=16*wn,wn=16*(wn+1),Yr?(He.y=tt.sa,He.O=tt.ta+dn,He.f=tt.qa,He.N=tt.ra+Pa,He.ea=tt.Ha,He.W=tt.Ia+Pa):(fn-=Jt,He.y=Ii,He.O=ua,He.f=sr,He.N=Gt,He.ea=qi,He.W=da),qr||(wn-=Jt),wn>He.o&&(wn=He.o),He.F=null,He.J=null,tt.Fa!=null&&0<tt.Fa.length&&fn<wn&&(He.J=En(tt,He,fn,wn-fn),He.F=tt.mb,He.F==null&&He.F.length==0)){yr=Lr(tt,3,"Could not decode alpha data.");break t}fn<He.j&&(Jt=He.j-fn,fn=He.j,t(!(1&Jt)),He.O+=tt.R*Jt,He.N+=tt.B*(Jt>>1),He.W+=tt.B*(Jt>>1),He.F!=null&&(He.J+=He.width*Jt)),fn<wn&&(He.O+=He.v,He.N+=He.v>>1,He.W+=He.v>>1,He.F!=null&&(He.J+=He.v),He.ka=fn-He.j,He.U=He.va-He.v,He.T=wn-fn,yr=He.put(He))}Ot+1!=tt.Ic||qr||(r(tt.sa,tt.ta-Tt,Ii,ua+16*tt.R,Tt),r(tt.qa,tt.ra-Un,sr,Gt+8*tt.B,Un),r(tt.Ha,tt.Ia-Un,qi,da+8*tt.B,Un))}if(!yr)return Lr(zt,6,"Output aborted.")}return 1}(q,Ae)),Ae.bc!=null&&Ae.bc(Ae),he&=1}return he?(q.cb=0,he):0})(g,I)||(b=g.a)}}else b=g.a}b==0&&j.Oa!=null&&j.Oa.fd&&(b=zg(j.ba))}j=b}D=j!=0?null:11>D?K.f.RGBA.eb:K.f.kb.y}else D=null;return D};var W6=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(P,U){for(var T="",O=0;O<4;O++)T+=String.fromCharCode(P[U++]);return T}function A(P,U){return P[U+0]|P[U+1]<<8}function u(P,U){return(P[U+0]|P[U+1]<<8|P[U+2]<<16)>>>0}function d(P,U){return(P[U+0]|P[U+1]<<8|P[U+2]<<16|P[U+3]<<24)>>>0}new c;var f=[0],h=[0],p=[],v=new c,m=e,w=function(P,U){var T={},O=0,H=!1,$=0,Z=0;if(T.frames=[],!function(R,z){for(var X=0;X<4;X++)if(R[z+X]!="RIFF".charCodeAt(X))return!0;return!1}(P,U)){for(d(P,U+=4),U+=8;U<P.length;){var ae=l(P,U),ie=d(P,U+=4);U+=4;var W=ie+(1&ie);switch(ae){case"VP8 ":case"VP8L":T.frames[O]===void 0&&(T.frames[O]={}),(pe=T.frames[O]).src_off=H?Z:U-8,pe.src_size=$+ie+8,O++,H&&(H=!1,$=0,Z=0);break;case"VP8X":(pe=T.header={}).feature_flags=P[U];var te=U+4;pe.canvas_width=1+u(P,te),te+=3,pe.canvas_height=1+u(P,te),te+=3;break;case"ALPH":H=!0,$=W+8,Z=U-8;break;case"ANIM":(pe=T.header).bgcolor=d(P,U),te=U+4,pe.loop_count=A(P,te),te+=2;break;case"ANMF":var de,pe;(pe=T.frames[O]={}).offset_x=2*u(P,U),U+=3,pe.offset_y=2*u(P,U),U+=3,pe.width=1+u(P,U),U+=3,pe.height=1+u(P,U),U+=3,pe.duration=u(P,U),U+=3,de=P[U++],pe.dispose=1&de,pe.blend=de>>1&1}ae!="ANMF"&&(U+=W)}return T}}(m,0);w.response=m,w.rgbaoutput=!0,w.dataurl=!1;var B=w.header?w.header:null,C=w.frames?w.frames:null;if(B){B.loop_counter=B.loop_count,f=[B.canvas_height],h=[B.canvas_width];for(var S=0;S<C.length&&C[S].blend!=0;S++);}var k=C[0],_=v.WebPDecodeRGBA(m,k.src_off,k.src_size,h,f);k.rgba=_,k.imgwidth=h[0],k.imgheight=f[0];for(var F=0;F<h[0]*f[0]*4;F++)p[F]=_[F];return this.width=h,this.height=f,this.data=p,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function A4e(){var e,t=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(t));e=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+e.length+" >>"),this.internal.write("stream"),this.internal.write(e),this.internal.write("endstream"),this.internal.write("endobj")}function u4e(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(e){var t,n,r,i,a,o,s,c,l,A=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new c,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new o,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new o,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,c=this.internal.Matrix,l=new A}]);var u=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=R;Object.defineProperty(this,"pdf",{get:function(){return z}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(Q){X=!!Q}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(Q){re=!!Q}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(Q){isNaN(Q)||(oe=Q)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(Q){isNaN(Q)||(ce=Q)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(Q){var ke;typeof Q=="number"?ke=[Q,Q,Q,Q]:((ke=new Array(4))[0]=Q[0],ke[1]=Q.length>=2?Q[1]:ke[0],ke[2]=Q.length>=3?Q[2]:ke[0],ke[3]=Q.length>=4?Q[3]:ke[1]),l.margin=ke}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(Q){be=Q}});var ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return ee},set:function(Q){ee=Q}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(Q){ge=Q}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(Q){Q instanceof A&&(l=Q)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(Q){l.path=Q}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(Q){xe=Q}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Q){var ke;ke=d(Q),this.ctx.fillStyle=ke.style,this.ctx.isFillTransparent=ke.a===0,this.ctx.fillOpacity=ke.a,this.pdf.setFillColor(ke.r,ke.g,ke.b,{a:ke.a}),this.pdf.setTextColor(ke.r,ke.g,ke.b,{a:ke.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Q){var ke=d(Q);this.ctx.strokeStyle=ke.style,this.ctx.isStrokeTransparent=ke.a===0,this.ctx.strokeOpacity=ke.a,ke.a===0?this.pdf.setDrawColor(255,255,255):(ke.a,this.pdf.setDrawColor(ke.r,ke.g,ke.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Q){["butt","round","square"].indexOf(Q)!==-1&&(this.ctx.lineCap=Q,this.pdf.setLineCap(Q))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Q){isNaN(Q)||(this.ctx.lineWidth=Q,this.pdf.setLineWidth(Q))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Q){["bevel","round","miter"].indexOf(Q)!==-1&&(this.ctx.lineJoin=Q,this.pdf.setLineJoin(Q))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Q){isNaN(Q)||(this.ctx.miterLimit=Q,this.pdf.setMiterLimit(Q))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Q){this.ctx.textBaseline=Q}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Q){["right","end","center","left","start"].indexOf(Q)!==-1&&(this.ctx.textAlign=Q)}});var ne=null,Ce=null,Ue=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ue},set:function(Q){ne=null,Ce=null,Ue=Q}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Q){var ke;if(this.ctx.font=Q,(ke=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Q))!==null){var je=ke[1];ke[2];var De=ke[3],Se=ke[4];ke[5];var qe=ke[6],Ve=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Se)[2];Se=Math.floor(Ve==="px"?parseFloat(Se)*this.pdf.internal.scaleFactor:Ve==="em"?parseFloat(Se)*this.pdf.getFontSize():parseFloat(Se)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Se);var ft=function(ct){var gr,Yt,Ut=[],Nt=ct.trim();if(Nt==="")return ZS;if(Nt in cD)return[cD[Nt]];for(;Nt!=="";){switch(Yt=null,gr=(Nt=AD(Nt)).charAt(0)){case'"':case"'":Yt=i4e(Nt.substring(1),gr);break;default:Yt=a4e(Nt)}if(Yt===null||(Ut.push(Yt[0]),(Nt=AD(Yt[1]))!==""&&Nt.charAt(0)!==","))return ZS;Nt=Nt.replace(/^,/,"")}return Ut}(qe);if(this.fontFaces){var At=function(ct,gr){var Yt=ct.getFontList(),Ut=JSON.stringify(Yt);if(ne===null||Ce!==Ut){var Nt=function(Qn){var ht=[];return Object.keys(Qn).forEach(function(kn){Qn[kn].forEach(function(bt){var Et=null;switch(bt){case"bold":Et={family:kn,weight:"bold"};break;case"italic":Et={family:kn,style:"italic"};break;case"bolditalic":Et={family:kn,weight:"bold",style:"italic"};break;case"":case"normal":Et={family:kn}}Et!==null&&(Et.ref={name:kn,style:bt},ht.push(Et))})}),ht}(Yt);ne=function(Qn){for(var ht={},kn=0;kn<Qn.length;++kn){var bt=JS(Qn[kn]),Et=bt.family,jn=bt.stretch,Mt=bt.style,vt=bt.weight;ht[Et]=ht[Et]||{},ht[Et][jn]=ht[Et][jn]||{},ht[Et][jn][Mt]=ht[Et][jn][Mt]||{},ht[Et][jn][Mt][vt]=bt}return ht}(Nt.concat(gr)),Ce=Ut}return ne}(this.pdf,this.fontFaces),ze=ft.map(function(ct){return{family:ct,stretch:"normal",weight:De,style:je}}),Ct=function(ct,gr,Yt){for(var Ut=(Yt=Yt||{}).defaultFontFamily||"times",Nt=Object.assign({},r4e,Yt.genericFontFamilies||{}),Qn=null,ht=null,kn=0;kn<gr.length;++kn)if(Nt[(Qn=JS(gr[kn])).family]&&(Qn.family=Nt[Qn.family]),ct.hasOwnProperty(Qn.family)){ht=ct[Qn.family];break}if(!(ht=ht||ct[Ut]))throw new Error("Could not find a font-family for the rule '"+lD(Qn)+"' and default family '"+Ut+"'.");if(ht=function(bt,Et){if(Et[bt])return Et[bt];var jn=EE[bt],Mt=jn<=EE.normal?-1:1,vt=sD(Et,cX,jn,Mt);if(!vt)throw new Error("Could not find a matching font-stretch value for "+bt);return vt}(Qn.stretch,ht),ht=function(bt,Et){if(Et[bt])return Et[bt];for(var jn=sX[bt],Mt=0;Mt<jn.length;++Mt)if(Et[jn[Mt]])return Et[jn[Mt]];throw new Error("Could not find a matching font-style for "+bt)}(Qn.style,ht),!(ht=function(bt,Et){if(Et[bt])return Et[bt];if(bt===400&&Et[500])return Et[500];if(bt===500&&Et[400])return Et[400];var jn=n4e[bt],Mt=sD(Et,lX,jn,bt<400?-1:1);if(!Mt)throw new Error("Could not find a matching font-weight for value "+bt);return Mt}(Qn.weight,ht)))throw new Error("Failed to resolve a font for the rule '"+lD(Qn)+"'.");return ht}(At,ze);this.pdf.setFont(Ct.ref.name,Ct.ref.style)}else{var kt="";(De==="bold"||parseInt(De,10)>=700||je==="bold")&&(kt="bold"),je==="italic"&&(kt+="italic"),kt.length===0&&(kt="normal");for(var Vt="",Ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},nt=0;nt<ft.length;nt++){if(this.pdf.internal.getFont(ft[nt],kt,{noFallback:!0,disableWarning:!0})!==void 0){Vt=ft[nt];break}if(kt==="bolditalic"&&this.pdf.internal.getFont(ft[nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Vt=ft[nt],kt="bold";else if(this.pdf.internal.getFont(ft[nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Vt=ft[nt],kt="normal";break}}if(Vt===""){for(var Pt=0;Pt<ft.length;Pt++)if(Ht[ft[Pt]]){Vt=Ht[ft[Pt]];break}}Vt=Vt===""?"Times":Vt,this.pdf.setFont(Vt,kt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Q){this.ctx.globalCompositeOperation=Q}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Q){this.ctx.globalAlpha=Q}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Q){this.ctx.lineDashOffset=Q,pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Q){this.ctx.lineDash=Q,pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Q){this.ctx.ignoreClearRect=!!Q}})};u.prototype.setLineDash=function(R){this.lineDash=R},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){C.call(this,"fill",!1)},u.prototype.stroke=function(){C.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(R,z){if(isNaN(R)||isNaN(z))throw Cn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new o(R,z));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(R,z)},u.prototype.closePath=function(){var R=new o(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&pn(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){R=new o(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(R.x,R.y)},u.prototype.lineTo=function(R,z){if(isNaN(R)||isNaN(z))throw Cn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new o(R,z));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},u.prototype.quadraticCurveTo=function(R,z,X,re){if(isNaN(X)||isNaN(re)||isNaN(R)||isNaN(z))throw Cn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new o(X,re)),ce=this.ctx.transform.applyToPoint(new o(R,z));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(oe.x,oe.y)},u.prototype.bezierCurveTo=function(R,z,X,re,oe,ce){if(isNaN(oe)||isNaN(ce)||isNaN(R)||isNaN(z)||isNaN(X)||isNaN(re))throw Cn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new o(oe,ce)),ee=this.ctx.transform.applyToPoint(new o(R,z)),ge=this.ctx.transform.applyToPoint(new o(X,re));this.path.push({type:"bct",x1:ee.x,y1:ee.y,x2:ge.x,y2:ge.y,x:be.x,y:be.y}),this.ctx.lastPoint=new o(be.x,be.y)},u.prototype.arc=function(R,z,X,re,oe,ce){if(isNaN(R)||isNaN(z)||isNaN(X)||isNaN(re)||isNaN(oe))throw Cn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new o(R,z));R=be.x,z=be.y;var ee=this.ctx.transform.applyToPoint(new o(0,X)),ge=this.ctx.transform.applyToPoint(new o(0,0));X=Math.sqrt(Math.pow(ee.x-ge.x,2)+Math.pow(ee.y-ge.y,2))}Math.abs(oe-re)>=2*Math.PI&&(re=0,oe=2*Math.PI),this.path.push({type:"arc",x:R,y:z,radius:X,startAngle:re,endAngle:oe,counterclockwise:ce})},u.prototype.arcTo=function(R,z,X,re,oe){throw new Error("arcTo not implemented.")},u.prototype.rect=function(R,z,X,re){if(isNaN(R)||isNaN(z)||isNaN(X)||isNaN(re))throw Cn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,z),this.lineTo(R+X,z),this.lineTo(R+X,z+re),this.lineTo(R,z+re),this.lineTo(R,z),this.lineTo(R+X,z),this.lineTo(R,z)},u.prototype.fillRect=function(R,z,X,re){if(isNaN(R)||isNaN(z)||isNaN(X)||isNaN(re))throw Cn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,z,X,re),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},u.prototype.strokeRect=function(R,z,X,re){if(isNaN(R)||isNaN(z)||isNaN(X)||isNaN(re))throw Cn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");h.call(this)||(this.beginPath(),this.rect(R,z,X,re),this.stroke())},u.prototype.clearRect=function(R,z,X,re){if(isNaN(R)||isNaN(z)||isNaN(X)||isNaN(re))throw Cn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,z,X,re))},u.prototype.save=function(R){R=typeof R!="boolean"||R;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new A(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},u.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(z),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(R){var z,X,re,oe;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))z=0,X=0,re=0,oe=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(ce!==null)z=parseInt(ce[1]),X=parseInt(ce[2]),re=parseInt(ce[3]),oe=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)z=parseInt(ce[1]),X=parseInt(ce[2]),re=parseInt(ce[3]),oe=parseFloat(ce[4]);else{if(oe=1,typeof R=="string"&&R.charAt(0)!=="#"){var be=new eX(R);R=be.ok?be.toHex():"#000000"}R.length===4?(z=R.substring(1,2),z+=z,X=R.substring(2,3),X+=X,re=R.substring(3,4),re+=re):(z=R.substring(1,3),X=R.substring(3,5),re=R.substring(5,7)),z=parseInt(z,16),X=parseInt(X,16),re=parseInt(re,16)}}return{r:z,g:X,b:re,a:oe,style:R}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},h=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(R,z,X,re){if(isNaN(z)||isNaN(X)||typeof R!="string")throw Cn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!f.call(this)){var oe=W(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;O.call(this,{text:R,x:z,y:X,scale:ce,angle:oe,align:this.textAlign,maxWidth:re})}},u.prototype.strokeText=function(R,z,X,re){if(isNaN(z)||isNaN(X)||typeof R!="string")throw Cn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!h.call(this)){re=isNaN(re)?void 0:re;var oe=W(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;O.call(this,{text:R,x:z,y:X,scale:ce,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:re})}},u.prototype.measureText=function(R){if(typeof R!="string")throw Cn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,X=this.pdf.internal.scaleFactor,re=z.internal.getFontSize(),oe=z.getStringUnitWidth(R)*re/z.internal.scaleFactor;return new function(ce){var be=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this}({width:oe*=Math.round(96*X/72*1e4)/1e4})},u.prototype.scale=function(R,z){if(isNaN(R)||isNaN(z))throw Cn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new c(R,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},u.prototype.rotate=function(R){if(isNaN(R))throw Cn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new c(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},u.prototype.translate=function(R,z){if(isNaN(R)||isNaN(z))throw Cn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new c(1,0,0,1,R,z);this.ctx.transform=this.ctx.transform.multiply(X)},u.prototype.transform=function(R,z,X,re,oe,ce){if(isNaN(R)||isNaN(z)||isNaN(X)||isNaN(re)||isNaN(oe)||isNaN(ce))throw Cn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new c(R,z,X,re,oe,ce);this.ctx.transform=this.ctx.transform.multiply(be)},u.prototype.setTransform=function(R,z,X,re,oe,ce){R=isNaN(R)?1:R,z=isNaN(z)?0:z,X=isNaN(X)?0:X,re=isNaN(re)?1:re,oe=isNaN(oe)?0:oe,ce=isNaN(ce)?0:ce,this.ctx.transform=new c(R,z,X,re,oe,ce)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(R,z,X,re,oe,ce,be,ee,ge){var xe=this.pdf.getImageProperties(R),ne=1,Ce=1,Ue=1,Q=1;re!==void 0&&ee!==void 0&&(Ue=ee/re,Q=ge/oe,ne=xe.width/re*ee/re,Ce=xe.height/oe*ge/oe),ce===void 0&&(ce=z,be=X,z=0,X=0),re!==void 0&&ee===void 0&&(ee=re,ge=oe),re===void 0&&ee===void 0&&(ee=xe.width,ge=xe.height);var ke=this.ctx.transform.decompose(),je=W(ke.rotate.shx),De=new c,Se=(De=(De=(De=De.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale)).applyToRectangle(new s(ce-z*Ue,be-X*Q,re*ne,oe*Ce));if(this.autoPaging){for(var qe,Ve=v.call(this,Se),ft=[],At=0;At<Ve.length;At+=1)ft.indexOf(Ve[At])===-1&&ft.push(Ve[At]);B(ft);for(var ze=ft[0],Ct=ft[ft.length-1],kt=ze;kt<Ct+1;kt++){this.pdf.setPage(kt);var Vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ht=kt===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=kt===1?0:nt+(kt-2)*Pt;if(this.ctx.clip_path.length!==0){var gr=this.path;qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(qe,this.posX+this.margin[3],-ct+Ht+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=gr}var Yt=JSON.parse(JSON.stringify(Se));Yt=w([Yt],this.posX+this.margin[3],-ct+Ht+this.ctx.prevPageLastElemOffset)[0];var Ut=(kt>ze||kt<Ct)&&p.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,Pt,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,je),Ut&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(R,"JPEG",Se.x,Se.y,Se.w,Se.h,null,null,je)};var v=function(R,z,X){var re=[];z=z||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":re.push(Math.floor((R.y+oe)/X)+1);break;case"arc":re.push(Math.floor((R.y+oe-R.radius)/X)+1),re.push(Math.floor((R.y+oe+R.radius)/X)+1);break;case"qct":var ce=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);re.push(Math.floor((ce.y+oe)/X)+1),re.push(Math.floor((ce.y+ce.h+oe)/X)+1);break;case"bct":var be=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);re.push(Math.floor((be.y+oe)/X)+1),re.push(Math.floor((be.y+be.h+oe)/X)+1);break;case"rect":re.push(Math.floor((R.y+oe)/X)+1),re.push(Math.floor((R.y+R.h+oe)/X)+1)}for(var ee=0;ee<re.length;ee+=1)for(;this.pdf.internal.getNumberOfPages()<re[ee];)m.call(this);return re},m=function(){var R=this.fillStyle,z=this.strokeStyle,X=this.font,re=this.lineCap,oe=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=z,this.font=X,this.lineCap=re,this.lineWidth=oe,this.lineJoin=ce},w=function(R,z,X){for(var re=0;re<R.length;re++)switch(R[re].type){case"bct":R[re].x2+=z,R[re].y2+=X;case"qct":R[re].x1+=z,R[re].y1+=X;default:R[re].x+=z,R[re].y+=X}return R},B=function(R){return R.sort(function(z,X){return z-X})},C=function(R,z){var X=this.fillStyle,re=this.strokeStyle,oe=this.lineCap,ce=this.lineWidth,be=Math.abs(ce*this.ctx.transform.scaleX),ee=this.lineJoin;if(this.autoPaging){for(var ge,xe,ne=JSON.parse(JSON.stringify(this.path)),Ce=JSON.parse(JSON.stringify(this.path)),Ue=[],Q=0;Q<Ce.length;Q++)if(Ce[Q].x!==void 0)for(var ke=v.call(this,Ce[Q]),je=0;je<ke.length;je+=1)Ue.indexOf(ke[je])===-1&&Ue.push(ke[je]);for(var De=0;De<Ue.length;De++)for(;this.pdf.internal.getNumberOfPages()<Ue[De];)m.call(this);B(Ue);for(var Se=Ue[0],qe=Ue[Ue.length-1],Ve=Se;Ve<qe+1;Ve++){this.pdf.setPage(Ve),this.fillStyle=X,this.strokeStyle=re,this.lineCap=oe,this.lineWidth=be,this.lineJoin=ee;var ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=Ve===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kt=Ve===1?0:ze+(Ve-2)*Ct;if(this.ctx.clip_path.length!==0){var Vt=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ge,this.posX+this.margin[3],-kt+At+this.ctx.prevPageLastElemOffset),S.call(this,R,!0),this.path=Vt}if(xe=JSON.parse(JSON.stringify(ne)),this.path=w(xe,this.posX+this.margin[3],-kt+At+this.ctx.prevPageLastElemOffset),z===!1||Ve===0){var Ht=(Ve>Se||Ve<qe)&&p.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,Ct,null).clip().discardPath()),S.call(this,R,z),Ht&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}this.path=ne}else this.lineWidth=be,S.call(this,R,z),this.lineWidth=ce},S=function(R,z){if((R!=="stroke"||z||!h.call(this))&&(R==="stroke"||z||!f.call(this))){for(var X,re,oe=[],ce=this.path,be=0;be<ce.length;be++){var ee=ce[be];switch(ee.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:ee,deltas:[],abs:[]});break;case"lt":var ge=oe.length;if(ce[be-1]&&!isNaN(ce[be-1].x)&&(X=[ee.x-ce[be-1].x,ee.y-ce[be-1].y],ge>0)){for(;ge>=0;ge--)if(oe[ge-1].close!==!0&&oe[ge-1].begin!==!0){oe[ge-1].deltas.push(X),oe[ge-1].abs.push(ee);break}}break;case"bct":X=[ee.x1-ce[be-1].x,ee.y1-ce[be-1].y,ee.x2-ce[be-1].x,ee.y2-ce[be-1].y,ee.x-ce[be-1].x,ee.y-ce[be-1].y],oe[oe.length-1].deltas.push(X);break;case"qct":var xe=ce[be-1].x+2/3*(ee.x1-ce[be-1].x),ne=ce[be-1].y+2/3*(ee.y1-ce[be-1].y),Ce=ee.x+2/3*(ee.x1-ee.x),Ue=ee.y+2/3*(ee.y1-ee.y),Q=ee.x,ke=ee.y;X=[xe-ce[be-1].x,ne-ce[be-1].y,Ce-ce[be-1].x,Ue-ce[be-1].y,Q-ce[be-1].x,ke-ce[be-1].y],oe[oe.length-1].deltas.push(X);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(ee)}}re=z?null:R==="stroke"?"stroke":"fill";for(var je=!1,De=0;De<oe.length;De++)if(oe[De].arc)for(var Se=oe[De].abs,qe=0;qe<Se.length;qe++){var Ve=Se[qe];Ve.type==="arc"?F.call(this,Ve.x,Ve.y,Ve.radius,Ve.startAngle,Ve.endAngle,Ve.counterclockwise,void 0,z,!je):H.call(this,Ve.x,Ve.y),je=!0}else if(oe[De].close===!0)this.pdf.internal.out("h"),je=!1;else if(oe[De].begin!==!0){var ft=oe[De].start.x,At=oe[De].start.y;$.call(this,oe[De].deltas,ft,At),je=!0}re&&P.call(this,re),z&&U.call(this)}},k=function(R){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-X;case"top":return R+z-X;case"hanging":return R+z-2*X;case"middle":return R+z/2-X;default:return R}},_=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(z,X){this.colorStops.push([z,X])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(R,z,X,re,oe,ce,be,ee,ge){for(var xe=ae.call(this,X,re,oe,ce),ne=0;ne<xe.length;ne++){var Ce=xe[ne];ne===0&&(ge?T.call(this,Ce.x1+R,Ce.y1+z):H.call(this,Ce.x1+R,Ce.y1+z)),Z.call(this,R,z,Ce.x2,Ce.y2,Ce.x3,Ce.y3,Ce.x4,Ce.y4)}ee?U.call(this):P.call(this,be)},P=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(R,z){this.pdf.internal.out(n(R)+" "+r(z)+" m")},O=function(R){var z;switch(R.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var X,re,oe,ce=this.pdf.getTextDimensions(R.text),be=k.call(this,R.y),ee=_.call(this,be)-ce.h,ge=this.ctx.transform.applyToPoint(new o(R.x,be));if(this.autoPaging){var xe=this.ctx.transform.decompose(),ne=new c;ne=(ne=(ne=ne.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var Ce=this.ctx.transform.applyToRectangle(new s(R.x,be,ce.w,ce.h)),Ue=ne.applyToRectangle(new s(R.x,ee,ce.w,ce.h)),Q=v.call(this,Ue),ke=[],je=0;je<Q.length;je+=1)ke.indexOf(Q[je])===-1&&ke.push(Q[je]);B(ke);for(var De=ke[0],Se=ke[ke.length-1],qe=De;qe<Se+1;qe++){this.pdf.setPage(qe);var Ve=qe===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[2],ze=At-this.margin[0],Ct=this.pdf.internal.pageSize.width-this.margin[1],kt=Ct-this.margin[3],Vt=qe===1?0:ft+(qe-2)*ze;if(this.ctx.clip_path.length!==0){var Ht=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(X,this.posX+this.margin[3],-1*Vt+Ve),S.call(this,"fill",!0),this.path=Ht}var nt=w([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-Vt+Ve+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*R.scale),oe=this.lineWidth,this.lineWidth=oe*R.scale);var Pt=this.autoPaging!=="text";if(Pt||nt.y+nt.h<=At){if(Pt||nt.y>=Ve&&nt.x<=Ct){var ct=Pt?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||Ct-nt.x)[0],gr=w([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-Vt+Ve+this.ctx.prevPageLastElemOffset)[0],Yt=Pt&&(qe>De||qe<Se)&&p.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,ze,null).clip().discardPath()),this.pdf.text(ct,gr.x,gr.y,{angle:R.angle,align:z,renderingMode:R.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else nt.y<At&&(this.ctx.prevPageLastElemOffset+=At-nt.y);R.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=oe)}}else R.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*R.scale),oe=this.lineWidth,this.lineWidth=oe*R.scale),this.pdf.text(R.text,ge.x+this.posX,ge.y+this.posY,{angle:R.angle,align:z,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=oe)},H=function(R,z,X,re){X=X||0,re=re||0,this.pdf.internal.out(n(R+X)+" "+r(z+re)+" l")},$=function(R,z,X){return this.pdf.lines(R,z,X,null,null)},Z=function(R,z,X,re,oe,ce,be,ee){this.pdf.internal.out([t(i(X+R)),t(a(re+z)),t(i(oe+R)),t(a(ce+z)),t(i(be+R)),t(a(ee+z)),"c"].join(" "))},ae=function(R,z,X,re){for(var oe=2*Math.PI,ce=Math.PI/2;z>X;)z-=oe;var be=Math.abs(X-z);be<oe&&re&&(be=oe-be);for(var ee=[],ge=re?-1:1,xe=z;be>1e-5;){var ne=xe+ge*Math.min(be,ce);ee.push(ie.call(this,R,xe,ne)),be-=Math.abs(ne-xe),xe=ne}return ee},ie=function(R,z,X){var re=(X-z)/2,oe=R*Math.cos(re),ce=R*Math.sin(re),be=oe,ee=-ce,ge=be*be+ee*ee,xe=ge+be*oe+ee*ce,ne=4/3*(Math.sqrt(2*ge*xe)-xe)/(be*ce-ee*oe),Ce=be-ne*ee,Ue=ee+ne*be,Q=Ce,ke=-Ue,je=re+z,De=Math.cos(je),Se=Math.sin(je);return{x1:R*Math.cos(z),y1:R*Math.sin(z),x2:Ce*De-Ue*Se,y2:Ce*Se+Ue*De,x3:Q*De-ke*Se,y3:Q*Se+ke*De,x4:R*Math.cos(X),y4:R*Math.sin(X)}},W=function(R){return 180*R/Math.PI},te=function(R,z,X,re,oe,ce){var be=R+.5*(X-R),ee=z+.5*(re-z),ge=oe+.5*(X-oe),xe=ce+.5*(re-ce),ne=Math.min(R,oe,be,ge),Ce=Math.max(R,oe,be,ge),Ue=Math.min(z,ce,ee,xe),Q=Math.max(z,ce,ee,xe);return new s(ne,Ue,Ce-ne,Q-Ue)},de=function(R,z,X,re,oe,ce,be,ee){var ge,xe,ne,Ce,Ue,Q,ke,je,De,Se,qe,Ve,ft,At,ze=X-R,Ct=re-z,kt=oe-X,Vt=ce-re,Ht=be-oe,nt=ee-ce;for(xe=0;xe<41;xe++)De=(ke=(ne=R+(ge=xe/40)*ze)+ge*((Ue=X+ge*kt)-ne))+ge*(Ue+ge*(oe+ge*Ht-Ue)-ke),Se=(je=(Ce=z+ge*Ct)+ge*((Q=re+ge*Vt)-Ce))+ge*(Q+ge*(ce+ge*nt-Q)-je),xe==0?(qe=De,Ve=Se,ft=De,At=Se):(qe=Math.min(qe,De),Ve=Math.min(Ve,Se),ft=Math.max(ft,De),At=Math.max(At,Se));return new s(Math.round(qe),Math.round(Ve),Math.round(ft-qe),Math.round(At-Ve))},pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,z,X=(R=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:z}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(at.API),function(e){var t=function(o){var s,c,l,A,u,d,f,h,p,v;for(c=[],l=0,A=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;A>l;l+=4)(u=(o.charCodeAt(l)<<24)+(o.charCodeAt(l+1)<<16)+(o.charCodeAt(l+2)<<8)+o.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(v=u%85))/85)-(p=u%85))/85)-(h=u%85))/85)-(f=u%85))/85)%85,c.push(d+33,f+33,h+33,p+33,v+33)):c.push(122);return function(m,w){for(var B=w;B>0;B--)m.pop()}(c,s.length),String.fromCharCode.apply(String,c)+"~>"},n=function(o){var s,c,l,A,u,d=String,f="length",h=255,p="charCodeAt",v="slice",m="replace";for(o[v](-2),o=o[v](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),l=[],A=0,u=(o+=s="uuuuu"[v](o[f]%5||5))[f];u>A;A+=5)c=52200625*(o[p](A)-33)+614125*(o[p](A+1)-33)+7225*(o[p](A+2)-33)+85*(o[p](A+3)-33)+(o[p](A+4)-33),l.push(h&c>>24,h&c>>16,h&c>>8,h&c);return function(w,B){for(var C=B;C>0;C--)w.pop()}(l,s[f]),d.fromCharCode.apply(d,l)},r=function(o){return o.split("").map(function(s){return("0"+s.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var c="",l=0;l<o.length;l+=2)c+=String.fromCharCode("0x"+(o[l]+o[l+1]));return c},a=function(o){for(var s=new Uint8Array(o.length),c=o.length;c--;)s[c]=o.charCodeAt(c);return(s=bE(s)).reduce(function(l,A){return l+String.fromCharCode(A)},"")};e.processDataByFilters=function(o,s){var c=0,l=o||"",A=[];for(typeof(s=s||[])=="string"&&(s=[s]),c=0;c<s.length;c+=1)switch(s[c]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=r(l),A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[c]+'" is not implemented')}return{data:l,reverseChain:A.reverse().join(" ")}}}(at.API),function(e){e.loadFile=function(t,n,r){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(c,l,A){var u=new XMLHttpRequest,d=0,f=function(h){var p=h.length,v=[],m=String.fromCharCode;for(d=0;d<p;d+=1)v.push(m(255&h.charCodeAt(d)));return v.join("")};if(u.open("GET",c,!l),u.overrideMimeType("text/plain; charset=x-user-defined"),l===!1&&(u.onload=function(){u.status===200?A(f(this.responseText)):A(void 0)}),u.send(null),l&&u.status===200)return f(u.responseText)}(i,a,o)}catch{}return s}(t,n,r)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(at.API),function(e){function t(){return(wt.html2canvas?Promise.resolve(wt.html2canvas):LS(()=>Promise.resolve().then(()=>MTe),void 0)).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function n(){return(wt.DOMPurify?Promise.resolve(wt.DOMPurify):LS(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var c=pn(s);return c==="undefined"?"undefined":c==="string"||s instanceof String?"string":c==="number"||s instanceof Number?"number":c==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(s,c){var l=document.createElement(s);for(var A in c.className&&(l.className=c.className),c.innerHTML&&c.dompurify&&(l.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)l.style[A]=c.style[A];return l},a=function s(c,l){for(var A=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),u=c.firstChild;u;u=u.nextSibling)l!==!0&&u.nodeType===1&&u.nodeName==="SCRIPT"||A.appendChild(s(u,l));return c.nodeType===1&&(c.nodeName==="CANVAS"?(A.width=c.width,A.height=c.height,A.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(A.value=c.value),A.addEventListener("load",function(){A.scrollTop=c.scrollTop,A.scrollLeft=c.scrollLeft},!0)),A},o=function s(c){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),A=s.convert(Promise.resolve(),l);return(A=A.setProgress(1,s,1,[s])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,c){return s.__proto__=c||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,c){return this.then(function(){switch(c=c||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s),c){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(c){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,c(this.prop.container,l)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(c){var l=this.opt.jsPDF,A=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=A,A)for(var f=0;f<A.length;++f){var h=A[f],p=h.src.find(function(v){return v.format==="truetype"});p&&l.addFont(p.url,h.ref.name,h.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),c(this.prop.container,d)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,c,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,c):this.outputPdf(s,c)},o.prototype.outputPdf=function(s,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,c)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(r(s)!=="object")return this;var c=Object.keys(s||{}).map(function(l){if(l in o.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(s,c){return this.then(function(){var l=s in o.template.prop?this.prop[s]:this.opt[s];return c?c(l):l})},o.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function c(l,A){return Math.floor(l*A/72*96)}return this.then(function(){(s=s||at.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:c(s.inner.width,s.k),height:c(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,c,l,A){return s!=null&&(this.progress.val=s),c!=null&&(this.progress.state=c),l!=null&&(this.progress.n=l),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,c,l,A){return this.setProgress(s?this.progress.val+s:null,c||null,l?this.progress.n+l:null,A?this.progress.stack.concat(A):null)},o.prototype.then=function(s,c){var l=this;return this.thenCore(s,c,function(A,u){return l.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,A),d}).then(A,u).then(function(d){return l.updateProgress(1),d})})},o.prototype.thenCore=function(s,c,l){l=l||Promise.prototype.then;var A=this;s&&(s=s.bind(A)),c&&(c=c.bind(A));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?A:o.convert(Object.assign({},A),Promise.prototype),d=l.call(u,s,c);return o.convert(d,A.__proto__)},o.prototype.thenExternal=function(s,c){return Promise.prototype.then.call(this,s,c)},o.prototype.thenList=function(s){var c=this;return s.forEach(function(l){c=c.thenCore(l)}),c},o.prototype.catch=function(s){s&&(s=s.bind(this));var c=Promise.prototype.catch.call(this,s);return o.convert(c,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,at.getPageSize=function(s,c,l){if(pn(s)==="object"){var A=s;s=A.orientation,c=A.unit||c,l=A.format||l}c=c||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+c}var h,p=0,v=0;if(f.hasOwnProperty(d))p=f[d][1]/u,v=f[d][0]/u;else try{p=l[1],v=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",v>p&&(h=v,v=p,p=h);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",p>v&&(h=v,v=p,p=h)}return{width:v,height:p,unit:c,k:u,orientation:s}},e.html=function(s,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(JS):null;var l=new o(c);return c.worker?l:l.from(s).doCallback()}}(at.API),at.API.addJS=function(e){var t,n,r=function(i){for(var a="",o=0;o<i.length;o++){var s=i[o];if(s==="("||s===")"){for(var c=0,l=o-1;l>=0&&i[l]==="\\";l--)c++;a+=c%2==0?"\\"+s:s}else a+=s}return a}(e);return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=r.exec(o);if(s!=null){var c=s[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,A=[];for(a=0;a<l;a++){var u=n.internal.newObject();A.push(u);var d=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<A.length;a++)n.internal.write("(page_"+(a+1)+")"+A[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var c=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var l=0;l<r.children.length;l++)this.renderItems(r.children[l])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(at.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,a,o,s){var c,l=this.decode.DCT_DECODE,A=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=function(u){for(var d,f=256*u.charCodeAt(4)+u.charCodeAt(5),h=u.length,p={width:0,height:0,numcomponents:1},v=4;v<h;v+=2){if(v+=f,t.indexOf(u.charCodeAt(v+1))!==-1){d=256*u.charCodeAt(v+5)+u.charCodeAt(v+6),p={width:256*u.charCodeAt(v+7)+u.charCodeAt(v+8),height:d,numcomponents:u.charCodeAt(v+9)};break}f=256*u.charCodeAt(v+2)+u.charCodeAt(v+3)}return p}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}A={data:n,width:c.width,height:c.height,colorSpace:s,bitsPerComponent:8,filter:l,index:r,alias:i}}return A}}(at.API),at.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=HBe(e,{checkCrc:!0}),o=a.width,s=a.height,c=a.channels,l=a.palette,A=a.depth;i=l&&c===1?function(F){for(var P=F.width,U=F.height,T=F.data,O=F.palette,H=F.depth,$=!1,Z=[],ae=[],ie=void 0,W=!1,te=0,de=0;de<O.length;de++){var pe=gR(O[de],4),R=pe[0],z=pe[1],X=pe[2],re=pe[3];Z.push(R,z,X),re!=null&&(re===0?(te++,ae.length<1&&ae.push(de)):re<255&&(W=!0))}if(W||te>1){$=!0,ae=void 0;var oe=P*U;ie=new Uint8Array(oe);for(var ce=new DataView(T.buffer),be=0;be<oe;be++){var ee=ex(ce,be,H),ge=gR(O[ee],4)[3];ie[be]=ge}}else te===0&&(ae=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:$?8:void 0,colorBytes:T,alphaBytes:ie,needSMask:$,palette:Z,mask:ae}}(a):c===2||c===4?function(F){for(var P=F.data,U=F.width,T=F.height,O=F.channels,H=F.depth,$=O===2?"DeviceGray":"DeviceRGB",Z=O-1,ae=U*T,ie=Z,W=ae*ie,te=1*ae,de=Math.ceil(W*H/8),pe=Math.ceil(te*H/8),R=new Uint8Array(de),z=new Uint8Array(pe),X=new DataView(P.buffer),re=new DataView(R.buffer),oe=new DataView(z.buffer),ce=!1,be=0;be<ae;be++){for(var ee=be*O,ge=0;ge<ie;ge++)yD(re,ex(X,ee+ge,H),be*ie+ge,H);var xe=ex(X,ee+ie,H);xe<(1<<H)-1&&(ce=!0),yD(oe,xe,1*be,H)}return{colorSpace:$,colorsPerPixel:Z,sMaskBitsPerComponent:ce?H:void 0,colorBytes:R,alphaBytes:z,needSMask:ce}}(a):function(F){var P=F.data,U=F.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:U,colorsPerPixel:U==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?function(T){for(var O=T.length,H=new Uint8Array(2*O),$=new DataView(H.buffer,H.byteOffset,H.byteLength),Z=0;Z<O;Z++)$.setUint16(2*Z,T[Z],!1);return H}(P):P,needSMask:!1}}(a);var u,d,f,h=i,p=h.colorSpace,v=h.colorsPerPixel,m=h.sMaskBitsPerComponent,w=h.colorBytes,B=h.alphaBytes,C=h.needSMask,S=h.palette,k=h.mask,_=null;return r!==at.API.image_compression.NONE&&typeof bE=="function"?(_=function(F){var P;switch(F){case at.API.image_compression.FAST:P=11;break;case at.API.image_compression.MEDIUM:P=13;break;case at.API.image_compression.SLOW:P=14;break;default:P=12}return P}(r),u=this.decode.FLATE_DECODE,d="/Predictor ".concat(_," /Colors ").concat(v," /BitsPerComponent ").concat(A," /Columns ").concat(o),e=hD(w,Math.ceil(o*v*A/8),v,A,r),C&&(f=hD(B,Math.ceil(o*m/8),1,m,r))):(u=void 0,d=void 0,e=w,C&&(f=B)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:n,data:e,index:t,filter:u,decodeParameters:d,transparency:k,palette:S,sMask:f,predictor:_,width:o,height:s,bitsPerComponent:A,sMaskBitsPerComponent:m,colorSpace:p}}},function(e){e.processGIF89A=function(t,n,r,i){var a=new l4e(t),o=a.width,s=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var l={data:c,width:o,height:s},A=new tx(100).encode(l,100);return e.processJPEG.call(this,A,n,r,i)},e.processGIF87A=e.processGIF89A}(at.API),_s.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},_s.prototype.parseBGR=function(){this.pos=this.offset;var e="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[e]()}catch(n){Cn.log("bit decode error:"+n)}},_s.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var c=this.palette[a>>7-s&1];this.data[o+4*s]=c.blue,this.data[o+4*s+1]=c.green,this.data[o+4*s+2]=c.red,this.data[o+4*s+3]=255}n!==0&&(this.pos+=4-n)}},_s.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,s=a>>4,c=15&a,l=this.palette[s];if(this.data[o]=l.blue,this.data[o+1]=l.green,this.data[o+2]=l.red,this.data[o+3]=255,2*i+1>=this.width)break;l=this.palette[c],this.data[o+4]=l.blue,this.data[o+4+1]=l.green,this.data[o+4+2]=l.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},_s.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},_s.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,s=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,l=a>>15?255:0,A=r*this.width*4+4*i;this.data[A]=c,this.data[A+1]=s,this.data[A+2]=o,this.data[A+3]=l}this.pos+=e}},_s.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,c=(o>>5&n)/n*255|0,l=(o>>11)/t*255|0,A=i*this.width*4+4*a;this.data[A]=l,this.data[A+1]=c,this.data[A+2]=s,this.data[A+3]=255}this.pos+=e}},_s.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},_s.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=o}},_s.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var a=new _s(t,!1),o=a.width,s=a.height,c={data:a.getData(),width:o,height:s},l=new tx(100).encode(c,100);return e.processJPEG.call(this,l,n,r,i)}}(at.API),wD.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var a=new wD(t),o=a.width,s=a.height,c={data:a.getData(),width:o,height:s},l=new tx(100).encode(c,100);return e.processJPEG.call(this,l,n,r,i)}}(at.API),at.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,c=0,l=0;l<i;l+=4){var A=r[l],u=r[l+1],d=r[l+2],f=r[l+3];a[s++]=A,a[s++]=u,a[s++]=d,o[c++]=f}var h=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:h,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},at.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},mh=at.API,Yy=mh.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:i.metadata.Unicode.widths,c=s.fof?s.fof:1,l=t.kerning?t.kerning:i.metadata.Unicode.kerning,A=l.fof?l.fof:1,u=t.doKerning!==!1,d=0,f=e.length,h=0,p=s[0]||c,v=[];for(n=0;n<f;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(d=u&&pn(l[r])==="object"&&!isNaN(parseInt(l[r][h],10))?l[r][h]/A:0,v.push((s[r]||p)/c+d)),h=r;return v},uD=mh.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return mh.processArabic&&(e=mh.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:Yy.apply(this,arguments).reduce(function(a,o){return a+o},0)},dD=function(e,t,n,r){for(var i=[],a=0,o=e.length,s=0;a!==o&&s+t[a]<n;)s+=t[a],a++;i.push(e.slice(0,a));var c=a;for(s=0;a!==o;)s+t[a]>r&&(i.push(e.slice(c,a)),s=0,c=a),s+=t[a],a++;return c!==a&&i.push(e.slice(c,a)),i},fD=function(e,t,n){n||(n={});var r,i,a,o,s,c,l,A=[],u=[A],d=n.textIndent||0,f=0,h=0,p=e.split(" "),v=Yy.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?p[0].length+2:n.lineIndent||0){var m=Array(c).join(" "),w=[];p.map(function(C){(C=C.split(/\s*\n/)).length>1?w=w.concat(C.map(function(S,k){return(k&&S.length?`
`:"")+S})):w.push(C[0])}),p=w,c=uD.apply(this,[m,n])}for(a=0,o=p.length;a<o;a++){var B=0;if(r=p[a],c&&r[0]==`
`&&(r=r.substr(1),B=1),d+f+(h=(i=Yy.apply(this,[r,n])).reduce(function(C,S){return C+S},0))>t||B){if(h>t){for(s=dD.apply(this,[r,i,t-(d+f),t]),A.push(s.shift()),A=[s.pop()];s.length;)u.push([s.shift()]);h=i.slice(r.length-(A[0]?A[0].length:0)).reduce(function(C,S){return C+S},0)}else A=[r];u.push(A),d=h+c,f=v}else A.push(r),d+=f+h,f=v}return l=c?function(C,S){return(S?m:"")+C.join(" ")}:function(C){return C.join(" ")},u.map(l)},mh.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(A){if(A.widths&&A.kerning)return{widths:A.widths,kerning:A.kerning};var u=this.internal.getFont(A.fontName,A.fontStyle),d="Unicode";return u.metadata[d]?{widths:u.metadata[d].widths||{0:1},kerning:u.metadata[d].kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var s,c,l=[];for(s=0,c=r.length;s<c;s++)l=l.concat(fD.apply(this,[r[s],o,a]));return l},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=t[a],i[t[a]]=n[a];var o=function(d){return"0x"+parseInt(d,10).toString(16)},s=e.__fontmetrics__.compress=function(d){var f,h,p,v,m=["{"];for(var w in d){if(f=d[w],isNaN(parseInt(w,10))?h="'"+w+"'":(w=parseInt(w,10),h=(h=o(w).slice(2)).slice(0,-1)+i[h.slice(-1)]),typeof f=="number")f<0?(p=o(f).slice(3),v="-"):(p=o(f).slice(2),v=""),p=v+p.slice(0,-1)+i[p.slice(-1)];else{if(pn(f)!=="object")throw new Error("Don't know what to do with value type "+pn(f)+".");p=s(f)}m.push(h+p)}return m.push("}"),m.join("")},c=e.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,h,p,v,m={},w=1,B=m,C=[],S="",k="",_=d.length-1,F=1;F<_;F+=1)(v=d[F])=="'"?f?(p=f.join(""),f=void 0):f=[]:f?f.push(v):v=="{"?(C.push([B,p]),B={},p=void 0):v=="}"?((h=C.pop())[0][h[1]]=B,p=void 0,B=h[0]):v=="-"?w=-1:p===void 0?r.hasOwnProperty(v)?(S+=r[v],p=parseInt(S,16)*w,w=1,S=""):S+=v:r.hasOwnProperty(v)?(k+=r[v],B[p]=parseInt(k,16)*w,w=1,p=void 0,k=""):k+=v;return m},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(d){var f=d.font,h=u.Unicode[f.postScriptName];h&&(f.metadata.Unicode={},f.metadata.Unicode.widths=h.widths,f.metadata.Unicode.kerning=h.kerning);var p=A.Unicode[f.postScriptName];p&&(f.metadata.Unicode.encoding=p,f.encoding=p.codePages[0])}])}(at.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(eb(s)),o.metadata=e.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(at),at.API.addSvgAsImage=function(e,t,n,r,i,a,o,s){if(isNaN(t)||isNaN(n))throw Cn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Cn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var l=c.getContext("2d");l.fillStyle="#fff",l.fillRect(0,0,c.width,c.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},u=this;return(wt.canvg?Promise.resolve(wt.canvg):LS(()=>import("./index.es-DrgLe-gl.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load canvg: "+d))}).then(function(d){return d.default?d.default:d}).then(function(d){return d.fromString(l,e,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(d){return d.render(A)}).then(function(){u.addImage(c.toDataURL("image/jpeg",1),t,n,r,i,o,s)})},at.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},at.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),c=[],l=0,A=0,u=0;function d(h,p){var v,m=!1;for(v=0;v<h.length;v+=1)h[v]===p&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=s.length;for(u=0;u<f;u+=1)n[s[u]].value=n[s[u]].defaultValue,n[s[u]].explicitSet=!1}if(pn(e)==="object"){for(i in e)if(a=e[i],d(s,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&d(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(l=0;l<a.length;l+=1)if(r=!0,a[l].length===1&&typeof a[l][0]=="number")c.push(String(a[l]-1));else if(a[l].length>1){for(A=0;A<a[l].length;A+=1)typeof a[l][A]!="number"&&(r=!1);r===!0&&c.push([a[l][0]-1,a[l][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var h,p=[];for(h in n)n[h].explicitSet===!0&&(n[h].type==="name"?p.push("/"+h+" /"+n[h].value):p.push("/"+h+" "+n[h].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},at.API.addMetadata=function(e,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",u4e),this.internal.events.subscribe("postPutResources",A4e)),this},function(e){var t=e.API,n=t.pdfEscape16=function(a,o){for(var s,c=o.metadata.Unicode.widths,l=["","0","00","000","0000"],A=[""],u=0,d=a.length;u<d;++u){if(s=o.metadata.characterToGlyph(a.charCodeAt(u)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(u),c.indexOf(s)==-1&&(c.push(s),c.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return A.join("");s=s.toString(16),A.push(l[4-s.length],s)}return A.join("")},r=function(a){var o,s,c,l,A,u,d;for(A=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],u=0,d=(s=Object.keys(a).sort(function(f,h){return f-h})).length;u<d;u++)o=s[u],c.length>=100&&(A+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(l=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+l+">"));return c.length&&(A+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),A+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var s=o.font,c=o.out,l=o.newObject,A=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="Identity-H"){for(var u=s.metadata.Unicode.widths,d=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),f="",h=0;h<d.length;h++)f+=String.fromCharCode(d[h]);var p=l();A({data:f,addLength1:!0,objectId:p}),c("endobj");var v=l();A({data:r(s.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var m=l();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+_h(s.fontName)),c("/FontFile2 "+p+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),c("/Flags "+s.metadata.flags),c("/StemV "+s.metadata.stemV),c("/ItalicAngle "+s.metadata.italicAngle),c("/Ascent "+s.metadata.ascender),c("/Descent "+s.metadata.decender),c("/CapHeight "+s.metadata.capHeight),c(">>"),c("endobj");var w=l();c("<<"),c("/Type /Font"),c("/BaseFont /"+_h(s.fontName)),c("/FontDescriptor "+m+" 0 R"),c("/W "+e.API.PDFObject.convert(u)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+s.encoding+")"),c(">>"),c(">>"),c("endobj"),s.objectNumber=l(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+_h(s.fontName)),c("/Encoding /"+s.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),s.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var s=o.font,c=o.out,l=o.newObject,A=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var u=s.metadata.rawData,d="",f=0;f<u.length;f++)d+=String.fromCharCode(u[f]);var h=l();A({data:d,addLength1:!0,objectId:h}),c("endobj");var p=l();A({data:r(s.metadata.toUnicode),addLength1:!0,objectId:p}),c("endobj");var v=l();c("<<"),c("/Descent "+s.metadata.decender),c("/CapHeight "+s.metadata.capHeight),c("/StemV "+s.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+h+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),c("/FontName /"+_h(s.fontName)),c("/ItalicAngle "+s.metadata.italicAngle),c("/Ascent "+s.metadata.ascender),c(">>"),c("endobj"),s.objectNumber=l();for(var m=0;m<s.metadata.hmtx.widths.length;m++)s.metadata.hmtx.widths[m]=parseInt(s.metadata.hmtx.widths[m]*(1e3/s.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+_h(s.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),c("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",c=a.x,l=a.y,A=a.options||{},u=a.mutex||{},d=u.pdfEscape,f=u.activeFontKey,h=u.fonts,p=f,v="",m=0,w="",B=h[p].encoding;if(h[p].encoding!=="Identity-H")return{text:s,x:c,y:l,options:A,mutex:u};for(w=s,p=f,Array.isArray(s)&&(w=s[0]),m=0;m<w.length;m+=1)h[p].metadata.hasOwnProperty("cmap")&&(o=h[p].metadata.cmap.unicode.codeMap[w[m].charCodeAt(0)]),o||w[m].charCodeAt(0)<256&&h[p].metadata.hasOwnProperty("Unicode")?v+=w[m]:v+="";var C="";return parseInt(p.slice(1))<14||B==="WinAnsiEncoding"?C=d(v,p).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):B==="Identity-H"&&(C=n(v,h[p])),u.isHex=!0,{text:C,x:c,y:l,options:A,mutex:u}};t.events.push(["postProcessText",function(a){var o=a.text||"",s=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var l=0;for(l=0;l<o.length;l+=1)Array.isArray(o[l])&&o[l].length===3?s.push([i(Object.assign({},c,{text:o[l][0]})).text,o[l][1],o[l][2]]):s.push(i(Object.assign({},c,{text:o[l]})).text);a.text=s}else a.text=i(Object.assign({},c,{text:o})).text}])}(at),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(at.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,o,s,c,l,A,u=t,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,B=0;this.__bidiEngine__={};var C=function(T){var O=T.charCodeAt(),H=O>>8,$=p[H];return $!==void 0?u[256*$+(255&O)]:H===252||H===253?"AL":m.test(H)?"L":H===8?"R":"N"},S=function(T){for(var O,H=0;H<T.length;H++){if((O=C(T.charAt(H)))==="L")return!1;if(O==="R")return!0}return!1},k=function(T,O,H,$){var Z,ae,ie,W,te=O[$];switch(te){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(te="AN");break;case"AL":w=!0,te="R";break;case"WS":case"BN":te="N";break;case"CS":$<1||$+1>=O.length||(Z=H[$-1])!=="EN"&&Z!=="AN"||(ae=O[$+1])!=="EN"&&ae!=="AN"?te="N":w&&(ae="AN"),te=ae===Z?ae:"N";break;case"ES":te=(Z=$>0?H[$-1]:"B")==="EN"&&$+1<O.length&&O[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&H[$-1]==="EN"){te="EN";break}if(w){te="N";break}for(ie=$+1,W=O.length;ie<W&&O[ie]==="ET";)ie++;te=ie<W&&O[ie]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(W=O.length,ie=$+1;ie<W&&O[ie]==="NSM";)ie++;if(ie<W){var de=T[$],pe=de>=1425&&de<=2303||de===64286;if(Z=O[ie],pe&&(Z==="R"||Z==="AL")){te="R";break}}}te=$<1||(Z=O[$-1])==="B"?"N":H[$-1];break;case"B":w=!1,i=!0,te=B;break;case"S":a=!0,te="N"}return te},_=function(T,O,H){var $=T.split("");return H&&F($,H,{hiLevel:B}),$.reverse(),O&&O.reverse(),$.join("")},F=function(T,O,H){var $,Z,ae,ie,W,te=-1,de=T.length,pe=0,R=[],z=B?f:d,X=[];for(w=!1,i=!1,a=!1,Z=0;Z<de;Z++)X[Z]=C(T[Z]);for(ae=0;ae<de;ae++){if(W=pe,R[ae]=k(T,X,R,ae),$=240&(pe=z[W][h[R[ae]]]),pe&=15,O[ae]=ie=z[pe][5],$>0)if($===16){for(Z=te;Z<ae;Z++)O[Z]=1;te=-1}else te=-1;if(z[pe][6])te===-1&&(te=ae);else if(te>-1){for(Z=te;Z<ae;Z++)O[Z]=ie;te=-1}X[ae]==="B"&&(O[ae]=0),H.hiLevel|=ie}a&&function(re,oe,ce){for(var be=0;be<ce;be++)if(re[be]==="S"){oe[be]=B;for(var ee=be-1;ee>=0&&re[ee]==="WS";ee--)oe[ee]=B}}(X,O,de)},P=function(T,O,H,$,Z){if(!(Z.hiLevel<T)){if(T===1&&B===1&&!i)return O.reverse(),void(H&&H.reverse());for(var ae,ie,W,te,de=O.length,pe=0;pe<de;){if($[pe]>=T){for(W=pe+1;W<de&&$[W]>=T;)W++;for(te=pe,ie=W-1;te<ie;te++,ie--)ae=O[te],O[te]=O[ie],O[ie]=ae,H&&(ae=H[te],H[te]=H[ie],H[ie]=ae);pe=W}pe++}}},U=function(T,O,H){var $=T.split(""),Z={hiLevel:B};return H||(H=[]),F($,H,Z),function(ae,ie,W){if(W.hiLevel!==0&&A)for(var te,de=0;de<ae.length;de++)ie[de]===1&&(te=v.indexOf(ae[de]))>=0&&(ae[de]=v[te+1])}($,H,Z),P(2,$,O,H,Z),P(1,$,O,H,Z),$.join("")};return this.__bidiEngine__.doBidiReorder=function(T,O,H){if(function(Z,ae){if(ae)for(var ie=0;ie<Z.length;ie++)ae[ie]=ie;s===void 0&&(s=S(Z)),l===void 0&&(l=S(Z))}(T,O),o||!c||l)if(o&&c&&s^l)B=s?1:0,T=_(T,O,H);else if(!o&&c&&l)B=s?1:0,T=U(T,O,H),T=_(T,O);else if(!o||s||c||l){if(o&&!c&&s^l)T=_(T,O),s?(B=0,T=U(T,O,H)):(B=1,T=U(T,O,H),T=_(T,O));else if(o&&s&&!c&&l)B=1,T=U(T,O,H),T=_(T,O);else if(!o&&!c&&s^l){var $=A;s?(B=1,T=U(T,O,H),B=0,A=!1,T=U(T,O,H),A=$):(B=0,T=U(T,O,H),T=_(T,O),B=1,A=!1,T=U(T,O,H),A=$,T=_(T,O))}}else B=0,T=U(T,O,H);else B=s?1:0,T=U(T,O,H);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,c=T.isOutputVisual,s=T.isInputRtl,l=T.isOutputRtl,A=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([n.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([n.doBidiReorder(i[s])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(at),at.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new $u(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new k4e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new d4e(this.contents),this.head=new h4e(this),this.name=new y4e(this),this.cmap=new uX(this),this.toUnicode={},this.hhea=new p4e(this),this.maxp=new b4e(this),this.hmtx=new w4e(this),this.post=new m4e(this),this.os2=new g4e(this),this.loca=new x4e(this),this.glyf=new C4e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,c,l;for(l=[],o=0,s=(c=this.bbox).length;o<s;o++)t=c[o],l.push(Math.round(t*this.scaleFactor));return l}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,a,o,s;for(o=0,a=0,s=(t=""+t).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var sc,$u=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,a,o,s,c;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*o+256*s+c},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,a;for(a=[],r=0,i=t.length;r<i;r++)n=t[r],a.push(this.writeByte(n));return a},e}(),d4e=function(){var e;function t(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,a,o,s,c,l,A,u,d,f,h,p;for(p in f=Object.keys(n).length,c=Math.log(2),u=16*Math.floor(Math.log(f)/c),o=Math.floor(u/c),A=16*f-u,(i=new $u).writeInt(this.scalarType),i.writeShort(f),i.writeShort(u),i.writeShort(o),i.writeShort(A),a=16*f,l=i.pos+a,s=null,h=[],n)for(d=n[p],i.writeString(p),i.writeInt(e(d)),i.writeInt(l),i.writeInt(d.length),h=h.concat(d),p==="head"&&(s=l),l+=d.length;l%4;)h.push(0),l++;return i.write(h),r=2981146554-e(i.data),i.pos=s+8,i.writeUInt32(r),i.data},e=function(n){var r,i,a,o;for(n=dX.call(n);n.length%4;)n.push(0);for(a=new $u(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},t}(),f4e={}.hasOwnProperty,tl=function(e,t){for(var n in t)f4e.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};sc=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var h4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return tl(e,sc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new $u).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),CD=function(){function e(t,n){var r,i,a,o,s,c,l,A,u,d,f,h,p,v,m,w,B;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),u=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(f=t.readUInt16(),d=f/2,t.pos+=6,a=function(){var C,S;for(S=[],c=C=0;0<=d?C<d:C>d;c=0<=d?++C:--C)S.push(t.readUInt16());return S}(),t.pos+=2,p=function(){var C,S;for(S=[],c=C=0;0<=d?C<d:C>d;c=0<=d?++C:--C)S.push(t.readUInt16());return S}(),l=function(){var C,S;for(S=[],c=C=0;0<=d?C<d:C>d;c=0<=d?++C:--C)S.push(t.readUInt16());return S}(),A=function(){var C,S;for(S=[],c=C=0;0<=d?C<d:C>d;c=0<=d?++C:--C)S.push(t.readUInt16());return S}(),i=(this.length-t.pos+this.offset)/2,s=function(){var C,S;for(S=[],c=C=0;0<=i?C<i:C>i;c=0<=i?++C:--C)S.push(t.readUInt16());return S}(),c=m=0,B=a.length;m<B;c=++m)for(v=a[c],r=w=h=p[c];h<=v?w<=v:w>=v;r=h<=v?++w:--w)A[c]===0?o=r+l[c]:(o=s[A[c]/2+(r-h)-(d-c)]||0)!==0&&(o+=l[c]),this.codeMap[r]=65535&o}t.pos=u}return e.encode=function(t,n){var r,i,a,o,s,c,l,A,u,d,f,h,p,v,m,w,B,C,S,k,_,F,P,U,T,O,H,$,Z,ae,ie,W,te,de,pe,R,z,X,re,oe,ce,be,ee,ge,xe,ne;switch($=new $u,o=Object.keys(t).sort(function(Ce,Ue){return Ce-Ue}),n){case"macroman":for(p=0,v=function(){var Ce=[];for(h=0;h<256;++h)Ce.push(0);return Ce}(),w={0:0},a={},Z=0,te=o.length;Z<te;Z++)w[ee=t[i=o[Z]]]==null&&(w[ee]=++p),a[i]={old:t[i],new:w[t[i]]},v[i]=w[t[i]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(v),{charMap:a,subtable:$.data,maxGlyphID:p+1};case"unicode":for(O=[],u=[],B=0,w={},r={},m=l=null,ae=0,de=o.length;ae<de;ae++)w[S=t[i=o[ae]]]==null&&(w[S]=++B),r[i]={old:S,new:w[S]},s=w[S]-i,m!=null&&s===l||(m&&u.push(m),O.push(i),l=s),m=i;for(m&&u.push(m),u.push(65535),O.push(65535),U=2*(P=O.length),F=2*Math.pow(Math.log(P)/Math.LN2,2),d=Math.log(F/2)/Math.LN2,_=2*P-F,c=[],k=[],f=[],h=ie=0,pe=O.length;ie<pe;h=++ie){if(T=O[h],A=u[h],T===65535){c.push(0),k.push(0);break}if(T-(H=r[T].new)>=32768)for(c.push(0),k.push(2*(f.length+P-h)),i=W=T;T<=A?W<=A:W>=A;i=T<=A?++W:--W)f.push(r[i].new);else c.push(H-T),k.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*P+2*f.length),$.writeUInt16(0),$.writeUInt16(U),$.writeUInt16(F),$.writeUInt16(d),$.writeUInt16(_),ce=0,R=u.length;ce<R;ce++)i=u[ce],$.writeUInt16(i);for($.writeUInt16(0),be=0,z=O.length;be<z;be++)i=O[be],$.writeUInt16(i);for(ge=0,X=c.length;ge<X;ge++)s=c[ge],$.writeUInt16(s);for(xe=0,re=k.length;xe<re;xe++)C=k[xe],$.writeUInt16(C);for(ne=0,oe=f.length;ne<oe;ne++)p=f[ne],$.writeUInt16(p);return{charMap:r,subtable:$.data,maxGlyphID:B+1}}},e}(),uX=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return tl(e,sc),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new CD(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,i;return n==null&&(n="macroman"),r=CD.encode(t,n),(i=new $u).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},e}(),p4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return tl(e,sc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),g4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return tl(e,sc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),m4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return tl(e,sc),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var o,s,c;for(c=[],a=o=0,s=this.file.maxp.numGlyphs;0<=s?o<s:o>s;a=0<=s?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),v4e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},y4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return tl(e,sc),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,i,a,o,s,c,l,A,u,d;for(t.pos=this.offset,t.readShort(),n=t.readShort(),s=t.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+s+t.readShort()});for(c={},a=A=0,u=r.length;A<u;a=++A)i=r[a],t.pos=i.offset,l=t.readString(i.length),o=new v4e(l,i),c[d=i.nameID]==null&&(c[d]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),b4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return tl(e,sc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),w4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return tl(e,sc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,i,a,o,s,c;for(t.pos=this.offset,this.metrics=[],n=0,s=this.file.hhea.numberOfMetrics;0<=s?n<s:n>s;n=0<=s?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var l,A;for(A=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)A.push(t.readInt16());return A}(),this.widths=(function(){var l,A,u,d;for(d=[],l=0,A=(u=this.metrics).length;l<A;l++)a=u[l],d.push(a.advance);return d}).call(this),r=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(r));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),dX=[].slice,C4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return tl(e,sc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,i,a,o,s,c,l,A,u;return t in this.cache?this.cache[t]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,o=(s=new $u(n.read(i))).readShort(),l=s.readShort(),u=s.readShort(),c=s.readShort(),A=s.readShort(),this.cache[t]=o===-1?new S4e(s,l,u,c,A):new B4e(s,o,l,u,c,A),this.cache[t]))},e.prototype.encode=function(t,n,r){var i,a,o,s,c;for(o=[],a=[],s=0,c=n.length;s<c;s++)i=t[n[s]],a.push(o.length),i&&(o=o.concat(i.encode(r)));return a.push(o.length),{table:o,offsets:a}},e}(),B4e=function(){function e(t,n,r,i,a,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),S4e=function(){function e(t,n,r,i,a){var o,s;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new $u(dX.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),x4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return tl(e,sc),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<r.length;++o)if(r[o]=i,a<n.length&&n[a]==o){++a,r[o]=i;var s=this.offsets[o],c=this.offsets[o+1]-s;c>0&&(i+=c)}for(var l=new Array(4*r.length),A=0;A<r.length;++A)l[4*A+3]=255&r[A],l[4*A+2]=(65280&r[A])>>8,l[4*A+1]=(16711680&r[A])>>16,l[4*A]=(4278190080&r[A])>>24;return l},e}(),k4e=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,a,o,s,c;for(i={},o=0,s=t.length;o<s;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in c=this.glyphsFor(n))r=c[a],i[a]=r;return i},e.prototype.encode=function(t,n){var r,i,a,o,s,c,l,A,u,d,f,h,p,v,m;for(i in r=uX.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},m=r.charMap)f[(c=m[i]).old]=c.new;for(h in d=r.maxGlyphID,o)h in f||(f[h]=d++);return A=function(w){var B,C;for(B in C={},w)C[w[B]]=B;return C}(f),u=Object.keys(A).sort(function(w,B){return w-B}),p=function(){var w,B,C;for(C=[],w=0,B=u.length;w<B;w++)s=u[w],C.push(A[s]);return C}(),a=this.font.glyf.encode(o,p,f),l=this.font.loca.encode(a.offsets,p),v={cmap:this.font.cmap.raw(),glyf:a.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();at.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+function(){var s,c,l;for(l=[],s=0,c=n.length;s<c;s++)r=n[s],l.push(t.convert(r));return l}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+n},t}();function fX(e,t,n,r,i){r=r||{};var a=1.15,o=i.internal.scaleFactor,s=i.internal.getFontSize()/o,c=i.getLineHeightFactor?i.getLineHeightFactor():a,l=s*c,A=/\r\n|\r|\n/g,u="",d=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(u=typeof e=="string"?e.split(A):e,d=u.length||1),n+=s*(2-a),r.valign==="middle"?n-=d/2*l:r.valign==="bottom"&&(n-=d*l),r.halign==="center"||r.halign==="right"){var f=s;if(r.halign==="center"&&(f*=.5),u&&d>=1){for(var h=0;h<u.length;h++)i.text(u[h],t-i.getStringUnitWidth(u[h])*f,n),n+=l;return i}t-=i.getStringUnitWidth(e)*f}return r.halign==="justify"?i.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(e,t,n),i}var BD={},dp=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=t:BD=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,n){var r,i,a;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),s=o.fontStyle,c=o.fontName;if(t.font&&(c=t.font),t.fontStyle){s=t.fontStyle;var l=this.getFontList()[c];l&&l.indexOf(s)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(l[0]),s=l[0])}if(this.jsPDFDocument.setFont(c,s),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var A=e.unifyColor(t.fillColor);A&&(r=this.jsPDFDocument).setFillColor.apply(r,A),A=e.unifyColor(t.textColor),A&&(i=this.jsPDFDocument).setTextColor.apply(i,A),A=e.unifyColor(t.lineColor),A&&(a=this.jsPDFDocument).setDrawColor.apply(a,A),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,n,r){return this.jsPDFDocument.splitTextToSize(t,n,r)},e.prototype.rect=function(t,n,r,i,a){return this.jsPDFDocument.rect(t,n,r,i,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return BD||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),TE=function(e,t){return TE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},TE(e,t)};function hX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");TE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var pX=function(e){hX(t,e);function t(n){var r=e.call(this)||this;return r._element=n,r}return t}(Array);function E4e(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function T4e(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Yw(e,t,n){n.applyStyles(t,!0);var r=Array.isArray(e)?e:[e],i=r.map(function(a){return n.getTextWidth(a)}).reduce(function(a,o){return Math.max(a,o)},0);return i}function gX(e,t,n,r){var i=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:a});var o=mX(i,!1);o&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),r.y-n.y,o)}function mX(e,t){var n=e>0,r=t||t===0;return n&&r?"DF":n?"S":r?"F":null}function hB(e,t){var n,r,i,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(n=e.left)!==null&&n!==void 0?n:t,top:(r=e.top)!==null&&r!==void 0?r:t,right:(i=e.right)!==null&&i!==void 0?i:t,bottom:(a=e.bottom)!==null&&a!==void 0?a:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function vX(e,t){var n=hB(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function _4e(e,t,n,r,i){var a={},o=1.3333333333333333,s=nx(t,function(B){return i.getComputedStyle(B).backgroundColor});s!=null&&(a.fillColor=s);var c=nx(t,function(B){return i.getComputedStyle(B).color});c!=null&&(a.textColor=c);var l=I4e(r,n);l&&(a.cellPadding=l);var A="borderTopColor",u=o*n,d=r.borderTopWidth;if(r.borderBottomWidth===d&&r.borderRightWidth===d&&r.borderLeftWidth===d){var f=(parseFloat(d)||0)/u;f&&(a.lineWidth=f)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/u,right:(parseFloat(r.borderRightWidth)||0)/u,bottom:(parseFloat(r.borderBottomWidth)||0)/u,left:(parseFloat(r.borderLeftWidth)||0)/u},a.lineWidth.top||(a.lineWidth.right?A="borderRightColor":a.lineWidth.bottom?A="borderBottomColor":a.lineWidth.left&&(A="borderLeftColor"));var h=nx(t,function(B){return i.getComputedStyle(B)[A]});h!=null&&(a.lineColor=h);var p=["left","right","center","justify"];p.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),p=["middle","bottom","top"],p.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var v=parseInt(r.fontSize||"");isNaN(v)||(a.fontSize=v/o);var m=P4e(r);m&&(a.fontStyle=m);var w=(r.fontFamily||"").toLowerCase();return e.indexOf(w)!==-1&&(a.font=w),a}function P4e(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function nx(e,t){var n=yX(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function yX(e,t){var n=t(e);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?e.parentElement==null?null:yX(e.parentElement,t):n}function I4e(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=n.map(function(s){return parseInt(s||"0")/r}),o=hB(a,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function bX(e,t,n,r,i){var a,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var s;typeof t=="string"?s=n.document.querySelector(t):s=t;var c=Object.keys(e.getFontList()),l=e.scaleFactor(),A=[],u=[],d=[];if(!s)return console.error("Html table could not be found with input: ",t),{head:A,body:u,foot:d};for(var f=0;f<s.rows.length;f++){var h=s.rows[f],p=(o=(a=h==null?void 0:h.parentElement)===null||a===void 0?void 0:a.tagName)===null||o===void 0?void 0:o.toLowerCase(),v=F4e(c,l,n,h,r,i);v&&(p==="thead"?A.push(v):p==="tfoot"?d.push(v):u.push(v))}return{head:A,body:u,foot:d}}function F4e(e,t,n,r,i,a){for(var o=new pX(r),s=0;s<r.cells.length;s++){var c=r.cells[s],l=n.getComputedStyle(c);if(i||l.display!=="none"){var A=void 0;a&&(A=_4e(e,c,t,l,n)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:A,_element:c,content:O4e(c)})}}var u=n.getComputedStyle(r);if(o.length>0&&(i||u.display!=="none"))return o}function O4e(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),t.innerText||t.textContent||""}function L4e(e,t,n){for(var r=0,i=[e,t,n];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Vl(e,t,n,r,i){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),o=1;o<arguments.length;o++){var s=arguments[o];if(s!=null)for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c])}return a}function U4e(e,t){var n=new dp(e),r=n.getDocumentOptions(),i=n.getGlobalOptions();L4e(i,r,t);var a=Vl({},i,r,t),o;typeof window<"u"&&(o=window);var s=N4e(i,r,t),c=M4e(i,r,t),l=R4e(n,a),A=Q4e(n,a,o);return{id:t.tableId,content:A,hooks:c,styles:s,settings:l}}function N4e(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var l=e[c],A=t[c],u=n[c];r.columnStyles=Vl({},l,A,u)}else{var d=[e,t,n],f=d.map(function(h){return h[c]||{}});r[c]=Vl({},f[0],f[1],f[2])}},a=0,o=Object.keys(r);a<o.length;a++){var s=o[a];i(s)}return r}function M4e(e,t,n){for(var r=[e,t,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=r;a<o.length;a++){var s=o[a];s.didParseCell&&i.didParseCell.push(s.didParseCell),s.willDrawCell&&i.willDrawCell.push(s.willDrawCell),s.didDrawCell&&i.didDrawCell.push(s.didDrawCell),s.willDrawPage&&i.willDrawPage.push(s.willDrawPage),s.didDrawPage&&i.didDrawPage.push(s.didDrawPage)}return i}function R4e(e,t){var n,r,i,a,o,s,c,l,A,u,d,f,h=hB(t.margin,40/e.scaleFactor()),p=(n=D4e(e,t.startY))!==null&&n!==void 0?n:h.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var m;t.showHead===!0?m="everyPage":t.showHead===!1?m="never":m=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var w=(a=t.useCss)!==null&&a!==void 0?a:!1,B=t.theme||(w?"plain":"striped"),C=!!t.horizontalPageBreak,S=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(s=t.includeHiddenHtml)!==null&&s!==void 0?s:!1,useCss:w,theme:B,startY:p,margin:h,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(l=t.rowPageBreak)!==null&&l!==void 0?l:"auto",tableWidth:(A=t.tableWidth)!==null&&A!==void 0?A:"auto",showHead:m,showFoot:v,tableLineWidth:(u=t.tableLineWidth)!==null&&u!==void 0?u:0,tableLineColor:(d=t.tableLineColor)!==null&&d!==void 0?d:200,horizontalPageBreak:C,horizontalPageBreakRepeat:S,horizontalPageBreakBehaviour:(f=t.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function D4e(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),i=e.pageNumber(),a=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;a=o===i}return typeof t=="number"?t:(t==null||t===!1)&&a&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function Q4e(e,t,n){var r=t.head||[],i=t.body||[],a=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(n){var s=bX(e,t.html,n,o,t.useCss)||{};r=s.head||r,i=s.body||r,a=s.foot||r}else console.error("Cannot parse html in non browser environment")}var c=t.columns||j4e(r,i,a);return{columns:c,head:r,body:i,foot:a}}function j4e(e,t,n){var r=e[0]||t[0]||n[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var o=1,s;Array.isArray(r)?s=r[parseInt(a)]:s=r[a],typeof s=="object"&&!Array.isArray(s)&&(o=(s==null?void 0:s.colSpan)||1);for(var c=0;c<o;c++){var l=void 0;Array.isArray(r)?l=i.length:l=a+(c>0?"_".concat(c):"");var A={dataKey:l};i.push(A)}}),i}var _E=function(){function e(t,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=t.getDocument()}return e}(),H4e=function(e){hX(t,e);function t(n,r,i,a,o,s){var c=e.call(this,n,r,s)||this;return c.cell=i,c.row=a,c.column=o,c.section=a.section,c}return t}(_E),$4e=function(){function e(t,n){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,n,r,i,a,o){for(var s=0,c=n;s<c.length;s++){var l=c[s],A=new H4e(t,this,r,i,a,o),u=l(A)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],u)return!1}return!0},e.prototype.callEndPageHooks=function(t,n){t.applyStyles(t.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new _E(t,this,n))}},e.prototype.callWillDrawPageHooks=function(t,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new _E(t,this,n))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return n}else{var r=this.settings.margin;return t-r.left-r.right}},e}(),wX=function(){function e(t,n,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof pX&&(this.raw=t._element,this.element=t._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(t){var n=this;return t.reduce(function(r,i){var a;return Math.max(r,((a=n.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},e.prototype.hasRowSpan=function(t){var n=this;return t.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,n){return this.getMaxCellHeight(n)<=t},e.prototype.getMinimumRowHeight=function(t,n){var r=this;return t.reduce(function(i,a){var o=r.cells[a.index];if(!o)return 0;var s=n.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),l=c+s;return l>i?l:i},0)},e}(),CX=function(){function e(t,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=a!=null?""+a:"",s=/\r\n|\r|\n/g;this.text=o.split(s)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},e.prototype.getContentHeight=function(t,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*n,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},e.prototype.padding=function(t){var n=hB(this.styles.cellPadding,0);return t==="vertical"?n.top+n.bottom:t==="horizontal"?n.left+n.right:n[t]},e}(),K4e=function(){function e(t,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=n,this.index=r}return e.prototype.getMaxCustomCellWidth=function(t){for(var n=0,r=0,i=t.allRows();r<i.length;r++){var a=i[r],o=a.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},e}();function V4e(e,t){z4e(e,t);var n=[],r=0;t.columns.forEach(function(a){var o=a.getMaxCustomCellWidth(t);o?a.width=o:(a.width=a.wrappedWidth,n.push(a)),r+=a.width});var i=t.getWidth(e.pageSize().width)-r;i&&(i=PE(n,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=PE(n,i,function(a){return a.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),G4e(t),q4e(t,e),W4e(t)}function z4e(e,t){var n=e.scaleFactor(),r=t.settings.horizontalPageBreak,i=vX(e,t);t.allRows().forEach(function(a){for(var o=0,s=t.columns;o<s.length;o++){var c=s[o],l=a.cells[c.index];if(l){var A=t.hooks.didParseCell;t.callCellHooks(e,A,l,a,c,null);var u=l.padding("horizontal");l.contentWidth=Yw(l.text,l.styles,e)+u;var d=Yw(l.text.join(" ").split(/[^\S\u00A0]+/),l.styles,e);if(l.minReadableWidth=d+l.padding("horizontal"),typeof l.styles.cellWidth=="number")l.minWidth=l.styles.cellWidth,l.wrappedWidth=l.styles.cellWidth;else if(l.styles.cellWidth==="wrap"||r===!0)l.contentWidth>i?(l.minWidth=i,l.wrappedWidth=i):(l.minWidth=l.contentWidth,l.wrappedWidth=l.contentWidth);else{var f=10/n;l.minWidth=l.styles.minCellWidth||f,l.wrappedWidth=l.contentWidth,l.minWidth>l.wrappedWidth&&(l.wrappedWidth=l.minWidth)}}}}),t.allRows().forEach(function(a){for(var o=0,s=t.columns;o<s.length;o++){var c=s[o],l=a.cells[c.index];if(l&&l.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,l.wrappedWidth),c.minWidth=Math.max(c.minWidth,l.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,l.minReadableWidth);else{var A=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},u=A.cellWidth||A.minCellWidth;u&&typeof u=="number"&&(c.minWidth=u,c.wrappedWidth=u)}l&&(l.colSpan>1&&!c.minWidth&&(c.minWidth=l.minWidth),l.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=l.minWidth))}})}function PE(e,t,n){for(var r=t,i=e.reduce(function(f,h){return f+h.wrappedWidth},0),a=0;a<e.length;a++){var o=e[a],s=o.wrappedWidth/i,c=r*s,l=o.width+c,A=n(o),u=l<A?A:l;t-=u-o.width,o.width=u}if(t=Math.round(t*1e10)/1e10,t){var d=e.filter(function(f){return t<0?f.width>n(f):!0});d.length&&(t=PE(d,t,n))}return t}function W4e(e){for(var t={},n=1,r=e.allRows(),i=0;i<r.length;i++)for(var a=r[i],o=0,s=e.columns;o<s.length;o++){var c=s[o],l=t[c.index];if(n>1)n--,delete a.cells[c.index];else if(l)l.cell.height+=a.height,n=l.cell.colSpan,delete a.cells[c.index],l.left--,l.left<=1&&delete t[c.index];else{var A=a.cells[c.index];if(!A)continue;if(A.height=a.height,A.rowSpan>1){var u=r.length-i,d=A.rowSpan>u?u:A.rowSpan;t[c.index]={cell:A,left:d,row:a}}}}}function G4e(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],i=null,a=0,o=0,s=0;s<e.columns.length;s++){var c=e.columns[s];if(o-=1,o>1&&e.columns[s+1])a+=c.width,delete r.cells[c.index];else if(i){var l=i;delete r.cells[c.index],i=null,l.width=c.width+a}else{var l=r.cells[c.index];if(!l)continue;if(o=l.colSpan,a=0,l.colSpan>1){i=l,a+=c.width;continue}l.width=c.width+a}}}function q4e(e,t){for(var n={count:0,height:0},r=0,i=e.allRows();r<i.length;r++){for(var a=i[r],o=0,s=e.columns;o<s.length;o++){var c=s[o],l=a.cells[c.index];if(l){t.applyStyles(l.styles,!0);var A=l.width-l.padding("horizontal");if(l.styles.overflow==="linebreak")l.text=t.splitTextToSize(l.text,A+1/t.scaleFactor(),{fontSize:l.styles.fontSize});else if(l.styles.overflow==="ellipsize")l.text=SD(l.text,A,l.styles,t,"...");else if(l.styles.overflow==="hidden")l.text=SD(l.text,A,l.styles,t,"");else if(typeof l.styles.overflow=="function"){var u=l.styles.overflow(l.text,A);typeof u=="string"?l.text=[u]:l.text=u}l.contentHeight=l.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var d=l.contentHeight/l.rowSpan;l.rowSpan>1&&n.count*n.height<d*l.rowSpan?n={height:d,count:l.rowSpan}:n&&n.count>0&&n.height>d&&(d=n.height),d>a.height&&(a.height=d)}}n.count--}}function SD(e,t,n,r,i){return e.map(function(a){return Y4e(a,t,n,r,i)})}function Y4e(e,t,n,r,i){var a=1e4*r.scaleFactor();if(t=Math.ceil(t*a)/a,t>=Yw(e,n,r))return e;for(;t<Yw(e+i,n,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}function X4e(e,t){var n=new dp(e),r=J4e(t,n.scaleFactor()),i=new $4e(t,r);return V4e(n,i),n.applyStyles(n.userStyles),i}function J4e(e,t){var n=e.content,r=eSe(n.columns);if(n.head.length===0){var i=xD(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=xD(r,"foot");i&&n.foot.push(i)}var a=e.settings.theme,o=e.styles;return{columns:r,head:rx("head",n.head,r,o,a,t),body:rx("body",n.body,r,o,a,t),foot:rx("foot",n.foot,r,o,a,t)}}function rx(e,t,n,r,i,a){var o={},s=t.map(function(c,l){for(var A=0,u={},d=0,f=0,h=0,p=n;h<p.length;h++){var v=p[h];if(o[v.index]==null||o[v.index].left===0)if(f===0){var m=void 0;Array.isArray(c)?m=c[v.index-d-A]:m=c[v.dataKey];var w={};typeof m=="object"&&!Array.isArray(m)&&(w=(m==null?void 0:m.styles)||{});var B=tSe(e,v,l,i,r,a,w),C=new CX(m,B,e);u[v.dataKey]=C,u[v.index]=C,f=C.colSpan-1,o[v.index]={left:C.rowSpan-1,times:f}}else f--,d++;else o[v.index].left--,f=o[v.index].times,A++}return new wX(c,l,e,u)});return s}function xD(e,t){var n={};return e.forEach(function(r){if(r.raw!=null){var i=Z4e(t,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function Z4e(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function eSe(e){return e.map(function(t,n){var r,i;return typeof t=="object"?i=(r=t.dataKey)!==null&&r!==void 0?r:n:i=n,new K4e(i,t,n)})}function tSe(e,t,n,r,i,a,o){var s=T4e(r),c;e==="head"?c=i.headStyles:e==="body"?c=i.bodyStyles:e==="foot"&&(c=i.footStyles);var l=Vl({},s.table,s[e],i.styles,c),A=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},u=e==="body"?A:{},d=e==="body"&&n%2===0?Vl({},s.alternateRow,i.alternateRowStyles):{},f=E4e(a),h=Vl({},f,l,d,u);return Vl(h,o)}function nSe(e,t,n){var r;n===void 0&&(n={});var i=vX(e,t),a=new Map,o=[],s=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(d){var f=t.columns.find(function(h){return h.dataKey===d||h.index===d});f&&!a.has(f.index)&&(a.set(f.index,!0),o.push(f.index),s.push(t.columns[f.index]),i-=f.wrappedWidth)});for(var l=!0,A=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;A<t.columns.length;){if(a.has(A)){A++;continue}var u=t.columns[A].wrappedWidth;if(l||i>=u)l=!1,o.push(A),s.push(t.columns[A]),i-=u;else break;A++}return{colIndexes:o,columns:s,lastIndex:A-1}}function rSe(e,t){for(var n=[],r=0;r<t.columns.length;r++){var i=nSe(e,t,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function iSe(e,t){var n=t.settings,r=n.startY,i=n.margin,a={x:i.left,y:r},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),s=r+i.bottom+o;if(n.pageBreak==="avoid"){var c=t.body,l=c.reduce(function(d,f){return d+f.height},0);s+=l}var A=new dp(e);(n.pageBreak==="always"||n.startY!=null&&s>A.pageSize().height)&&(SX(A),a.y=i.top),t.callWillDrawPageHooks(A,a);var u=Vl({},a);t.startPageNumber=A.pageNumber(),n.horizontalPageBreak?aSe(A,t,u,a):(A.applyStyles(A.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(d){return dA(A,t,d,a,t.columns)}),A.applyStyles(A.userStyles),t.body.forEach(function(d,f){var h=f===t.body.length-1;Xw(A,t,d,h,u,a,t.columns)}),A.applyStyles(A.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(d){return dA(A,t,d,a,t.columns)})),gX(A,t,u,a),t.callEndPageHooks(A,a),t.finalY=a.y,e.lastAutoTable=t,A.applyStyles(A.userStyles)}function aSe(e,t,n,r){var i=rSe(e,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(l,A){e.applyStyles(e.userStyles),A>0?C0(e,t,n,r,l.columns,!0):kD(e,t,r,l.columns),oSe(e,t,n,r,l.columns),ix(e,t,r,l.columns)});else for(var o=-1,s=i[0],c=function(){var l=o;if(s){e.applyStyles(e.userStyles);var A=s.columns;o>=0?C0(e,t,n,r,A,!0):kD(e,t,r,A),l=ED(e,t,o+1,r,A),ix(e,t,r,A)}var u=l-o;i.slice(1).forEach(function(d){e.applyStyles(e.userStyles),C0(e,t,n,r,d.columns,!0),ED(e,t,o+1,r,d.columns,u),ix(e,t,r,d.columns)}),o=l};o<t.body.length-1;)c()}function kD(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(a){return dA(e,t,a,n,r)})}function oSe(e,t,n,r,i){e.applyStyles(e.userStyles),t.body.forEach(function(a,o){var s=o===t.body.length-1;Xw(e,t,a,s,n,r,i)})}function ED(e,t,n,r,i,a){e.applyStyles(e.userStyles),a=a??t.body.length;var o=Math.min(n+a,t.body.length),s=-1;return t.body.slice(n,o).forEach(function(c,l){var A=n+l===t.body.length-1,u=BX(e,t,A,r);c.canEntireRowFit(u,i)&&(dA(e,t,c,r,i),s=n+l)}),s}function ix(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(a){return dA(e,t,a,n,r)})}function sSe(e,t,n){var r=n.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),a=Math.floor((t-i)/r);return Math.max(0,a)}function cSe(e,t,n,r){var i={};e.spansMultiplePages=!0,e.height=0;for(var a=0,o=0,s=n.columns;o<s.length;o++){var c=s[o],l=e.cells[c.index];if(l){Array.isArray(l.text)||(l.text=[l.text]);var A=new CX(l.raw,l.styles,l.section);A=Vl(A,l),A.text=[];var u=sSe(l,t,r);l.text.length>u&&(A.text=l.text.splice(u,l.text.length));var d=r.scaleFactor(),f=r.getLineHeightFactor();l.contentHeight=l.getContentHeight(d,f),l.contentHeight>=t&&(l.contentHeight=t,A.styles.minCellHeight-=t),l.contentHeight>e.height&&(e.height=l.contentHeight),A.contentHeight=A.getContentHeight(d,f),A.contentHeight>a&&(a=A.contentHeight),i[c.index]=A}}var h=new wX(e.raw,-1,e.section,i,!0);h.height=a;for(var p=0,v=n.columns;p<v.length;p++){var c=v[p],A=h.cells[c.index];A&&(A.height=h.height);var l=e.cells[c.index];l&&(l.height=e.height)}return h}function lSe(e,t,n,r){var i=e.pageSize().height,a=r.settings.margin,o=a.top+a.bottom,s=i-o;t.section==="body"&&(s-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=t.getMinimumRowHeight(r.columns,e),l=c<n;if(c>s)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!l)return!1;var A=t.hasRowSpan(r.columns),u=t.getMaxCellHeight(r.columns)>s;return u?(A&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(A||r.settings.rowPageBreak==="avoid")}function Xw(e,t,n,r,i,a,o){var s=BX(e,t,r,a);if(n.canEntireRowFit(s,o))dA(e,t,n,a,o);else if(lSe(e,n,s,t)){var c=cSe(n,s,t,e);dA(e,t,n,a,o),C0(e,t,i,a,o),Xw(e,t,c,r,i,a,o)}else C0(e,t,i,a,o),Xw(e,t,n,r,i,a,o)}function dA(e,t,n,r,i){r.x=t.settings.margin.left;for(var a=0,o=i;a<o.length;a++){var s=o[a],c=n.cells[s.index];if(!c){r.x+=s.width;continue}e.applyStyles(c.styles),c.x=r.x,c.y=r.y;var l=t.callCellHooks(e,t.hooks.willDrawCell,c,n,s,r);if(l===!1){r.x+=s.width;continue}ASe(e,c,r);var A=c.getTextPos();fX(c.text,A.x,A.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,n,s,r),r.x+=s.width}r.y+=n.height}function ASe(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=mX(r.lineWidth,r.fillColor);i&&e.rect(t.x,n.y,t.width,t.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),uSe(e,t,n,r.lineWidth))}function uSe(e,t,n,r){var i,a,o,s;r.top&&(i=n.x,a=n.y,o=n.x+t.width,s=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),c(r.top,i,a,o,s)),r.bottom&&(i=n.x,a=n.y+t.height,o=n.x+t.width,s=n.y+t.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),c(r.bottom,i,a,o,s)),r.left&&(i=n.x,a=n.y,o=n.x,s=n.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(s+=.5*r.bottom),c(r.left,i,a,o,s)),r.right&&(i=n.x+t.width,a=n.y,o=n.x+t.width,s=n.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(s+=.5*r.bottom),c(r.right,i,a,o,s));function c(l,A,u,d,f){e.getDocument().setLineWidth(l),e.getDocument().line(A,u,d,f,"S")}}function BX(e,t,n,r){var i=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&n)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-i}function C0(e,t,n,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(s){return dA(e,t,s,r,i)}),t.callEndPageHooks(e,r);var o=t.settings.margin;gX(e,t,n,r),SX(e),t.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,t.callWillDrawPageHooks(e,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(s){return dA(e,t,s,r,i)}),e.applyStyles(e.userStyles))}function SX(e){var t=e.pageNumber();e.setPage(t+1);var n=e.pageNumber();return n===t?(e.addPage(),!0):!1}function dSe(e){e.API.autoTable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],i=U4e(this,r),a=X4e(this,i);return iSe(this,a),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,n,r,i){fX(t,n,r,i,this)},e.API.autoTableSetDefaults=function(t){return dp.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,n){dp.setDefaults(t,n)},e.API.autoTableHtmlToJson=function(t,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new dp(this),a=bX(i,t,window,n,!1),o=a.head,s=a.body,c=((r=o[0])===null||r===void 0?void 0:r.map(function(l){return l.content}))||[];return{columns:c,rows:s,data:s}}}var ax;try{if(typeof window<"u"&&window){var TD=window,_D=TD.jsPDF||((ax=TD.jspdf)===null||ax===void 0?void 0:ax.jsPDF);_D&&dSe(_D)}}catch(e){console.error("Could not apply autoTable plugin",e)}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var IE=function(e,t){return IE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},IE(e,t)};function cc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");IE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var FE=function(){return FE=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},FE.apply(this,arguments)};function ha(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(A){try{l(r.next(A))}catch(u){o(u)}}function c(A){try{l(r.throw(A))}catch(u){o(u)}}function l(A){A.done?a(A.value):i(A.value).then(s,c)}l((r=r.apply(e,[])).next())})}function na(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(A){return c([l,A])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){n.label=l[1];break}if(l[0]===6&&n.label<a[1]){n.label=a[1],a=l;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(l);break}a[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(A){l=[6,A],i=0}finally{r=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Xy(e,t,n){if(arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||t)}var fA=function(){function e(t,n,r,i){this.left=t,this.top=n,this.width=r,this.height=i}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),pB=function(e,t){return fA.fromClientRect(e,t.getBoundingClientRect())},fSe=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new fA(0,0,r,i)},gB=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),n--)}else t.push(i)}return t},Br=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},PD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hSe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Jy=0;Jy<PD.length;Jy++)hSe[PD.charCodeAt(Jy)]=Jy;var ID="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Jm=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Zy=0;Zy<ID.length;Zy++)Jm[ID.charCodeAt(Zy)]=Zy;var pSe=function(e){var t=e.length*.75,n=e.length,r,i=0,a,o,s,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),A=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<n;r+=4)a=Jm[e.charCodeAt(r)],o=Jm[e.charCodeAt(r+1)],s=Jm[e.charCodeAt(r+2)],c=Jm[e.charCodeAt(r+3)],A[i++]=a<<2|o>>4,A[i++]=(o&15)<<4|s>>2,A[i++]=(s&3)<<6|c&63;return l},gSe=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},mSe=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},sf=5,SF=11,ox=2,vSe=SF-sf,xX=65536>>sf,ySe=1<<sf,sx=ySe-1,bSe=1024>>sf,wSe=xX+bSe,CSe=wSe,BSe=32,SSe=CSe+BSe,xSe=65536>>SF,kSe=1<<vSe,ESe=kSe-1,FD=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},TSe=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},_Se=function(e,t){var n=pSe(e),r=Array.isArray(n)?mSe(n):new Uint32Array(n),i=Array.isArray(n)?gSe(n):new Uint16Array(n),a=24,o=FD(i,a/2,r[4]/2),s=r[5]===2?FD(i,(a+r[4])/2):TSe(r,Math.ceil((a+r[4])/4));return new PSe(r[0],r[1],r[2],r[3],o,s)},PSe=function(){function e(t,n,r,i,a,o){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=a,this.data=o}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>sf],n=(n<<ox)+(t&sx),this.data[n];if(t<=65535)return n=this.index[xX+(t-55296>>sf)],n=(n<<ox)+(t&sx),this.data[n];if(t<this.highStart)return n=SSe-xSe+(t>>SF),n=this.index[n],n+=t>>sf&ESe,n=this.index[n],n=(n<<ox)+(t&sx),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),OD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ISe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var e2=0;e2<OD.length;e2++)ISe[OD.charCodeAt(e2)]=e2;var FSe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",LD=50,OSe=1,kX=2,EX=3,LSe=4,USe=5,UD=7,TX=8,ND=9,pu=10,OE=11,MD=12,LE=13,NSe=14,Zm=15,UE=16,t2=17,Tm=18,MSe=19,RD=20,NE=21,_m=22,cx=23,vh=24,Ao=25,e0=26,t0=27,yh=28,RSe=29,Md=30,DSe=31,n2=32,r2=33,ME=34,RE=35,DE=36,Cv=37,QE=38,ab=39,ob=40,lx=41,_X=42,QSe=43,jSe=[9001,65288],PX="!",$t="",i2="",jE=_Se(FSe),El=[Md,DE],HE=[OSe,kX,EX,USe],IX=[pu,TX],DD=[t0,e0],HSe=HE.concat(IX),QD=[QE,ab,ob,ME,RE],$Se=[Zm,LE],KSe=function(e,t){t===void 0&&(t="strict");var n=[],r=[],i=[];return e.forEach(function(a,o){var s=jE.get(a);if(s>LD?(i.push(!0),s-=LD):i.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return r.push(o),n.push(UE);if(s===LSe||s===OE){if(o===0)return r.push(o),n.push(Md);var c=n[o-1];return HSe.indexOf(c)===-1?(r.push(r[o-1]),n.push(c)):(r.push(o),n.push(Md))}if(r.push(o),s===DSe)return n.push(t==="strict"?NE:Cv);if(s===_X||s===RSe)return n.push(Md);if(s===QSe)return a>=131072&&a<=196605||a>=196608&&a<=262141?n.push(Cv):n.push(Md);n.push(s)}),[r,n,i]},Ax=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?e.indexOf(i)!==-1:e===i)for(var a=n;a<=r.length;){a++;var o=r[a];if(o===t)return!0;if(o!==pu)break}if(i===pu)for(var a=n;a>0;){a--;var s=r[a];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var c=n;c<=r.length;){c++;var o=r[c];if(o===t)return!0;if(o!==pu)break}if(s!==pu)break}return!1},jD=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r===pu)n--;else return r}return 0},VSe=function(e,t,n,r,i){if(n[r]===0)return $t;var a=r-1;if(Array.isArray(i)&&i[a]===!0)return $t;var o=a-1,s=a+1,c=t[a],l=o>=0?t[o]:0,A=t[s];if(c===kX&&A===EX)return $t;if(HE.indexOf(c)!==-1)return PX;if(HE.indexOf(A)!==-1||IX.indexOf(A)!==-1)return $t;if(jD(a,t)===TX)return i2;if(jE.get(e[a])===OE||(c===n2||c===r2)&&jE.get(e[s])===OE||c===UD||A===UD||c===ND||[pu,LE,Zm].indexOf(c)===-1&&A===ND||[t2,Tm,MSe,vh,yh].indexOf(A)!==-1||jD(a,t)===_m||Ax(cx,_m,a,t)||Ax([t2,Tm],NE,a,t)||Ax(MD,MD,a,t))return $t;if(c===pu)return i2;if(c===cx||A===cx)return $t;if(A===UE||c===UE)return i2;if([LE,Zm,NE].indexOf(A)!==-1||c===NSe||l===DE&&$Se.indexOf(c)!==-1||c===yh&&A===DE||A===RD||El.indexOf(A)!==-1&&c===Ao||El.indexOf(c)!==-1&&A===Ao||c===t0&&[Cv,n2,r2].indexOf(A)!==-1||[Cv,n2,r2].indexOf(c)!==-1&&A===e0||El.indexOf(c)!==-1&&DD.indexOf(A)!==-1||DD.indexOf(c)!==-1&&El.indexOf(A)!==-1||[t0,e0].indexOf(c)!==-1&&(A===Ao||[_m,Zm].indexOf(A)!==-1&&t[s+1]===Ao)||[_m,Zm].indexOf(c)!==-1&&A===Ao||c===Ao&&[Ao,yh,vh].indexOf(A)!==-1)return $t;if([Ao,yh,vh,t2,Tm].indexOf(A)!==-1)for(var u=a;u>=0;){var d=t[u];if(d===Ao)return $t;if([yh,vh].indexOf(d)!==-1)u--;else break}if([t0,e0].indexOf(A)!==-1)for(var u=[t2,Tm].indexOf(c)!==-1?o:a;u>=0;){var d=t[u];if(d===Ao)return $t;if([yh,vh].indexOf(d)!==-1)u--;else break}if(QE===c&&[QE,ab,ME,RE].indexOf(A)!==-1||[ab,ME].indexOf(c)!==-1&&[ab,ob].indexOf(A)!==-1||[ob,RE].indexOf(c)!==-1&&A===ob||QD.indexOf(c)!==-1&&[RD,e0].indexOf(A)!==-1||QD.indexOf(A)!==-1&&c===t0||El.indexOf(c)!==-1&&El.indexOf(A)!==-1||c===vh&&El.indexOf(A)!==-1||El.concat(Ao).indexOf(c)!==-1&&A===_m&&jSe.indexOf(e[s])===-1||El.concat(Ao).indexOf(A)!==-1&&c===Tm)return $t;if(c===lx&&A===lx){for(var f=n[a],h=1;f>0&&(f--,t[f]===lx);)h++;if(h%2!==0)return $t}return c===n2&&A===r2?$t:i2},zSe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=KSe(e,t.lineBreak),r=n[0],i=n[1],a=n[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(i=i.map(function(s){return[Ao,Md,_X].indexOf(s)!==-1?Cv:s}));var o=t.wordBreak==="keep-all"?a.map(function(s,c){return s&&e[c]>=19968&&e[c]<=40959}):void 0;return[r,i,o]},WSe=function(){function e(t,n,r,i){this.codePoints=t,this.required=n===PX,this.start=r,this.end=i}return e.prototype.slice=function(){return Br.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),GSe=function(e,t){var n=gB(e),r=zSe(n,t),i=r[0],a=r[1],o=r[2],s=n.length,c=0,l=0;return{next:function(){if(l>=s)return{done:!0,value:null};for(var A=$t;l<s&&(A=VSe(n,a,i,++l,o))===$t;);if(A!==$t||l===s){var u=new WSe(n,A,c,l);return c=l,{value:u,done:!1}}return{done:!0,value:null}}}},qSe=1,YSe=2,h1=4,HD=8,Jw=10,$D=47,B0=92,XSe=9,JSe=32,a2=34,Pm=61,ZSe=35,exe=36,txe=37,o2=39,s2=40,Im=41,nxe=95,Oa=45,rxe=33,ixe=60,axe=62,oxe=64,sxe=91,cxe=93,lxe=61,Axe=123,c2=63,uxe=125,KD=124,dxe=126,fxe=128,VD=65533,ux=42,Wd=43,hxe=44,pxe=58,gxe=59,Bv=46,mxe=0,vxe=8,yxe=11,bxe=14,wxe=31,Cxe=127,kc=-1,FX=48,OX=97,LX=101,Bxe=102,Sxe=117,xxe=122,UX=65,NX=69,MX=70,kxe=85,Exe=90,aa=function(e){return e>=FX&&e<=57},Txe=function(e){return e>=55296&&e<=57343},bh=function(e){return aa(e)||e>=UX&&e<=MX||e>=OX&&e<=Bxe},_xe=function(e){return e>=OX&&e<=xxe},Pxe=function(e){return e>=UX&&e<=Exe},Ixe=function(e){return _xe(e)||Pxe(e)},Fxe=function(e){return e>=fxe},l2=function(e){return e===Jw||e===XSe||e===JSe},Zw=function(e){return Ixe(e)||Fxe(e)||e===nxe},zD=function(e){return Zw(e)||aa(e)||e===Oa},Oxe=function(e){return e>=mxe&&e<=vxe||e===yxe||e>=bxe&&e<=wxe||e===Cxe},iu=function(e,t){return e!==B0?!1:t!==Jw},A2=function(e,t,n){return e===Oa?Zw(t)||iu(t,n):Zw(e)?!0:!!(e===B0&&iu(e,t))},dx=function(e,t,n){return e===Wd||e===Oa?aa(t)?!0:t===Bv&&aa(n):aa(e===Bv?t:e)},Lxe=function(e){var t=0,n=1;(e[t]===Wd||e[t]===Oa)&&(e[t]===Oa&&(n=-1),t++);for(var r=[];aa(e[t]);)r.push(e[t++]);var i=r.length?parseInt(Br.apply(void 0,r),10):0;e[t]===Bv&&t++;for(var a=[];aa(e[t]);)a.push(e[t++]);var o=a.length,s=o?parseInt(Br.apply(void 0,a),10):0;(e[t]===NX||e[t]===LX)&&t++;var c=1;(e[t]===Wd||e[t]===Oa)&&(e[t]===Oa&&(c=-1),t++);for(var l=[];aa(e[t]);)l.push(e[t++]);var A=l.length?parseInt(Br.apply(void 0,l),10):0;return n*(i+s*Math.pow(10,-o))*Math.pow(10,c*A)},Uxe={type:2},Nxe={type:3},Mxe={type:4},Rxe={type:13},Dxe={type:8},Qxe={type:21},jxe={type:9},Hxe={type:10},$xe={type:11},Kxe={type:12},Vxe={type:14},u2={type:23},zxe={type:1},Wxe={type:25},Gxe={type:24},qxe={type:26},Yxe={type:27},Xxe={type:28},Jxe={type:29},Zxe={type:31},$E={type:32},RX=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(gB(t))},e.prototype.read=function(){for(var t=[],n=this.consumeToken();n!==$E;)t.push(n),n=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case a2:return this.consumeStringToken(a2);case ZSe:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(zD(n)||iu(r,i)){var a=A2(n,r,i)?YSe:qSe,o=this.consumeName();return{type:5,value:o,flags:a}}break;case exe:if(this.peekCodePoint(0)===Pm)return this.consumeCodePoint(),Rxe;break;case o2:return this.consumeStringToken(o2);case s2:return Uxe;case Im:return Nxe;case ux:if(this.peekCodePoint(0)===Pm)return this.consumeCodePoint(),Vxe;break;case Wd:if(dx(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case hxe:return Mxe;case Oa:var s=t,c=this.peekCodePoint(0),l=this.peekCodePoint(1);if(dx(s,c,l))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(A2(s,c,l))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===Oa&&l===axe)return this.consumeCodePoint(),this.consumeCodePoint(),Gxe;break;case Bv:if(dx(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case $D:if(this.peekCodePoint(0)===ux)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===ux&&(A=this.consumeCodePoint(),A===$D))return this.consumeToken();if(A===kc)return this.consumeToken()}break;case pxe:return qxe;case gxe:return Yxe;case ixe:if(this.peekCodePoint(0)===rxe&&this.peekCodePoint(1)===Oa&&this.peekCodePoint(2)===Oa)return this.consumeCodePoint(),this.consumeCodePoint(),Wxe;break;case oxe:var u=this.peekCodePoint(0),d=this.peekCodePoint(1),f=this.peekCodePoint(2);if(A2(u,d,f)){var o=this.consumeName();return{type:7,value:o}}break;case sxe:return Xxe;case B0:if(iu(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case cxe:return Jxe;case lxe:if(this.peekCodePoint(0)===Pm)return this.consumeCodePoint(),Dxe;break;case Axe:return $xe;case uxe:return Kxe;case Sxe:case kxe:var h=this.peekCodePoint(0),p=this.peekCodePoint(1);return h===Wd&&(bh(p)||p===c2)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case KD:if(this.peekCodePoint(0)===Pm)return this.consumeCodePoint(),jxe;if(this.peekCodePoint(0)===KD)return this.consumeCodePoint(),Qxe;break;case dxe:if(this.peekCodePoint(0)===Pm)return this.consumeCodePoint(),Hxe;break;case kc:return $E}return l2(t)?(this.consumeWhiteSpace(),Zxe):aa(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):Zw(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Br(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],n=this.consumeCodePoint();bh(n)&&t.length<6;)t.push(n),n=this.consumeCodePoint();for(var r=!1;n===c2&&t.length<6;)t.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(Br.apply(void 0,t.map(function(c){return c===c2?FX:c})),16),a=parseInt(Br.apply(void 0,t.map(function(c){return c===c2?MX:c})),16);return{type:30,start:i,end:a}}var o=parseInt(Br.apply(void 0,t),16);if(this.peekCodePoint(0)===Oa&&bh(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var s=[];bh(n)&&s.length<6;)s.push(n),n=this.consumeCodePoint();var a=parseInt(Br.apply(void 0,s),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===s2?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===s2?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===kc)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===o2||n===a2){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===kc||this.peekCodePoint(0)===Im)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),u2)}for(;;){var i=this.consumeCodePoint();if(i===kc||i===Im)return{type:22,value:Br.apply(void 0,t)};if(l2(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===kc||this.peekCodePoint(0)===Im?(this.consumeCodePoint(),{type:22,value:Br.apply(void 0,t)}):(this.consumeBadUrlRemnants(),u2);if(i===a2||i===o2||i===s2||Oxe(i))return this.consumeBadUrlRemnants(),u2;if(i===B0)if(iu(i,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),u2;else t.push(i)}},e.prototype.consumeWhiteSpace=function(){for(;l2(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Im||t===kc)return;iu(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var n=5e4,r="";t>0;){var i=Math.min(n,t);r+=Br.apply(void 0,this._value.splice(0,i)),t-=i}return this._value.shift(),r},e.prototype.consumeStringToken=function(t){var n="",r=0;do{var i=this._value[r];if(i===kc||i===void 0||i===t)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===Jw)return this._value.splice(0,r),zxe;if(i===B0){var a=this._value[r+1];a!==kc&&a!==void 0&&(a===Jw?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):iu(i,a)&&(n+=this.consumeStringSlice(r),n+=Br(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},e.prototype.consumeNumber=function(){var t=[],n=h1,r=this.peekCodePoint(0);for((r===Wd||r===Oa)&&t.push(this.consumeCodePoint());aa(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===Bv&&aa(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=HD;aa(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((r===NX||r===LX)&&((i===Wd||i===Oa)&&aa(a)||aa(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=HD;aa(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[Lxe(t),n]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),n=t[0],r=t[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(A2(i,a,o)){var s=this.consumeName();return{type:15,number:n,flags:r,unit:s}}return i===txe?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(bh(t)){for(var n=Br(t);bh(this.peekCodePoint(0))&&n.length<6;)n+=Br(this.consumeCodePoint());l2(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||Txe(r)||r>1114111?VD:r}return t===kc?VD:t},e.prototype.consumeName=function(){for(var t="";;){var n=this.consumeCodePoint();if(zD(n))t+=Br(n);else if(iu(n,this.peekCodePoint(0)))t+=Br(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),t}},e}(),DX=function(){function e(t){this._tokens=t}return e.create=function(t){var n=new RX;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var n=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var n=this.consumeComponentValue();if(n.type===32)return t;t.push(n),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var n={type:t,values:[]},r=this.consumeToken();;){if(r.type===32||t3e(r,t))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var n={name:t.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?$E:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),p1=function(e){return e.type===15},Eg=function(e){return e.type===17},yn=function(e){return e.type===20},e3e=function(e){return e.type===0},KE=function(e,t){return yn(e)&&e.value===t},QX=function(e){return e.type!==31},Wp=function(e){return e.type!==31&&e.type!==4},nl=function(e){var t=[],n=[];return e.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&t.push(n),t},t3e=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},Ku=function(e){return e.type===17||e.type===15},Dr=function(e){return e.type===16||Ku(e)},jX=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Di={type:17,number:0,flags:h1},xF={type:16,number:50,flags:h1},gu={type:16,number:100,flags:h1},n0=function(e,t,n){var r=e[0],i=e[1];return[In(r,t),In(typeof i<"u"?i:r,n)]},In=function(e,t){if(e.type===16)return e.number/100*t;if(p1(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},HX="deg",$X="grad",KX="rad",VX="turn",mB={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case HX:return Math.PI*t.number/180;case $X:return Math.PI/200*t.number;case KX:return t.number;case VX:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},zX=function(e){return e.type===15&&(e.unit===HX||e.unit===$X||e.unit===KX||e.unit===VX)},WX=function(e){var t=e.filter(yn).map(function(n){return n.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Di,Di];case"to top":case"bottom":return os(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Di,gu];case"to right":case"left":return os(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[gu,gu];case"to bottom":case"top":return os(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[gu,Di];case"to left":case"right":return os(270)}return 0},os=function(e){return Math.PI*e/180},Fu={name:"color",parse:function(e,t){if(t.type===18){var n=n3e[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(t.type===5){if(t.value.length===3){var r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);return mu(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(t.value.length===4){var r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3),o=t.value.substring(3,4);return mu(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(t.value.length===6){var r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6);return mu(parseInt(r,16),parseInt(i,16),parseInt(a,16),1)}if(t.value.length===8){var r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),o=t.value.substring(6,8);return mu(parseInt(r,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}}if(t.type===20){var s=ql[t.value.toUpperCase()];if(typeof s<"u")return s}return ql.TRANSPARENT}},Ou=function(e){return(255&e)===0},Ai=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},mu=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(r*255)<<0)>>>0},WD=function(e,t){if(e.type===17)return e.number;if(e.type===16){var n=t===3?1:255;return t===3?e.number/100*n:Math.round(e.number/100*n)}return 0},GD=function(e,t){var n=t.filter(Wp);if(n.length===3){var r=n.map(WD),i=r[0],a=r[1],o=r[2];return mu(i,a,o,1)}if(n.length===4){var s=n.map(WD),i=s[0],a=s[1],o=s[2],c=s[3];return mu(i,a,o,c)}return 0};function fx(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<1/2?t:n<2/3?(t-e)*6*(2/3-n)+e:e}var qD=function(e,t){var n=t.filter(Wp),r=n[0],i=n[1],a=n[2],o=n[3],s=(r.type===17?os(r.number):mB.parse(e,r))/(Math.PI*2),c=Dr(i)?i.number/100:0,l=Dr(a)?a.number/100:0,A=typeof o<"u"&&Dr(o)?In(o,1):1;if(c===0)return mu(l*255,l*255,l*255,1);var u=l<=.5?l*(c+1):l+c-l*c,d=l*2-u,f=fx(d,u,s+1/3),h=fx(d,u,s),p=fx(d,u,s-1/3);return mu(f*255,h*255,p*255,A)},n3e={hsl:qD,hsla:qD,rgb:GD,rgba:GD},S0=function(e,t){return Fu.parse(e,DX.create(t).parseComponentValue())},ql={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},r3e={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(yn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},i3e={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},vB=function(e,t){var n=Fu.parse(e,t[0]),r=t[1];return r&&Dr(r)?{color:n,stop:r}:{color:n,stop:null}},YD=function(e,t){var n=e[0],r=e[e.length-1];n.stop===null&&(n.stop=Di),r.stop===null&&(r.stop=gu);for(var i=[],a=0,o=0;o<e.length;o++){var s=e[o].stop;if(s!==null){var c=In(s,t);c>a?i.push(c):i.push(a),a=c}else i.push(null)}for(var l=null,o=0;o<i.length;o++){var A=i[o];if(A===null)l===null&&(l=o);else if(l!==null){for(var u=o-l,d=i[l-1],f=(A-d)/(u+1),h=1;h<=u;h++)i[l+h-1]=f*h;l=null}}return e.map(function(p,v){var m=p.color;return{color:m,stop:Math.max(Math.min(1,i[v]/t),0)}})},a3e=function(e,t,n){var r=t/2,i=n/2,a=In(e[0],t)-r,o=i-In(e[1],n);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},o3e=function(e,t,n){var r=typeof e=="number"?e:a3e(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),a=t/2,o=n/2,s=i/2,c=Math.sin(r-Math.PI/2)*s,l=Math.cos(r-Math.PI/2)*s;return[i,a-l,a+l,o-c,o+c]},Is=function(e,t){return Math.sqrt(e*e+t*t)},XD=function(e,t,n,r,i){var a=[[0,0],[0,t],[e,0],[e,t]];return a.reduce(function(o,s){var c=s[0],l=s[1],A=Is(n-c,r-l);return(i?A<o.optimumDistance:A>o.optimumDistance)?{optimumCorner:s,optimumDistance:A}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},s3e=function(e,t,n,r,i){var a=0,o=0;switch(e.size){case 0:e.shape===0?a=o=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-r)),o=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(e.shape===0)a=o=Math.min(Is(t,n),Is(t,n-i),Is(t-r,n),Is(t-r,n-i));else if(e.shape===1){var s=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),c=XD(r,i,t,n,!0),l=c[0],A=c[1];a=Is(l-t,(A-n)/s),o=s*a}break;case 1:e.shape===0?a=o=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-r)),o=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(e.shape===0)a=o=Math.max(Is(t,n),Is(t,n-i),Is(t-r,n),Is(t-r,n-i));else if(e.shape===1){var s=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r)),u=XD(r,i,t,n,!1),l=u[0],A=u[1];a=Is(l-t,(A-n)/s),o=s*a}break}return Array.isArray(e.size)&&(a=In(e.size[0],r),o=e.size.length===2?In(e.size[1],i):a),[a,o]},c3e=function(e,t){var n=os(180),r=[];return nl(t).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&o.value==="to"){n=WX(i);return}else if(zX(o)){n=mB.parse(e,o);return}}var s=vB(e,i);r.push(s)}),{angle:n,stops:r,type:1}},d2=function(e,t){var n=os(180),r=[];return nl(t).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){n=WX(i);return}else if(zX(o)){n=(mB.parse(e,o)+os(270))%os(360);return}}var s=vB(e,i);r.push(s)}),{angle:n,stops:r,type:1}},l3e=function(e,t){var n=os(180),r=[],i=1,a=0,o=3,s=[];return nl(t).forEach(function(c,l){var A=c[0];if(l===0){if(yn(A)&&A.value==="linear"){i=1;return}else if(yn(A)&&A.value==="radial"){i=2;return}}if(A.type===18){if(A.name==="from"){var u=Fu.parse(e,A.values[0]);r.push({stop:Di,color:u})}else if(A.name==="to"){var u=Fu.parse(e,A.values[0]);r.push({stop:gu,color:u})}else if(A.name==="color-stop"){var d=A.values.filter(Wp);if(d.length===2){var u=Fu.parse(e,d[1]),f=d[0];Eg(f)&&r.push({stop:{type:16,number:f.number*100,flags:f.flags},color:u})}}}}),i===1?{angle:(n+os(180))%os(360),stops:r,type:i}:{size:o,shape:a,stops:r,position:s,type:i}},GX="closest-side",qX="farthest-side",YX="closest-corner",XX="farthest-corner",JX="circle",ZX="ellipse",eJ="cover",tJ="contain",A3e=function(e,t){var n=0,r=3,i=[],a=[];return nl(t).forEach(function(o,s){var c=!0;if(s===0){var l=!1;c=o.reduce(function(u,d){if(l)if(yn(d))switch(d.value){case"center":return a.push(xF),u;case"top":case"left":return a.push(Di),u;case"right":case"bottom":return a.push(gu),u}else(Dr(d)||Ku(d))&&a.push(d);else if(yn(d))switch(d.value){case JX:return n=0,!1;case ZX:return n=1,!1;case"at":return l=!0,!1;case GX:return r=0,!1;case eJ:case qX:return r=1,!1;case tJ:case YX:return r=2,!1;case XX:return r=3,!1}else if(Ku(d)||Dr(d))return Array.isArray(r)||(r=[]),r.push(d),!1;return u},c)}if(c){var A=vB(e,o);i.push(A)}}),{size:r,shape:n,stops:i,position:a,type:2}},f2=function(e,t){var n=0,r=3,i=[],a=[];return nl(t).forEach(function(o,s){var c=!0;if(s===0?c=o.reduce(function(A,u){if(yn(u))switch(u.value){case"center":return a.push(xF),!1;case"top":case"left":return a.push(Di),!1;case"right":case"bottom":return a.push(gu),!1}else if(Dr(u)||Ku(u))return a.push(u),!1;return A},c):s===1&&(c=o.reduce(function(A,u){if(yn(u))switch(u.value){case JX:return n=0,!1;case ZX:return n=1,!1;case tJ:case GX:return r=0,!1;case qX:return r=1,!1;case YX:return r=2,!1;case eJ:case XX:return r=3,!1}else if(Ku(u)||Dr(u))return Array.isArray(r)||(r=[]),r.push(u),!1;return A},c)),c){var l=vB(e,o);i.push(l)}}),{size:r,shape:n,stops:i,position:a,type:2}},u3e=function(e){return e.type===1},d3e=function(e){return e.type===2},kF={name:"image",parse:function(e,t){if(t.type===22){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(t.type===18){var r=nJ[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function f3e(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!nJ[e.name])}var nJ={"linear-gradient":c3e,"-moz-linear-gradient":d2,"-ms-linear-gradient":d2,"-o-linear-gradient":d2,"-webkit-linear-gradient":d2,"radial-gradient":A3e,"-moz-radial-gradient":f2,"-ms-radial-gradient":f2,"-o-radial-gradient":f2,"-webkit-radial-gradient":f2,"-webkit-gradient":l3e},h3e={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t.filter(function(r){return Wp(r)&&f3e(r)}).map(function(r){return kF.parse(e,r)})}},p3e={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(yn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},g3e={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return nl(t).map(function(n){return n.filter(Dr)}).map(jX)}},m3e={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return nl(t).map(function(n){return n.filter(yn).map(function(r){return r.value}).join(" ")}).map(v3e)}},v3e=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},fp;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(fp||(fp={}));var y3e={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return nl(t).map(function(n){return n.filter(b3e)})}},b3e=function(e){return yn(e)||Dr(e)},yB=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},w3e=yB("top"),C3e=yB("right"),B3e=yB("bottom"),S3e=yB("left"),bB=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,n){return jX(n.filter(Dr))}}},x3e=bB("top-left"),k3e=bB("top-right"),E3e=bB("bottom-right"),T3e=bB("bottom-left"),wB=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},_3e=wB("top"),P3e=wB("right"),I3e=wB("bottom"),F3e=wB("left"),CB=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return p1(n)?n.number:0}}},O3e=CB("top"),L3e=CB("right"),U3e=CB("bottom"),N3e=CB("left"),M3e={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},R3e={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},D3e={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(yn).reduce(function(n,r){return n|Q3e(r.value)},0)}},Q3e=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},j3e={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},H3e={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},e5;(function(e){e.NORMAL="normal",e.STRICT="strict"})(e5||(e5={}));var $3e={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return e5.STRICT;case"normal":default:return e5.NORMAL}}},K3e={name:"line-height",initialValue:"normal",prefix:!1,type:4},JD=function(e,t){return yn(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Dr(e)?In(e,t):t},V3e={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:kF.parse(e,t)}},z3e={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},VE={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},BB=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},W3e=BB("top"),G3e=BB("right"),q3e=BB("bottom"),Y3e=BB("left"),X3e={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(yn).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},J3e={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},SB=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Z3e=SB("top"),eke=SB("right"),tke=SB("bottom"),nke=SB("left"),rke={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},ike={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},ake={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&KE(t[0],"none")?[]:nl(t).map(function(n){for(var r={color:ql.TRANSPARENT,offsetX:Di,offsetY:Di,blur:Di},i=0,a=0;a<n.length;a++){var o=n[a];Ku(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:r.blur=o,i++):r.color=Fu.parse(e,o)}return r})}},oke={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},ske={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var n=Ake[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},cke=function(e){var t=e.filter(function(n){return n.type===17}).map(function(n){return n.number});return t.length===6?t:null},lke=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),n=t[0],r=t[1];t[2],t[3];var i=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],s=t[13];return t[14],t[15],t.length===16?[n,r,i,a,o,s]:null},Ake={matrix:cke,matrix3d:lke},ZD={type:16,number:50,flags:h1},uke=[ZD,ZD],dke={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Dr);return n.length!==2?uke:[n[0],n[1]]}},fke={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},x0;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(x0||(x0={}));var hke={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return x0.BREAK_ALL;case"keep-all":return x0.KEEP_ALL;case"normal":default:return x0.NORMAL}}},pke={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Eg(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},rJ={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},gke={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Eg(t)?t.number:1}},mke={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},vke={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(yn).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},yke={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},bke={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},wke={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Eg(t))return t.number;if(yn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},Cke={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(yn).map(function(n){return n.value})}},Bke={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Zr=function(e,t){return(e&t)!==0},Ske={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t}},xke={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=t.filter(QX),a=0;a<i.length;a++){var o=i[a],s=i[a+1];if(o.type===20){var c=s&&Eg(s)?s.number:1;r.push({counter:o.value,increment:c})}}return r}},kke={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var n=[],r=t.filter(QX),i=0;i<r.length;i++){var a=r[i],o=r[i+1];if(yn(a)&&a.value!=="none"){var s=o&&Eg(o)?o.number:0;n.push({counter:a.value,reset:s})}}return n}},Eke={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(p1).map(function(n){return rJ.parse(e,n)})}},Tke={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;var r=[],i=t.filter(e3e);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var o=i[a].value,s=i[a+1].value;r.push({open:o,close:s})}return r}},e7=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},_ke={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&KE(t[0],"none")?[]:nl(t).map(function(n){for(var r={color:255,offsetX:Di,offsetY:Di,blur:Di,spread:Di,inset:!1},i=0,a=0;a<n.length;a++){var o=n[a];KE(o,"inset")?r.inset=!0:Ku(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:i===2?r.blur=o:r.spread=o,i++):r.color=Fu.parse(e,o)}return r})}},Pke={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(yn).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},Ike={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Fke={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return p1(t)?t.number:0}},Oke=function(){function e(t,n){var r,i;this.animationDuration=Ke(t,Eke,n.animationDuration),this.backgroundClip=Ke(t,r3e,n.backgroundClip),this.backgroundColor=Ke(t,i3e,n.backgroundColor),this.backgroundImage=Ke(t,h3e,n.backgroundImage),this.backgroundOrigin=Ke(t,p3e,n.backgroundOrigin),this.backgroundPosition=Ke(t,g3e,n.backgroundPosition),this.backgroundRepeat=Ke(t,m3e,n.backgroundRepeat),this.backgroundSize=Ke(t,y3e,n.backgroundSize),this.borderTopColor=Ke(t,w3e,n.borderTopColor),this.borderRightColor=Ke(t,C3e,n.borderRightColor),this.borderBottomColor=Ke(t,B3e,n.borderBottomColor),this.borderLeftColor=Ke(t,S3e,n.borderLeftColor),this.borderTopLeftRadius=Ke(t,x3e,n.borderTopLeftRadius),this.borderTopRightRadius=Ke(t,k3e,n.borderTopRightRadius),this.borderBottomRightRadius=Ke(t,E3e,n.borderBottomRightRadius),this.borderBottomLeftRadius=Ke(t,T3e,n.borderBottomLeftRadius),this.borderTopStyle=Ke(t,_3e,n.borderTopStyle),this.borderRightStyle=Ke(t,P3e,n.borderRightStyle),this.borderBottomStyle=Ke(t,I3e,n.borderBottomStyle),this.borderLeftStyle=Ke(t,F3e,n.borderLeftStyle),this.borderTopWidth=Ke(t,O3e,n.borderTopWidth),this.borderRightWidth=Ke(t,L3e,n.borderRightWidth),this.borderBottomWidth=Ke(t,U3e,n.borderBottomWidth),this.borderLeftWidth=Ke(t,N3e,n.borderLeftWidth),this.boxShadow=Ke(t,_ke,n.boxShadow),this.color=Ke(t,M3e,n.color),this.direction=Ke(t,R3e,n.direction),this.display=Ke(t,D3e,n.display),this.float=Ke(t,j3e,n.cssFloat),this.fontFamily=Ke(t,yke,n.fontFamily),this.fontSize=Ke(t,bke,n.fontSize),this.fontStyle=Ke(t,Bke,n.fontStyle),this.fontVariant=Ke(t,Cke,n.fontVariant),this.fontWeight=Ke(t,wke,n.fontWeight),this.letterSpacing=Ke(t,H3e,n.letterSpacing),this.lineBreak=Ke(t,$3e,n.lineBreak),this.lineHeight=Ke(t,K3e,n.lineHeight),this.listStyleImage=Ke(t,V3e,n.listStyleImage),this.listStylePosition=Ke(t,z3e,n.listStylePosition),this.listStyleType=Ke(t,VE,n.listStyleType),this.marginTop=Ke(t,W3e,n.marginTop),this.marginRight=Ke(t,G3e,n.marginRight),this.marginBottom=Ke(t,q3e,n.marginBottom),this.marginLeft=Ke(t,Y3e,n.marginLeft),this.opacity=Ke(t,gke,n.opacity);var a=Ke(t,X3e,n.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=Ke(t,J3e,n.overflowWrap),this.paddingTop=Ke(t,Z3e,n.paddingTop),this.paddingRight=Ke(t,eke,n.paddingRight),this.paddingBottom=Ke(t,tke,n.paddingBottom),this.paddingLeft=Ke(t,nke,n.paddingLeft),this.paintOrder=Ke(t,Pke,n.paintOrder),this.position=Ke(t,ike,n.position),this.textAlign=Ke(t,rke,n.textAlign),this.textDecorationColor=Ke(t,mke,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=Ke(t,vke,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=Ke(t,ake,n.textShadow),this.textTransform=Ke(t,oke,n.textTransform),this.transform=Ke(t,ske,n.transform),this.transformOrigin=Ke(t,dke,n.transformOrigin),this.visibility=Ke(t,fke,n.visibility),this.webkitTextStrokeColor=Ke(t,Ike,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ke(t,Fke,n.webkitTextStrokeWidth),this.wordBreak=Ke(t,hke,n.wordBreak),this.zIndex=Ke(t,pke,n.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Ou(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Zr(this.display,4)||Zr(this.display,33554432)||Zr(this.display,268435456)||Zr(this.display,536870912)||Zr(this.display,67108864)||Zr(this.display,134217728)},e}(),Lke=function(){function e(t,n){this.content=Ke(t,Ske,n.content),this.quotes=Ke(t,Tke,n.quotes)}return e}(),t7=function(){function e(t,n){this.counterIncrement=Ke(t,xke,n.counterIncrement),this.counterReset=Ke(t,kke,n.counterReset)}return e}(),Ke=function(e,t,n){var r=new RX,i=n!==null&&typeof n<"u"?n.toString():t.initialValue;r.write(i);var a=new DX(r.read());switch(t.type){case 2:var o=a.parseComponentValue();return t.parse(e,yn(o)?o.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return mB.parse(e,a.parseComponentValue());case"color":return Fu.parse(e,a.parseComponentValue());case"image":return kF.parse(e,a.parseComponentValue());case"length":var s=a.parseComponentValue();return Ku(s)?s:Di;case"length-percentage":var c=a.parseComponentValue();return Dr(c)?c:Di;case"time":return rJ.parse(e,a.parseComponentValue())}break}},Uke="data-html2canvas-debug",Nke=function(e){var t=e.getAttribute(Uke);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},zE=function(e,t){var n=Nke(e);return n===1||t===n},rl=function(){function e(t,n){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,zE(n,3))debugger;this.styles=new Oke(t,window.getComputedStyle(n,null)),qE(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=pB(this.context,n),zE(n,4)&&(this.flags|=16)}return e}(),Mke="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",n7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var h2=0;h2<n7.length;h2++)r0[n7.charCodeAt(h2)]=h2;var Rke=function(e){var t=e.length*.75,n=e.length,r,i=0,a,o,s,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),A=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<n;r+=4)a=r0[e.charCodeAt(r)],o=r0[e.charCodeAt(r+1)],s=r0[e.charCodeAt(r+2)],c=r0[e.charCodeAt(r+3)],A[i++]=a<<2|o>>4,A[i++]=(o&15)<<4|s>>2,A[i++]=(s&3)<<6|c&63;return l},Dke=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},Qke=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},cf=5,EF=11,hx=2,jke=EF-cf,iJ=65536>>cf,Hke=1<<cf,px=Hke-1,$ke=1024>>cf,Kke=iJ+$ke,Vke=Kke,zke=32,Wke=Vke+zke,Gke=65536>>EF,qke=1<<jke,Yke=qke-1,r7=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Xke=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Jke=function(e,t){var n=Rke(e),r=Array.isArray(n)?Qke(n):new Uint32Array(n),i=Array.isArray(n)?Dke(n):new Uint16Array(n),a=24,o=r7(i,a/2,r[4]/2),s=r[5]===2?r7(i,(a+r[4])/2):Xke(r,Math.ceil((a+r[4])/4));return new Zke(r[0],r[1],r[2],r[3],o,s)},Zke=function(){function e(t,n,r,i,a,o){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=a,this.data=o}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>cf],n=(n<<hx)+(t&px),this.data[n];if(t<=65535)return n=this.index[iJ+(t-55296>>cf)],n=(n<<hx)+(t&px),this.data[n];if(t<this.highStart)return n=Wke-Gke+(t>>EF),n=this.index[n],n+=t>>cf&Yke,n=this.index[n],n=(n<<hx)+(t&px),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),i7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eEe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var p2=0;p2<i7.length;p2++)eEe[i7.charCodeAt(p2)]=p2;var tEe=1,gx=2,mx=3,a7=4,o7=5,nEe=7,s7=8,vx=9,yx=10,c7=11,l7=12,A7=13,u7=14,bx=15,rEe=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),n--)}else t.push(i)}return t},iEe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},aEe=Jke(Mke),Yo="",wx="",oEe=function(e){return aEe.get(e)},sEe=function(e,t,n){var r=n-2,i=t[r],a=t[n-1],o=t[n];if(a===gx&&o===mx)return Yo;if(a===gx||a===mx||a===a7||o===gx||o===mx||o===a7)return wx;if(a===s7&&[s7,vx,c7,l7].indexOf(o)!==-1||(a===c7||a===vx)&&(o===vx||o===yx)||(a===l7||a===yx)&&o===yx||o===A7||o===o7||o===nEe||a===tEe)return Yo;if(a===A7&&o===u7){for(;i===o7;)i=t[--r];if(i===u7)return Yo}if(a===bx&&o===bx){for(var s=0;i===bx;)s++,i=t[--r];if(s%2===0)return Yo}return wx},cEe=function(e){var t=rEe(e),n=t.length,r=0,i=0,a=t.map(oEe);return{next:function(){if(r>=n)return{done:!0,value:null};for(var o=Yo;r<n&&(o=sEe(t,a,++r))===Yo;);if(o!==Yo||r===n){var s=iEe.apply(null,t.slice(i,r));return i=r,{value:s,done:!1}}return{done:!0,value:null}}}},lEe=function(e){for(var t=cEe(e),n=[],r;!(r=t.next()).done;)r.value&&n.push(r.value.slice());return n},AEe=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),a=Math.round(i.height);if(e.body.removeChild(r),a===t)return!0}}return!1},uEe=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=t.firstChild,i=gB(r.data).map(function(c){return Br(c)}),a=0,o={},s=i.every(function(c,l){n.setStart(r,a),n.setEnd(r,a+c.length);var A=n.getBoundingClientRect();a+=c.length;var u=A.x>o.x||A.y>o.y;return o=A,l===0?!0:u});return e.body.removeChild(t),s},dEe=function(){return typeof new Image().crossOrigin<"u"},fEe=function(){return typeof new XMLHttpRequest().responseType=="string"},hEe=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch{return!1}return!0},d7=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},pEe=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,a=t.toDataURL();i.src=a;var o=WE(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),f7(o).then(function(s){r.drawImage(s,0,0);var c=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var l=e.createElement("div");return l.style.backgroundImage="url("+a+")",l.style.height=n+"px",d7(c)?f7(WE(n,n,0,0,l)):Promise.reject(!1)}).then(function(s){return r.drawImage(s,0,0),d7(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},WE=function(e,t,n,r,i){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),s=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(i),o},f7=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Mi={get SUPPORT_RANGE_BOUNDS(){var e=AEe(document);return Object.defineProperty(Mi,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Mi.SUPPORT_RANGE_BOUNDS&&uEe(document);return Object.defineProperty(Mi,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=hEe(document);return Object.defineProperty(Mi,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?pEe(document):Promise.resolve(!1);return Object.defineProperty(Mi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=dEe();return Object.defineProperty(Mi,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=fEe();return Object.defineProperty(Mi,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Mi,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Mi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},k0=function(){function e(t,n){this.text=t,this.bounds=n}return e}(),gEe=function(e,t,n,r){var i=yEe(t,n),a=[],o=0;return i.forEach(function(s){if(n.textDecorationLine.length||s.trim().length>0)if(Mi.SUPPORT_RANGE_BOUNDS){var c=h7(r,o,s.length).getClientRects();if(c.length>1){var l=TF(s),A=0;l.forEach(function(d){a.push(new k0(d,fA.fromDOMRectList(e,h7(r,A+o,d.length).getClientRects()))),A+=d.length})}else a.push(new k0(s,fA.fromDOMRectList(e,c)))}else{var u=r.splitText(s.length);a.push(new k0(s,mEe(e,r))),r=u}else Mi.SUPPORT_RANGE_BOUNDS||(r=r.splitText(s.length));o+=s.length}),a},mEe=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var a=pB(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),a}}return fA.EMPTY},h7=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},TF=function(e){if(Mi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(n){return n.segment})}return lEe(e)},vEe=function(e,t){if(Mi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(r){return r.segment})}return wEe(e,t)},yEe=function(e,t){return t.letterSpacing!==0?TF(e):vEe(e,t)},bEe=[32,160,4961,65792,65793,4153,4241],wEe=function(e,t){for(var n=GSe(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),r=[],i,a=function(){if(i.value){var o=i.value.slice(),s=gB(o),c="";s.forEach(function(l){bEe.indexOf(l)===-1?c+=Br(l):(c.length&&r.push(c),r.push(Br(l)),c="")}),c.length&&r.push(c)}};!(i=n.next()).done;)a();return r},CEe=function(){function e(t,n,r){this.text=BEe(n.data,r.textTransform),this.textBounds=gEe(t,this.text,r,n)}return e}(),BEe=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(SEe,xEe);case 2:return e.toUpperCase();default:return e}},SEe=/(^|\s|:|-|\(|\))([a-z])/g,xEe=function(e,t,n){return e.length>0?t+n.toUpperCase():e},aJ=function(e){cc(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return t}(rl),oJ=function(e){cc(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return t}(rl),sJ=function(e){cc(t,e);function t(n,r){var i=e.call(this,n,r)||this,a=new XMLSerializer,o=pB(n,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return t}(rl),cJ=function(e){cc(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.value=r.value,i}return t}(rl),GE=function(e){cc(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return t}(rl),kEe=[{type:15,flags:0,unit:"px",number:3}],EEe=[{type:16,flags:0,number:50}],TEe=function(e){return e.width>e.height?new fA(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new fA(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},_Ee=function(e){var t=e.type===PEe?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},t5="checkbox",n5="radio",PEe="password",p7=707406591,_F=function(e){cc(t,e);function t(n,r){var i=e.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=_Ee(r),(i.type===t5||i.type===n5)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=TEe(i.bounds)),i.type){case t5:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=kEe;break;case n5:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=EEe;break}return i}return t}(rl),lJ=function(e){cc(t,e);function t(n,r){var i=e.call(this,n,r)||this,a=r.options[r.selectedIndex||0];return i.value=a&&a.text||"",i}return t}(rl),AJ=function(e){cc(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.value=r.value,i}return t}(rl),uJ=function(e){cc(t,e);function t(n,r){var i=e.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=fJ(n,r.contentWindow.document.documentElement);var a=r.contentWindow.document.documentElement?S0(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):ql.TRANSPARENT,o=r.contentWindow.document.body?S0(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):ql.TRANSPARENT;i.backgroundColor=Ou(a)?Ou(o)?i.styles.backgroundColor:o:a}}catch{}return i}return t}(rl),IEe=["OL","UL","MENU"],sb=function(e,t,n,r){for(var i=t.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,hJ(i)&&i.data.trim().length>0)n.textNodes.push(new CEe(e,i,n.styles));else if(Gh(i))if(vJ(i)&&i.assignedNodes)i.assignedNodes().forEach(function(s){return sb(e,s,n,r)});else{var o=dJ(e,i);o.styles.isVisible()&&(FEe(i,o,r)?o.flags|=4:OEe(o.styles)&&(o.flags|=2),IEe.indexOf(i.tagName)!==-1&&(o.flags|=8),n.elements.push(o),i.slot,i.shadowRoot?sb(e,i.shadowRoot,o,r):!r5(i)&&!pJ(i)&&!i5(i)&&sb(e,i,o,r))}},dJ=function(e,t){return YE(t)?new aJ(e,t):gJ(t)?new oJ(e,t):pJ(t)?new sJ(e,t):LEe(t)?new cJ(e,t):UEe(t)?new GE(e,t):NEe(t)?new _F(e,t):i5(t)?new lJ(e,t):r5(t)?new AJ(e,t):mJ(t)?new uJ(e,t):new rl(e,t)},fJ=function(e,t){var n=dJ(e,t);return n.flags|=4,sb(e,t,n,n),n},FEe=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||PF(e)&&n.styles.isTransparent()},OEe=function(e){return e.isPositioned()||e.isFloating()},hJ=function(e){return e.nodeType===Node.TEXT_NODE},Gh=function(e){return e.nodeType===Node.ELEMENT_NODE},qE=function(e){return Gh(e)&&typeof e.style<"u"&&!cb(e)},cb=function(e){return typeof e.className=="object"},LEe=function(e){return e.tagName==="LI"},UEe=function(e){return e.tagName==="OL"},NEe=function(e){return e.tagName==="INPUT"},MEe=function(e){return e.tagName==="HTML"},pJ=function(e){return e.tagName==="svg"},PF=function(e){return e.tagName==="BODY"},gJ=function(e){return e.tagName==="CANVAS"},g7=function(e){return e.tagName==="VIDEO"},YE=function(e){return e.tagName==="IMG"},mJ=function(e){return e.tagName==="IFRAME"},m7=function(e){return e.tagName==="STYLE"},REe=function(e){return e.tagName==="SCRIPT"},r5=function(e){return e.tagName==="TEXTAREA"},i5=function(e){return e.tagName==="SELECT"},vJ=function(e){return e.tagName==="SLOT"},v7=function(e){return e.tagName.indexOf("-")>0},DEe=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var n=this.counters[t];return n&&n.length?n[n.length-1]:1},e.prototype.getCounterValues=function(t){var n=this.counters[t];return n||[]},e.prototype.pop=function(t){var n=this;t.forEach(function(r){return n.counters[r].pop()})},e.prototype.parse=function(t){var n=this,r=t.counterIncrement,i=t.counterReset,a=!0;r!==null&&r.forEach(function(s){var c=n.counters[s.counter];c&&s.increment!==0&&(a=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=s.increment)});var o=[];return a&&i.forEach(function(s){var c=n.counters[s.counter];o.push(s.counter),c||(c=n.counters[s.counter]=[]),c.push(s.reset)}),o},e}(),y7={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},b7={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},QEe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},jEe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},wh=function(e,t,n,r,i,a){return e<t||e>n?Sv(e,i,a.length>0):r.integers.reduce(function(o,s,c){for(;e>=s;)e-=s,o+=r.values[c];return o},"")+a},yJ=function(e,t,n,r){var i="";do n||e--,i=r(e)+i,e/=t;while(e*t>=t);return i},wr=function(e,t,n,r,i){var a=n-t+1;return(e<0?"-":"")+(yJ(Math.abs(e),a,r,function(o){return Br(Math.floor(o%a)+t)})+i)},xd=function(e,t,n){n===void 0&&(n=". ");var r=t.length;return yJ(Math.abs(e),r,!1,function(i){return t[Math.floor(i%r)]})+n},Ph=1,YA=2,XA=4,i0=8,Tl=function(e,t,n,r,i,a){if(e<-9999||e>9999)return Sv(e,4,i.length>0);var o=Math.abs(e),s=i;if(o===0)return t[0]+s;for(var c=0;o>0&&c<=4;c++){var l=o%10;l===0&&Zr(a,Ph)&&s!==""?s=t[l]+s:l>1||l===1&&c===0||l===1&&c===1&&Zr(a,YA)||l===1&&c===1&&Zr(a,XA)&&e>100||l===1&&c>1&&Zr(a,i0)?s=t[l]+(c>0?n[c-1]:"")+s:l===1&&c>0&&(s=n[c-1]+s),o=Math.floor(o/10)}return(e<0?r:"")+s},w7="",C7="",B7="",Cx="",Sv=function(e,t,n){var r=n?". ":"",i=n?"":"",a=n?", ":"",o=n?" ":"";switch(t){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var s=wr(e,48,57,!0,r);return s.length<4?"0"+s:s;case 4:return xd(e,"",i);case 6:return wh(e,1,3999,y7,3,r).toLowerCase();case 7:return wh(e,1,3999,y7,3,r);case 8:return wr(e,945,969,!1,r);case 9:return wr(e,97,122,!1,r);case 10:return wr(e,65,90,!1,r);case 11:return wr(e,1632,1641,!0,r);case 12:case 49:return wh(e,1,9999,b7,3,r);case 35:return wh(e,1,9999,b7,3,r).toLowerCase();case 13:return wr(e,2534,2543,!0,r);case 14:case 30:return wr(e,6112,6121,!0,r);case 15:return xd(e,"",i);case 16:return xd(e,"",i);case 17:case 48:return Tl(e,"",w7,"",i,YA|XA|i0);case 47:return Tl(e,"",C7,"",i,Ph|YA|XA|i0);case 42:return Tl(e,"",w7,"",i,YA|XA|i0);case 41:return Tl(e,"",C7,"",i,Ph|YA|XA|i0);case 26:return Tl(e,"","",B7,i,0);case 25:return Tl(e,"","",B7,i,Ph|YA|XA);case 31:return Tl(e,"","",Cx,a,Ph|YA|XA);case 33:return Tl(e,"","",Cx,a,0);case 32:return Tl(e,"","",Cx,a,Ph|YA|XA);case 18:return wr(e,2406,2415,!0,r);case 20:return wh(e,1,19999,jEe,3,r);case 21:return wr(e,2790,2799,!0,r);case 22:return wr(e,2662,2671,!0,r);case 22:return wh(e,1,10999,QEe,3,r);case 23:return xd(e,"");case 24:return xd(e,"");case 27:return wr(e,3302,3311,!0,r);case 28:return xd(e,"",i);case 29:return xd(e,"",i);case 34:return wr(e,3792,3801,!0,r);case 37:return wr(e,6160,6169,!0,r);case 38:return wr(e,4160,4169,!0,r);case 39:return wr(e,2918,2927,!0,r);case 40:return wr(e,1776,1785,!0,r);case 43:return wr(e,3046,3055,!0,r);case 44:return wr(e,3174,3183,!0,r);case 45:return wr(e,3664,3673,!0,r);case 46:return wr(e,3872,3881,!0,r);case 3:default:return wr(e,48,57,!0,r)}},bJ="data-html2canvas-ignore",S7=function(){function e(t,n,r){if(this.context=t,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new DEe,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,n){var r=this,i=HEe(t,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,s=i.contentWindow,c=s.document,l=VEe(i).then(function(){return ha(r,void 0,void 0,function(){var A,u;return na(this,function(d){switch(d.label){case 0:return this.scrolledElements.forEach(qEe),s&&(s.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(s.scrollY!==n.top||s.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(s.scrollX-n.left,s.scrollY-n.top,0,0))),A=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:d.sent(),d.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,KEe(c)]:[3,4];case 3:d.sent(),d.label=4;case 4:return typeof A=="function"?[2,Promise.resolve().then(function(){return A(c,u)}).then(function(){return i})]:[2,i]}})})});return c.open(),c.write(WEe(document.doctype)+"<html></html>"),GEe(this.referenceElement.ownerDocument,a,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),l},e.prototype.createElementClone=function(t){if(zE(t,2))debugger;if(gJ(t))return this.createCanvasClone(t);if(g7(t))return this.createVideoClone(t);if(m7(t))return this.createStyleClone(t);var n=t.cloneNode(!1);return YE(n)&&(YE(t)&&t.currentSrc&&t.currentSrc!==t.src&&(n.src=t.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),v7(n)?this.createCustomElementClone(n):n},e.prototype.createCustomElementClone=function(t){var n=document.createElement("html2canvascustomelement");return Bx(t.style,n),n},e.prototype.createStyleClone=function(t){try{var n=t.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(a,o){return o&&typeof o.cssText=="string"?a+o.cssText:a},""),i=t.cloneNode(!1);return i.textContent=r,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var n;if(this.options.inlineImages&&t.ownerDocument){var r=t.ownerDocument.createElement("img");try{return r.src=t.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var a=t.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&a)o.putImageData(a.getImageData(0,0,t.width,t.height),0,0);else{var s=(n=t.getContext("webgl2"))!==null&&n!==void 0?n:t.getContext("webgl");if(s){var c=s.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return i},e.prototype.createVideoClone=function(t){var n=t.ownerDocument.createElement("canvas");n.width=t.offsetWidth,n.height=t.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(t,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var i=t.ownerDocument.createElement("canvas");return i.width=t.offsetWidth,i.height=t.offsetHeight,i},e.prototype.appendChildNode=function(t,n,r){(!Gh(n)||!REe(n)&&!n.hasAttribute(bJ)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!Gh(n)||!m7(n))&&t.appendChild(this.cloneNode(n,r))},e.prototype.cloneChildNodes=function(t,n,r){for(var i=this,a=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;a;a=a.nextSibling)if(Gh(a)&&vJ(a)&&typeof a.assignedNodes=="function"){var o=a.assignedNodes();o.length&&o.forEach(function(s){return i.appendChildNode(n,s,r)})}else this.appendChildNode(n,a,r)},e.prototype.cloneNode=function(t,n){if(hJ(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var r=t.ownerDocument.defaultView;if(r&&Gh(t)&&(qE(t)||cb(t))){var i=this.createElementClone(t);i.style.transitionProperty="none";var a=r.getComputedStyle(t),o=r.getComputedStyle(t,":before"),s=r.getComputedStyle(t,":after");this.referenceElement===t&&qE(i)&&(this.clonedReferenceElement=i),PF(i)&&JEe(i);var c=this.counters.parse(new t7(this.context,a)),l=this.resolvePseudoContent(t,i,o,E0.BEFORE);v7(t)&&(n=!0),g7(t)||this.cloneChildNodes(t,i,n),l&&i.insertBefore(l,i.firstChild);var A=this.resolvePseudoContent(t,i,s,E0.AFTER);return A&&i.appendChild(A),this.counters.pop(c),(a&&(this.options.copyStyles||cb(t))&&!mJ(t)||n)&&Bx(a,i),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(r5(t)||i5(t))&&(r5(i)||i5(i))&&(i.value=t.value),i}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,n,r,i){var a=this;if(r){var o=r.content,s=n.ownerDocument;if(!(!s||!o||o==="none"||o==="-moz-alt-content"||r.display==="none")){this.counters.parse(new t7(this.context,r));var c=new Lke(this.context,r),l=s.createElement("html2canvaspseudoelement");Bx(r,l),c.content.forEach(function(u){if(u.type===0)l.appendChild(s.createTextNode(u.value));else if(u.type===22){var d=s.createElement("img");d.src=u.value,d.style.opacity="1",l.appendChild(d)}else if(u.type===18){if(u.name==="attr"){var f=u.values.filter(yn);f.length&&l.appendChild(s.createTextNode(t.getAttribute(f[0].value)||""))}else if(u.name==="counter"){var h=u.values.filter(Wp),p=h[0],v=h[1];if(p&&yn(p)){var m=a.counters.getCounterValue(p.value),w=v&&yn(v)?VE.parse(a.context,v.value):3;l.appendChild(s.createTextNode(Sv(m,w,!1)))}}else if(u.name==="counters"){var B=u.values.filter(Wp),p=B[0],C=B[1],v=B[2];if(p&&yn(p)){var S=a.counters.getCounterValues(p.value),k=v&&yn(v)?VE.parse(a.context,v.value):3,_=C&&C.type===0?C.value:"",F=S.map(function(T){return Sv(T,k,!1)}).join(_);l.appendChild(s.createTextNode(F))}}}else if(u.type===20)switch(u.value){case"open-quote":l.appendChild(s.createTextNode(e7(c.quotes,a.quoteDepth++,!0)));break;case"close-quote":l.appendChild(s.createTextNode(e7(c.quotes,--a.quoteDepth,!1)));break;default:l.appendChild(s.createTextNode(u.value))}}),l.className=XE+" "+JE;var A=i===E0.BEFORE?" "+XE:" "+JE;return cb(n)?n.className.baseValue+=A:n.className+=A,l}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),E0;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(E0||(E0={}));var HEe=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(bJ,"true"),e.body.appendChild(n),n},$Ee=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},KEe=function(e){return Promise.all([].slice.call(e.images,0).map($Ee))},VEe=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),t(e))},50)}})},zEe=["all","d","content"],Bx=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);zEe.indexOf(r)===-1&&t.style.setProperty(r,e.getPropertyValue(r))}return t},WEe=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},GEe=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},qEe=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},YEe=":before",XEe=":after",XE="___html2canvas___pseudoelement_before",JE="___html2canvas___pseudoelement_after",x7=`{
    content: "" !important;
    display: none !important;
}`,JEe=function(e){ZEe(e,"."+XE+YEe+x7+`
         .`+JE+XEe+x7)},ZEe=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},wJ=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),eTe=function(){function e(t,n){this.context=t,this._options=n,this._cache={}}return e.prototype.addImage=function(t){var n=Promise.resolve();return this.has(t)||(xx(t)||iTe(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),n},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return ha(this,void 0,void 0,function(){var n,r,i,a,o=this;return na(this,function(s){switch(s.label){case 0:return n=wJ.isSameOrigin(t),r=!Sx(t)&&this._options.useCORS===!0&&Mi.SUPPORT_CORS_IMAGES&&!n,i=!Sx(t)&&!n&&!xx(t)&&typeof this._options.proxy=="string"&&Mi.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!Sx(t)&&!xx(t)&&!i&&!r?[2]:(a=t,i?[4,this.proxy(a)]:[3,2]);case 1:a=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,l){var A=new Image;A.onload=function(){return c(A)},A.onerror=l,(aTe(a)||r)&&(A.crossOrigin="anonymous"),A.src=a,A.complete===!0&&setTimeout(function(){return c(A)},500),o._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,s.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise(function(a,o){var s=Mi.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(s==="text")a(c.response);else{var u=new FileReader;u.addEventListener("load",function(){return a(u.result)},!1),u.addEventListener("error",function(d){return o(d)},!1),u.readAsDataURL(c.response)}else o("Failed to proxy resource "+i+" with status code "+c.status)},c.onerror=o;var l=r.indexOf("?")>-1?"&":"?";if(c.open("GET",""+r+l+"url="+encodeURIComponent(t)+"&responseType="+s),s!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=s),n._options.imageTimeout){var A=n._options.imageTimeout;c.timeout=A,c.ontimeout=function(){return o("Timed out ("+A+"ms) proxying "+i)}}c.send()})},e}(),tTe=/^data:image\/svg\+xml/i,nTe=/^data:image\/.*;base64,/i,rTe=/^data:image\/.*/i,iTe=function(e){return Mi.SUPPORT_SVG_DRAWING||!oTe(e)},Sx=function(e){return rTe.test(e)},aTe=function(e){return nTe.test(e)},xx=function(e){return e.substr(0,4)==="blob"},oTe=function(e){return e.substr(-3).toLowerCase()==="svg"||tTe.test(e)},$e=function(){function e(t,n){this.type=0,this.x=t,this.y=n}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Ch=function(e,t,n){return new $e(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},g2=function(){function e(t,n,r,i){this.type=1,this.start=t,this.startControl=n,this.endControl=r,this.end=i}return e.prototype.subdivide=function(t,n){var r=Ch(this.start,this.startControl,t),i=Ch(this.startControl,this.endControl,t),a=Ch(this.endControl,this.end,t),o=Ch(r,i,t),s=Ch(i,a,t),c=Ch(o,s,t);return n?new e(this.start,r,o,c):new e(c,s,a,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),ts=function(e){return e.type===1},sTe=function(){function e(t){var n=t.styles,r=t.bounds,i=n0(n.borderTopLeftRadius,r.width,r.height),a=i[0],o=i[1],s=n0(n.borderTopRightRadius,r.width,r.height),c=s[0],l=s[1],A=n0(n.borderBottomRightRadius,r.width,r.height),u=A[0],d=A[1],f=n0(n.borderBottomLeftRadius,r.width,r.height),h=f[0],p=f[1],v=[];v.push((a+c)/r.width),v.push((h+u)/r.width),v.push((o+p)/r.height),v.push((l+d)/r.height);var m=Math.max.apply(Math,v);m>1&&(a/=m,o/=m,c/=m,l/=m,u/=m,d/=m,h/=m,p/=m);var w=r.width-c,B=r.height-d,C=r.width-u,S=r.height-p,k=n.borderTopWidth,_=n.borderRightWidth,F=n.borderBottomWidth,P=n.borderLeftWidth,U=In(n.paddingTop,t.bounds.width),T=In(n.paddingRight,t.bounds.width),O=In(n.paddingBottom,t.bounds.width),H=In(n.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?Kn(r.left+P/3,r.top+k/3,a-P/3,o-k/3,un.TOP_LEFT):new $e(r.left+P/3,r.top+k/3),this.topRightBorderDoubleOuterBox=a>0||o>0?Kn(r.left+w,r.top+k/3,c-_/3,l-k/3,un.TOP_RIGHT):new $e(r.left+r.width-_/3,r.top+k/3),this.bottomRightBorderDoubleOuterBox=u>0||d>0?Kn(r.left+C,r.top+B,u-_/3,d-F/3,un.BOTTOM_RIGHT):new $e(r.left+r.width-_/3,r.top+r.height-F/3),this.bottomLeftBorderDoubleOuterBox=h>0||p>0?Kn(r.left+P/3,r.top+S,h-P/3,p-F/3,un.BOTTOM_LEFT):new $e(r.left+P/3,r.top+r.height-F/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?Kn(r.left+P*2/3,r.top+k*2/3,a-P*2/3,o-k*2/3,un.TOP_LEFT):new $e(r.left+P*2/3,r.top+k*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?Kn(r.left+w,r.top+k*2/3,c-_*2/3,l-k*2/3,un.TOP_RIGHT):new $e(r.left+r.width-_*2/3,r.top+k*2/3),this.bottomRightBorderDoubleInnerBox=u>0||d>0?Kn(r.left+C,r.top+B,u-_*2/3,d-F*2/3,un.BOTTOM_RIGHT):new $e(r.left+r.width-_*2/3,r.top+r.height-F*2/3),this.bottomLeftBorderDoubleInnerBox=h>0||p>0?Kn(r.left+P*2/3,r.top+S,h-P*2/3,p-F*2/3,un.BOTTOM_LEFT):new $e(r.left+P*2/3,r.top+r.height-F*2/3),this.topLeftBorderStroke=a>0||o>0?Kn(r.left+P/2,r.top+k/2,a-P/2,o-k/2,un.TOP_LEFT):new $e(r.left+P/2,r.top+k/2),this.topRightBorderStroke=a>0||o>0?Kn(r.left+w,r.top+k/2,c-_/2,l-k/2,un.TOP_RIGHT):new $e(r.left+r.width-_/2,r.top+k/2),this.bottomRightBorderStroke=u>0||d>0?Kn(r.left+C,r.top+B,u-_/2,d-F/2,un.BOTTOM_RIGHT):new $e(r.left+r.width-_/2,r.top+r.height-F/2),this.bottomLeftBorderStroke=h>0||p>0?Kn(r.left+P/2,r.top+S,h-P/2,p-F/2,un.BOTTOM_LEFT):new $e(r.left+P/2,r.top+r.height-F/2),this.topLeftBorderBox=a>0||o>0?Kn(r.left,r.top,a,o,un.TOP_LEFT):new $e(r.left,r.top),this.topRightBorderBox=c>0||l>0?Kn(r.left+w,r.top,c,l,un.TOP_RIGHT):new $e(r.left+r.width,r.top),this.bottomRightBorderBox=u>0||d>0?Kn(r.left+C,r.top+B,u,d,un.BOTTOM_RIGHT):new $e(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=h>0||p>0?Kn(r.left,r.top+S,h,p,un.BOTTOM_LEFT):new $e(r.left,r.top+r.height),this.topLeftPaddingBox=a>0||o>0?Kn(r.left+P,r.top+k,Math.max(0,a-P),Math.max(0,o-k),un.TOP_LEFT):new $e(r.left+P,r.top+k),this.topRightPaddingBox=c>0||l>0?Kn(r.left+Math.min(w,r.width-_),r.top+k,w>r.width+_?0:Math.max(0,c-_),Math.max(0,l-k),un.TOP_RIGHT):new $e(r.left+r.width-_,r.top+k),this.bottomRightPaddingBox=u>0||d>0?Kn(r.left+Math.min(C,r.width-P),r.top+Math.min(B,r.height-F),Math.max(0,u-_),Math.max(0,d-F),un.BOTTOM_RIGHT):new $e(r.left+r.width-_,r.top+r.height-F),this.bottomLeftPaddingBox=h>0||p>0?Kn(r.left+P,r.top+Math.min(S,r.height-F),Math.max(0,h-P),Math.max(0,p-F),un.BOTTOM_LEFT):new $e(r.left+P,r.top+r.height-F),this.topLeftContentBox=a>0||o>0?Kn(r.left+P+H,r.top+k+U,Math.max(0,a-(P+H)),Math.max(0,o-(k+U)),un.TOP_LEFT):new $e(r.left+P+H,r.top+k+U),this.topRightContentBox=c>0||l>0?Kn(r.left+Math.min(w,r.width+P+H),r.top+k+U,w>r.width+P+H?0:c-P+H,l-(k+U),un.TOP_RIGHT):new $e(r.left+r.width-(_+T),r.top+k+U),this.bottomRightContentBox=u>0||d>0?Kn(r.left+Math.min(C,r.width-(P+H)),r.top+Math.min(B,r.height+k+U),Math.max(0,u-(_+T)),d-(F+O),un.BOTTOM_RIGHT):new $e(r.left+r.width-(_+T),r.top+r.height-(F+O)),this.bottomLeftContentBox=h>0||p>0?Kn(r.left+P+H,r.top+S,Math.max(0,h-(P+H)),p-(F+O),un.BOTTOM_LEFT):new $e(r.left+P+H,r.top+r.height-(F+O))}return e}(),un;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(un||(un={}));var Kn=function(e,t,n,r,i){var a=4*((Math.sqrt(2)-1)/3),o=n*a,s=r*a,c=e+n,l=t+r;switch(i){case un.TOP_LEFT:return new g2(new $e(e,l),new $e(e,l-s),new $e(c-o,t),new $e(c,t));case un.TOP_RIGHT:return new g2(new $e(e,t),new $e(e+o,t),new $e(c,l-s),new $e(c,l));case un.BOTTOM_RIGHT:return new g2(new $e(c,t),new $e(c,t+s),new $e(e+o,l),new $e(e,l));case un.BOTTOM_LEFT:default:return new g2(new $e(c,l),new $e(c-o,l),new $e(e,t+s),new $e(e,t))}},a5=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},cTe=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},o5=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},lTe=function(){function e(t,n,r){this.offsetX=t,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return e}(),m2=function(){function e(t,n){this.path=t,this.target=n,this.type=1}return e}(),ATe=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),uTe=function(e){return e.type===0},CJ=function(e){return e.type===1},dTe=function(e){return e.type===2},k7=function(e,t){return e.length===t.length?e.some(function(n,r){return n===t[r]}):!1},fTe=function(e,t,n,r,i){return e.map(function(a,o){switch(o){case 0:return a.add(t,n);case 1:return a.add(t+r,n);case 2:return a.add(t+r,n+i);case 3:return a.add(t,n+i)}return a})},BJ=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),SJ=function(){function e(t,n){if(this.container=t,this.parent=n,this.effects=[],this.curves=new sTe(this.container),this.container.styles.opacity<1&&this.effects.push(new ATe(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new lTe(r,i,a))}if(this.container.styles.overflowX!==0){var o=a5(this.curves),s=o5(this.curves);k7(o,s)?this.effects.push(new m2(o,6)):(this.effects.push(new m2(o,2)),this.effects.push(new m2(s,4)))}}return e.prototype.getEffects=function(t){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var a=r.effects.filter(function(c){return!CJ(c)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,a),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=a5(r.curves),s=o5(r.curves);k7(o,s)||i.unshift(new m2(s,6))}}else i.unshift.apply(i,a);r=r.parent}return i.filter(function(c){return Zr(c.target,t)})},e}(),ZE=function(e,t,n,r){e.container.elements.forEach(function(i){var a=Zr(i.flags,4),o=Zr(i.flags,2),s=new SJ(i,e);Zr(i.styles.display,2048)&&r.push(s);var c=Zr(i.flags,8)?[]:r;if(a||o){var l=a||i.styles.isPositioned()?n:t,A=new BJ(s);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var d=0;l.negativeZIndex.some(function(h,p){return u>h.element.container.styles.zIndex.order?(d=p,!1):d>0}),l.negativeZIndex.splice(d,0,A)}else if(u>0){var f=0;l.positiveZIndex.some(function(h,p){return u>=h.element.container.styles.zIndex.order?(f=p+1,!1):f>0}),l.positiveZIndex.splice(f,0,A)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else i.styles.isFloating()?l.nonPositionedFloats.push(A):l.nonPositionedInlineLevel.push(A);ZE(s,A,a?A:n,c)}else i.styles.isInlineLevel()?t.inlineLevel.push(s):t.nonInlineLevel.push(s),ZE(s,t,n,c);Zr(i.flags,8)&&xJ(i,c)})},xJ=function(e,t){for(var n=e instanceof GE?e.start:1,r=e instanceof GE?e.reversed:!1,i=0;i<t.length;i++){var a=t[i];a.container instanceof cJ&&typeof a.container.value=="number"&&a.container.value!==0&&(n=a.container.value),a.listValue=Sv(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},hTe=function(e){var t=new SJ(e,null),n=new BJ(t),r=[];return ZE(t,n,n,r),xJ(t.container,r),n},E7=function(e,t){switch(t){case 0:return ss(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ss(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ss(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return ss(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},pTe=function(e,t){switch(t){case 0:return ss(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return ss(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return ss(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return ss(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},gTe=function(e,t){switch(t){case 0:return ss(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return ss(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return ss(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return ss(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},mTe=function(e,t){switch(t){case 0:return v2(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return v2(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return v2(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return v2(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},v2=function(e,t){var n=[];return ts(e)?n.push(e.subdivide(.5,!1)):n.push(e),ts(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},ss=function(e,t,n,r){var i=[];return ts(e)?i.push(e.subdivide(.5,!1)):i.push(e),ts(n)?i.push(n.subdivide(.5,!0)):i.push(n),ts(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),ts(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},kJ=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},s5=function(e){var t=e.styles,n=e.bounds,r=In(t.paddingLeft,n.width),i=In(t.paddingRight,n.width),a=In(t.paddingTop,n.width),o=In(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+a+o))},vTe=function(e,t){return e===0?t.bounds:e===2?s5(t):kJ(t)},yTe=function(e,t){return e===0?t.bounds:e===2?s5(t):kJ(t)},kx=function(e,t,n){var r=vTe(Ih(e.styles.backgroundOrigin,t),e),i=yTe(Ih(e.styles.backgroundClip,t),e),a=bTe(Ih(e.styles.backgroundSize,t),n,r),o=a[0],s=a[1],c=n0(Ih(e.styles.backgroundPosition,t),r.width-o,r.height-s),l=wTe(Ih(e.styles.backgroundRepeat,t),c,a,r,i),A=Math.round(r.left+c[0]),u=Math.round(r.top+c[1]);return[l,A,u,o,s]},Bh=function(e){return yn(e)&&e.value===fp.AUTO},y2=function(e){return typeof e=="number"},bTe=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=e[0],s=e[1];if(!o)return[0,0];if(Dr(o)&&s&&Dr(s))return[In(o,n.width),In(s,n.height)];var c=y2(a);if(yn(o)&&(o.value===fp.CONTAIN||o.value===fp.COVER)){if(y2(a)){var l=n.width/n.height;return l<a!=(o.value===fp.COVER)?[n.width,n.width/a]:[n.height*a,n.height]}return[n.width,n.height]}var A=y2(r),u=y2(i),d=A||u;if(Bh(o)&&(!s||Bh(s))){if(A&&u)return[r,i];if(!c&&!d)return[n.width,n.height];if(d&&c){var f=A?r:i*a,h=u?i:r/a;return[f,h]}var p=A?r:n.width,v=u?i:n.height;return[p,v]}if(c){var m=0,w=0;return Dr(o)?m=In(o,n.width):Dr(s)&&(w=In(s,n.height)),Bh(o)?m=w*a:(!s||Bh(s))&&(w=m/a),[m,w]}var B=null,C=null;if(Dr(o)?B=In(o,n.width):s&&Dr(s)&&(C=In(s,n.height)),B!==null&&(!s||Bh(s))&&(C=A&&u?B/r*i:n.height),C!==null&&Bh(o)&&(B=A&&u?C/i*r:n.width),B!==null&&C!==null)return[B,C];throw new Error("Unable to calculate background-size for element")},Ih=function(e,t){var n=e[t];return typeof n>"u"?e[0]:n},wTe=function(e,t,n,r,i){var a=t[0],o=t[1],s=n[0],c=n[1];switch(e){case 2:return[new $e(Math.round(r.left),Math.round(r.top+o)),new $e(Math.round(r.left+r.width),Math.round(r.top+o)),new $e(Math.round(r.left+r.width),Math.round(c+r.top+o)),new $e(Math.round(r.left),Math.round(c+r.top+o))];case 3:return[new $e(Math.round(r.left+a),Math.round(r.top)),new $e(Math.round(r.left+a+s),Math.round(r.top)),new $e(Math.round(r.left+a+s),Math.round(r.height+r.top)),new $e(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new $e(Math.round(r.left+a),Math.round(r.top+o)),new $e(Math.round(r.left+a+s),Math.round(r.top+o)),new $e(Math.round(r.left+a+s),Math.round(r.top+o+c)),new $e(Math.round(r.left+a),Math.round(r.top+o+c))];default:return[new $e(Math.round(i.left),Math.round(i.top)),new $e(Math.round(i.left+i.width),Math.round(i.top)),new $e(Math.round(i.left+i.width),Math.round(i.height+i.top)),new $e(Math.round(i.left),Math.round(i.height+i.top))]}},CTe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",T7="Hidden Text",BTe=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=t,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),i.src=CTe,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=n,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(T7)),r.appendChild(a),r.appendChild(i);var s=i.offsetTop-a.offsetTop+2;r.removeChild(a),r.appendChild(this._document.createTextNode(T7)),r.style.lineHeight="normal",i.style.verticalAlign="super";var c=i.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:s,middle:c}},e.prototype.getMetrics=function(t,n){var r=t+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(t,n)),this._data[r]},e}(),EJ=function(){function e(t,n){this.context=t,this.options=n}return e}(),STe=1e4,xTe=function(e){cc(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new BTe(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return t.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},t.prototype.applyEffect=function(n){this.ctx.save(),dTe(n)&&(this.ctx.globalAlpha=n.opacity),uTe(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),CJ(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(n){return ha(this,void 0,void 0,function(){var r;return na(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(n){return ha(this,void 0,void 0,function(){return na(this,function(r){switch(r.label){case 0:if(Zr(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(n,r,i){var a=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var o=TF(n.text);o.reduce(function(s,c){return a.ctx.fillText(c,s,n.bounds.top+i),s+a.ctx.measureText(c).width},n.bounds.left)}},t.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=PTe(n.fontFamily).join(", "),a=p1(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,a,i].join(" "),i,a]},t.prototype.renderTextNode=function(n,r){return ha(this,void 0,void 0,function(){var i,a,o,s,c,l,A,u,d=this;return na(this,function(f){return i=this.createFontStyle(r),a=i[0],o=i[1],s=i[2],this.ctx.font=a,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,s),l=c.baseline,A=c.middle,u=r.paintOrder,n.textBounds.forEach(function(h){u.forEach(function(p){switch(p){case 0:d.ctx.fillStyle=Ai(r.color),d.renderTextWithLetterSpacing(h,r.letterSpacing,l);var v=r.textShadow;v.length&&h.text.trim().length&&(v.slice(0).reverse().forEach(function(m){d.ctx.shadowColor=Ai(m.color),d.ctx.shadowOffsetX=m.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=m.offsetY.number*d.options.scale,d.ctx.shadowBlur=m.blur.number,d.renderTextWithLetterSpacing(h,r.letterSpacing,l)}),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),r.textDecorationLine.length&&(d.ctx.fillStyle=Ai(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(m){switch(m){case 1:d.ctx.fillRect(h.bounds.left,Math.round(h.bounds.top+l),h.bounds.width,1);break;case 2:d.ctx.fillRect(h.bounds.left,Math.round(h.bounds.top),h.bounds.width,1);break;case 3:d.ctx.fillRect(h.bounds.left,Math.ceil(h.bounds.top+A),h.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&h.text.trim().length&&(d.ctx.strokeStyle=Ai(r.webkitTextStrokeColor),d.ctx.lineWidth=r.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(h.text,h.bounds.left,h.bounds.top+l)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var a=s5(n),o=o5(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(n){return ha(this,void 0,void 0,function(){var r,i,a,o,s,c,w,w,l,A,u,d,C,f,h,S,p,v,m,w,B,C,S;return na(this,function(k){switch(k.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,a=r.styles,o=0,s=r.textNodes,k.label=1;case 1:return o<s.length?(c=s[o],[4,this.renderTextNode(c,a)]):[3,4];case 2:k.sent(),k.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof aJ))return[3,8];k.label=5;case 5:return k.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return w=k.sent(),this.renderReplacedElement(r,i,w),[3,8];case 7:return k.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof oJ&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof sJ))return[3,12];k.label=9;case 9:return k.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return w=k.sent(),this.renderReplacedElement(r,i,w),[3,12];case 11:return k.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof uJ&&r.tree?(l=new t(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,l.render(r.tree)]):[3,14];case 13:A=k.sent(),r.width&&r.height&&this.ctx.drawImage(A,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),k.label=14;case 14:if(r instanceof _F&&(u=Math.min(r.bounds.width,r.bounds.height),r.type===t5?r.checked&&(this.ctx.save(),this.path([new $e(r.bounds.left+u*.39363,r.bounds.top+u*.79),new $e(r.bounds.left+u*.16,r.bounds.top+u*.5549),new $e(r.bounds.left+u*.27347,r.bounds.top+u*.44071),new $e(r.bounds.left+u*.39694,r.bounds.top+u*.5649),new $e(r.bounds.left+u*.72983,r.bounds.top+u*.23),new $e(r.bounds.left+u*.84,r.bounds.top+u*.34085),new $e(r.bounds.left+u*.39363,r.bounds.top+u*.79)]),this.ctx.fillStyle=Ai(p7),this.ctx.fill(),this.ctx.restore()):r.type===n5&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+u/2,r.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ai(p7),this.ctx.fill(),this.ctx.restore())),kTe(r)&&r.value.length){switch(d=this.createFontStyle(a),C=d[0],f=d[1],h=this.fontMetrics.getMetrics(C,f).baseline,this.ctx.font=C,this.ctx.fillStyle=Ai(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=TTe(r.styles.textAlign),S=s5(r),p=0,r.styles.textAlign){case 1:p+=S.width/2;break;case 2:p+=S.width;break}v=S.add(p,0,0,-S.height/2+1),this.ctx.save(),this.path([new $e(S.left,S.top),new $e(S.left+S.width,S.top),new $e(S.left+S.width,S.top+S.height),new $e(S.left,S.top+S.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new k0(r.value,v),a.letterSpacing,h),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Zr(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(m=r.styles.listStyleImage,m.type!==0)return[3,18];w=void 0,B=m.url,k.label=15;case 15:return k.trys.push([15,17,,18]),[4,this.context.cache.match(B)];case 16:return w=k.sent(),this.ctx.drawImage(w,r.bounds.left-(w.width+10),r.bounds.top),[3,18];case 17:return k.sent(),this.context.logger.error("Error loading list-style-image "+B),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(C=this.createFontStyle(a)[0],this.ctx.font=C,this.ctx.fillStyle=Ai(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",S=new fA(r.bounds.left,r.bounds.top+In(r.styles.paddingTop,r.bounds.width),r.bounds.width,JD(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new k0(n.listValue,S),a.letterSpacing,JD(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),k.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(n){return ha(this,void 0,void 0,function(){var r,i,m,a,o,m,s,c,m,l,A,m,u,d,m,f,h,m,p,v,m;return na(this,function(w){switch(w.label){case 0:if(Zr(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:w.sent(),r=0,i=n.negativeZIndex,w.label=2;case 2:return r<i.length?(m=i[r],[4,this.renderStack(m)]):[3,5];case 3:w.sent(),w.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:w.sent(),a=0,o=n.nonInlineLevel,w.label=7;case 7:return a<o.length?(m=o[a],[4,this.renderNode(m)]):[3,10];case 8:w.sent(),w.label=9;case 9:return a++,[3,7];case 10:s=0,c=n.nonPositionedFloats,w.label=11;case 11:return s<c.length?(m=c[s],[4,this.renderStack(m)]):[3,14];case 12:w.sent(),w.label=13;case 13:return s++,[3,11];case 14:l=0,A=n.nonPositionedInlineLevel,w.label=15;case 15:return l<A.length?(m=A[l],[4,this.renderStack(m)]):[3,18];case 16:w.sent(),w.label=17;case 17:return l++,[3,15];case 18:u=0,d=n.inlineLevel,w.label=19;case 19:return u<d.length?(m=d[u],[4,this.renderNode(m)]):[3,22];case 20:w.sent(),w.label=21;case 21:return u++,[3,19];case 22:f=0,h=n.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return f<h.length?(m=h[f],[4,this.renderStack(m)]):[3,26];case 24:w.sent(),w.label=25;case 25:return f++,[3,23];case 26:p=0,v=n.positiveZIndex,w.label=27;case 27:return p<v.length?(m=v[p],[4,this.renderStack(m)]):[3,30];case 28:w.sent(),w.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},t.prototype.formatPath=function(n){var r=this;n.forEach(function(i,a){var o=ts(i)?i.start:i;a===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),ts(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},t.prototype.renderRepeat=function(n,r,i,a){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},t.prototype.resizeImage=function(n,r,i){var a;if(n.width===r&&n.height===i)return n;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,s=o.createElement("canvas");s.width=Math.max(1,r),s.height=Math.max(1,i);var c=s.getContext("2d");return c.drawImage(n,0,0,n.width,n.height,0,0,r,i),s},t.prototype.renderBackgroundImage=function(n){return ha(this,void 0,void 0,function(){var r,i,a,o,s,c;return na(this,function(l){switch(l.label){case 0:r=n.styles.backgroundImage.length-1,i=function(A){var u,d,f,U,ae,ie,H,$,F,h,U,ae,ie,H,$,p,v,m,w,B,C,S,k,_,F,P,U,T,O,H,$,Z,ae,ie,W,te,de,pe,R,z,X,re;return na(this,function(oe){switch(oe.label){case 0:if(A.type!==0)return[3,5];u=void 0,d=A.url,oe.label=1;case 1:return oe.trys.push([1,3,,4]),[4,a.context.cache.match(d)];case 2:return u=oe.sent(),[3,4];case 3:return oe.sent(),a.context.logger.error("Error loading background-image "+d),[3,4];case 4:return u&&(f=kx(n,r,[u.width,u.height,u.width/u.height]),U=f[0],ae=f[1],ie=f[2],H=f[3],$=f[4],F=a.ctx.createPattern(a.resizeImage(u,H,$),"repeat"),a.renderRepeat(U,F,ae,ie)),[3,6];case 5:u3e(A)?(h=kx(n,r,[null,null,null]),U=h[0],ae=h[1],ie=h[2],H=h[3],$=h[4],p=o3e(A.angle,H,$),v=p[0],m=p[1],w=p[2],B=p[3],C=p[4],S=document.createElement("canvas"),S.width=H,S.height=$,k=S.getContext("2d"),_=k.createLinearGradient(m,B,w,C),YD(A.stops,v).forEach(function(ce){return _.addColorStop(ce.stop,Ai(ce.color))}),k.fillStyle=_,k.fillRect(0,0,H,$),H>0&&$>0&&(F=a.ctx.createPattern(S,"repeat"),a.renderRepeat(U,F,ae,ie))):d3e(A)&&(P=kx(n,r,[null,null,null]),U=P[0],T=P[1],O=P[2],H=P[3],$=P[4],Z=A.position.length===0?[xF]:A.position,ae=In(Z[0],H),ie=In(Z[Z.length-1],$),W=s3e(A,ae,ie,H,$),te=W[0],de=W[1],te>0&&de>0&&(pe=a.ctx.createRadialGradient(T+ae,O+ie,0,T+ae,O+ie,te),YD(A.stops,te*2).forEach(function(ce){return pe.addColorStop(ce.stop,Ai(ce.color))}),a.path(U),a.ctx.fillStyle=pe,te!==de?(R=n.bounds.left+.5*n.bounds.width,z=n.bounds.top+.5*n.bounds.height,X=de/te,re=1/X,a.ctx.save(),a.ctx.translate(R,z),a.ctx.transform(1,0,0,X,0,0),a.ctx.translate(-R,-z),a.ctx.fillRect(T,re*(O-z)+z,H,$*re),a.ctx.restore()):a.ctx.fill())),oe.label=6;case 6:return r--,[2]}})},a=this,o=0,s=n.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return o<s.length?(c=s[o],[5,i(c)]):[3,4];case 2:l.sent(),l.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(n,r,i){return ha(this,void 0,void 0,function(){return na(this,function(a){return this.path(E7(i,r)),this.ctx.fillStyle=Ai(n),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(n,r,i,a){return ha(this,void 0,void 0,function(){var o,s;return na(this,function(c){switch(c.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,a)]:[3,2];case 1:return c.sent(),[2];case 2:return o=pTe(a,i),this.path(o),this.ctx.fillStyle=Ai(n),this.ctx.fill(),s=gTe(a,i),this.path(s),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(n){return ha(this,void 0,void 0,function(){var r,i,a,o,s,c,l,A,u=this;return na(this,function(d){switch(d.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!Ou(r.backgroundColor)||r.backgroundImage.length,a=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=ETe(Ih(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Ou(r.backgroundColor)||(this.ctx.fillStyle=Ai(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:d.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(f){u.ctx.save();var h=a5(n.curves),p=f.inset?0:STe,v=fTe(h,-p+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(u.path(h),u.ctx.clip(),u.mask(v)):(u.mask(h),u.ctx.clip(),u.path(v)),u.ctx.shadowOffsetX=f.offsetX.number+p,u.ctx.shadowOffsetY=f.offsetY.number,u.ctx.shadowColor=Ai(f.color),u.ctx.shadowBlur=f.blur.number,u.ctx.fillStyle=f.inset?Ai(f.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),d.label=2;case 2:s=0,c=0,l=a,d.label=3;case 3:return c<l.length?(A=l[c],A.style!==0&&!Ou(A.color)&&A.width>0?A.style!==2?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,s,n.curves,2)]:[3,11]):[3,13];case 4:return d.sent(),[3,11];case 5:return A.style!==3?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,s,n.curves,3)];case 6:return d.sent(),[3,11];case 7:return A.style!==4?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,s,n.curves)];case 8:return d.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,s,n.curves)];case 10:d.sent(),d.label=11;case 11:s++,d.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(n,r,i,a,o){return ha(this,void 0,void 0,function(){var s,c,l,A,u,d,f,h,p,v,m,w,B,C,S,k,S,k;return na(this,function(_){return this.ctx.save(),s=mTe(a,i),c=E7(a,i),o===2&&(this.path(c),this.ctx.clip()),ts(c[0])?(l=c[0].start.x,A=c[0].start.y):(l=c[0].x,A=c[0].y),ts(c[1])?(u=c[1].end.x,d=c[1].end.y):(u=c[1].x,d=c[1].y),i===0||i===2?f=Math.abs(l-u):f=Math.abs(A-d),this.ctx.beginPath(),o===3?this.formatPath(s):this.formatPath(c.slice(0,2)),h=r<3?r*3:r*2,p=r<3?r*2:r,o===3&&(h=r,p=r),v=!0,f<=h*2?v=!1:f<=h*2+p?(m=f/(2*h+p),h*=m,p*=m):(w=Math.floor((f+p)/(h+p)),B=(f-w*h)/(w-1),C=(f-(w+1)*h)/w,p=C<=0||Math.abs(p-B)<Math.abs(p-C)?B:C),v&&(o===3?this.ctx.setLineDash([0,h+p]):this.ctx.setLineDash([h,p])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Ai(n),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(ts(c[0])&&(S=c[3],k=c[0],this.ctx.beginPath(),this.formatPath([new $e(S.end.x,S.end.y),new $e(k.start.x,k.start.y)]),this.ctx.stroke()),ts(c[1])&&(S=c[1],k=c[2],this.ctx.beginPath(),this.formatPath([new $e(S.end.x,S.end.y),new $e(k.start.x,k.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(n){return ha(this,void 0,void 0,function(){var r;return na(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ai(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=hTe(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(EJ),kTe=function(e){return e instanceof AJ||e instanceof lJ?!0:e instanceof _F&&e.type!==n5&&e.type!==t5},ETe=function(e,t){switch(e){case 0:return a5(t);case 2:return cTe(t);case 1:default:return o5(t)}},TTe=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},_Te=["-apple-system","system-ui"],PTe=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return _Te.indexOf(t)===-1}):e},ITe=function(e){cc(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return t.prototype.render=function(n){return ha(this,void 0,void 0,function(){var r,i;return na(this,function(a){switch(a.label){case 0:return r=WE(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,FTe(r)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ai(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(EJ),FTe=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},OTe=function(){function e(t){var n=t.id,r=t.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Xy([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Xy([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Xy([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Xy([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),LTe=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new OTe({id:this.instanceName,enabled:t.logging}),this.cache=(r=t.cache)!==null&&r!==void 0?r:new eTe(this,t)}return e.instanceCount=1,e}(),TJ=function(e,t){return t===void 0&&(t={}),UTe(e,t)};typeof window<"u"&&wJ.setContext(window);var UTe=function(e,t){return ha(void 0,void 0,void 0,function(){var n,r,i,a,o,s,c,l,A,u,d,f,h,p,v,m,w,B,C,S,_,k,_,F,P,U,T,O,H,$,Z,ae,ie,W,te,de,pe,R,z,X;return na(this,function(re){switch(re.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=e.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(F=t.allowTaint)!==null&&F!==void 0?F:!1,imageTimeout:(P=t.imageTimeout)!==null&&P!==void 0?P:15e3,proxy:t.proxy,useCORS:(U=t.useCORS)!==null&&U!==void 0?U:!1},a=FE({logging:(T=t.logging)!==null&&T!==void 0?T:!0,cache:t.cache},i),o={windowWidth:(O=t.windowWidth)!==null&&O!==void 0?O:r.innerWidth,windowHeight:(H=t.windowHeight)!==null&&H!==void 0?H:r.innerHeight,scrollX:($=t.scrollX)!==null&&$!==void 0?$:r.pageXOffset,scrollY:(Z=t.scrollY)!==null&&Z!==void 0?Z:r.pageYOffset},s=new fA(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new LTe(a,s),l=(ae=t.foreignObjectRendering)!==null&&ae!==void 0?ae:!1,A={allowTaint:(ie=t.allowTaint)!==null&&ie!==void 0?ie:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:l,copyStyles:l},c.logger.debug("Starting document clone with size "+s.width+"x"+s.height+" scrolled to "+-s.left+","+-s.top),u=new S7(c,e,A),d=u.clonedReferenceElement,d?[4,u.toIFrame(n,s)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=re.sent(),h=PF(d)||MEe(d)?fSe(d.ownerDocument):pB(c,d),p=h.width,v=h.height,m=h.left,w=h.top,B=NTe(c,d,t.backgroundColor),C={canvas:t.canvas,backgroundColor:B,scale:(te=(W=t.scale)!==null&&W!==void 0?W:r.devicePixelRatio)!==null&&te!==void 0?te:1,x:((de=t.x)!==null&&de!==void 0?de:0)+m,y:((pe=t.y)!==null&&pe!==void 0?pe:0)+w,width:(R=t.width)!==null&&R!==void 0?R:Math.ceil(p),height:(z=t.height)!==null&&z!==void 0?z:Math.ceil(v)},l?(c.logger.debug("Document cloned, using foreign object rendering"),_=new ITe(c,C),[4,_.render(d)]):[3,3];case 2:return S=re.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+m+","+w+" with size "+p+"x"+v+" using computed rendering"),c.logger.debug("Starting DOM parsing"),k=fJ(c,d),B===k.styles.backgroundColor&&(k.styles.backgroundColor=ql.TRANSPARENT),c.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),_=new xTe(c,C),[4,_.render(k)];case 4:S=re.sent(),re.label=5;case 5:return(!((X=t.removeContainer)!==null&&X!==void 0)||X)&&(S7.destroy(f)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,S]}})})},NTe=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?S0(e,getComputedStyle(r.documentElement).backgroundColor):ql.TRANSPARENT,a=r.body?S0(e,getComputedStyle(r.body).backgroundColor):ql.TRANSPARENT,o=typeof n=="string"?S0(e,n):n===null?ql.TRANSPARENT:4294967295;return t===r.documentElement?Ou(i)?Ou(a)?o:a:i:o};const MTe=Object.freeze(Object.defineProperty({__proto__:null,default:TJ},Symbol.toStringTag,{value:"Module"}));function kd(e){return Math.max(0,Math.min(100,Number(e)||0))}function RTe(e){return Array.isArray(e)?e[0]:e}function DTe(e){const t=[];for(const a of e||[])for(const o of a.history||[]){const s=Array.isArray(o)?o:[o];for(const c of s)c&&typeof c=="object"&&t.push({participant_id:a.participant_id,name:a.name,...c})}if(!t.length)return;const n=["participant_id","name","timestamp","dominant_emotion","engagement","concentration","confusion","focus","anger","disgust","fear","happiness","sadness","surprise","neutral"],r=[n.join(","),...t.map(a=>n.map(o=>a[o]!=null?String(a[o]).replace(/"/g,'""'):"").join(","))].join(`\r
`),i=document.createElement("a");i.href=URL.createObjectURL(new Blob([r],{type:"text/csv;charset=utf-8"})),i.download="intel_"+new Date().toISOString().slice(0,10)+".csv",i.click(),URL.revokeObjectURL(i.href)}function QTe(e){return(e||[]).map(t=>{const n=t.history||[];let r=0,i=0,a=0,o=0,s=0,c=0,l=0,A=0;for(const u of n){const d=RTe(u);d&&typeof d=="object"&&(r+=kd(d.engagement),i+=kd(d.concentration),a+=kd(d.confusion),o+=kd(d.focus),s+=kd(d.distraction),c+=kd(d.happiness),l+=kd(d.sadness),A++)}return A||(A=1),{name:t.name||t.participant_id&&t.participant_id.slice(0,12)||"",engagement:Math.round(r/A),concentration:Math.round(i/A),confusion:Math.round(a/A),focus:Math.round(o/A),distraction:Math.round(s/A),samples:A}})}function jTe(e,t,n,r){const i=[],a=t.length>=2?Math.round((t[t.length-1].ts-t[0].ts)/6e4):0;i.push(`Meeting duration: ${a} minute(s) of tracked analytics.`),i.push(`Participants with data: ${r}.`);const o=e.score>=70?"Good":e.score>=40?"Fair":"Low";i.push(`Overall class score: ${e.score}% (${o}).`);const c=[...[{key:"engagement",val:e.engagement,label:"Engagement"},{key:"concentration",val:e.concentration,label:"Concentration"},{key:"confusion",val:e.confusion,label:"Confusion"},{key:"focus",val:e.focus,label:"Eye focus"},{key:"distraction",val:e.distraction,label:"Distraction"}]].filter(l=>l.key!=="confusion"&&l.key!=="distraction").sort((l,A)=>A.val-l.val);return c.length&&(i.push(`Strongest metric: ${c[0].label} at ${c[0].val}%.`),i.push(`Confusion level: ${e.confusion}%; Distraction: ${e.distraction}%.`)),n&&n.active?(i.push(`Engagement drop detected: ${n.count} participant(s) below threshold.`),i.push("Recommendation: Consider a short break, poll, or interactive activity to re-engage.")):r>0&&i.push("No significant engagement drop detected in the analyzed window."),e.score<50&&r>0&&i.push("Overall score is below 50%; review content pacing and clarity."),e.focus<40&&i.push("Eye focus is relatively low; encourage camera-on and screen attention where possible."),i}function HTe(e,t,n,r,i){const a=new at({orientation:"portrait",unit:"mm",format:"a4"}),o=a.internal.pageSize.getWidth();let s=18;const c="Meeting Analytics Report";a.setFontSize(22),a.setFont("helvetica","bold"),a.text(c,o/2,s,{align:"center"}),s+=10,a.setFontSize(10),a.setFont("helvetica","normal"),a.setTextColor(100,100,100),a.text("Generated "+new Date().toLocaleString()+"  AI-driven engagement and emotion analytics",o/2,s,{align:"center"}),a.setTextColor(0,0,0),s+=16;const l=(e==null?void 0:e.filter(h=>(h.history||[]).length>0).length)||0,A=jTe(t,r||[],i,l);a.setFontSize(12),a.setFont("helvetica","bold"),a.text("Executive Summary",14,s),s+=8,a.setFontSize(10),a.setFont("helvetica","normal");const u=a.splitTextToSize("This report summarizes real-time emotion and engagement analytics for the meeting. Class score is a weighted combination of engagement (25%), concentration (25%), clarity (20%), eye focus (15%), attention (10%), and positive affect (5%). Data is derived from face and expression analysis.",o-28);a.text(u,14,s),s+=u.length*5+8,a.setFont("helvetica","bold"),a.setFontSize(11),a.text("Key Insights",14,s),s+=7,a.setFont("helvetica","normal"),a.setFontSize(10);for(const h of A)s>270&&(a.addPage(),s=20),a.text(" "+h,18,s),s+=6;s+=10,s>250&&(a.addPage(),s=20),a.setFont("helvetica","bold"),a.setFontSize(11),a.text("Class Score Breakdown",14,s),s+=8,a.autoTable({startY:s,head:[["Metric","Value (%)","Interpretation"]],body:[["Overall score",String(t.score),t.score>=70?"Good":t.score>=40?"Fair":"Low"],["Engagement",String(t.engagement),t.engagement>=60?"Strong":t.engagement>=40?"Moderate":"Low"],["Concentration",String(t.concentration),t.concentration>=60?"Strong":t.concentration>=40?"Moderate":"Low"],["Confusion",String(t.confusion),t.confusion<=30?"Low":t.confusion<=50?"Moderate":"High"],["Eye focus",String(t.focus),t.focus>=60?"Strong":t.focus>=40?"Moderate":"Low"],["Distraction",String(t.distraction),t.distraction<=30?"Low":t.distraction<=50?"Moderate":"High"]],theme:"grid",headStyles:{fillColor:[41,128,185],fontStyle:"bold"},margin:{left:14,right:14}}),s=a.lastAutoTable.finalY+14;const d=QTe(e);if(d.length>0&&(s>230&&(a.addPage(),s=20),a.setFont("helvetica","bold"),a.setFontSize(11),a.text("Participant Summary",14,s),s+=8,a.autoTable({startY:s,head:[["Participant","Engagement","Concentration","Confusion","Focus","Distraction","Samples"]],body:d.map(h=>[h.name,h.engagement+"%",h.concentration+"%",h.confusion+"%",h.focus+"%",h.distraction+"%",String(h.samples)]),theme:"grid",headStyles:{fillColor:[52,73,94],fontStyle:"bold"},margin:{left:14,right:14}}),s=a.lastAutoTable.finalY+14),n&&n.length>0&&s<240){s>220&&(a.addPage(),s=20),a.setFont("helvetica","bold"),a.setFontSize(11),a.text("Engagement Heatmap Summary (recent time slots)",14,s),s+=8;const h=n.map(p=>{const v=p.vals.filter(w=>w!=null).length?Math.round(p.vals.reduce((w,B)=>w+(B??0),0)/p.vals.filter(w=>w!=null).length):"",m=typeof v=="number"?v>=70?"High":v>=40?"Mid":"Low":"";return[p.name,typeof v=="number"?v+"%":v,m]});a.autoTable({startY:s,head:[["Participant","Avg. engagement","Level"]],body:h,theme:"grid",headStyles:{fillColor:[52,73,94],fontStyle:"bold"},margin:{left:14,right:14}}),s=a.lastAutoTable.finalY+10}const f=a.internal.getNumberOfPages();for(let h=1;h<=f;h++)a.setPage(h),a.setFontSize(8),a.setTextColor(128,128,128),a.text("Confidential  Meeting Analytics | Page "+h+" of "+f,o/2,a.internal.pageSize.getHeight()-10,{align:"center"}),a.setTextColor(0,0,0);a.save("meeting_analytics_report_"+new Date().toISOString().slice(0,10)+".pdf")}async function $Te(e){if(e!=null&&e.current)try{const n=(await TJ(e.current,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:null,logging:!1,windowWidth:e.current.scrollWidth,windowHeight:e.current.scrollHeight})).toDataURL("image/png",1),r=document.createElement("a");r.href=n,r.download="analytics_dashboard_"+new Date().toISOString().slice(0,19).replace(/:/g,"-")+".png",r.click()}catch(t){console.error("Dashboard image export failed:",t)}}const _7=2*60*1e3,IF=[{key:"engagement",label:"Engagement",color:"#a78bfa"},{key:"concentration",label:"Concentration",color:"#38bdf8"},{key:"confusion",label:"Confusion",color:"#f87171"},{key:"focus",label:"Eye focus",color:"#34d399"},{key:"distraction",label:"Distraction",color:"#fb923c"},{key:"happiness",label:"Happiness",color:"#fbbf24"},{key:"sadness",label:"Sadness",color:"#60a5fa"},{key:"surprise",label:"Surprise",color:"#c084fc"},{key:"neutral",label:"Neutral",color:"#94a3b8"}];function sn(e){return Math.max(0,Math.min(100,Number(e)||0))}function KTe(e){return Array.isArray(e)?e[0]:e}function VTe(e){if(!e||typeof e!="object"||e.dominant_emotion==="none")return!1;const t=sn(e.engagement),n=sn(e.concentration),r=sn(e.focus);return t>0||n>0||r>0}const Sh={engagement:.25,concentration:.25,confusionInverse:.2,focus:.15,distractionInverse:.1,emotion:.05};function zTe(e){const t={score:0,engagement:0,concentration:0,confusion:0,focus:0,distraction:0};if(!(e!=null&&e.length))return t;let n=0,r=0,i=0,a=0,o=0,s=0,c=0,l=0;for(const d of e){const f=KTe(d.current);VTe(f)&&(n+=sn(f.engagement),r+=sn(f.concentration),i+=sn(f.confusion),a+=sn(f.focus),o+=sn(f.distraction),s+=sn(f.happiness),c+=sn(f.sadness),l++)}if(!l)return t;n/=l,r/=l,i/=l,a/=l,o/=l,s/=l,c/=l;const A=(s+(100-c))/2,u=Sh.engagement*n+Sh.concentration*r+Sh.confusionInverse*(100-i)+Sh.focus*a+Sh.distractionInverse*(100-o)+Sh.emotion*A;return{score:Math.max(0,Math.min(100,Math.round(u))),engagement:Math.round(n),concentration:Math.round(r),confusion:Math.round(i),focus:Math.round(a),distraction:Math.round(o)}}function WTe(e){const t=[];for(const n of e||[]){const r=Array.isArray(n)?n[0]:n;if(r&&typeof r=="object"){const i=r.timestamp?new Date(r.timestamp).getTime():0;t.push({ts:i,t:r.timestamp?new Date(r.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}):"",engagement:sn(r.engagement),concentration:sn(r.concentration),confusion:sn(r.confusion),focus:sn(r.focus),distraction:sn(r.distraction),happiness:sn(r.happiness),sadness:sn(r.sadness),surprise:sn(r.surprise),neutral:sn(r.neutral)})}}return t}const P7=1e3,GTe=["engagement","concentration","confusion","focus","distraction","happiness","sadness","surprise","neutral"];function I7(e){const t=[];for(const a of e||[])for(const o of a.history||[]){const s=Array.isArray(o)?o[0]:o;if(s&&typeof s=="object"&&s.timestamp){const c=new Date(s.timestamp).getTime();t.push({ts:c,engagement:sn(s.engagement),concentration:sn(s.concentration),confusion:sn(s.confusion),focus:sn(s.focus),distraction:sn(s.distraction),happiness:sn(s.happiness),sadness:sn(s.sadness),surprise:sn(s.surprise),neutral:sn(s.neutral)})}}if(t.length===0)return[];const n=Math.min(...t.map(a=>a.ts)),r=Math.max(...t.map(a=>a.ts)),i=[];for(let a=n;a<=r;a+=P7){const o=t.filter(c=>c.ts>=a&&c.ts<a+P7);if(o.length===0)continue;const s={ts:a,t:new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})};for(const c of GTe){const l=o.reduce((A,u)=>A+u[c],0);s[c]=Math.round(l/o.length)}i.push(s)}return i}const qTe=40,b2=300;function YTe(e){var u;const t=[];let n=0,r=0,i=0,a=0;for(const d of e||[]){const f=d.history||[];if(f.length<10)continue;const h=f.slice(-b2),p=f.length>=b2*2?f.slice(-b2*2,-b2):[];let v=0;for(const w of h){const B=Array.isArray(w)?w[0]:w;B&&typeof B=="object"&&(v+=sn(B.engagement))}const m=h.length?v/h.length:0;if(n+=m,i+=h.length?1:0,p.length){let w=0;for(const B of p){const C=Array.isArray(B)?B[0]:B;C&&typeof C=="object"&&(w+=sn(C.engagement))}r+=w/p.length,a+=1}m<qTe&&h.length>=30&&t.push({name:d.name||((u=d.participant_id)==null?void 0:u.slice(0,8))||"",avgEng:m})}const o=i?n/((e==null?void 0:e.length)||1):0,s=a?r/a:o,c=s>0?Math.round((s-o)/s*100):0,l=t.map(d=>d.name).join(" and "),A=t.length>0?`AI analysis detected a ${c>0?c+"%":"noticeable"} drop in average engagement over the last 5 minutes. ${l} ${t.length===1?"is":"are"} showing signs of distraction with reduced eye contact and increased head movement. Consider re-engaging students with an interactive activity or break.`:"";return{active:t.length>0,count:t.length,names:l,dropPercent:Math.max(0,c),explanation:A}}function XTe(e,t){return t=t||18,(e||[]).map(n=>{const r=n.history||[],i=[];for(let a=Math.max(0,r.length-t);a<r.length;a++){const o=Array.isArray(r[a])?r[a][0]:r[a];i.push(o&&typeof o=="object"?sn(o.engagement):0)}for(;i.length<t;)i.unshift(null);return{id:n.participant_id,name:n.name||n.participant_id&&n.participant_id.slice(0,8)||"",vals:i.slice(-t)}})}function JTe(e){return e===null?"rgba(255,255,255,0.04)":e>=70?"#00c85a":e>=40?"#f59e0b":"#ef4444"}function ZTe(e){return e>=70?"Good":e>=40?"Fair":"Low"}function _J(e){return e>=70?{bg:"rgba(0,200,90,0.18)",fg:"#00c85a"}:e>=40?{bg:"rgba(245,158,11,0.18)",fg:"#f59e0b"}:{bg:"rgba(239,68,68,0.18)",fg:"#ef4444"}}const e_e={background:"rgba(8,10,20,0.96)",border:"1px solid rgba(99,179,237,0.3)",borderRadius:"6px",color:"#e2e8f0",fontSize:"11px",padding:"6px 10px"};function t_e({score:e}){const n=2*Math.PI*44,r=e/100*n,i=_J(e);return L.jsxs("div",{className:"ip-ring-wrap",children:[L.jsxs("svg",{width:"110",height:"110",viewBox:"0 0 110 110",children:[L.jsx("circle",{cx:"55",cy:"55",r:44,fill:"none",stroke:"rgba(99,179,237,0.1)",strokeWidth:"8"}),L.jsx("circle",{cx:"55",cy:"55",r:44,fill:"none",stroke:i.fg,strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${r} ${n}`,transform:"rotate(-90 55 55)",style:{transition:"stroke-dasharray 0.8s cubic-bezier(.4,0,.2,1)"}}),L.jsx("text",{x:"55",y:"49",textAnchor:"middle",fill:i.fg,fontSize:"22",fontWeight:"700",fontFamily:"Orbitron, sans-serif",children:e}),L.jsx("text",{className:"ip-ring-label",x:"55",y:"64",textAnchor:"middle",fill:"rgba(255,255,255,0.45)",fontSize:"9",fontFamily:"Rajdhani, sans-serif",letterSpacing:"1",children:"CLASS SCORE"})]}),L.jsx("span",{className:"ip-ring-badge",style:{background:i.bg,color:i.fg},children:ZTe(e)})]})}function Fm({label:e,value:t,color:n}){return L.jsxs("div",{className:"ip-mbar",children:[L.jsxs("div",{className:"ip-mbar-head",children:[L.jsx("span",{className:"ip-mbar-label",children:e}),L.jsxs("span",{className:"ip-mbar-val",style:{color:n},children:[t,"%"]})]}),L.jsx("div",{className:"ip-mbar-track",children:L.jsx("div",{className:"ip-mbar-fill",style:{width:t+"%",background:n}})})]})}function n_e({visible:e,onToggle:t}){return L.jsx("div",{className:"ip-legend",children:IF.map(({key:n,label:r,color:i})=>L.jsxs("button",{type:"button",className:`ip-legend-item ${e.has(n)?"":"ip-legend-item--off"}`,onClick:()=>t(n),children:[L.jsx("span",{className:"ip-legend-dot",style:{background:i}}),r]},n))})}const r_e=new Set(IF.map(e=>e.key)),Om="";function i_e({participants:e,theme:t="dark"}){const[n,r]=y.useState(Om),[i,a]=y.useState(()=>new Set(r_e)),[o,s]=y.useState(!1),[c,l]=y.useState(!1),[A,u]=y.useState(!1),[d,f]=y.useState(!1),h=y.useRef(null),p=y.useRef(null),v=y.useMemo(()=>YTe(e),[e]),m=y.useMemo(()=>n===Om||!n?null:(e==null?void 0:e.find(T=>T.participant_id===n))??null,[e,n]),w=y.useMemo(()=>n===Om?I7(e):WTe(m==null?void 0:m.history),[n,m,e]),B=y.useMemo(()=>zTe(e),[e]),C=y.useMemo(()=>XTe(e),[e]),S=e==null?void 0:e.some(T=>{var O;return(((O=T.history)==null?void 0:O.length)??0)>0});_J(B.score);const k=y.useMemo(()=>{if(w.length<2)return 0;const T=w[0].ts;return w[w.length-1].ts-T||_7},[w]),_=480,F=y.useMemo(()=>{const T=k/_7;return Math.max(_,Math.ceil(T)*_)},[k]),P=T=>{a(O=>{const H=new Set(O);return H.has(T)?H.delete(T):H.add(T),H})};y.useEffect(()=>{const T=h.current;if(!T||w.length===0)return;T.scrollLeft>=T.scrollWidth-T.clientWidth-30&&(T.scrollLeft=T.scrollWidth-T.clientWidth)},[w.length]);const U=t&&t!=="dark"?`ip-theme-${t.replace(/\s+/g,"-")}`:"";return L.jsxs("div",{className:`ip-root ${U}`,children:[L.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),L.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),L.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700&family=Rajdhani:wght@400;500;600;700&display=swap",rel:"stylesheet"}),L.jsxs("div",{className:"ip-header",children:[L.jsx("span",{className:"ip-header-title",children:"AI Analytics"}),L.jsx("span",{className:"ip-header-live",children:"LIVE"})]}),L.jsx("div",{className:"ip-body",children:e!=null&&e.length?L.jsxs("div",{ref:p,className:"ip-dashboard-capture",children:[L.jsxs("div",{className:"ip-card",children:[L.jsx("div",{className:"ip-card-title",children:"Average Class Score"}),L.jsxs("div",{className:"ip-score-layout",children:[L.jsx(t_e,{score:B.score}),L.jsxs("div",{className:"ip-score-bars",children:[L.jsx(Fm,{label:"Engagement",value:B.engagement,color:"#a78bfa"}),L.jsx(Fm,{label:"Concentration",value:B.concentration,color:"#38bdf8"}),L.jsx(Fm,{label:"Confusion",value:B.confusion,color:"#f87171"}),L.jsx(Fm,{label:"Eye focus",value:B.focus,color:"#34d399"}),L.jsx(Fm,{label:"Distraction",value:B.distraction,color:"#fb923c"})]})]})]}),L.jsxs("div",{className:"ip-card",children:[L.jsxs("div",{className:"ip-card-title-row",children:[L.jsx("span",{className:"ip-card-title",children:"Real-Time Emotion Analysis"}),L.jsx("span",{className:"ip-live-dot"})]}),L.jsx("div",{className:"ip-selector-row",children:L.jsxs("select",{className:"ip-selector",value:n??Om,onChange:T=>r(T.target.value),children:[L.jsx("option",{value:Om,children:"All (average)"}),(e||[]).map(T=>L.jsx("option",{value:T.participant_id,children:T.name||T.participant_id.slice(0,8)},T.participant_id))]})}),w.length>1?L.jsxs("div",{className:"ip-chart-wrap",children:[L.jsx("p",{className:"ip-chart-hint",children:"Latest 2 min visible; scroll left to see older data. Click legend to toggle series."}),L.jsx("div",{ref:h,className:"ip-chart-scroll",children:L.jsx("div",{className:"ip-chart-inner",style:{width:F},children:L.jsxs(T5e,{width:F,height:180,data:w,margin:{top:6,right:10,left:-18,bottom:0},children:[L.jsx(Zq,{strokeDasharray:"4 4",stroke:"rgba(99,179,237,0.08)"}),L.jsx(AY,{dataKey:"t",tick:{fontSize:9,fill:"#64748b"},interval:"preserveStartEnd",axisLine:!1,tickLine:!1}),L.jsx(uY,{domain:[0,100],tick:{fontSize:9,fill:"#64748b"},axisLine:!1,tickLine:!1}),L.jsx(Jve,{contentStyle:e_e,labelStyle:{color:"#94a3b8",fontSize:"10px"}}),IF.filter(T=>i.has(T.key)).map(T=>L.jsx(cY,{type:"monotoneX",dataKey:T.key,stroke:T.color,strokeWidth:2,dot:!1,name:T.label,isAnimationActive:!1},T.key))]})})}),L.jsx(n_e,{visible:i,onToggle:P})]}):L.jsx("p",{className:"ip-waiting",children:"Collecting data"})]}),L.jsxs("div",{className:"ip-card",children:[L.jsxs("div",{className:"ip-card-title-row",children:[L.jsx("span",{className:"ip-card-title",children:"Engagement Heatmap"}),L.jsxs("div",{className:"ip-heat-legend",children:[L.jsx("span",{className:"ip-heat-swatch",style:{background:"#ef4444"}}),L.jsx("span",{className:"ip-heat-text",children:"Low"}),L.jsx("span",{className:"ip-heat-swatch",style:{background:"#f59e0b"}}),L.jsx("span",{className:"ip-heat-text",children:"Mid"}),L.jsx("span",{className:"ip-heat-swatch",style:{background:"#00c85a"}}),L.jsx("span",{className:"ip-heat-text",children:"High"})]})]}),C.length?L.jsx("div",{className:"ip-heatmap",children:C.map(T=>L.jsxs("div",{className:"ip-heatmap-row",children:[L.jsx("span",{className:"ip-heatmap-name",children:T.name}),L.jsx("div",{className:"ip-heatmap-cells",children:T.vals.map((O,H)=>L.jsx("div",{className:"ip-heatmap-cell",style:{background:JTe(O)},title:O!==null?O+"%":"no data"},H))})]},T.id))}):L.jsx("p",{className:"ip-waiting",children:"Waiting for participants"})]}),L.jsxs("div",{className:"ip-card ip-card-alert",children:[L.jsxs("div",{className:"ip-alert-header",children:[L.jsx("span",{className:"ip-alert-icon","aria-hidden":!0,children:""}),L.jsxs("div",{children:[L.jsx("h3",{className:"ip-alert-title",children:"Engagement Drop Detected"}),L.jsx("p",{className:"ip-alert-sub",children:v.active?`${v.count} student${v.count>1?"s":""} showing low attention  Last 5 min`:"No drop detected. Metrics are within range."})]})]}),v.active&&L.jsxs(L.Fragment,{children:[L.jsxs("button",{type:"button",className:"ip-why-alert",onClick:()=>s(T=>!T),children:[L.jsx("span",{className:"ip-why-chevron",children:o?"":""}),"Why this alert?"]}),o&&v.explanation&&L.jsx("div",{className:"ip-why-body",children:v.explanation})]}),L.jsxs("div",{className:"ip-action-btns",children:[L.jsx("button",{type:"button",className:"ip-action-btn ip-action-poll",onClick:()=>l(!0),children:"Launch Poll"}),L.jsx("button",{type:"button",className:"ip-action-btn ip-action-quiz",onClick:()=>u(!0),children:"Start Quiz"}),L.jsx("button",{type:"button",className:"ip-action-btn ip-action-break",onClick:()=>f(!0),children:"Take Break"})]})]}),L.jsxs("div",{className:"ip-export-row",children:[L.jsx("span",{className:"ip-export-label",children:"Export report"}),L.jsxs("div",{className:"ip-export-btns",children:[L.jsx("button",{type:"button",className:"ip-export-btn",onClick:()=>DTe(e),disabled:!S,title:"Download raw data as CSV",children:"CSV"}),L.jsx("button",{type:"button",className:"ip-export-btn",onClick:()=>HTe(e,B,C,I7(e),v),disabled:!S,title:"Professional PDF with insights",children:"PDF"}),L.jsx("button",{type:"button",className:"ip-export-btn",onClick:()=>$Te(p),disabled:!S,title:"Capture dashboard as image",children:"Dashboard Image"})]})]})]}):L.jsxs("div",{className:"ip-empty-state",children:[L.jsx("p",{children:"No participants yet."}),L.jsx("p",{className:"ip-empty-sub",children:"Share the invite link to begin collecting analytics."})]})}),c&&L.jsx(_5e,{participants:e,onClose:()=>l(!1),onLaunch:T=>{console.log("Launch poll",T),l(!1)}}),A&&L.jsx(F5e,{onClose:()=>u(!1),onStart:T=>{console.log("Start quiz",T),u(!1)}}),d&&L.jsx(L5e,{onClose:()=>f(!1),onStart:T=>{console.log("Start break",T),f(!1)}}),L.jsx("style",{children:`
        .ip-root {
          display: flex;
          flex-direction: column;
          width: 100%;
          height: 100%;
          background: #080c14;
          color: #e2e8f0;
          font-family: "Rajdhani", "Segoe UI", sans-serif;
          overflow: hidden;
        }

        /* header */
        .ip-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 12px 16px;
          border-bottom: 1px solid rgba(99,179,237,0.15);
          flex-shrink: 0;
          background: rgba(255,255,255,0.02);
        }
        .ip-header-title {
          font-family: "Orbitron", sans-serif;
          font-size: 0.85rem;
          font-weight: 600;
          letter-spacing: 2px;
          color: #e2e8f0;
        }
        .ip-header-live {
          font-size: 0.65rem;
          font-weight: 700;
          letter-spacing: 1.5px;
          color: #ef4444;
          background: rgba(239,68,68,0.15);
          border: 1px solid rgba(239,68,68,0.4);
          padding: 2px 8px;
          border-radius: 4px;
        }

        /* body */
        .ip-body {
          flex: 1;
          overflow-y: auto;
          padding: 12px;
          display: flex;
          flex-direction: column;
          gap: 12px;
        }
        .ip-body::-webkit-scrollbar { width: 4px; }
        .ip-body::-webkit-scrollbar-track { background: transparent; }
        .ip-body::-webkit-scrollbar-thumb { background: rgba(99,179,237,0.2); border-radius: 4px; }

        /* card */
        .ip-card {
          background: rgba(255,255,255,0.03);
          border: 1px solid rgba(99,179,237,0.12);
          border-radius: 10px;
          padding: 14px;
          transition: border-color 0.2s;
        }
        .ip-card:hover { border-color: rgba(99,179,237,0.25); }
        .ip-card-title {
          font-family: "Orbitron", sans-serif;
          font-size: 0.65rem;
          letter-spacing: 1.5px;
          text-transform: uppercase;
          color: #94a3b8;
          margin-bottom: 12px;
        }
        .ip-card-title-row {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-bottom: 12px;
        }
        .ip-card-title-row .ip-card-title { margin-bottom: 0; }

        /* live dot */
        .ip-live-dot {
          width: 7px; height: 7px; border-radius: 50%;
          background: #ef4444;
          box-shadow: 0 0 6px #ef4444;
          animation: ip-pulse 1.8s ease-in-out infinite;
        }
        @keyframes ip-pulse {
          0%,100% { opacity: 1; transform: scale(1); }
          50% { opacity: 0.5; transform: scale(0.8); }
        }

        /* class score */
        .ip-score-layout { display: flex; align-items: center; gap: 14px; }
        .ip-ring-wrap { display: flex; flex-direction: column; align-items: center; gap: 6px; flex-shrink: 0; }
        .ip-ring-badge {
          font-size: 0.75rem; font-weight: 700; letter-spacing: 0.5px;
          padding: 2px 10px; border-radius: 4px;
        }
        .ip-score-bars { flex: 1; display: flex; flex-direction: column; gap: 9px; }
        .ip-mbar {}
        .ip-mbar-head { display: flex; justify-content: space-between; margin-bottom: 4px; }
        .ip-mbar-label { font-size: 0.8rem; color: #94a3b8; }
        .ip-mbar-val { font-size: 0.8rem; font-weight: 700; }
        .ip-mbar-track {
          height: 8px;
          background: rgba(255,255,255,0.06);
          border-radius: 20px;
          overflow: hidden;
        }
        .ip-mbar-fill {
          height: 100%;
          border-radius: 20px;
          min-width: 4px;
          transition: width 0.7s cubic-bezier(.4,0,.2,1);
          box-shadow: 0 0 6px currentColor;
          opacity: 0.9;
        }

        /* selector */
        .ip-selector-row { margin-bottom: 10px; }
        .ip-selector {
          width: 100%;
          padding: 6px 10px;
          background: rgba(255,255,255,0.05);
          border: 1px solid rgba(99,179,237,0.2);
          border-radius: 6px;
          color: #e2e8f0;
          font-family: "Rajdhani", sans-serif;
          font-size: 0.85rem;
        }

        /* chart */
        .ip-chart-wrap { }
        .ip-chart-hint {
          font-size: 0.7rem; color: #64748b; margin: -4px 0 8px;
        }
        .ip-chart-scroll {
          overflow-x: auto;
          overflow-y: hidden;
          margin: 0 -4px;
          border-radius: 6px;
        }
        .ip-chart-scroll::-webkit-scrollbar { height: 6px; }
        .ip-chart-scroll::-webkit-scrollbar-track { background: rgba(99,179,237,0.06); border-radius: 3px; }
        .ip-chart-scroll::-webkit-scrollbar-thumb { background: rgba(99,179,237,0.25); border-radius: 3px; }
        .ip-chart-inner { min-width: 0; }
        .ip-legend {
          display: flex; gap: 10px; justify-content: center;
          margin-top: 10px; flex-wrap: wrap;
        }
        .ip-legend-item {
          display: inline-flex; align-items: center; gap: 5px;
          font-size: 0.7rem; color: #94a3b8;
          background: none; border: none; cursor: pointer; padding: 2px 6px;
          border-radius: 4px; font-family: inherit;
          transition: opacity 0.2s;
        }
        .ip-legend-item:hover { opacity: 0.9; }
        .ip-legend-item--off { opacity: 0.4; text-decoration: line-through; }
        .ip-legend-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; }

        /* heatmap */
        .ip-heat-legend { display: flex; align-items: center; gap: 5px; }
        .ip-heat-swatch { width: 10px; height: 10px; border-radius: 2px; }
        .ip-heat-text { font-size: 0.7rem; color: #64748b; margin-right: 4px; }
        .ip-heatmap { display: flex; flex-direction: column; gap: 5px; }
        .ip-heatmap-row { display: flex; align-items: center; gap: 8px; }
        .ip-heatmap-name { width: 56px; font-size: 0.75rem; color: #94a3b8; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; flex-shrink: 0; }
        .ip-heatmap-cells { flex: 1; display: flex; gap: 2px; }
        .ip-heatmap-cell { flex: 1; height: 16px; border-radius: 3px; transition: opacity 0.3s; }
        .ip-heatmap-cell:hover { opacity: 0.75; }

        /* reserved */
        .ip-card-reserved { min-height: 80px; }
        .ip-reserved-placeholder { height: 48px; border-radius: 6px; background: rgba(255,255,255,0.02); border: 1px dashed rgba(99,179,237,0.1); }

        /* empty */
        .ip-empty-state { text-align: center; padding: 40px 20px; color: #64748b; font-size: 0.9rem; }
        .ip-empty-sub { font-size: 0.8rem; margin-top: 6px; }
        .ip-waiting { font-size: 0.8rem; color: #64748b; text-align: center; padding: 20px 0; font-style: italic; }

        /* export */
        .ip-export-row { padding: 0 2px 4px; display: flex; flex-direction: column; gap: 8px; }
        .ip-export-label { font-size: 0.7rem; text-transform: uppercase; letter-spacing: 1px; color: #94a3b8; }
        .ip-export-btns { display: flex; flex-wrap: wrap; gap: 8px; }
        .ip-dashboard-capture { outline: none; }
        .ip-export-btn {
          padding: 9px 12px;
          background: rgba(99,179,237,0.08);
          border: 1px solid rgba(99,179,237,0.25);
          border-radius: 8px;
          color: #94a3b8;
          font-family: "Rajdhani", sans-serif;
          font-weight: 600;
          font-size: 0.85rem;
          cursor: pointer;
          letter-spacing: 0.5px;
          transition: all 0.2s;
        }
        .ip-export-btns .ip-export-btn { flex: 1; min-width: 90px; }
        .ip-export-btn:hover:not(:disabled) { background: rgba(99,179,237,0.15); color: #e2e8f0; border-color: rgba(99,179,237,0.5); }
        .ip-export-btn:disabled { opacity: 0.4; cursor: not-allowed; }

        /* Engagement drop alert */
        .ip-card-alert {
          border-color: rgba(234,179,8,0.35);
          background: rgba(234,179,8,0.06);
        }
        .ip-alert-header { display: flex; align-items: flex-start; gap: 10px; margin-bottom: 10px; }
        .ip-alert-icon { font-size: 1.4rem; color: #eab308; flex-shrink: 0; }
        .ip-alert-title { font-size: 0.9rem; font-weight: 700; color: #e2e8f0; margin: 0 0 4px; }
        .ip-alert-sub { font-size: 0.8rem; color: #94a3b8; margin: 0; }
        .ip-why-alert {
          display: flex; align-items: center; gap: 6px;
          background: none; border: none; color: #f59e0b; font-size: 0.8rem; cursor: pointer;
          padding: 6px 0; margin-bottom: 8px; font-family: inherit;
        }
        .ip-why-alert:hover { text-decoration: underline; }
        .ip-why-chevron { font-size: 0.7rem; }
        .ip-why-body {
          font-size: 0.78rem; color: #cbd5e1; line-height: 1.4;
          padding: 10px 12px; margin-bottom: 12px; border-radius: 6px;
          background: rgba(0,0,0,0.2); border: 1px solid rgba(234,179,8,0.2);
        }
        .ip-action-btns { display: flex; flex-wrap: wrap; gap: 8px; }
        .ip-action-btn {
          flex: 1; min-width: 100px; padding: 10px 12px; border-radius: 8px;
          font-size: 0.85rem; font-weight: 600; font-family: inherit; cursor: pointer;
          border: none; color: #fff; transition: opacity 0.2s;
        }
        .ip-action-btn:hover { opacity: 0.9; }
        .ip-action-poll { background: #7c3aed; }
        .ip-action-quiz { background: #059669; }
        .ip-action-break { background: #c2410c; }

        /* Modals */
        .ip-modal-overlay {
          position: fixed; inset: 0; background: rgba(0,0,0,0.7);
          display: flex; align-items: center; justify-content: center;
          z-index: 10000; padding: 20px;
        }
        .ip-modal {
          background: #0f172a; border: 1px solid rgba(99,179,237,0.2);
          border-radius: 12px; max-width: 440px; width: 100%;
          max-height: 90vh; overflow: hidden; display: flex; flex-direction: column;
          box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }
        .ip-modal-header {
          display: flex; justify-content: space-between; align-items: flex-start;
          padding: 16px 18px; border-bottom: 1px solid rgba(99,179,237,0.15);
        }
        .ip-modal-header-with-icon { display: flex; align-items: flex-start; gap: 12px; }
        .ip-modal-title { font-size: 1.1rem; font-weight: 700; color: #e2e8f0; margin: 0 0 4px; }
        .ip-modal-subtitle { font-size: 0.8rem; color: #94a3b8; margin: 0; }
        .ip-modal-close {
          width: 32px; height: 32px; border-radius: 50%; border: none;
          background: #b91c1c; color: #fff; font-size: 1.2rem; cursor: pointer;
          line-height: 1; padding: 0; flex-shrink: 0;
        }
        .ip-modal-close:hover { background: #dc2626; }
        .ip-modal-body { padding: 16px 18px; overflow-y: auto; flex: 1; }
        .ip-modal-footer {
          display: flex; gap: 10px; justify-content: flex-end;
          padding: 14px 18px; border-top: 1px solid rgba(99,179,237,0.15);
        }
        .ip-field { margin-bottom: 16px; }
        .ip-field-label { display: block; font-size: 0.8rem; font-weight: 600; color: #94a3b8; margin-bottom: 6px; }
        .ip-field-row { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; margin-bottom: 6px; }
        .ip-field-hint, .ip-field-desc { font-size: 0.75rem; color: #64748b; margin: 0 0 6px; }
        .ip-input, .ip-textarea {
          width: 100%; padding: 8px 12px; background: rgba(255,255,255,0.05);
          border: 1px solid rgba(99,179,237,0.2); border-radius: 6px;
          color: #e2e8f0; font-size: 0.9rem; font-family: inherit;
        }
        .ip-textarea { resize: vertical; min-height: 60px; }
        .ip-btn-add { padding: 6px 12px; background: #059669; color: #fff; border: none; border-radius: 6px; font-size: 0.8rem; font-weight: 600; cursor: pointer; }
        .ip-btn-add:disabled { opacity: 0.5; cursor: not-allowed; }
        .ip-option-row, .ip-quiz-option-row { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
        .ip-option-num, .ip-option-letter { font-size: 0.85rem; color: #94a3b8; min-width: 20px; }
        .ip-btn-remove { padding: 4px 8px; font-size: 0.75rem; background: transparent; color: #f87171; border: 1px solid rgba(248,113,113,0.4); border-radius: 4px; cursor: pointer; }
        .ip-vote-type { display: flex; gap: 8px; }
        .ip-vote-btn { padding: 8px 14px; border-radius: 6px; font-size: 0.85rem; border: 1px solid rgba(99,179,237,0.3); background: rgba(255,255,255,0.05); color: #e2e8f0; cursor: pointer; }
        .ip-vote-btn.active { background: #7c3aed; border-color: #7c3aed; color: #fff; }
        .ip-participant-list { list-style: none; margin: 0; padding: 0; max-height: 120px; overflow-y: auto; }
        .ip-participant-item { display: flex; justify-content: space-between; padding: 6px 0; font-size: 0.85rem; }
        .ip-status-voted { color: #34d399; }
        .ip-status-pending { color: #f59e0b; }
        .ip-warning { font-size: 0.8rem; color: #f59e0b; margin: 4px 0 0; }
        .ip-radio { width: 20px; height: 20px; border-radius: 50%; border: 2px solid #64748b; background: transparent; cursor: pointer; flex-shrink: 0; }
        .ip-radio.correct { background: #34d399; border-color: #34d399; }
        .ip-toggle { width: 44px; height: 24px; border-radius: 12px; background: #334155; border: none; cursor: pointer; position: relative; flex-shrink: 0; }
        .ip-toggle.on { background: #059669; }
        .ip-toggle-thumb { position: absolute; top: 2px; left: 2px; width: 20px; height: 20px; border-radius: 50%; background: #fff; transition: transform 0.2s; }
        .ip-toggle.on .ip-toggle-thumb { transform: translateX(20px); }
        .ip-time-range { display: flex; align-items: center; gap: 10px; }
        .ip-slider { flex: 1; accent-color: #f59e0b; }
        .ip-time-value { font-size: 0.9rem; font-weight: 600; color: #f59e0b; margin: 6px 0 0; }
        .ip-break-timer-display { display: flex; justify-content: center; margin-bottom: 20px; }
        .ip-break-circle {
          width: 140px; height: 140px; border-radius: 50%;
          border: 4px solid #c2410c; display: flex; flex-direction: column;
          align-items: center; justify-content: center; gap: 4px;
        }
        .ip-break-clock-icon { font-size: 1.2rem; }
        .ip-break-time { font-size: 1.8rem; font-weight: 700; color: #e2e8f0; }
        .ip-break-status { font-size: 0.75rem; color: #f59e0b; }
        .ip-break-icon { font-size: 1.5rem; }
        .ip-duration-btns { display: flex; gap: 8px; flex-wrap: wrap; }
        .ip-duration-btn { padding: 10px 20px; border-radius: 8px; font-size: 0.9rem; font-weight: 600; border: 1px solid #475569; background: rgba(255,255,255,0.05); color: #94a3b8; cursor: pointer; }
        .ip-duration-btn.active { background: #c2410c; border-color: #c2410c; color: #fff; }
        .ip-sound-field { display: flex; align-items: flex-start; gap: 12px; }
        .ip-sound-icon { font-size: 1.2rem; flex-shrink: 0; }
        .ip-btn { padding: 10px 18px; border-radius: 8px; font-size: 0.9rem; font-weight: 600; cursor: pointer; border: none; }
        .ip-btn-secondary { background: #334155; color: #e2e8f0; }
        .ip-btn-primary { background: #7c3aed; color: #fff; }
        .ip-btn-success { background: #059669; color: #fff; }
        .ip-btn-break { background: #c2410c; color: #fff; }

        /* Light theme */
        .ip-root.ip-theme-light .ip-ring-label { fill: rgba(0,0,0,0.65); }
        .ip-root.ip-theme-light {
          background: #e2e8f0;
          color: #1e293b;
        }
        .ip-root.ip-theme-light .ip-header {
          background: #f1f5f9;
          border-bottom-color: #cbd5e1;
        }
        .ip-root.ip-theme-light .ip-header-title { color: #334155; }
        .ip-root.ip-theme-light .ip-body::-webkit-scrollbar-thumb { background: rgba(15,23,42,0.2); }
        .ip-root.ip-theme-light .ip-card {
          background: rgba(255,255,255,0.7);
          border-color: #cbd5e1;
        }
        .ip-root.ip-theme-light .ip-card:hover { border-color: #94a3b8; }
        .ip-root.ip-theme-light .ip-card-title,
        .ip-root.ip-theme-light .ip-mbar-label,
        .ip-root.ip-theme-light .ip-legend-item,
        .ip-root.ip-theme-light .ip-heatmap-name { color: #64748b; }
        .ip-root.ip-theme-light .ip-mbar-track { background: rgba(0,0,0,0.08); }
        .ip-root.ip-theme-light .ip-selector {
          background: #fff;
          border-color: #cbd5e1;
          color: #334155;
        }
        .ip-root.ip-theme-light .ip-chart-scroll::-webkit-scrollbar-track { background: rgba(0,0,0,0.06); }
        .ip-root.ip-theme-light .ip-chart-scroll::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.2); }
        .ip-root.ip-theme-light .ip-chart-hint,
        .ip-root.ip-theme-light .ip-heat-text,
        .ip-root.ip-theme-light .ip-empty-state,
        .ip-root.ip-theme-light .ip-empty-sub,
        .ip-root.ip-theme-light .ip-waiting { color: #64748b; }
        .ip-root.ip-theme-light .ip-export-label { color: #64748b; }
        .ip-root.ip-theme-light .ip-export-btn {
          background: #f1f5f9;
          border-color: #94a3b8;
          color: #475569;
        }
        .ip-root.ip-theme-light .ip-export-btn:hover:not(:disabled) { background: #e2e8f0; color: #1e293b; border-color: #64748b; }
        .ip-root.ip-theme-light .ip-card-alert {
          border-color: rgba(234,179,8,0.5);
          background: rgba(234,179,8,0.1);
        }
        .ip-root.ip-theme-light .ip-alert-title { color: #1e293b; }
        .ip-root.ip-theme-light .ip-alert-sub { color: #64748b; }
        .ip-root.ip-theme-light .ip-why-body {
          background: rgba(0,0,0,0.06);
          border-color: rgba(234,179,8,0.3);
          color: #475569;
        }
        .ip-root.ip-theme-light .ip-modal-overlay { background: rgba(0,0,0,0.4); }
        .ip-root.ip-theme-light .ip-modal {
          background: #f8fafc;
          border-color: #cbd5e1;
          box-shadow: 0 20px 60px rgba(0,0,0,0.15);
        }
        .ip-root.ip-theme-light .ip-modal-header { border-bottom-color: #e2e8f0; }
        .ip-root.ip-theme-light .ip-modal-title { color: #1e293b; }
        .ip-root.ip-theme-light .ip-modal-subtitle,
        .ip-root.ip-theme-light .ip-field-label { color: #64748b; }
        .ip-root.ip-theme-light .ip-modal-footer { border-top-color: #e2e8f0; }
        .ip-root.ip-theme-light .ip-input,
        .ip-root.ip-theme-light .ip-textarea {
          background: #fff;
          border-color: #cbd5e1;
          color: #334155;
        }
        .ip-root.ip-theme-light .ip-vote-btn {
          background: #f1f5f9;
          border-color: #cbd5e1;
          color: #334155;
        }
        .ip-root.ip-theme-light .ip-duration-btn {
          background: #f1f5f9;
          border-color: #94a3b8;
          color: #475569;
        }
        .ip-root.ip-theme-light .ip-break-time { color: #1e293b; }
        .ip-root.ip-theme-light .ip-reserved-placeholder {
          background: rgba(0,0,0,0.04);
          border-color: #cbd5e1;
        }

        /* Red Pill Protocol */
        .ip-root.ip-theme-red-pill { background: #0D0D0D; color: #e6e6e6; }
        .ip-root.ip-theme-red-pill .ip-ring-label { fill: rgba(255,255,255,0.5); }
        .ip-root.ip-theme-red-pill .ip-header { background: #1a1a1a; border-bottom-color: rgba(255,0,60,0.2); }
        .ip-root.ip-theme-red-pill .ip-card { background: rgba(255,255,255,0.04); border-color: rgba(255,0,60,0.2); }
        .ip-root.ip-theme-red-pill .ip-card-title, .ip-root.ip-theme-red-pill .ip-mbar-label, .ip-root.ip-theme-red-pill .ip-legend-item, .ip-root.ip-theme-red-pill .ip-heatmap-name { color: #999; }
        .ip-root.ip-theme-red-pill .ip-mbar-track { background: rgba(255,255,255,0.08); }
        .ip-root.ip-theme-red-pill .ip-selector { background: rgba(255,255,255,0.06); border-color: rgba(255,0,60,0.3); color: #e6e6e6; }
        .ip-root.ip-theme-red-pill .ip-export-btn { background: rgba(255,0,60,0.1); border-color: rgba(255,0,60,0.3); color: #ccc; }
        .ip-root.ip-theme-red-pill .ip-export-btn:hover:not(:disabled) { background: rgba(255,0,60,0.2); color: #fff; border-color: #FF003C; }
        .ip-root.ip-theme-red-pill .ip-modal { background: #1a1a1a; border-color: rgba(255,0,60,0.25); }
        .ip-root.ip-theme-red-pill .ip-input, .ip-root.ip-theme-red-pill .ip-textarea { background: rgba(255,255,255,0.06); border-color: rgba(255,0,60,0.25); color: #e6e6e6; }

        /* Cyberpunk Neon */
        .ip-root.ip-theme-cyberpunk { background: #1A0033; color: #e6e6ff; }
        .ip-root.ip-theme-cyberpunk .ip-ring-label { fill: rgba(0,240,255,0.7); }
        .ip-root.ip-theme-cyberpunk .ip-header { background: #2d0052; border-bottom-color: rgba(0,240,255,0.25); }
        .ip-root.ip-theme-cyberpunk .ip-card { background: rgba(0,240,255,0.04); border-color: rgba(0,240,255,0.2); }
        .ip-root.ip-theme-cyberpunk .ip-card:hover { border-color: rgba(255,0,230,0.4); box-shadow: 0 0 12px rgba(0,240,255,0.15); }
        .ip-root.ip-theme-cyberpunk .ip-card-title, .ip-root.ip-theme-cyberpunk .ip-mbar-label, .ip-root.ip-theme-cyberpunk .ip-legend-item, .ip-root.ip-theme-cyberpunk .ip-heatmap-name { color: #b8a0d0; }
        .ip-root.ip-theme-cyberpunk .ip-mbar-track { background: rgba(0,240,255,0.08); }
        .ip-root.ip-theme-cyberpunk .ip-selector { background: rgba(0,240,255,0.06); border-color: rgba(0,240,255,0.3); color: #e6e6ff; }
        .ip-root.ip-theme-cyberpunk .ip-export-btn { background: rgba(0,240,255,0.1); border-color: rgba(0,240,255,0.3); color: #b8a0d0; }
        .ip-root.ip-theme-cyberpunk .ip-export-btn:hover:not(:disabled) { background: rgba(0,240,255,0.2); color: #00F0FF; border-color: #00F0FF; box-shadow: 0 0 10px rgba(0,240,255,0.3); }
        .ip-root.ip-theme-cyberpunk .ip-modal { background: #2d0052; border-color: rgba(0,240,255,0.3); }
        .ip-root.ip-theme-cyberpunk .ip-input, .ip-root.ip-theme-cyberpunk .ip-textarea { background: rgba(0,240,255,0.06); border-color: rgba(0,240,255,0.25); color: #e6e6ff; }

        /* Midnight Command */
        .ip-root.ip-theme-midnight { background: #0A1A2F; color: #e8f4fc; }
        .ip-root.ip-theme-midnight .ip-ring-label { fill: rgba(91,192,235,0.8); }
        .ip-root.ip-theme-midnight .ip-header { background: #132639; border-bottom-color: rgba(91,192,235,0.2); }
        .ip-root.ip-theme-midnight .ip-card { background: rgba(91,192,235,0.04); border-color: rgba(91,192,235,0.18); }
        .ip-root.ip-theme-midnight .ip-card-title, .ip-root.ip-theme-midnight .ip-mbar-label, .ip-root.ip-theme-midnight .ip-legend-item, .ip-root.ip-theme-midnight .ip-heatmap-name { color: #7a9fb8; }
        .ip-root.ip-theme-midnight .ip-mbar-track { background: rgba(91,192,235,0.08); }
        .ip-root.ip-theme-midnight .ip-selector { background: rgba(91,192,235,0.06); border-color: rgba(91,192,235,0.25); color: #e8f4fc; }
        .ip-root.ip-theme-midnight .ip-export-btn { background: rgba(91,192,235,0.1); border-color: rgba(91,192,235,0.3); color: #7a9fb8; }
        .ip-root.ip-theme-midnight .ip-export-btn:hover:not(:disabled) { background: rgba(91,192,235,0.2); color: #5BC0EB; border-color: #5BC0EB; }
        .ip-root.ip-theme-midnight .ip-modal { background: #132639; border-color: rgba(91,192,235,0.25); }
        .ip-root.ip-theme-midnight .ip-input, .ip-root.ip-theme-midnight .ip-textarea { background: rgba(91,192,235,0.06); border-color: rgba(91,192,235,0.2); color: #e8f4fc; }
      `})]})}function a_e({status:e,error:t,notStartedAt:n,joinWithPassword:r,onLeave:i}){const[a,o]=y.useState("");if(e==="connecting")return L.jsx("div",{className:"state-view",children:L.jsx("p",{children:"Connecting"})});if(e==="waiting")return L.jsxs("div",{className:"state-view",children:[L.jsx("p",{children:"Waiting for the host to admit you."}),L.jsx("button",{type:"button",className:"state-btn secondary",onClick:i,children:"Leave"})]});if(e==="rejected")return L.jsxs("div",{className:"state-view",children:[L.jsx("p",{children:"You were not admitted to this meeting."}),L.jsx("button",{type:"button",className:"state-btn primary",onClick:i,children:"Back to home"})]});if(e==="not-started"){const s=n?new Date(n).toLocaleString():"";return L.jsxs("div",{className:"state-view",children:[L.jsx("p",{children:"This meeting has not started yet."}),L.jsxs("p",{className:"state-muted",children:["Scheduled: ",s]}),L.jsx("button",{type:"button",className:"state-btn secondary",onClick:i,children:"Leave"})]})}return e==="password-required"?L.jsxs("div",{className:"state-view",children:[L.jsx("p",{children:"This meeting requires a password."}),L.jsxs("form",{onSubmit:s=>{s.preventDefault(),r(a)},className:"state-form",children:[L.jsx("input",{type:"password",placeholder:"Password",value:a,onChange:s=>o(s.target.value),className:"state-input",autoComplete:"current-password"}),L.jsx("button",{type:"submit",className:"state-btn primary",children:"Join"})]}),L.jsx("button",{type:"button",className:"state-btn secondary",onClick:i,children:"Cancel"})]}):e==="kicked"?L.jsxs("div",{className:"state-view",children:[L.jsx("p",{children:"You were removed from the meeting."}),L.jsx("button",{type:"button",className:"state-btn primary",onClick:i,children:"Back to home"})]}):e==="ended"?L.jsxs("div",{className:"state-view",children:[L.jsx("p",{children:"The host ended the meeting."}),L.jsx("button",{type:"button",className:"state-btn primary",onClick:i,children:"Back to home"})]}):t?L.jsxs("div",{className:"state-view",children:[L.jsx("p",{className:"state-error",children:t}),L.jsx("button",{type:"button",className:"state-btn primary",onClick:i,children:"Back to home"})]}):L.jsxs("div",{className:"state-view",children:[L.jsx("p",{children:"Connecting"}),L.jsx("button",{type:"button",className:"state-btn secondary",onClick:i,children:"Cancel"})]})}const PJ=[{id:"light",label:"Light"},{id:"dark",label:"Dark"},{id:"auto",label:"Auto"},{id:"red-pill",label:"Red Pill"},{id:"cyberpunk",label:"Cyberpunk"},{id:"midnight",label:"Midnight Command"}],F7=new Set(PJ.map(e=>e.id));function o_e({roomId:e,userName:t,roomOptions:n,localStream:r,localStreamRef:i,onLeave:a}){const{participants:o,remoteStreams:s,messages:c,error:l,status:A,isHost:u,pendingParticipants:d,notStartedAt:f,handRaised:h,reactions:p,spotlightId:v,audioMutedByHost:m,myId:w,joinWithPassword:B,admit:C,reject:S,sendMessage:k,replaceVideoTrack:_,muteAll:F,requestMutePeer:P,kick:U,endMeeting:T,setRaiseHand:O,sendReaction:H,setSpotlight:$,clearAudioMutedByHost:Z,socketRef:ae}=Uoe(e,t,i,n),ie=A==="joined",W=!(n!=null&&n.sfu);Rce({enabled:ie&&W,localStreamRef:i,socketRef:ae});const te=Dce(ae,u),[de,pe]=y.useState(!1),[R,z]=y.useState(!1),[X,re]=y.useState(!1),[oe,ce]=y.useState("grid"),[be,ee]=y.useState(null),[ge,xe]=y.useState(0),[ne,Ce]=y.useState(!0),[Ue,Q]=y.useState(()=>{if(typeof window>"u")return"dark";const ze=localStorage.getItem("mark2-theme")||"dark";return F7.has(ze)?ze:"dark"}),[ke,je]=y.useState(()=>{if(typeof window>"u")return"dark";const ze=localStorage.getItem("mark2-theme")||"dark",Ct=F7.has(ze)?ze:"dark";return Ct==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":Ct});y.useEffect(()=>{if(Ue==="auto"){const ze=window.matchMedia("(prefers-color-scheme: dark)");je(ze.matches?"dark":"light");const Ct=()=>je(ze.matches?"dark":"light");return ze.addEventListener("change",Ct),()=>ze.removeEventListener("change",Ct)}je(Ue)},[Ue]),y.useEffect(()=>{localStorage.setItem("mark2-theme",Ue)},[Ue]);const De=y.useCallback(ze=>{u?$(v===ze?null:ze):ee(Ct=>Ct===ze?null:ze)},[u,v,$]),Se=u?v:null,qe=u?null:be;y.useEffect(()=>{if(!(p!=null&&p.length))return;const ze=setInterval(()=>xe(Ct=>Ct+1),500);return()=>clearInterval(ze)},[p==null?void 0:p.length]);const Ve=typeof window<"u"?`${window.location.origin}/meeting/${e}?name=`+encodeURIComponent(t):"",ft=y.useCallback(()=>{Ve&&navigator.clipboard.writeText(Ve).catch(()=>{})},[Ve]);return!ie||A==="kicked"||A==="ended"?L.jsxs("div",{className:"room room-state",children:[L.jsx(a_e,{status:A,error:l,notStartedAt:f,joinWithPassword:B,onLeave:a}),L.jsx("style",{children:`
          .room-state {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg);
          }
          .state-view {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 32px;
            max-width: 360px;
            text-align: center;
          }
          .state-view p { margin: 0 0 16px; }
          .state-muted { color: var(--text-muted); font-size: 14px; }
          .state-error { color: var(--danger); }
          .state-form { display: flex; flex-direction: column; gap: 12px; margin-bottom: 12px; }
          .state-input {
            padding: 12px 16px;
            border: 1px solid var(--border);
            border-radius: 10px;
            background: var(--bg);
            color: var(--text);
            font-size: 15px;
          }
          .state-btn { padding: 12px 20px; border-radius: 10px; font-size: 15px; font-weight: 600; margin: 4px; }
          .state-btn.primary { background: var(--accent); color: white; border: none; }
          .state-btn.primary:hover { background: var(--accent-hover); }
          .state-btn.secondary { background: var(--surface-hover); color: var(--text); border: 1px solid var(--border); }
          .state-btn.secondary:hover { background: var(--border); }
          .room-state .state-view { background: #161a20; color: #e6e9ef; }
          .room-state .state-view p { color: #e6e9ef; }
        `})]}):L.jsxs("div",{className:"room","data-theme":ke,children:[L.jsxs("header",{className:"room-header",children:[L.jsxs("span",{className:"room-id",children:["Meeting: ",e]}),L.jsxs("div",{className:"room-header-actions",children:[u&&W&&L.jsx("button",{type:"button",className:"room-analytics-toggle",onClick:()=>Ce(ze=>!ze),title:ne?"Hide AI Analytics":"Show AI Analytics",children:ne?"Hide AI Analytics":"Show AI Analytics"}),L.jsxs("div",{className:"room-theme-switcher",children:[L.jsx("label",{className:"room-theme-label",htmlFor:"room-theme-select",children:"Theme"}),L.jsx("select",{id:"room-theme-select",className:"room-theme-select",value:Ue,onChange:ze=>Q(ze.target.value),title:"Choose theme",children:PJ.map(ze=>L.jsx("option",{value:ze.id,children:ze.label},ze.id))})]}),u&&d.length>0&&L.jsxs("button",{type:"button",className:"room-pending-badge",onClick:()=>re(ze=>!ze),children:[d.length," waiting"]}),L.jsx("button",{type:"button",className:"room-copy",onClick:ft,children:"Copy invite link"})]})]}),X&&u&&d.length>0&&L.jsxs("div",{className:"room-pending-panel",children:[L.jsx("div",{className:"room-pending-header",children:"Waiting to join"}),L.jsx("ul",{className:"room-pending-list",children:d.map(ze=>L.jsxs("li",{className:"room-pending-item",children:[L.jsx("span",{children:ze.userName}),L.jsxs("div",{children:[L.jsx("button",{type:"button",className:"room-pending-admit",onClick:()=>{C(ze.id),re(!1)},children:"Admit"}),L.jsx("button",{type:"button",className:"room-pending-reject",onClick:()=>S(ze.id),children:"Reject"})]})]},ze.id))})]}),l&&L.jsx("div",{className:"room-error",children:l}),L.jsxs("div",{className:"room-main",children:[L.jsxs("div",{className:"room-video-area",children:[L.jsx(Qce,{localStream:r,remoteStreams:s,participants:o,localName:t,layout:oe,spotlightId:Se,pinnedId:qe,onPin:De,handRaised:h,reactions:p,reactionTick:ge,isHost:u}),L.jsx("aside",{className:`room-sidebar ${de?"open":""}`,children:L.jsx($ce,{messages:c,onSend:k,onClose:()=>pe(!1)})}),L.jsx("aside",{className:`room-sidebar room-participants ${R?"open":""}`,children:L.jsx(Kce,{participants:o,localName:t,onClose:()=>z(!1),isHost:u,myId:w,onMutePeer:P,onKick:U,handRaised:h})})]}),u&&W&&ne&&L.jsx("div",{className:"room-intel-panel",children:L.jsx(i_e,{participants:te,theme:ke})})]}),L.jsx(Hce,{localStream:r,replaceVideoTrack:_,onLeave:a,onChatToggle:()=>{pe(ze=>!ze),z(!1)},onParticipantsToggle:()=>{z(ze=>!ze),pe(!1)},chatOpen:de,participantsOpen:R,isHost:u,onMuteAll:F,onEndMeeting:T,audioMutedByHost:m,clearAudioMutedByHost:Z,handRaised:h,myId:w,setRaiseHand:O,sendReaction:H,layout:oe,onLayoutChange:ce}),L.jsx("style",{children:`
        .room {
          height: 100vh;
          min-height: 100vh;
          display: flex;
          flex-direction: column;
          background: #0d0f12;
          color: #e6e9ef;
        }
        .room-header {
          padding: 10px 20px;
          background: #161a20;
          color: #e6e9ef;
          border-bottom: 1px solid #2a313c;
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 12px;
          flex-shrink: 0;
        }
        .room-header-actions { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; }
        .room-analytics-toggle {
          padding: 6px 12px;
          background: var(--surface-hover);
          color: var(--text);
          border: 1px solid var(--border);
          border-radius: 8px;
          font-size: 13px;
          font-weight: 500;
        }
        .room-analytics-toggle:hover { background: var(--border); }
        .room-theme-switcher { display: flex; align-items: center; gap: 8px; }
        .room-theme-label { font-size: 12px; color: var(--text-muted); white-space: nowrap; }
        .room-theme-select {
          padding: 6px 10px;
          background: var(--surface-hover);
          color: var(--text);
          border: 1px solid var(--border);
          border-radius: 6px;
          font-size: 12px;
          font-weight: 500;
          cursor: pointer;
          min-width: 120px;
        }
        .room-theme-select:hover, .room-theme-select:focus { border-color: var(--accent); outline: none; }
        .room-id { font-size: 14px; color: var(--text-muted); }
        .room-pending-badge {
          padding: 6px 12px;
          background: var(--accent);
          color: white;
          border-radius: 8px;
          font-size: 13px;
          font-weight: 500;
        }
        .room-pending-badge:hover { opacity: 0.9; }
        .room-copy {
          padding: 8px 14px;
          background: var(--surface-hover);
          color: var(--text);
          border-radius: 8px;
          font-size: 13px;
          font-weight: 500;
        }
        .room-copy:hover { background: var(--border); }
        .room-pending-panel {
          padding: 12px 20px;
          background: var(--surface-hover);
          border-bottom: 1px solid var(--border);
        }
        .room-pending-header { font-size: 14px; font-weight: 600; margin-bottom: 8px; }
        .room-pending-list { list-style: none; margin: 0; padding: 0; }
        .room-pending-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 8px 0;
          font-size: 14px;
        }
        .room-pending-admit { margin-right: 8px; padding: 6px 12px; background: var(--success); color: white; border-radius: 6px; font-size: 13px; font-weight: 500; }
        .room-pending-reject { padding: 6px 12px; background: var(--surface); color: var(--text); border: 1px solid var(--border); border-radius: 6px; font-size: 13px; }
        .room-error {
          padding: 10px 16px;
          background: rgba(229, 77, 77, 0.15);
          color: var(--danger);
          font-size: 14px;
        }
        .room-main {
          flex: 1;
          display: flex;
          min-height: 0;
          position: relative;
          background: #0d0f12;
        }
        .room-video-area {
          flex: 1;
          min-width: 0;
          display: flex;
          position: relative;
        }
        .room-sidebar {
          width: 320px;
          background: var(--surface);
          border-left: 1px solid var(--border);
          display: none;
          flex-direction: column;
        }
        .room-sidebar.open { display: flex; }
        .room-intel-panel {
          width: 520px;
          min-width: 440px;
          max-width: 560px;
          background: #0a0a1a;
          border-left: 1px solid rgba(0, 255, 255, 0.2);
          display: flex;
          flex-direction: column;
          overflow: hidden;
          flex-shrink: 0;
        }

        /* Light theme  set variables so VideoGrid, Controls, etc. inherit */
        .room[data-theme="light"] {
          --bg: #f1f5f9;
          --surface: #e2e8f0;
          --surface-hover: #cbd5e1;
          --border: #cbd5e1;
          --text: #1e293b;
          --text-muted: #64748b;
          --accent: #0ea5e9;
          --accent-hover: #0284c7;
          background: #f1f5f9;
          color: #1e293b;
        }
        .room[data-theme="light"] .room-header {
          background: #e2e8f0;
          color: #1e293b;
          border-bottom-color: #cbd5e1;
        }
        .room[data-theme="light"] .room-id,
        .room[data-theme="light"] .room-analytics-toggle,
        .room[data-theme="light"] .room-theme-label { color: #475569; }
        .room[data-theme="light"] .room-theme-select { background: #fff; color: #334155; border-color: #cbd5e1; }
        .room[data-theme="light"] .room-theme-select:hover, .room[data-theme="light"] .room-theme-select:focus { border-color: #0ea5e9; }
        .room[data-theme="light"] .room-analytics-toggle {
          background: #fff;
          border-color: #cbd5e1;
          color: #334155;
        }
        .room[data-theme="light"] .room-analytics-toggle:hover { background: #e2e8f0; }
        .room[data-theme="light"] .room-main { background: #f1f5f9; }
        .room[data-theme="light"] .room-copy {
          background: #fff;
          color: #334155;
          border: 1px solid #cbd5e1;
        }
        .room[data-theme="light"] .room-copy:hover { background: #e2e8f0; }
        .room[data-theme="light"] .room-pending-panel { background: #e2e8f0; border-bottom-color: #cbd5e1; }
        .room[data-theme="light"] .room-intel-panel {
          background: #e2e8f0;
          border-left-color: #94a3b8;
        }

        /* Red Pill Protocol */
        .room[data-theme="red-pill"] {
          --bg: #0D0D0D;
          --surface: #1a1a1a;
          --surface-hover: #262626;
          --border: #333;
          --text: #e6e6e6;
          --text-muted: #999;
          --accent: #FF003C;
          --accent-hover: #e60036;
          --success: #00FF66;
          background: #0D0D0D;
          color: #e6e6e6;
        }
        .room[data-theme="red-pill"] .room-header { background: #1a1a1a; border-bottom-color: #333; }
        .room[data-theme="red-pill"] .room-main { background: #0D0D0D; }
        .room[data-theme="red-pill"] .room-intel-panel { background: #0D0D0D; border-left-color: rgba(255,0,60,0.35); }

        /* Cyberpunk Neon */
        .room[data-theme="cyberpunk"] {
          --bg: #1A0033;
          --surface: #2d0052;
          --surface-hover: #3d0066;
          --border: rgba(0,240,255,0.25);
          --text: #e6e6ff;
          --text-muted: #b8a0d0;
          --accent: #00F0FF;
          --accent-hover: #00c4d1;
          background: #1A0033;
          color: #e6e6ff;
        }
        .room[data-theme="cyberpunk"] .room-header { background: #2d0052; border-bottom-color: rgba(0,240,255,0.2); }
        .room[data-theme="cyberpunk"] .room-main { background: #1A0033; }
        .room[data-theme="cyberpunk"] .room-intel-panel { background: #1A0033; border-left-color: rgba(0,240,255,0.35); }
        .room[data-theme="cyberpunk"] .room-theme-select:hover, .room[data-theme="cyberpunk"] .room-analytics-toggle:hover { box-shadow: 0 0 10px rgba(0,240,255,0.4); }

        /* Midnight Command */
        .room[data-theme="midnight"] {
          --bg: #0A1A2F;
          --surface: #132639;
          --surface-hover: #2A4D69;
          --border: rgba(91,192,235,0.2);
          --text: #e8f4fc;
          --text-muted: #7a9fb8;
          --accent: #5BC0EB;
          --accent-hover: #4aadd4;
          background: #0A1A2F;
          color: #e8f4fc;
        }
        .room[data-theme="midnight"] .room-header { background: #132639; border-bottom-color: rgba(91,192,235,0.2); }
        .room[data-theme="midnight"] .room-main { background: #0A1A2F; }
        .room[data-theme="midnight"] .room-intel-panel { background: #0A1A2F; border-left-color: rgba(91,192,235,0.3); }
      `})]})}var O7={};function s_e(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(e)}var c_e=Object.defineProperty,l_e=(e,t,n)=>t in e?c_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L7=(e,t,n)=>l_e(e,typeof t!="symbol"?t+"":t,n);class wa{constructor(){L7(this,"_locking"),L7(this,"_locks"),this._locking=Promise.resolve(),this._locks=0}isLocked(){return this._locks>0}lock(){this._locks+=1;let t;const n=new Promise(i=>t=()=>{this._locks-=1,i()}),r=this._locking.then(()=>t);return this._locking=this._locking.then(()=>n),r}}function fr(e,t){if(!e)throw new Error(t)}const A_e=34028234663852886e22,u_e=-34028234663852886e22,d_e=4294967295,f_e=2147483647,h_e=-2147483648;function lb(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>f_e||e<h_e)throw new Error("invalid int 32: "+e)}function eT(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>d_e||e<0)throw new Error("invalid uint 32: "+e)}function IJ(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>A_e||e<u_e))throw new Error("invalid float 32: "+e)}const FJ=Symbol("@bufbuild/protobuf/enum-type");function p_e(e){const t=e[FJ];return fr(t,"missing enum type on enum object"),t}function OJ(e,t,n,r){e[FJ]=LJ(t,n.map(i=>({no:i.no,name:i.name,localName:e[i.no]})))}function LJ(e,t,n){const r=Object.create(null),i=Object.create(null),a=[];for(const o of t){const s=UJ(o);a.push(s),r[o.name]=s,i[o.no]=s}return{typeName:e,values:a,findName(o){return r[o]},findNumber(o){return i[o]}}}function g_e(e,t,n){const r={};for(const i of t){const a=UJ(i);r[a.localName]=a.no,r[a.no]=a.localName}return OJ(r,e,t),r}function UJ(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class FF{equals(t){return this.getType().runtime.util.equals(this.getType(),this,t)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(t,n){const r=this.getType(),i=r.runtime.bin,a=i.makeReadOptions(n);return i.readMessage(this,a.readerFactory(t),t.byteLength,a),this}fromJson(t,n){const r=this.getType(),i=r.runtime.json,a=i.makeReadOptions(n);return i.readMessage(r,t,a,this),this}fromJsonString(t,n){let r;try{r=JSON.parse(t)}catch(i){throw new Error("cannot decode ".concat(this.getType().typeName," from JSON: ").concat(i instanceof Error?i.message:String(i)))}return this.fromJson(r,n)}toBinary(t){const n=this.getType(),r=n.runtime.bin,i=r.makeWriteOptions(t),a=i.writerFactory();return r.writeMessage(this,a,i),a.finish()}toJson(t){const n=this.getType(),r=n.runtime.json,i=r.makeWriteOptions(t);return r.writeMessage(this,i)}toJsonString(t){var n;const r=this.toJson(t);return JSON.stringify(r,null,(n=t==null?void 0:t.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function m_e(e,t,n,r){var i;const a=(i=r==null?void 0:r.localName)!==null&&i!==void 0?i:t.substring(t.lastIndexOf(".")+1),o={[a]:function(s){e.util.initFields(this),e.util.initPartial(s,this)}}[a];return Object.setPrototypeOf(o.prototype,new FF),Object.assign(o,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary(s,c){return new o().fromBinary(s,c)},fromJson(s,c){return new o().fromJson(s,c)},fromJsonString(s,c){return new o().fromJsonString(s,c)},equals(s,c){return e.util.equals(o,s,c)}}),o}function v_e(){let e=0,t=0;for(let r=0;r<28;r+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<r,!(i&128))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(n&15)<<28,t=(n&112)>>4,!(n&128))return this.assertBounds(),[e,t];for(let r=3;r<=31;r+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<r,!(i&128))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function Ex(e,t,n){for(let a=0;a<28;a=a+7){const o=e>>>a,s=!(!(o>>>7)&&t==0),c=(s?o|128:o)&255;if(n.push(c),!s)return}const r=e>>>28&15|(t&7)<<4,i=!!(t>>3);if(n.push((i?r|128:r)&255),!!i){for(let a=3;a<31;a=a+7){const o=t>>>a,s=!!(o>>>7),c=(s?o|128:o)&255;if(n.push(c),!s)return}n.push(t>>>31&1)}}const Ab=4294967296;function U7(e){const t=e[0]==="-";t&&(e=e.slice(1));const n=1e6;let r=0,i=0;function a(o,s){const c=Number(e.slice(o,s));i*=n,r=r*n+c,r>=Ab&&(i=i+(r/Ab|0),r=r%Ab)}return a(-24,-18),a(-18,-12),a(-12,-6),a(-6),t?MJ(r,i):OF(r,i)}function y_e(e,t){let n=OF(e,t);const r=n.hi&2147483648;r&&(n=MJ(n.lo,n.hi));const i=NJ(n.lo,n.hi);return r?"-"+i:i}function NJ(e,t){if({lo:e,hi:t}=b_e(e,t),t<=2097151)return String(Ab*t+e);const n=e&16777215,r=(e>>>24|t<<8)&16777215,i=t>>16&65535;let a=n+r*6777216+i*6710656,o=r+i*8147497,s=i*2;const c=1e7;return a>=c&&(o+=Math.floor(a/c),a%=c),o>=c&&(s+=Math.floor(o/c),o%=c),s.toString()+N7(o)+N7(a)}function b_e(e,t){return{lo:e>>>0,hi:t>>>0}}function OF(e,t){return{lo:e|0,hi:t|0}}function MJ(e,t){return t=~t,e?e=~e+1:t+=1,OF(e,t)}const N7=e=>{const t=String(e);return"0000000".slice(t.length)+t};function M7(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let n=0;n<9;n++)t.push(e&127|128),e=e>>7;t.push(1)}}function w_e(){let e=this.buf[this.pos++],t=e&127;if(!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,!(e&128))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let n=5;e&128&&n<10;n++)e=this.buf[this.pos++];if(e&128)throw new Error("invalid varint");return this.assertBounds(),t>>>0}function C_e(){const e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof process!="object"||typeof O7!="object"||O7.BUF_BIGINT_DISABLE!=="1")){const i=BigInt("-9223372036854775808"),a=BigInt("9223372036854775807"),o=BigInt("0"),s=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(c){const l=typeof c=="bigint"?c:BigInt(c);if(l>a||l<i)throw new Error("int64 invalid: ".concat(c));return l},uParse(c){const l=typeof c=="bigint"?c:BigInt(c);if(l>s||l<o)throw new Error("uint64 invalid: ".concat(c));return l},enc(c){return e.setBigInt64(0,this.parse(c),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(c){return e.setBigInt64(0,this.uParse(c),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec(c,l){return e.setInt32(0,c,!0),e.setInt32(4,l,!0),e.getBigInt64(0,!0)},uDec(c,l){return e.setInt32(0,c,!0),e.setInt32(4,l,!0),e.getBigUint64(0,!0)}}}const n=i=>fr(/^-?[0-9]+$/.test(i),"int64 invalid: ".concat(i)),r=i=>fr(/^[0-9]+$/.test(i),"uint64 invalid: ".concat(i));return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),n(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),r(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),n(i),U7(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),r(i),U7(i)},dec(i,a){return y_e(i,a)},uDec(i,a){return NJ(i,a)}}}const Wn=C_e();var Fe;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(Fe||(Fe={}));var Vu;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"})(Vu||(Vu={}));function GA(e,t,n){if(t===n)return!0;if(e==Fe.BYTES){if(!(t instanceof Uint8Array)||!(n instanceof Uint8Array)||t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==n[r])return!1;return!0}switch(e){case Fe.UINT64:case Fe.FIXED64:case Fe.INT64:case Fe.SFIXED64:case Fe.SINT64:return t==n}return!1}function Gp(e,t){switch(e){case Fe.BOOL:return!1;case Fe.UINT64:case Fe.FIXED64:case Fe.INT64:case Fe.SFIXED64:case Fe.SINT64:return t==0?Wn.zero:"0";case Fe.DOUBLE:case Fe.FLOAT:return 0;case Fe.BYTES:return new Uint8Array(0);case Fe.STRING:return"";default:return 0}}function RJ(e,t){switch(e){case Fe.BOOL:return t===!1;case Fe.STRING:return t==="";case Fe.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}var Pr;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(Pr||(Pr={}));class B_e{constructor(t){this.stack=[],this.textEncoder=t??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let i=0;i<this.chunks.length;i++)t+=this.chunks[i].length;let n=new Uint8Array(t),r=0;for(let i=0;i<this.chunks.length;i++)n.set(this.chunks[i],r),r+=this.chunks[i].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,n){return this.uint32((t<<3|n)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(eT(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return lb(t),M7(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let n=this.textEncoder.encode(t);return this.uint32(n.byteLength),this.raw(n)}float(t){IJ(t);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,t,!0),this.raw(n)}double(t){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,t,!0),this.raw(n)}fixed32(t){eT(t);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t,!0),this.raw(n)}sfixed32(t){lb(t);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,t,!0),this.raw(n)}sint32(t){return lb(t),t=(t<<1^t>>31)>>>0,M7(t,this.buf),this}sfixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),i=Wn.enc(t);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}fixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),i=Wn.uEnc(t);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}int64(t){let n=Wn.enc(t);return Ex(n.lo,n.hi,this.buf),this}sint64(t){let n=Wn.enc(t),r=n.hi>>31,i=n.lo<<1^r,a=(n.hi<<1|n.lo>>>31)^r;return Ex(i,a,this.buf),this}uint64(t){let n=Wn.uEnc(t);return Ex(n.lo,n.hi,this.buf),this}}class S_e{constructor(t,n){this.varint64=v_e,this.uint32=w_e,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=n??new TextDecoder}tag(){let t=this.uint32(),n=t>>>3,r=t&7;if(n<=0||r<0||r>5)throw new Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(t,n){let r=this.pos;switch(t){case Pr.Varint:for(;this.buf[this.pos++]&128;);break;case Pr.Bit64:this.pos+=4;case Pr.Bit32:this.pos+=4;break;case Pr.LengthDelimited:let i=this.uint32();this.pos+=i;break;case Pr.StartGroup:for(;;){const[a,o]=this.tag();if(o===Pr.EndGroup){if(n!==void 0&&a!==n)throw new Error("invalid end group tag");break}this.skip(o,a)}break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return Wn.dec(...this.varint64())}uint64(){return Wn.uDec(...this.varint64())}sint64(){let[t,n]=this.varint64(),r=-(t&1);return t=(t>>>1|(n&1)<<31)^r,n=n>>>1^r,Wn.dec(t,n)}bool(){let[t,n]=this.varint64();return t!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Wn.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Wn.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),n=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(n,n+t)}string(){return this.textDecoder.decode(this.bytes())}}function x_e(e,t,n,r){let i;return{typeName:t,extendee:n,get field(){if(!i){const a=typeof r=="function"?r():r;a.name=t.split(".").pop(),a.jsonName="[".concat(t,"]"),i=e.util.newFieldList([a]).list()[0]}return i},runtime:e}}function DJ(e){const t=e.field.localName,n=Object.create(null);return n[t]=k_e(e),[n,()=>n[t]]}function k_e(e){const t=e.field;if(t.repeated)return[];if(t.default!==void 0)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return Gp(t.T,t.L);case"message":const n=t.T,r=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(r):r;case"map":throw"map fields are not allowed to be extensions"}}function E_e(e,t){if(!t.repeated&&(t.kind=="enum"||t.kind=="scalar")){for(let n=e.length-1;n>=0;--n)if(e[n].no==t.no)return[e[n]];return[]}return e.filter(n=>n.no===t.no)}let Ml="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),xB=[];for(let e=0;e<Ml.length;e++)xB[Ml[e].charCodeAt(0)]=e;xB[45]=Ml.indexOf("+");xB[95]=Ml.indexOf("/");const QJ={dec(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let n=new Uint8Array(t),r=0,i=0,a,o=0;for(let s=0;s<e.length;s++){if(a=xB[e.charCodeAt(s)],a===void 0)switch(e[s]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:o=a,i=1;break;case 1:n[r++]=o<<2|(a&48)>>4,o=a,i=2;break;case 2:n[r++]=(o&15)<<4|(a&60)>>2,o=a,i=3;break;case 3:n[r++]=(o&3)<<6|a,i=0;break}}if(i==1)throw Error("invalid base64 string.");return n.subarray(0,r)},enc(e){let t="",n=0,r,i=0;for(let a=0;a<e.length;a++)switch(r=e[a],n){case 0:t+=Ml[r>>2],i=(r&3)<<4,n=1;break;case 1:t+=Ml[i|r>>4],i=(r&15)<<2,n=2;break;case 2:t+=Ml[i|r>>6],t+=Ml[r&63],n=0;break}return n&&(t+=Ml[i],t+="=",n==1&&(t+="=")),t}};function T_e(e,t,n){HJ(t,e);const r=t.runtime.bin.makeReadOptions(n),i=E_e(e.getType().runtime.bin.listUnknownFields(e),t.field),[a,o]=DJ(t);for(const s of i)t.runtime.bin.readField(a,r.readerFactory(s.data),t.field,s.wireType,r);return o()}function __e(e,t,n,r){HJ(t,e);const i=t.runtime.bin.makeReadOptions(r),a=t.runtime.bin.makeWriteOptions(r);if(jJ(e,t)){const l=e.getType().runtime.bin.listUnknownFields(e).filter(A=>A.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(const A of l)e.getType().runtime.bin.onUnknownField(e,A.no,A.wireType,A.data)}const o=a.writerFactory();let s=t.field;!s.opt&&!s.repeated&&(s.kind=="enum"||s.kind=="scalar")&&(s=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(s,n,o,a);const c=i.readerFactory(o.finish());for(;c.pos<c.len;){const[l,A]=c.tag(),u=c.skip(A,l);e.getType().runtime.bin.onUnknownField(e,l,A,u)}}function jJ(e,t){const n=e.getType();return t.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(e).find(r=>r.no==t.field.no)}function HJ(e,t){fr(e.extendee.typeName==t.getType().typeName,"extension ".concat(e.typeName," can only be applied to message ").concat(e.extendee.typeName))}function $J(e,t){const n=e.localName;if(e.repeated)return t[n].length>0;if(e.oneof)return t[e.oneof.localName].case===n;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?t[n]!==void 0:e.kind=="enum"?t[n]!==e.T.values[0].no:!RJ(e.T,t[n]);case"message":return t[n]!==void 0;case"map":return Object.keys(t[n]).length>0}}function R7(e,t){const n=e.localName,r=!e.opt&&!e.req;if(e.repeated)t[n]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[n]={};break;case"enum":t[n]=r?e.T.values[0].no:void 0;break;case"scalar":t[n]=r?Gp(e.T,e.L):void 0;break;case"message":t[n]=void 0;break}}function Rl(e,t){if(e===null||typeof e!="object"||!Object.getOwnPropertyNames(FF.prototype).every(r=>r in e&&typeof e[r]=="function"))return!1;const n=e.getType();return n===null||typeof n!="function"||!("typeName"in n)||typeof n.typeName!="string"?!1:t===void 0?!0:n.typeName==t.typeName}function KJ(e,t){return Rl(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}Fe.DOUBLE,Fe.FLOAT,Fe.INT64,Fe.UINT64,Fe.INT32,Fe.UINT32,Fe.BOOL,Fe.STRING,Fe.BYTES;const D7={ignoreUnknownFields:!1},Q7={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function P_e(e){return e?Object.assign(Object.assign({},D7),e):D7}function I_e(e){return e?Object.assign(Object.assign({},Q7),e):Q7}const c5=Symbol(),ub=Symbol();function F_e(){return{makeReadOptions:P_e,makeWriteOptions:I_e,readMessage(e,t,n,r){if(t==null||Array.isArray(t)||typeof t!="object")throw new Error("cannot decode message ".concat(e.typeName," from JSON: ").concat(Pc(t)));r=r??new e;const i=new Map,a=n.typeRegistry;for(const[o,s]of Object.entries(t)){const c=e.fields.findJsonName(o);if(c){if(c.oneof){if(s===null&&c.kind=="scalar")continue;const l=i.get(c.oneof);if(l!==void 0)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: multiple keys for oneof "').concat(c.oneof.name,'" present: "').concat(l,'", "').concat(o,'"'));i.set(c.oneof,o)}j7(r,s,c,n,e)}else{let l=!1;if(a!=null&&a.findExtension&&o.startsWith("[")&&o.endsWith("]")){const A=a.findExtension(o.substring(1,o.length-1));if(A&&A.extendee.typeName==e.typeName){l=!0;const[u,d]=DJ(A);j7(u,s,A.field,n,A),__e(r,A,d(),n)}}if(!l&&!n.ignoreUnknownFields)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: key "').concat(o,'" is unknown'))}}return r},writeMessage(e,t){const n=e.getType(),r={};let i;try{for(i of n.fields.byNumber()){if(!$J(i,e)){if(i.req)throw"required field not set";if(!t.emitDefaultValues||!L_e(i))continue}const o=i.oneof?e[i.oneof.localName].value:e[i.localName],s=H7(i,o,t);s!==void 0&&(r[t.useProtoFieldName?i.name:i.jsonName]=s)}const a=t.typeRegistry;if(a!=null&&a.findExtensionFor)for(const o of n.runtime.bin.listUnknownFields(e)){const s=a.findExtensionFor(n.typeName,o.no);if(s&&jJ(e,s)){const c=T_e(e,s,t),l=H7(s.field,c,t);l!==void 0&&(r[s.field.jsonName]=l)}}}catch(a){const o=i?"cannot encode field ".concat(n.typeName,".").concat(i.name," to JSON"):"cannot encode message ".concat(n.typeName," to JSON"),s=a instanceof Error?a.message:String(a);throw new Error(o+(s.length>0?": ".concat(s):""))}return r},readScalar(e,t,n){return T0(e,t,n??Vu.BIGINT,!0)},writeScalar(e,t,n){if(t!==void 0&&(n||RJ(e,t)))return db(e,t)},debug:Pc}}function Pc(e){if(e===null)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":'"'.concat(e.split('"').join('\\"'),'"');default:return String(e)}}function j7(e,t,n,r,i){let a=n.localName;if(n.repeated){if(fr(n.kind!="map"),t===null)return;if(!Array.isArray(t))throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Pc(t)));const o=e[a];for(const s of t){if(s===null)throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Pc(s)));switch(n.kind){case"message":o.push(n.T.fromJson(s,r));break;case"enum":const c=Tx(n.T,s,r.ignoreUnknownFields,!0);c!==ub&&o.push(c);break;case"scalar":try{o.push(T0(n.T,s,n.L,!0))}catch(l){let A="cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Pc(s));throw l instanceof Error&&l.message.length>0&&(A+=": ".concat(l.message)),new Error(A)}break}}}else if(n.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Pc(t)));const o=e[a];for(const[s,c]of Object.entries(t)){if(c===null)throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: map value null"));let l;try{l=O_e(n.K,s)}catch(A){let u="cannot decode map key for field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Pc(t));throw A instanceof Error&&A.message.length>0&&(u+=": ".concat(A.message)),new Error(u)}switch(n.V.kind){case"message":o[l]=n.V.T.fromJson(c,r);break;case"enum":const A=Tx(n.V.T,c,r.ignoreUnknownFields,!0);A!==ub&&(o[l]=A);break;case"scalar":try{o[l]=T0(n.V.T,c,Vu.BIGINT,!0)}catch(u){let d="cannot decode map value for field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Pc(t));throw u instanceof Error&&u.message.length>0&&(d+=": ".concat(u.message)),new Error(d)}break}}}else switch(n.oneof&&(e=e[n.oneof.localName]={case:a},a="value"),n.kind){case"message":const o=n.T;if(t===null&&o.typeName!="google.protobuf.Value")return;let s=e[a];Rl(s)?s.fromJson(t,r):(e[a]=s=o.fromJson(t,r),o.fieldWrapper&&!n.oneof&&(e[a]=o.fieldWrapper.unwrapField(s)));break;case"enum":const c=Tx(n.T,t,r.ignoreUnknownFields,!1);switch(c){case c5:R7(n,e);break;case ub:break;default:e[a]=c;break}break;case"scalar":try{const l=T0(n.T,t,n.L,!1);switch(l){case c5:R7(n,e);break;default:e[a]=l;break}}catch(l){let A="cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Pc(t));throw l instanceof Error&&l.message.length>0&&(A+=": ".concat(l.message)),new Error(A)}break}}function O_e(e,t){if(e===Fe.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1;break}return T0(e,t,Vu.BIGINT,!0).toString()}function T0(e,t,n,r){if(t===null)return r?Gp(e,n):c5;switch(e){case Fe.DOUBLE:case Fe.FLOAT:if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const i=Number(t);if(Number.isNaN(i)||!Number.isFinite(i))break;return e==Fe.FLOAT&&IJ(i),i;case Fe.INT32:case Fe.FIXED32:case Fe.SFIXED32:case Fe.SINT32:case Fe.UINT32:let a;if(typeof t=="number"?a=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(a=Number(t)),a===void 0)break;return e==Fe.UINT32||e==Fe.FIXED32?eT(a):lb(a),a;case Fe.INT64:case Fe.SFIXED64:case Fe.SINT64:if(typeof t!="number"&&typeof t!="string")break;const o=Wn.parse(t);return n?o.toString():o;case Fe.FIXED64:case Fe.UINT64:if(typeof t!="number"&&typeof t!="string")break;const s=Wn.uParse(t);return n?s.toString():s;case Fe.BOOL:if(typeof t!="boolean")break;return t;case Fe.STRING:if(typeof t!="string")break;try{encodeURIComponent(t)}catch{throw new Error("invalid UTF8")}return t;case Fe.BYTES:if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return QJ.dec(t)}throw new Error}function Tx(e,t,n,r){if(t===null)return e.typeName=="google.protobuf.NullValue"?0:r?e.values[0].no:c5;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const i=e.findName(t);if(i!==void 0)return i.no;if(n)return ub;break}throw new Error("cannot decode enum ".concat(e.typeName," from JSON: ").concat(Pc(t)))}function L_e(e){return e.repeated||e.kind=="map"?!0:!(e.oneof||e.kind=="message"||e.opt||e.req)}function H7(e,t,n){if(e.kind=="map"){fr(typeof t=="object"&&t!=null);const r={},i=Object.entries(t);switch(e.V.kind){case"scalar":for(const[o,s]of i)r[o.toString()]=db(e.V.T,s);break;case"message":for(const[o,s]of i)r[o.toString()]=s.toJson(n);break;case"enum":const a=e.V.T;for(const[o,s]of i)r[o.toString()]=_x(a,s,n.enumAsInteger);break}return n.emitDefaultValues||i.length>0?r:void 0}if(e.repeated){fr(Array.isArray(t));const r=[];switch(e.kind){case"scalar":for(let i=0;i<t.length;i++)r.push(db(e.T,t[i]));break;case"enum":for(let i=0;i<t.length;i++)r.push(_x(e.T,t[i],n.enumAsInteger));break;case"message":for(let i=0;i<t.length;i++)r.push(t[i].toJson(n));break}return n.emitDefaultValues||r.length>0?r:void 0}switch(e.kind){case"scalar":return db(e.T,t);case"enum":return _x(e.T,t,n.enumAsInteger);case"message":return KJ(e.T,t).toJson(n)}}function _x(e,t,n){var r;if(fr(typeof t=="number"),e.typeName=="google.protobuf.NullValue")return null;if(n)return t;const i=e.findNumber(t);return(r=i==null?void 0:i.name)!==null&&r!==void 0?r:t}function db(e,t){switch(e){case Fe.INT32:case Fe.SFIXED32:case Fe.SINT32:case Fe.FIXED32:case Fe.UINT32:return fr(typeof t=="number"),t;case Fe.FLOAT:case Fe.DOUBLE:return fr(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case Fe.STRING:return fr(typeof t=="string"),t;case Fe.BOOL:return fr(typeof t=="boolean"),t;case Fe.UINT64:case Fe.FIXED64:case Fe.INT64:case Fe.SFIXED64:case Fe.SINT64:return fr(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),t.toString();case Fe.BYTES:return fr(t instanceof Uint8Array),QJ.enc(t)}}const xh=Symbol("@bufbuild/protobuf/unknown-fields"),$7={readUnknownFields:!0,readerFactory:e=>new S_e(e)},K7={writeUnknownFields:!0,writerFactory:()=>new B_e};function U_e(e){return e?Object.assign(Object.assign({},$7),e):$7}function N_e(e){return e?Object.assign(Object.assign({},K7),e):K7}function M_e(){return{makeReadOptions:U_e,makeWriteOptions:N_e,listUnknownFields(e){var t;return(t=e[xh])!==null&&t!==void 0?t:[]},discardUnknownFields(e){delete e[xh]},writeUnknownFields(e,t){const r=e[xh];if(r)for(const i of r)t.tag(i.no,i.wireType).raw(i.data)},onUnknownField(e,t,n,r){const i=e;Array.isArray(i[xh])||(i[xh]=[]),i[xh].push({no:t,wireType:n,data:r})},readMessage(e,t,n,r,i){const a=e.getType(),o=i?t.len:t.pos+n;let s,c;for(;t.pos<o&&([s,c]=t.tag(),!(i===!0&&c==Pr.EndGroup));){const l=a.fields.find(s);if(!l){const A=t.skip(c,s);r.readUnknownFields&&this.onUnknownField(e,s,c,A);continue}V7(e,t,l,c,r)}if(i&&(c!=Pr.EndGroup||s!==n))throw new Error("invalid end group tag")},readField:V7,writeMessage(e,t,n){const r=e.getType();for(const i of r.fields.byNumber()){if(!$J(i,e)){if(i.req)throw new Error("cannot encode field ".concat(r.typeName,".").concat(i.name," to binary: required field not set"));continue}const a=i.oneof?e[i.oneof.localName].value:e[i.localName];z7(i,a,t,n)}return n.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,n,r){t!==void 0&&z7(e,t,n,r)}}}function V7(e,t,n,r,i){let{repeated:a,localName:o}=n;switch(n.oneof&&(e=e[n.oneof.localName],e.case!=o&&delete e.value,e.case=o,o="value"),n.kind){case"scalar":case"enum":const s=n.kind=="enum"?Fe.INT32:n.T;let c=l5;if(n.kind=="scalar"&&n.L>0&&(c=D_e),a){let d=e[o];if(r==Pr.LengthDelimited&&s!=Fe.STRING&&s!=Fe.BYTES){let h=t.uint32()+t.pos;for(;t.pos<h;)d.push(c(t,s))}else d.push(c(t,s))}else e[o]=c(t,s);break;case"message":const l=n.T;a?e[o].push(fb(t,new l,i,n)):Rl(e[o])?fb(t,e[o],i,n):(e[o]=fb(t,new l,i,n),l.fieldWrapper&&!n.oneof&&!n.repeated&&(e[o]=l.fieldWrapper.unwrapField(e[o])));break;case"map":let[A,u]=R_e(n,t,i);e[o][A]=u;break}}function fb(e,t,n,r){const i=t.getType().runtime.bin,a=r==null?void 0:r.delimited;return i.readMessage(t,e,a?r.no:e.uint32(),n,a),t}function R_e(e,t,n){const r=t.uint32(),i=t.pos+r;let a,o;for(;t.pos<i;){const[s]=t.tag();switch(s){case 1:a=l5(t,e.K);break;case 2:switch(e.V.kind){case"scalar":o=l5(t,e.V.T);break;case"enum":o=t.int32();break;case"message":o=fb(t,new e.V.T,n,void 0);break}break}}if(a===void 0&&(a=Gp(e.K,Vu.BIGINT)),typeof a!="string"&&typeof a!="number"&&(a=a.toString()),o===void 0)switch(e.V.kind){case"scalar":o=Gp(e.V.T,Vu.BIGINT);break;case"enum":o=e.V.T.values[0].no;break;case"message":o=new e.V.T;break}return[a,o]}function D_e(e,t){const n=l5(e,t);return typeof n=="bigint"?n.toString():n}function l5(e,t){switch(t){case Fe.STRING:return e.string();case Fe.BOOL:return e.bool();case Fe.DOUBLE:return e.double();case Fe.FLOAT:return e.float();case Fe.INT32:return e.int32();case Fe.INT64:return e.int64();case Fe.UINT64:return e.uint64();case Fe.FIXED64:return e.fixed64();case Fe.BYTES:return e.bytes();case Fe.FIXED32:return e.fixed32();case Fe.SFIXED32:return e.sfixed32();case Fe.SFIXED64:return e.sfixed64();case Fe.SINT64:return e.sint64();case Fe.UINT32:return e.uint32();case Fe.SINT32:return e.sint32()}}function z7(e,t,n,r){fr(t!==void 0);const i=e.repeated;switch(e.kind){case"scalar":case"enum":let a=e.kind=="enum"?Fe.INT32:e.T;if(i)if(fr(Array.isArray(t)),e.packed)j_e(n,a,e.no,t);else for(const o of t)_0(n,a,e.no,o);else _0(n,a,e.no,t);break;case"message":if(i){fr(Array.isArray(t));for(const o of t)W7(n,r,e,o)}else W7(n,r,e,t);break;case"map":fr(typeof t=="object"&&t!=null);for(const[o,s]of Object.entries(t))Q_e(n,r,e,o,s);break}}function Q_e(e,t,n,r,i){e.tag(n.no,Pr.LengthDelimited),e.fork();let a=r;switch(n.K){case Fe.INT32:case Fe.FIXED32:case Fe.UINT32:case Fe.SFIXED32:case Fe.SINT32:a=Number.parseInt(r);break;case Fe.BOOL:fr(r=="true"||r=="false"),a=r=="true";break}switch(_0(e,n.K,1,a),n.V.kind){case"scalar":_0(e,n.V.T,2,i);break;case"enum":_0(e,Fe.INT32,2,i);break;case"message":fr(i!==void 0),e.tag(2,Pr.LengthDelimited).bytes(i.toBinary(t));break}e.join()}function W7(e,t,n,r){const i=KJ(n.T,r);n.delimited?e.tag(n.no,Pr.StartGroup).raw(i.toBinary(t)).tag(n.no,Pr.EndGroup):e.tag(n.no,Pr.LengthDelimited).bytes(i.toBinary(t))}function _0(e,t,n,r){fr(r!==void 0);let[i,a]=VJ(t);e.tag(n,i)[a](r)}function j_e(e,t,n,r){if(!r.length)return;e.tag(n,Pr.LengthDelimited).fork();let[,i]=VJ(t);for(let a=0;a<r.length;a++)e[i](r[a]);e.join()}function VJ(e){let t=Pr.Varint;switch(e){case Fe.BYTES:case Fe.STRING:t=Pr.LengthDelimited;break;case Fe.DOUBLE:case Fe.FIXED64:case Fe.SFIXED64:t=Pr.Bit64;break;case Fe.FIXED32:case Fe.SFIXED32:case Fe.FLOAT:t=Pr.Bit32;break}const n=Fe[e].toLowerCase();return[t,n]}function H_e(){return{setEnumType:OJ,initPartial(e,t){if(e===void 0)return;const n=t.getType();for(const r of n.fields.byMember()){const i=r.localName,a=t,o=e;if(o[i]!=null)switch(r.kind){case"oneof":const s=o[i].case;if(s===void 0)continue;const c=r.findField(s);let l=o[i].value;c&&c.kind=="message"&&!Rl(l,c.T)?l=new c.T(l):c&&c.kind==="scalar"&&c.T===Fe.BYTES&&(l=Lm(l)),a[i]={case:s,value:l};break;case"scalar":case"enum":let A=o[i];r.T===Fe.BYTES&&(A=r.repeated?A.map(Lm):Lm(A)),a[i]=A;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===Fe.BYTES)for(const[f,h]of Object.entries(o[i]))a[i][f]=Lm(h);else Object.assign(a[i],o[i]);break;case"message":const d=r.V.T;for(const f of Object.keys(o[i])){let h=o[i][f];d.fieldWrapper||(h=new d(h)),a[i][f]=h}break}break;case"message":const u=r.T;if(r.repeated)a[i]=o[i].map(d=>Rl(d,u)?d:new u(d));else{const d=o[i];u.fieldWrapper?u.typeName==="google.protobuf.BytesValue"?a[i]=Lm(d):a[i]=d:a[i]=Rl(d,u)?d:new u(d)}break}}},equals(e,t,n){return t===n?!0:!t||!n?!1:e.fields.byMember().every(r=>{const i=t[r.localName],a=n[r.localName];if(r.repeated){if(i.length!==a.length)return!1;switch(r.kind){case"message":return i.every((o,s)=>r.T.equals(o,a[s]));case"scalar":return i.every((o,s)=>GA(r.T,o,a[s]));case"enum":return i.every((o,s)=>GA(Fe.INT32,o,a[s]))}throw new Error("repeated cannot contain ".concat(r.kind))}switch(r.kind){case"message":let o=i,s=a;return r.T.fieldWrapper&&(o!==void 0&&!Rl(o)&&(o=r.T.fieldWrapper.wrapField(o)),s!==void 0&&!Rl(s)&&(s=r.T.fieldWrapper.wrapField(s))),r.T.equals(o,s);case"enum":return GA(Fe.INT32,i,a);case"scalar":return GA(r.T,i,a);case"oneof":if(i.case!==a.case)return!1;const c=r.findField(i.case);if(c===void 0)return!0;switch(c.kind){case"message":return c.T.equals(i.value,a.value);case"enum":return GA(Fe.INT32,i.value,a.value);case"scalar":return GA(c.T,i.value,a.value)}throw new Error("oneof cannot contain ".concat(c.kind));case"map":const l=Object.keys(i).concat(Object.keys(a));switch(r.V.kind){case"message":const A=r.V.T;return l.every(d=>A.equals(i[d],a[d]));case"enum":return l.every(d=>GA(Fe.INT32,i[d],a[d]));case"scalar":const u=r.V.T;return l.every(d=>GA(u,i[d],a[d]))}break}})},clone(e){const t=e.getType(),n=new t,r=n;for(const i of t.fields.byMember()){const a=e[i.localName];let o;if(i.repeated)o=a.map(w2);else if(i.kind=="map"){o=r[i.localName];for(const[s,c]of Object.entries(a))o[s]=w2(c)}else i.kind=="oneof"?o=i.findField(a.case)?{case:a.case,value:w2(a.value)}:{case:void 0}:o=w2(a);r[i.localName]=o}for(const i of t.runtime.bin.listUnknownFields(e))t.runtime.bin.onUnknownField(r,i.no,i.wireType,i.data);return n}}}function w2(e){if(e===void 0)return e;if(Rl(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function Lm(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function $_e(e,t,n){return{syntax:e,json:F_e(),bin:M_e(),util:Object.assign(Object.assign({},H_e()),{newFieldList:t,initFields:n}),makeMessageType(r,i,a){return m_e(this,r,i,a)},makeEnum:g_e,makeEnumType:LJ,getEnumType:p_e,makeExtension(r,i,a){return x_e(this,r,i,a)}}}class K_e{constructor(t,n){this._fields=t,this._normalizer=n}findJsonName(t){if(!this.jsonNames){const n={};for(const r of this.list())n[r.jsonName]=n[r.name]=r;this.jsonNames=n}return this.jsonNames[t]}find(t){if(!this.numbers){const n={};for(const r of this.list())n[r.no]=r;this.numbers=n}return this.numbers[t]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((t,n)=>t.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const t=this.members;let n;for(const r of this.list())r.oneof?r.oneof!==n&&(n=r.oneof,t.push(n)):t.push(r)}return this.members}}function zJ(e,t){const n=WJ(e);return t?n:Y_e(q_e(n))}function V_e(e){return zJ(e,!1)}const z_e=WJ;function WJ(e){let t=!1;const n=[];for(let r=0;r<e.length;r++){let i=e.charAt(r);switch(i){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(i),t=!1;break;default:t&&(t=!1,i=i.toUpperCase()),n.push(i);break}}return n.join("")}const W_e=new Set(["constructor","toString","toJSON","valueOf"]),G_e=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),GJ=e=>"".concat(e,"$"),q_e=e=>G_e.has(e)?GJ(e):e,Y_e=e=>W_e.has(e)?GJ(e):e;class X_e{constructor(t){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=t,this.localName=V_e(t)}addField(t){fr(t.oneof===this,"field ".concat(t.name," not one of ").concat(this.name)),this.fields.push(t)}findField(t){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[t]}}function J_e(e,t){var n,r,i,a,o,s;const c=[];let l;for(const A of typeof e=="function"?e():e){const u=A;if(u.localName=zJ(A.name,A.oneof!==void 0),u.jsonName=(n=A.jsonName)!==null&&n!==void 0?n:z_e(A.name),u.repeated=(r=A.repeated)!==null&&r!==void 0?r:!1,A.kind=="scalar"&&(u.L=(i=A.L)!==null&&i!==void 0?i:Vu.BIGINT),u.delimited=(a=A.delimited)!==null&&a!==void 0?a:!1,u.req=(o=A.req)!==null&&o!==void 0?o:!1,u.opt=(s=A.opt)!==null&&s!==void 0?s:!1,A.packed===void 0&&(u.packed=A.kind=="enum"||A.kind=="scalar"&&A.T!=Fe.BYTES&&A.T!=Fe.STRING),A.oneof!==void 0){const d=typeof A.oneof=="string"?A.oneof:A.oneof.name;(!l||l.name!=d)&&(l=new X_e(d)),u.oneof=l,l.addField(u)}c.push(u)}return c}const fe=$_e("proto3",e=>new K_e(e,t=>J_e(t)),e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const n=t.localName,r=e;if(t.repeated){r[n]=[];continue}switch(t.kind){case"oneof":r[n]={case:void 0};break;case"enum":r[n]=0;break;case"map":r[n]={};break;case"scalar":r[n]=Gp(t.T,t.L);break}}});class Ua extends FF{constructor(t){super(),this.seconds=Wn.zero,this.nanos=0,fe.util.initPartial(t,this)}fromJson(t,n){if(typeof t!="string")throw new Error("cannot decode google.protobuf.Timestamp from JSON: ".concat(fe.json.debug(t)));const r=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const i=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(i))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=Wn.parse(i/1e3),this.nanos=0,r[7]&&(this.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),this}toJson(t){const n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let r="Z";if(this.nanos>0){const i=(this.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?r="."+i.substring(0,3)+"Z":i.substring(6)==="000"?r="."+i.substring(0,6)+"Z":r="."+i+"Z"}return new Date(n).toISOString().replace(".000Z",r)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return Ua.fromDate(new Date)}static fromDate(t){const n=t.getTime();return new Ua({seconds:Wn.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(t,n){return new Ua().fromBinary(t,n)}static fromJson(t,n){return new Ua().fromJson(t,n)}static fromJsonString(t,n){return new Ua().fromJsonString(t,n)}static equals(t,n){return fe.util.equals(Ua,t,n)}}Ua.runtime=fe;Ua.typeName="google.protobuf.Timestamp";Ua.fields=fe.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);const Z_e=fe.makeMessageType("livekit.MetricsBatch",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:Ua},{no:3,name:"str_data",kind:"scalar",T:9,repeated:!0},{no:4,name:"time_series",kind:"message",T:ePe,repeated:!0},{no:5,name:"events",kind:"message",T:nPe,repeated:!0}]),ePe=fe.makeMessageType("livekit.TimeSeriesMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"samples",kind:"message",T:tPe,repeated:!0},{no:5,name:"rid",kind:"scalar",T:13}]),tPe=fe.makeMessageType("livekit.MetricSample",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:Ua},{no:3,name:"value",kind:"scalar",T:2}]),nPe=fe.makeMessageType("livekit.EventMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"start_timestamp_ms",kind:"scalar",T:3},{no:5,name:"end_timestamp_ms",kind:"scalar",T:3,opt:!0},{no:6,name:"normalized_start_timestamp",kind:"message",T:Ua},{no:7,name:"normalized_end_timestamp",kind:"message",T:Ua,opt:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"rid",kind:"scalar",T:13}]),qJ=fe.makeEnum("livekit.BackupCodecPolicy",[{no:0,name:"PREFER_REGRESSION"},{no:1,name:"SIMULCAST"},{no:2,name:"REGRESSION"}]),Qs=fe.makeEnum("livekit.TrackType",[{no:0,name:"AUDIO"},{no:1,name:"VIDEO"},{no:2,name:"DATA"}]),Mr=fe.makeEnum("livekit.TrackSource",[{no:0,name:"UNKNOWN"},{no:1,name:"CAMERA"},{no:2,name:"MICROPHONE"},{no:3,name:"SCREEN_SHARE"},{no:4,name:"SCREEN_SHARE_AUDIO"}]),LF=fe.makeEnum("livekit.VideoQuality",[{no:0,name:"LOW"},{no:1,name:"MEDIUM"},{no:2,name:"HIGH"},{no:3,name:"OFF"}]),a0=fe.makeEnum("livekit.ConnectionQuality",[{no:0,name:"POOR"},{no:1,name:"GOOD"},{no:2,name:"EXCELLENT"},{no:3,name:"LOST"}]),xv=fe.makeEnum("livekit.ClientConfigSetting",[{no:0,name:"UNSET"},{no:1,name:"DISABLED"},{no:2,name:"ENABLED"}]),Ks=fe.makeEnum("livekit.DisconnectReason",[{no:0,name:"UNKNOWN_REASON"},{no:1,name:"CLIENT_INITIATED"},{no:2,name:"DUPLICATE_IDENTITY"},{no:3,name:"SERVER_SHUTDOWN"},{no:4,name:"PARTICIPANT_REMOVED"},{no:5,name:"ROOM_DELETED"},{no:6,name:"STATE_MISMATCH"},{no:7,name:"JOIN_FAILURE"},{no:8,name:"MIGRATION"},{no:9,name:"SIGNAL_CLOSE"},{no:10,name:"ROOM_CLOSED"},{no:11,name:"USER_UNAVAILABLE"},{no:12,name:"USER_REJECTED"},{no:13,name:"SIP_TRUNK_FAILURE"},{no:14,name:"CONNECTION_TIMEOUT"},{no:15,name:"MEDIA_FAILURE"}]),Ld=fe.makeEnum("livekit.ReconnectReason",[{no:0,name:"RR_UNKNOWN"},{no:1,name:"RR_SIGNAL_DISCONNECTED"},{no:2,name:"RR_PUBLISHER_FAILED"},{no:3,name:"RR_SUBSCRIBER_FAILED"},{no:4,name:"RR_SWITCH_CANDIDATE"}]),rPe=fe.makeEnum("livekit.SubscriptionError",[{no:0,name:"SE_UNKNOWN"},{no:1,name:"SE_CODEC_UNSUPPORTED"},{no:2,name:"SE_TRACK_NOTFOUND"}]),vi=fe.makeEnum("livekit.AudioTrackFeature",[{no:0,name:"TF_STEREO"},{no:1,name:"TF_NO_DTX"},{no:2,name:"TF_AUTO_GAIN_CONTROL"},{no:3,name:"TF_ECHO_CANCELLATION"},{no:4,name:"TF_NOISE_SUPPRESSION"},{no:5,name:"TF_ENHANCED_NOISE_CANCELLATION"},{no:6,name:"TF_PRECONNECT_BUFFER"}]),kB=fe.makeMessageType("livekit.Room",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"empty_timeout",kind:"scalar",T:13},{no:14,name:"departure_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"creation_time",kind:"scalar",T:3},{no:15,name:"creation_time_ms",kind:"scalar",T:3},{no:6,name:"turn_password",kind:"scalar",T:9},{no:7,name:"enabled_codecs",kind:"message",T:A5,repeated:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"num_participants",kind:"scalar",T:13},{no:11,name:"num_publishers",kind:"scalar",T:13},{no:10,name:"active_recording",kind:"scalar",T:8},{no:13,name:"version",kind:"message",T:cZ}]),A5=fe.makeMessageType("livekit.Codec",()=>[{no:1,name:"mime",kind:"scalar",T:9},{no:2,name:"fmtp_line",kind:"scalar",T:9}]),iPe=fe.makeMessageType("livekit.ParticipantPermission",()=>[{no:1,name:"can_subscribe",kind:"scalar",T:8},{no:2,name:"can_publish",kind:"scalar",T:8},{no:3,name:"can_publish_data",kind:"scalar",T:8},{no:9,name:"can_publish_sources",kind:"enum",T:fe.getEnumType(Mr),repeated:!0},{no:7,name:"hidden",kind:"scalar",T:8},{no:8,name:"recorder",kind:"scalar",T:8},{no:10,name:"can_update_metadata",kind:"scalar",T:8},{no:11,name:"agent",kind:"scalar",T:8},{no:12,name:"can_subscribe_metrics",kind:"scalar",T:8}]),If=fe.makeMessageType("livekit.ParticipantInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:fe.getEnumType(hp)},{no:4,name:"tracks",kind:"message",T:qh,repeated:!0},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"joined_at",kind:"scalar",T:3},{no:17,name:"joined_at_ms",kind:"scalar",T:3},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"version",kind:"scalar",T:13},{no:11,name:"permission",kind:"message",T:iPe},{no:12,name:"region",kind:"scalar",T:9},{no:13,name:"is_publisher",kind:"scalar",T:8},{no:14,name:"kind",kind:"enum",T:fe.getEnumType(kv)},{no:15,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:16,name:"disconnect_reason",kind:"enum",T:fe.getEnumType(Ks)},{no:18,name:"kind_details",kind:"enum",T:fe.getEnumType(aPe),repeated:!0},{no:19,name:"data_tracks",kind:"message",T:UF,repeated:!0}]),hp=fe.makeEnum("livekit.ParticipantInfo.State",[{no:0,name:"JOINING"},{no:1,name:"JOINED"},{no:2,name:"ACTIVE"},{no:3,name:"DISCONNECTED"}]),kv=fe.makeEnum("livekit.ParticipantInfo.Kind",[{no:0,name:"STANDARD"},{no:1,name:"INGRESS"},{no:2,name:"EGRESS"},{no:3,name:"SIP"},{no:4,name:"AGENT"},{no:7,name:"CONNECTOR"},{no:8,name:"BRIDGE"}]),aPe=fe.makeEnum("livekit.ParticipantInfo.KindDetail",[{no:0,name:"CLOUD_AGENT"},{no:1,name:"FORWARDED"},{no:2,name:"CONNECTOR_WHATSAPP"},{no:3,name:"CONNECTOR_TWILIO"},{no:4,name:"BRIDGE_RTSP"}]),Ir=fe.makeEnum("livekit.Encryption.Type",[{no:0,name:"NONE"},{no:1,name:"GCM"},{no:2,name:"CUSTOM"}]),oPe=fe.makeMessageType("livekit.SimulcastCodecInfo",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"mid",kind:"scalar",T:9},{no:3,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:Lu,repeated:!0},{no:5,name:"video_layer_mode",kind:"enum",T:fe.getEnumType(YJ)},{no:6,name:"sdp_cid",kind:"scalar",T:9}]),qh=fe.makeMessageType("livekit.TrackInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:fe.getEnumType(Qs)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"simulcast",kind:"scalar",T:8},{no:8,name:"disable_dtx",kind:"scalar",T:8},{no:9,name:"source",kind:"enum",T:fe.getEnumType(Mr)},{no:10,name:"layers",kind:"message",T:Lu,repeated:!0},{no:11,name:"mime_type",kind:"scalar",T:9},{no:12,name:"mid",kind:"scalar",T:9},{no:13,name:"codecs",kind:"message",T:oPe,repeated:!0},{no:14,name:"stereo",kind:"scalar",T:8},{no:15,name:"disable_red",kind:"scalar",T:8},{no:16,name:"encryption",kind:"enum",T:fe.getEnumType(Ir)},{no:17,name:"stream",kind:"scalar",T:9},{no:18,name:"version",kind:"message",T:cZ},{no:19,name:"audio_features",kind:"enum",T:fe.getEnumType(vi),repeated:!0},{no:20,name:"backup_codec_policy",kind:"enum",T:fe.getEnumType(qJ)}]),UF=fe.makeMessageType("livekit.DataTrackInfo",()=>[{no:1,name:"pub_handle",kind:"scalar",T:13},{no:2,name:"sid",kind:"scalar",T:9},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"encryption",kind:"enum",T:fe.getEnumType(Ir)}]),sPe=fe.makeMessageType("livekit.DataTrackSubscriptionOptions",()=>[{no:1,name:"target_fps",kind:"scalar",T:13,opt:!0}]),Lu=fe.makeMessageType("livekit.VideoLayer",()=>[{no:1,name:"quality",kind:"enum",T:fe.getEnumType(LF)},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"ssrc",kind:"scalar",T:13},{no:6,name:"spatial_layer",kind:"scalar",T:5},{no:7,name:"rid",kind:"scalar",T:9},{no:8,name:"repair_ssrc",kind:"scalar",T:13}]),YJ=fe.makeEnum("livekit.VideoLayer.Mode",[{no:0,name:"MODE_UNUSED"},{no:1,name:"ONE_SPATIAL_LAYER_PER_STREAM"},{no:2,name:"MULTIPLE_SPATIAL_LAYERS_PER_STREAM"},{no:3,name:"ONE_SPATIAL_LAYER_PER_STREAM_INCOMPLETE_RTCP_SR"}]),ma=fe.makeMessageType("livekit.DataPacket",()=>[{no:1,name:"kind",kind:"enum",T:fe.getEnumType(Rt)},{no:4,name:"participant_identity",kind:"scalar",T:9},{no:5,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:2,name:"user",kind:"message",T:NF,oneof:"value"},{no:3,name:"speaker",kind:"message",T:cPe,oneof:"value"},{no:6,name:"sip_dtmf",kind:"message",T:eZ,oneof:"value"},{no:7,name:"transcription",kind:"message",T:lPe,oneof:"value"},{no:8,name:"metrics",kind:"message",T:Z_e,oneof:"value"},{no:9,name:"chat_message",kind:"message",T:u5,oneof:"value"},{no:10,name:"rpc_request",kind:"message",T:MF,oneof:"value"},{no:11,name:"rpc_ack",kind:"message",T:RF,oneof:"value"},{no:12,name:"rpc_response",kind:"message",T:DF,oneof:"value"},{no:13,name:"stream_header",kind:"message",T:d5,oneof:"value"},{no:14,name:"stream_chunk",kind:"message",T:f5,oneof:"value"},{no:15,name:"stream_trailer",kind:"message",T:h5,oneof:"value"},{no:18,name:"encrypted_packet",kind:"message",T:XJ,oneof:"value"},{no:16,name:"sequence",kind:"scalar",T:13},{no:17,name:"participant_sid",kind:"scalar",T:9}]),Rt=fe.makeEnum("livekit.DataPacket.Kind",[{no:0,name:"RELIABLE"},{no:1,name:"LOSSY"}]),XJ=fe.makeMessageType("livekit.EncryptedPacket",()=>[{no:1,name:"encryption_type",kind:"enum",T:fe.getEnumType(Ir)},{no:2,name:"iv",kind:"scalar",T:12},{no:3,name:"key_index",kind:"scalar",T:13},{no:4,name:"encrypted_value",kind:"scalar",T:12}]),JJ=fe.makeMessageType("livekit.EncryptedPacketPayload",()=>[{no:1,name:"user",kind:"message",T:NF,oneof:"value"},{no:3,name:"chat_message",kind:"message",T:u5,oneof:"value"},{no:4,name:"rpc_request",kind:"message",T:MF,oneof:"value"},{no:5,name:"rpc_ack",kind:"message",T:RF,oneof:"value"},{no:6,name:"rpc_response",kind:"message",T:DF,oneof:"value"},{no:7,name:"stream_header",kind:"message",T:d5,oneof:"value"},{no:8,name:"stream_chunk",kind:"message",T:f5,oneof:"value"},{no:9,name:"stream_trailer",kind:"message",T:h5,oneof:"value"}]),cPe=fe.makeMessageType("livekit.ActiveSpeakerUpdate",()=>[{no:1,name:"speakers",kind:"message",T:ZJ,repeated:!0}]),ZJ=fe.makeMessageType("livekit.SpeakerInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"level",kind:"scalar",T:2},{no:3,name:"active",kind:"scalar",T:8}]),NF=fe.makeMessageType("livekit.UserPacket",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:5,name:"participant_identity",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12},{no:3,name:"destination_sids",kind:"scalar",T:9,repeated:!0},{no:6,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:4,name:"topic",kind:"scalar",T:9,opt:!0},{no:8,name:"id",kind:"scalar",T:9,opt:!0},{no:9,name:"start_time",kind:"scalar",T:4,opt:!0},{no:10,name:"end_time",kind:"scalar",T:4,opt:!0},{no:11,name:"nonce",kind:"scalar",T:12}]),eZ=fe.makeMessageType("livekit.SipDTMF",()=>[{no:3,name:"code",kind:"scalar",T:13},{no:4,name:"digit",kind:"scalar",T:9}]),lPe=fe.makeMessageType("livekit.Transcription",()=>[{no:2,name:"transcribed_participant_identity",kind:"scalar",T:9},{no:3,name:"track_id",kind:"scalar",T:9},{no:4,name:"segments",kind:"message",T:APe,repeated:!0}]),APe=fe.makeMessageType("livekit.TranscriptionSegment",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"text",kind:"scalar",T:9},{no:3,name:"start_time",kind:"scalar",T:4},{no:4,name:"end_time",kind:"scalar",T:4},{no:5,name:"final",kind:"scalar",T:8},{no:6,name:"language",kind:"scalar",T:9}]),u5=fe.makeMessageType("livekit.ChatMessage",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"edit_timestamp",kind:"scalar",T:3,opt:!0},{no:4,name:"message",kind:"scalar",T:9},{no:5,name:"deleted",kind:"scalar",T:8},{no:6,name:"generated",kind:"scalar",T:8}]),MF=fe.makeMessageType("livekit.RpcRequest",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"method",kind:"scalar",T:9},{no:3,name:"payload",kind:"scalar",T:9},{no:4,name:"response_timeout_ms",kind:"scalar",T:13},{no:5,name:"version",kind:"scalar",T:13}]),RF=fe.makeMessageType("livekit.RpcAck",()=>[{no:1,name:"request_id",kind:"scalar",T:9}]),DF=fe.makeMessageType("livekit.RpcResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:9,oneof:"value"},{no:3,name:"error",kind:"message",T:tZ,oneof:"value"}]),tZ=fe.makeMessageType("livekit.RpcError",()=>[{no:1,name:"code",kind:"scalar",T:13},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"data",kind:"scalar",T:9}]),nZ=fe.makeMessageType("livekit.ParticipantTracks",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sids",kind:"scalar",T:9,repeated:!0}]),rZ=fe.makeMessageType("livekit.ServerInfo",()=>[{no:1,name:"edition",kind:"enum",T:fe.getEnumType(iZ)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"region",kind:"scalar",T:9},{no:5,name:"node_id",kind:"scalar",T:9},{no:6,name:"debug_info",kind:"scalar",T:9},{no:7,name:"agent_protocol",kind:"scalar",T:5}]),iZ=fe.makeEnum("livekit.ServerInfo.Edition",[{no:0,name:"Standard"},{no:1,name:"Cloud"}]),aZ=fe.makeMessageType("livekit.ClientInfo",()=>[{no:1,name:"sdk",kind:"enum",T:fe.getEnumType(oZ)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"os",kind:"scalar",T:9},{no:5,name:"os_version",kind:"scalar",T:9},{no:6,name:"device_model",kind:"scalar",T:9},{no:7,name:"browser",kind:"scalar",T:9},{no:8,name:"browser_version",kind:"scalar",T:9},{no:9,name:"address",kind:"scalar",T:9},{no:10,name:"network",kind:"scalar",T:9},{no:11,name:"other_sdks",kind:"scalar",T:9}]),oZ=fe.makeEnum("livekit.ClientInfo.SDK",[{no:0,name:"UNKNOWN"},{no:1,name:"JS"},{no:2,name:"SWIFT"},{no:3,name:"ANDROID"},{no:4,name:"FLUTTER"},{no:5,name:"GO"},{no:6,name:"UNITY"},{no:7,name:"REACT_NATIVE"},{no:8,name:"RUST"},{no:9,name:"PYTHON"},{no:10,name:"CPP"},{no:11,name:"UNITY_WEB"},{no:12,name:"NODE"},{no:13,name:"UNREAL"},{no:14,name:"ESP32"}]),sZ=fe.makeMessageType("livekit.ClientConfiguration",()=>[{no:1,name:"video",kind:"message",T:G7},{no:2,name:"screen",kind:"message",T:G7},{no:3,name:"resume_connection",kind:"enum",T:fe.getEnumType(xv)},{no:4,name:"disabled_codecs",kind:"message",T:uPe},{no:5,name:"force_relay",kind:"enum",T:fe.getEnumType(xv)}]),G7=fe.makeMessageType("livekit.VideoConfiguration",()=>[{no:1,name:"hardware_encoder",kind:"enum",T:fe.getEnumType(xv)}]),uPe=fe.makeMessageType("livekit.DisabledCodecs",()=>[{no:1,name:"codecs",kind:"message",T:A5,repeated:!0},{no:2,name:"publish",kind:"message",T:A5,repeated:!0}]),cZ=fe.makeMessageType("livekit.TimedVersion",()=>[{no:1,name:"unix_micro",kind:"scalar",T:3},{no:2,name:"ticks",kind:"scalar",T:5}]),tT=fe.makeEnum("livekit.DataStream.OperationType",[{no:0,name:"CREATE"},{no:1,name:"UPDATE"},{no:2,name:"DELETE"},{no:3,name:"REACTION"}]),lZ=fe.makeMessageType("livekit.DataStream.TextHeader",()=>[{no:1,name:"operation_type",kind:"enum",T:fe.getEnumType(tT)},{no:2,name:"version",kind:"scalar",T:5},{no:3,name:"reply_to_stream_id",kind:"scalar",T:9},{no:4,name:"attached_stream_ids",kind:"scalar",T:9,repeated:!0},{no:5,name:"generated",kind:"scalar",T:8}],{localName:"DataStream_TextHeader"}),AZ=fe.makeMessageType("livekit.DataStream.ByteHeader",()=>[{no:1,name:"name",kind:"scalar",T:9}],{localName:"DataStream_ByteHeader"}),d5=fe.makeMessageType("livekit.DataStream.Header",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"mime_type",kind:"scalar",T:9},{no:5,name:"total_length",kind:"scalar",T:4,opt:!0},{no:7,name:"encryption_type",kind:"enum",T:fe.getEnumType(Ir)},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:9,name:"text_header",kind:"message",T:lZ,oneof:"content_header"},{no:10,name:"byte_header",kind:"message",T:AZ,oneof:"content_header"}],{localName:"DataStream_Header"}),f5=fe.makeMessageType("livekit.DataStream.Chunk",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"chunk_index",kind:"scalar",T:4},{no:3,name:"content",kind:"scalar",T:12},{no:4,name:"version",kind:"scalar",T:5},{no:5,name:"iv",kind:"scalar",T:12,opt:!0}],{localName:"DataStream_Chunk"}),h5=fe.makeMessageType("livekit.DataStream.Trailer",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"reason",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}],{localName:"DataStream_Trailer"}),dPe=fe.makeMessageType("livekit.SubscribedAudioCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"enabled",kind:"scalar",T:8}]),js=fe.makeEnum("livekit.SignalTarget",[{no:0,name:"PUBLISHER"},{no:1,name:"SUBSCRIBER"}]),nT=fe.makeEnum("livekit.StreamState",[{no:0,name:"ACTIVE"},{no:1,name:"PAUSED"}]),fPe=fe.makeEnum("livekit.CandidateProtocol",[{no:0,name:"UDP"},{no:1,name:"TCP"},{no:2,name:"TLS"}]),hPe=fe.makeMessageType("livekit.SignalRequest",()=>[{no:1,name:"offer",kind:"message",T:zu,oneof:"message"},{no:2,name:"answer",kind:"message",T:zu,oneof:"message"},{no:3,name:"trickle",kind:"message",T:EB,oneof:"message"},{no:4,name:"add_track",kind:"message",T:Ev,oneof:"message"},{no:5,name:"mute",kind:"message",T:TB,oneof:"message"},{no:6,name:"subscription",kind:"message",T:_B,oneof:"message"},{no:7,name:"track_setting",kind:"message",T:hZ,oneof:"message"},{no:8,name:"leave",kind:"message",T:PB,oneof:"message"},{no:10,name:"update_layers",kind:"message",T:gZ,oneof:"message"},{no:11,name:"subscription_permission",kind:"message",T:yZ,oneof:"message"},{no:12,name:"sync_state",kind:"message",T:KF,oneof:"message"},{no:13,name:"simulate",kind:"message",T:Tc,oneof:"message"},{no:14,name:"ping",kind:"scalar",T:3,oneof:"message"},{no:15,name:"update_metadata",kind:"message",T:HF,oneof:"message"},{no:16,name:"ping_req",kind:"message",T:CZ,oneof:"message"},{no:17,name:"update_audio_track",kind:"message",T:jF,oneof:"message"},{no:18,name:"update_video_track",kind:"message",T:pZ,oneof:"message"},{no:19,name:"publish_data_track_request",kind:"message",T:uZ,oneof:"message"},{no:20,name:"unpublish_data_track_request",kind:"message",T:fZ,oneof:"message"},{no:21,name:"update_data_subscription",kind:"message",T:CPe,oneof:"message"}]),q7=fe.makeMessageType("livekit.SignalResponse",()=>[{no:1,name:"join",kind:"message",T:vPe,oneof:"message"},{no:2,name:"answer",kind:"message",T:zu,oneof:"message"},{no:3,name:"offer",kind:"message",T:zu,oneof:"message"},{no:4,name:"trickle",kind:"message",T:EB,oneof:"message"},{no:5,name:"update",kind:"message",T:wPe,oneof:"message"},{no:6,name:"track_published",kind:"message",T:QF,oneof:"message"},{no:8,name:"leave",kind:"message",T:PB,oneof:"message"},{no:9,name:"mute",kind:"message",T:TB,oneof:"message"},{no:10,name:"speakers_changed",kind:"message",T:SPe,oneof:"message"},{no:11,name:"room_update",kind:"message",T:xPe,oneof:"message"},{no:12,name:"connection_quality",kind:"message",T:EPe,oneof:"message"},{no:13,name:"stream_state_update",kind:"message",T:_Pe,oneof:"message"},{no:14,name:"subscribed_quality_update",kind:"message",T:IPe,oneof:"message"},{no:15,name:"subscription_permission_update",kind:"message",T:OPe,oneof:"message"},{no:16,name:"refresh_token",kind:"scalar",T:9,oneof:"message"},{no:17,name:"track_unpublished",kind:"message",T:bPe,oneof:"message"},{no:18,name:"pong",kind:"scalar",T:3,oneof:"message"},{no:19,name:"reconnect",kind:"message",T:yPe,oneof:"message"},{no:20,name:"pong_resp",kind:"message",T:UPe,oneof:"message"},{no:21,name:"subscription_response",kind:"message",T:RPe,oneof:"message"},{no:22,name:"request_response",kind:"message",T:DPe,oneof:"message"},{no:23,name:"track_subscribed",kind:"message",T:QPe,oneof:"message"},{no:24,name:"room_moved",kind:"message",T:LPe,oneof:"message"},{no:25,name:"media_sections_requirement",kind:"message",T:KPe,oneof:"message"},{no:26,name:"subscribed_audio_codec_update",kind:"message",T:FPe,oneof:"message"},{no:27,name:"publish_data_track_response",kind:"message",T:dZ,oneof:"message"},{no:28,name:"unpublish_data_track_response",kind:"message",T:pPe,oneof:"message"},{no:29,name:"data_track_subscriber_handles",kind:"message",T:gPe,oneof:"message"}]),rT=fe.makeMessageType("livekit.SimulcastCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:Lu,repeated:!0},{no:5,name:"video_layer_mode",kind:"enum",T:fe.getEnumType(YJ)}]),Ev=fe.makeMessageType("livekit.AddTrackRequest",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:fe.getEnumType(Qs)},{no:4,name:"width",kind:"scalar",T:13},{no:5,name:"height",kind:"scalar",T:13},{no:6,name:"muted",kind:"scalar",T:8},{no:7,name:"disable_dtx",kind:"scalar",T:8},{no:8,name:"source",kind:"enum",T:fe.getEnumType(Mr)},{no:9,name:"layers",kind:"message",T:Lu,repeated:!0},{no:10,name:"simulcast_codecs",kind:"message",T:rT,repeated:!0},{no:11,name:"sid",kind:"scalar",T:9},{no:12,name:"stereo",kind:"scalar",T:8},{no:13,name:"disable_red",kind:"scalar",T:8},{no:14,name:"encryption",kind:"enum",T:fe.getEnumType(Ir)},{no:15,name:"stream",kind:"scalar",T:9},{no:16,name:"backup_codec_policy",kind:"enum",T:fe.getEnumType(qJ)},{no:17,name:"audio_features",kind:"enum",T:fe.getEnumType(vi),repeated:!0}]),uZ=fe.makeMessageType("livekit.PublishDataTrackRequest",()=>[{no:1,name:"pub_handle",kind:"scalar",T:13},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"encryption",kind:"enum",T:fe.getEnumType(Ir)}]),dZ=fe.makeMessageType("livekit.PublishDataTrackResponse",()=>[{no:1,name:"info",kind:"message",T:UF}]),fZ=fe.makeMessageType("livekit.UnpublishDataTrackRequest",()=>[{no:1,name:"pub_handle",kind:"scalar",T:13}]),pPe=fe.makeMessageType("livekit.UnpublishDataTrackResponse",()=>[{no:1,name:"info",kind:"message",T:UF}]),gPe=fe.makeMessageType("livekit.DataTrackSubscriberHandles",()=>[{no:1,name:"sub_handles",kind:"map",K:13,V:{kind:"message",T:mPe}}]),mPe=fe.makeMessageType("livekit.DataTrackSubscriberHandles.PublishedDataTrack",()=>[{no:1,name:"publisher_identity",kind:"scalar",T:9},{no:2,name:"publisher_sid",kind:"scalar",T:9},{no:3,name:"track_sid",kind:"scalar",T:9}],{localName:"DataTrackSubscriberHandles_PublishedDataTrack"}),EB=fe.makeMessageType("livekit.TrickleRequest",()=>[{no:1,name:"candidateInit",kind:"scalar",T:9},{no:2,name:"target",kind:"enum",T:fe.getEnumType(js)},{no:3,name:"final",kind:"scalar",T:8}]),TB=fe.makeMessageType("livekit.MuteTrackRequest",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"muted",kind:"scalar",T:8}]),vPe=fe.makeMessageType("livekit.JoinResponse",()=>[{no:1,name:"room",kind:"message",T:kB},{no:2,name:"participant",kind:"message",T:If},{no:3,name:"other_participants",kind:"message",T:If,repeated:!0},{no:4,name:"server_version",kind:"scalar",T:9},{no:5,name:"ice_servers",kind:"message",T:mZ,repeated:!0},{no:6,name:"subscriber_primary",kind:"scalar",T:8},{no:7,name:"alternative_url",kind:"scalar",T:9},{no:8,name:"client_configuration",kind:"message",T:sZ},{no:9,name:"server_region",kind:"scalar",T:9},{no:10,name:"ping_timeout",kind:"scalar",T:5},{no:11,name:"ping_interval",kind:"scalar",T:5},{no:12,name:"server_info",kind:"message",T:rZ},{no:13,name:"sif_trailer",kind:"scalar",T:12},{no:14,name:"enabled_publish_codecs",kind:"message",T:A5,repeated:!0},{no:15,name:"fast_publish",kind:"scalar",T:8}]),yPe=fe.makeMessageType("livekit.ReconnectResponse",()=>[{no:1,name:"ice_servers",kind:"message",T:mZ,repeated:!0},{no:2,name:"client_configuration",kind:"message",T:sZ},{no:3,name:"server_info",kind:"message",T:rZ},{no:4,name:"last_message_seq",kind:"scalar",T:13}]),QF=fe.makeMessageType("livekit.TrackPublishedResponse",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"track",kind:"message",T:qh}]),bPe=fe.makeMessageType("livekit.TrackUnpublishedResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]),zu=fe.makeMessageType("livekit.SessionDescription",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"sdp",kind:"scalar",T:9},{no:3,name:"id",kind:"scalar",T:13},{no:4,name:"mid_to_track_id",kind:"map",K:9,V:{kind:"scalar",T:9}}]),wPe=fe.makeMessageType("livekit.ParticipantUpdate",()=>[{no:1,name:"participants",kind:"message",T:If,repeated:!0}]),_B=fe.makeMessageType("livekit.UpdateSubscription",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"participant_tracks",kind:"message",T:nZ,repeated:!0}]),CPe=fe.makeMessageType("livekit.UpdateDataSubscription",()=>[{no:1,name:"updates",kind:"message",T:BPe,repeated:!0}]),BPe=fe.makeMessageType("livekit.UpdateDataSubscription.Update",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"options",kind:"message",T:sPe}],{localName:"UpdateDataSubscription_Update"}),hZ=fe.makeMessageType("livekit.UpdateTrackSettings",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:3,name:"disabled",kind:"scalar",T:8},{no:4,name:"quality",kind:"enum",T:fe.getEnumType(LF)},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"fps",kind:"scalar",T:13},{no:8,name:"priority",kind:"scalar",T:13}]),jF=fe.makeMessageType("livekit.UpdateLocalAudioTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"features",kind:"enum",T:fe.getEnumType(vi),repeated:!0}]),pZ=fe.makeMessageType("livekit.UpdateLocalVideoTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13}]),PB=fe.makeMessageType("livekit.LeaveRequest",()=>[{no:1,name:"can_reconnect",kind:"scalar",T:8},{no:2,name:"reason",kind:"enum",T:fe.getEnumType(Ks)},{no:3,name:"action",kind:"enum",T:fe.getEnumType(pp)},{no:4,name:"regions",kind:"message",T:NPe}]),pp=fe.makeEnum("livekit.LeaveRequest.Action",[{no:0,name:"DISCONNECT"},{no:1,name:"RESUME"},{no:2,name:"RECONNECT"}]),gZ=fe.makeMessageType("livekit.UpdateVideoLayers",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"layers",kind:"message",T:Lu,repeated:!0}]),HF=fe.makeMessageType("livekit.UpdateParticipantMetadata",()=>[{no:1,name:"metadata",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:4,name:"request_id",kind:"scalar",T:13}]),mZ=fe.makeMessageType("livekit.ICEServer",()=>[{no:1,name:"urls",kind:"scalar",T:9,repeated:!0},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"credential",kind:"scalar",T:9}]),SPe=fe.makeMessageType("livekit.SpeakersChanged",()=>[{no:1,name:"speakers",kind:"message",T:ZJ,repeated:!0}]),xPe=fe.makeMessageType("livekit.RoomUpdate",()=>[{no:1,name:"room",kind:"message",T:kB}]),kPe=fe.makeMessageType("livekit.ConnectionQualityInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"quality",kind:"enum",T:fe.getEnumType(a0)},{no:3,name:"score",kind:"scalar",T:2}]),EPe=fe.makeMessageType("livekit.ConnectionQualityUpdate",()=>[{no:1,name:"updates",kind:"message",T:kPe,repeated:!0}]),TPe=fe.makeMessageType("livekit.StreamStateInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:fe.getEnumType(nT)}]),_Pe=fe.makeMessageType("livekit.StreamStateUpdate",()=>[{no:1,name:"stream_states",kind:"message",T:TPe,repeated:!0}]),$F=fe.makeMessageType("livekit.SubscribedQuality",()=>[{no:1,name:"quality",kind:"enum",T:fe.getEnumType(LF)},{no:2,name:"enabled",kind:"scalar",T:8}]),PPe=fe.makeMessageType("livekit.SubscribedCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"qualities",kind:"message",T:$F,repeated:!0}]),IPe=fe.makeMessageType("livekit.SubscribedQualityUpdate",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_qualities",kind:"message",T:$F,repeated:!0},{no:3,name:"subscribed_codecs",kind:"message",T:PPe,repeated:!0}]),FPe=fe.makeMessageType("livekit.SubscribedAudioCodecUpdate",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_audio_codecs",kind:"message",T:dPe,repeated:!0}]),vZ=fe.makeMessageType("livekit.TrackPermission",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"all_tracks",kind:"scalar",T:8},{no:3,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:4,name:"participant_identity",kind:"scalar",T:9}]),yZ=fe.makeMessageType("livekit.SubscriptionPermission",()=>[{no:1,name:"all_participants",kind:"scalar",T:8},{no:2,name:"track_permissions",kind:"message",T:vZ,repeated:!0}]),OPe=fe.makeMessageType("livekit.SubscriptionPermissionUpdate",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"allowed",kind:"scalar",T:8}]),LPe=fe.makeMessageType("livekit.RoomMovedResponse",()=>[{no:1,name:"room",kind:"message",T:kB},{no:2,name:"token",kind:"scalar",T:9},{no:3,name:"participant",kind:"message",T:If},{no:4,name:"other_participants",kind:"message",T:If,repeated:!0}]),KF=fe.makeMessageType("livekit.SyncState",()=>[{no:1,name:"answer",kind:"message",T:zu},{no:2,name:"subscription",kind:"message",T:_B},{no:3,name:"publish_tracks",kind:"message",T:QF,repeated:!0},{no:4,name:"data_channels",kind:"message",T:wZ,repeated:!0},{no:5,name:"offer",kind:"message",T:zu},{no:6,name:"track_sids_disabled",kind:"scalar",T:9,repeated:!0},{no:7,name:"datachannel_receive_states",kind:"message",T:bZ,repeated:!0},{no:8,name:"publish_data_tracks",kind:"message",T:dZ,repeated:!0}]),bZ=fe.makeMessageType("livekit.DataChannelReceiveState",()=>[{no:1,name:"publisher_sid",kind:"scalar",T:9},{no:2,name:"last_seq",kind:"scalar",T:13}]),wZ=fe.makeMessageType("livekit.DataChannelInfo",()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:13},{no:3,name:"target",kind:"enum",T:fe.getEnumType(js)}]),Tc=fe.makeMessageType("livekit.SimulateScenario",()=>[{no:1,name:"speaker_update",kind:"scalar",T:5,oneof:"scenario"},{no:2,name:"node_failure",kind:"scalar",T:8,oneof:"scenario"},{no:3,name:"migration",kind:"scalar",T:8,oneof:"scenario"},{no:4,name:"server_leave",kind:"scalar",T:8,oneof:"scenario"},{no:5,name:"switch_candidate_protocol",kind:"enum",T:fe.getEnumType(fPe),oneof:"scenario"},{no:6,name:"subscriber_bandwidth",kind:"scalar",T:3,oneof:"scenario"},{no:7,name:"disconnect_signal_on_resume",kind:"scalar",T:8,oneof:"scenario"},{no:8,name:"disconnect_signal_on_resume_no_messages",kind:"scalar",T:8,oneof:"scenario"},{no:9,name:"leave_request_full_reconnect",kind:"scalar",T:8,oneof:"scenario"}]),CZ=fe.makeMessageType("livekit.Ping",()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"rtt",kind:"scalar",T:3}]),UPe=fe.makeMessageType("livekit.Pong",()=>[{no:1,name:"last_ping_timestamp",kind:"scalar",T:3},{no:2,name:"timestamp",kind:"scalar",T:3}]),NPe=fe.makeMessageType("livekit.RegionSettings",()=>[{no:1,name:"regions",kind:"message",T:MPe,repeated:!0}]),MPe=fe.makeMessageType("livekit.RegionInfo",()=>[{no:1,name:"region",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"distance",kind:"scalar",T:3}]),RPe=fe.makeMessageType("livekit.SubscriptionResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"err",kind:"enum",T:fe.getEnumType(rPe)}]),DPe=fe.makeMessageType("livekit.RequestResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:13},{no:2,name:"reason",kind:"enum",T:fe.getEnumType(VF)},{no:3,name:"message",kind:"scalar",T:9},{no:4,name:"trickle",kind:"message",T:EB,oneof:"request"},{no:5,name:"add_track",kind:"message",T:Ev,oneof:"request"},{no:6,name:"mute",kind:"message",T:TB,oneof:"request"},{no:7,name:"update_metadata",kind:"message",T:HF,oneof:"request"},{no:8,name:"update_audio_track",kind:"message",T:jF,oneof:"request"},{no:9,name:"update_video_track",kind:"message",T:pZ,oneof:"request"},{no:10,name:"publish_data_track",kind:"message",T:uZ,oneof:"request"},{no:11,name:"unpublish_data_track",kind:"message",T:fZ,oneof:"request"}]),VF=fe.makeEnum("livekit.RequestResponse.Reason",[{no:0,name:"OK"},{no:1,name:"NOT_FOUND"},{no:2,name:"NOT_ALLOWED"},{no:3,name:"LIMIT_EXCEEDED"},{no:4,name:"QUEUED"},{no:5,name:"UNSUPPORTED_TYPE"},{no:6,name:"UNCLASSIFIED_ERROR"},{no:7,name:"INVALID_HANDLE"},{no:8,name:"INVALID_NAME"},{no:9,name:"DUPLICATE_HANDLE"},{no:10,name:"DUPLICATE_NAME"}]),QPe=fe.makeMessageType("livekit.TrackSubscribed",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]),BZ=fe.makeMessageType("livekit.ConnectionSettings",()=>[{no:1,name:"auto_subscribe",kind:"scalar",T:8},{no:2,name:"adaptive_stream",kind:"scalar",T:8},{no:3,name:"subscriber_allow_pause",kind:"scalar",T:8,opt:!0},{no:4,name:"disable_ice_lite",kind:"scalar",T:8},{no:5,name:"auto_subscribe_data_track",kind:"scalar",T:8,opt:!0}]),jPe=fe.makeMessageType("livekit.JoinRequest",()=>[{no:1,name:"client_info",kind:"message",T:aZ},{no:2,name:"connection_settings",kind:"message",T:BZ},{no:3,name:"metadata",kind:"scalar",T:9},{no:4,name:"participant_attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"add_track_requests",kind:"message",T:Ev,repeated:!0},{no:6,name:"publisher_offer",kind:"message",T:zu},{no:7,name:"reconnect",kind:"scalar",T:8},{no:8,name:"reconnect_reason",kind:"enum",T:fe.getEnumType(Ld)},{no:9,name:"participant_sid",kind:"scalar",T:9},{no:10,name:"sync_state",kind:"message",T:KF}]),HPe=fe.makeMessageType("livekit.WrappedJoinRequest",()=>[{no:1,name:"compression",kind:"enum",T:fe.getEnumType($Pe)},{no:2,name:"join_request",kind:"scalar",T:12}]),$Pe=fe.makeEnum("livekit.WrappedJoinRequest.Compression",[{no:0,name:"NONE"},{no:1,name:"GZIP"}]),KPe=fe.makeMessageType("livekit.MediaSectionsRequirement",()=>[{no:1,name:"num_audios",kind:"scalar",T:13},{no:2,name:"num_videos",kind:"scalar",T:13}]);function VPe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hb={exports:{}},zPe=hb.exports,Y7;function WPe(){return Y7||(Y7=1,function(e){(function(t,n){e.exports?e.exports=n():t.log=n()})(zPe,function(){var t=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],a={},o=null;function s(p,v){var m=p[v];if(typeof m.bind=="function")return m.bind(p);try{return Function.prototype.bind.call(m,p)}catch{return function(){return Function.prototype.apply.apply(m,[p,arguments])}}}function c(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(p){return p==="debug"&&(p="log"),typeof console===n?!1:p==="trace"&&r?c:console[p]!==void 0?s(console,p):console.log!==void 0?s(console,"log"):t}function A(){for(var p=this.getLevel(),v=0;v<i.length;v++){var m=i[v];this[m]=v<p?t:this.methodFactory(m,p,this.name)}if(this.log=this.debug,typeof console===n&&p<this.levels.SILENT)return"No console available for logging"}function u(p){return function(){typeof console!==n&&(A.call(this),this[p].apply(this,arguments))}}function d(p,v,m){return l(p)||u.apply(this,arguments)}function f(p,v){var m=this,w,B,C,S="loglevel";typeof p=="string"?S+=":"+p:typeof p=="symbol"&&(S=void 0);function k(T){var O=(i[T]||"silent").toUpperCase();if(!(typeof window===n||!S)){try{window.localStorage[S]=O;return}catch{}try{window.document.cookie=encodeURIComponent(S)+"="+O+";"}catch{}}}function _(){var T;if(!(typeof window===n||!S)){try{T=window.localStorage[S]}catch{}if(typeof T===n)try{var O=window.document.cookie,H=encodeURIComponent(S),$=O.indexOf(H+"=");$!==-1&&(T=/^([^;]+)/.exec(O.slice($+H.length+1))[1])}catch{}return m.levels[T]===void 0&&(T=void 0),T}}function F(){if(!(typeof window===n||!S)){try{window.localStorage.removeItem(S)}catch{}try{window.document.cookie=encodeURIComponent(S)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function P(T){var O=T;if(typeof O=="string"&&m.levels[O.toUpperCase()]!==void 0&&(O=m.levels[O.toUpperCase()]),typeof O=="number"&&O>=0&&O<=m.levels.SILENT)return O;throw new TypeError("log.setLevel() called with invalid level: "+T)}m.name=p,m.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},m.methodFactory=v||d,m.getLevel=function(){return C??B??w},m.setLevel=function(T,O){return C=P(T),O!==!1&&k(C),A.call(m)},m.setDefaultLevel=function(T){B=P(T),_()||m.setLevel(T,!1)},m.resetLevel=function(){C=null,F(),A.call(m)},m.enableAll=function(T){m.setLevel(m.levels.TRACE,T)},m.disableAll=function(T){m.setLevel(m.levels.SILENT,T)},m.rebuild=function(){if(o!==m&&(w=P(o.getLevel())),A.call(m),o===m)for(var T in a)a[T].rebuild()},w=P(o?o.getLevel():"WARN");var U=_();U!=null&&(C=P(U)),A.call(m)}o=new f,o.getLogger=function(v){if(typeof v!="symbol"&&typeof v!="string"||v==="")throw new TypeError("You must supply a name when creating a logger.");var m=a[v];return m||(m=a[v]=new f(v,o.methodFactory)),m};var h=typeof window!==n?window.log:void 0;return o.noConflict=function(){return typeof window!==n&&window.log===o&&(window.log=h),o},o.getLoggers=function(){return a},o.default=o,o})}(hb)),hb.exports}var IB=WPe(),iT;(function(e){e[e.trace=0]="trace",e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.silent=5]="silent"})(iT||(iT={}));var ps;(function(e){e.Default="livekit",e.Room="livekit-room",e.TokenSource="livekit-token-source",e.Participant="livekit-participant",e.Track="livekit-track",e.Publication="livekit-track-publication",e.Engine="livekit-engine",e.Signal="livekit-signal",e.PCManager="livekit-pc-manager",e.PCTransport="livekit-pc-transport",e.E2EE="lk-e2ee",e.DataTracks="livekit-data-tracks"})(ps||(ps={}));let _t=IB.getLogger("livekit");Object.values(ps).map(e=>IB.getLogger(e));_t.setDefaultLevel(iT.info);function Wc(e){const t=IB.getLogger(e);return t.setDefaultLevel(_t.getLevel()),t}const GPe=IB.getLogger("lk-e2ee"),Um=7e3,qPe=[0,300,2*2*300,3*3*300,4*4*300,Um,Um,Um,Um,Um];class YPe{constructor(t){this._retryDelays=t!==void 0?[...t]:qPe}nextRetryDelayInMs(t){if(t.retryCount>=this._retryDelays.length)return null;const n=this._retryDelays[t.retryCount];return t.retryCount<=1?n:n+Math.random()*1e3}}function XPe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function J(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(A){try{l(r.next(A))}catch(u){o(u)}}function c(A){try{l(r.throw(A))}catch(u){o(u)}}function l(A){A.done?a(A.value):i(A.value).then(s,c)}l((r=r.apply(e,t||[])).next())})}function X7(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dl(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof X7=="function"?X7(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(s,c){o=e[a](o),i(s,c,o.done,o.value)})}}function i(a,o,s,c){Promise.resolve(c).then(function(l){a({value:l,done:s})},o)}}var C2={exports:{}},J7;function JPe(){if(J7)return C2.exports;J7=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(S,k,_){return Function.prototype.apply.call(S,k,_)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:n=function(S){return Object.getOwnPropertyNames(S)};function r(C){console&&console.warn&&console.warn(C)}var i=Number.isNaN||function(S){return S!==S};function a(){a.init.call(this)}C2.exports=a,C2.exports.once=m,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(C){if(typeof C!="number"||C<0||i(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");o=C}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||i(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function c(C){return C._maxListeners===void 0?a.defaultMaxListeners:C._maxListeners}a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(S){for(var k=[],_=1;_<arguments.length;_++)k.push(arguments[_]);var F=S==="error",P=this._events;if(P!==void 0)F=F&&P.error===void 0;else if(!F)return!1;if(F){var U;if(k.length>0&&(U=k[0]),U instanceof Error)throw U;var T=new Error("Unhandled error."+(U?" ("+U.message+")":""));throw T.context=U,T}var O=P[S];if(O===void 0)return!1;if(typeof O=="function")t(O,this,k);else for(var H=O.length,$=h(O,H),_=0;_<H;++_)t($[_],this,k);return!0};function l(C,S,k,_){var F,P,U;if(s(k),P=C._events,P===void 0?(P=C._events=Object.create(null),C._eventsCount=0):(P.newListener!==void 0&&(C.emit("newListener",S,k.listener?k.listener:k),P=C._events),U=P[S]),U===void 0)U=P[S]=k,++C._eventsCount;else if(typeof U=="function"?U=P[S]=_?[k,U]:[U,k]:_?U.unshift(k):U.push(k),F=c(C),F>0&&U.length>F&&!U.warned){U.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=C,T.type=S,T.count=U.length,r(T)}return C}a.prototype.addListener=function(S,k){return l(this,S,k,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(S,k){return l(this,S,k,!0)};function A(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(C,S,k){var _={fired:!1,wrapFn:void 0,target:C,type:S,listener:k},F=A.bind(_);return F.listener=k,_.wrapFn=F,F}a.prototype.once=function(S,k){return s(k),this.on(S,u(this,S,k)),this},a.prototype.prependOnceListener=function(S,k){return s(k),this.prependListener(S,u(this,S,k)),this},a.prototype.removeListener=function(S,k){var _,F,P,U,T;if(s(k),F=this._events,F===void 0)return this;if(_=F[S],_===void 0)return this;if(_===k||_.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete F[S],F.removeListener&&this.emit("removeListener",S,_.listener||k));else if(typeof _!="function"){for(P=-1,U=_.length-1;U>=0;U--)if(_[U]===k||_[U].listener===k){T=_[U].listener,P=U;break}if(P<0)return this;P===0?_.shift():p(_,P),_.length===1&&(F[S]=_[0]),F.removeListener!==void 0&&this.emit("removeListener",S,T||k)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(S){var k,_,F;if(_=this._events,_===void 0)return this;if(_.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):_[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete _[S]),this;if(arguments.length===0){var P=Object.keys(_),U;for(F=0;F<P.length;++F)U=P[F],U!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=_[S],typeof k=="function")this.removeListener(S,k);else if(k!==void 0)for(F=k.length-1;F>=0;F--)this.removeListener(S,k[F]);return this};function d(C,S,k){var _=C._events;if(_===void 0)return[];var F=_[S];return F===void 0?[]:typeof F=="function"?k?[F.listener||F]:[F]:k?v(F):h(F,F.length)}a.prototype.listeners=function(S){return d(this,S,!0)},a.prototype.rawListeners=function(S){return d(this,S,!1)},a.listenerCount=function(C,S){return typeof C.listenerCount=="function"?C.listenerCount(S):f.call(C,S)},a.prototype.listenerCount=f;function f(C){var S=this._events;if(S!==void 0){var k=S[C];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function h(C,S){for(var k=new Array(S),_=0;_<S;++_)k[_]=C[_];return k}function p(C,S){for(;S+1<C.length;S++)C[S]=C[S+1];C.pop()}function v(C){for(var S=new Array(C.length),k=0;k<S.length;++k)S[k]=C[k].listener||C[k];return S}function m(C,S){return new Promise(function(k,_){function F(U){C.removeListener(S,P),_(U)}function P(){typeof C.removeListener=="function"&&C.removeListener("error",F),k([].slice.call(arguments))}B(C,S,P,{once:!0}),S!=="error"&&w(C,F,{once:!0})})}function w(C,S,k){typeof C.on=="function"&&B(C,"error",S,k)}function B(C,S,k,_){if(typeof C.on=="function")_.once?C.once(S,k):C.on(S,k);else if(typeof C.addEventListener=="function")C.addEventListener(S,function F(P){_.once&&C.removeEventListener(S,F),k(P)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}return C2.exports}var il=JPe();let SZ=!0,xZ=!0;function o0(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseFloat(r[n],10)}function Wf(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(o,s){if(o!==t)return i.apply(this,arguments);const c=l=>{const A=n(l);A&&(s.handleEvent?s.handleEvent(A):s(A))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(s,c),i.apply(this,[o,c])};const a=r.removeEventListener;r.removeEventListener=function(o,s){if(o!==t||!this._eventMap||!this._eventMap[t])return a.apply(this,arguments);if(!this._eventMap[t].has(s))return a.apply(this,arguments);const c=this._eventMap[t].get(s);return this._eventMap[t].delete(s),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,a.apply(this,[o,c])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(o){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),o&&this.addEventListener(t,this["_on"+t]=o)},enumerable:!0,configurable:!0})}function ZPe(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(SZ=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function eIe(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(xZ=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function kZ(){if(typeof window=="object"){if(SZ)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function zF(e,t){xZ&&console.warn(e+" is deprecated, please use "+t+" instead.")}function tIe(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(i=>i.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt(o0(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(o0(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=parseInt(o0(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=o0(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return t.browser="Not a supported browser.",t;return t}function Z7(e){return Object.prototype.toString.call(e)==="[object Object]"}function EZ(e){return Z7(e)?Object.keys(e).reduce(function(t,n){const r=Z7(e[n]),i=r?EZ(e[n]):e[n],a=r&&!Object.keys(i).length;return i===void 0||a?t:Object.assign(t,{[n]:i})},{}):e}function aT(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?aT(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(i=>{aT(e,e.get(i),n)})}))}function eQ(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(t===null)return i;const a=[];return e.forEach(o=>{o.type==="track"&&o.trackIdentifier===t.id&&a.push(o)}),a.forEach(o=>{e.forEach(s=>{s.type===r&&s.trackId===o.id&&aT(e,s,i)})}),i}const tQ=kZ;function TZ(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(s){if(typeof s!="object"||s.mandatory||s.optional)return s;const c={};return Object.keys(s).forEach(l=>{if(l==="require"||l==="advanced"||l==="mediaSource")return;const A=typeof s[l]=="object"?s[l]:{ideal:s[l]};A.exact!==void 0&&typeof A.exact=="number"&&(A.min=A.max=A.exact);const u=function(d,f){return d?d+f.charAt(0).toUpperCase()+f.slice(1):f==="deviceId"?"sourceId":f};if(A.ideal!==void 0){c.optional=c.optional||[];let d={};typeof A.ideal=="number"?(d[u("min",l)]=A.ideal,c.optional.push(d),d={},d[u("max",l)]=A.ideal,c.optional.push(d)):(d[u("",l)]=A.ideal,c.optional.push(d))}A.exact!==void 0&&typeof A.exact!="number"?(c.mandatory=c.mandatory||{},c.mandatory[u("",l)]=A.exact):["min","max"].forEach(d=>{A[d]!==void 0&&(c.mandatory=c.mandatory||{},c.mandatory[u(d,l)]=A[d])})}),s.advanced&&(c.optional=(c.optional||[]).concat(s.advanced)),c},i=function(s,c){if(t.version>=61)return c(s);if(s=JSON.parse(JSON.stringify(s)),s&&typeof s.audio=="object"){const l=function(A,u,d){u in A&&!(d in A)&&(A[d]=A[u],delete A[u])};s=JSON.parse(JSON.stringify(s)),l(s.audio,"autoGainControl","googAutoGainControl"),l(s.audio,"noiseSuppression","googNoiseSuppression"),s.audio=r(s.audio)}if(s&&typeof s.video=="object"){let l=s.video.facingMode;l=l&&(typeof l=="object"?l:{ideal:l});const A=t.version<66;if(l&&(l.exact==="user"||l.exact==="environment"||l.ideal==="user"||l.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!A)){delete s.video.facingMode;let u;if(l.exact==="environment"||l.ideal==="environment"?u=["back","rear"]:(l.exact==="user"||l.ideal==="user")&&(u=["front"]),u)return n.mediaDevices.enumerateDevices().then(d=>{d=d.filter(h=>h.kind==="videoinput");let f=d.find(h=>u.some(p=>h.label.toLowerCase().includes(p)));return!f&&d.length&&u.includes("back")&&(f=d[d.length-1]),f&&(s.video.deviceId=l.exact?{exact:f.deviceId}:{ideal:f.deviceId}),s.video=r(s.video),tQ("chrome: "+JSON.stringify(s)),c(s)})}s.video=r(s.video)}return tQ("chrome: "+JSON.stringify(s)),c(s)},a=function(s){return t.version>=64?s:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[s.name]||s.name,message:s.message,constraint:s.constraint||s.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(s,c,l){i(s,A=>{n.webkitGetUserMedia(A,c,u=>{l&&l(a(u))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(c){return i(c,l=>s(l).then(A=>{if(l.audio&&!A.getAudioTracks().length||l.video&&!A.getVideoTracks().length)throw A.getTracks().forEach(u=>{u.stop()}),new DOMException("","NotFoundError");return A},A=>Promise.reject(a(A))))}}}function _Z(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function PZ(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let a;e.RTCPeerConnection.prototype.getReceivers?a=this.getReceivers().find(s=>s.track&&s.track.id===i.track.id):a={track:i.track};const o=new Event("track");o.track=i.track,o.receiver=a,o.transceiver={receiver:a},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(i=>{let a;e.RTCPeerConnection.prototype.getReceivers?a=this.getReceivers().find(s=>s.track&&s.track.id===i.id):a={track:i};const o=new Event("track");o.track=i,o.receiver=a,o.transceiver={receiver:a},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Wf(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function IZ(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(i,a){return{track:a,get dtmf(){return this._dtmf===void 0&&(a.kind==="audio"?this._dtmf=i.createDTMFSender(a):this._dtmf=null),this._dtmf},_pc:i}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(s,c){let l=i.apply(this,arguments);return l||(l=t(this,s),this._senders.push(l)),l};const a=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(s){a.apply(this,arguments);const c=this._senders.indexOf(s);c!==-1&&this._senders.splice(c,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(a){this._senders=this._senders||[],n.apply(this,[a]),a.getTracks().forEach(o=>{this._senders.push(t(this,o))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(a){this._senders=this._senders||[],r.apply(this,[a]),a.getTracks().forEach(o=>{const s=this._senders.find(c=>c.track===o);s&&this._senders.splice(this._senders.indexOf(s),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function FZ(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const a=n.apply(this,[]);return a.forEach(o=>o._pc=this),a});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const a=r.apply(this,arguments);return a._pc=this,a}),e.RTCRtpSender.prototype.getStats=function(){const a=this;return this._pc.getStats().then(o=>eQ(o,a.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(a=>a._pc=this),i}),Wf(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(a=>eQ(a,i.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let i,a,o;return this.getSenders().forEach(s=>{s.track===r&&(i?o=!0:i=s)}),this.getReceivers().forEach(s=>(s.track===r&&(a?o=!0:a=s),s.track===r)),o||i&&a?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():a?a.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function OZ(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(o,s){if(!s)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const c=t.apply(this,arguments);return this._shimmedLocalStreams[s.id]?this._shimmedLocalStreams[s.id].indexOf(c)===-1&&this._shimmedLocalStreams[s.id].push(c):this._shimmedLocalStreams[s.id]=[s,c],c};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(l=>{if(this.getSenders().find(u=>u.track===l))throw new DOMException("Track already exists.","InvalidAccessError")});const s=this.getSenders();n.apply(this,arguments);const c=this.getSenders().filter(l=>s.indexOf(l)===-1);this._shimmedLocalStreams[o.id]=[o].concat(c)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(s=>{const c=this._shimmedLocalStreams[s].indexOf(o);c!==-1&&this._shimmedLocalStreams[s].splice(c,1),this._shimmedLocalStreams[s].length===1&&delete this._shimmedLocalStreams[s]}),i.apply(this,arguments)}}function LZ(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return OZ(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const A=n.apply(this);return this._reverseStreams=this._reverseStreams||{},A.map(u=>this._reverseStreams[u.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(A){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},A.getTracks().forEach(u=>{if(this.getSenders().find(f=>f.track===u))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[A.id]){const u=new e.MediaStream(A.getTracks());this._streams[A.id]=u,this._reverseStreams[u.id]=A,A=u}r.apply(this,[A])};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(A){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[A.id]||A]),delete this._reverseStreams[this._streams[A.id]?this._streams[A.id].id:A.id],delete this._streams[A.id]},e.RTCPeerConnection.prototype.addTrack=function(A,u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const d=[].slice.call(arguments,1);if(d.length!==1||!d[0].getTracks().find(p=>p===A))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(p=>p.track===A))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const h=this._streams[u.id];if(h)h.addTrack(A),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const p=new e.MediaStream([A]);this._streams[u.id]=p,this._reverseStreams[p.id]=u,this.addStream(p)}return this.getSenders().find(p=>p.track===A)};function a(l,A){let u=A.sdp;return Object.keys(l._reverseStreams||[]).forEach(d=>{const f=l._reverseStreams[d],h=l._streams[f.id];u=u.replace(new RegExp(h.id,"g"),f.id)}),new RTCSessionDescription({type:A.type,sdp:u})}function o(l,A){let u=A.sdp;return Object.keys(l._reverseStreams||[]).forEach(d=>{const f=l._reverseStreams[d],h=l._streams[f.id];u=u.replace(new RegExp(f.id,"g"),h.id)}),new RTCSessionDescription({type:A.type,sdp:u})}["createOffer","createAnswer"].forEach(function(l){const A=e.RTCPeerConnection.prototype[l],u={[l](){const d=arguments;return arguments.length&&typeof arguments[0]=="function"?A.apply(this,[h=>{const p=a(this,h);d[0].apply(null,[p])},h=>{d[1]&&d[1].apply(null,h)},arguments[2]]):A.apply(this,arguments).then(h=>a(this,h))}};e.RTCPeerConnection.prototype[l]=u[l]});const s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?s.apply(this,arguments):(arguments[0]=o(this,arguments[0]),s.apply(this,arguments))};const c=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const l=c.get.apply(this);return l.type===""?l:a(this,l)}}),e.RTCPeerConnection.prototype.removeTrack=function(A){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!A._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(A._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let d;Object.keys(this._streams).forEach(f=>{this._streams[f].getTracks().find(p=>A.track===p)&&(d=this._streams[f])}),d&&(d.getTracks().length===1?this.removeStream(this._reverseStreams[d.id]):d.removeTrack(A.track),this.dispatchEvent(new Event("negotiationneeded")))}}function oT(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=i[n]})}function UZ(e,t){Wf(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}var nQ=Object.freeze({__proto__:null,fixNegotiationNeeded:UZ,shimAddTrackRemoveTrack:LZ,shimAddTrackRemoveTrackWithNative:OZ,shimGetSendersWithDtmf:IZ,shimGetUserMedia:TZ,shimMediaStream:_Z,shimOnTrack:PZ,shimPeerConnection:oT,shimSenderReceiverGetStats:FZ});function NZ(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(i,a,o){zF("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(a,o)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(o,s,c){s in o&&!(c in o)&&(o[c]=o[s],delete o[s])},a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o.audio,"autoGainControl","mozAutoGainControl"),i(o.audio,"noiseSuppression","mozNoiseSuppression")),a(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const s=o.apply(this,arguments);return i(s,"mozAutoGainControl","autoGainControl"),i(s,"mozNoiseSuppression","noiseSuppression"),s}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(s){return this.kind==="audio"&&typeof s=="object"&&(s=JSON.parse(JSON.stringify(s)),i(s,"autoGainControl","mozAutoGainControl"),i(s,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[s])}}}}function nIe(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function MZ(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function sT(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const a=e.RTCPeerConnection.prototype[i],o={[i](){return arguments[0]=new(i==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),a.apply(this,arguments)}};e.RTCPeerConnection.prototype[i]=o[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[a,o,s]=arguments;return r.apply(this,[a||null]).then(c=>{if(t.version<53&&!o)try{c.forEach(l=>{l.type=n[l.type]||l.type})}catch(l){if(l.name!=="TypeError")throw l;c.forEach((A,u)=>{c.set(u,Object.assign({},A,{type:n[A.type]||A.type}))})}return c}).then(o,s)}}function RZ(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=t.apply(this,[]);return i.forEach(a=>a._pc=this),i});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function DZ(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r}),Wf(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function QZ(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){zF("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function jZ(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function HZ(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const a=t.apply(this,arguments);if(i){const{sender:o}=a,s=o.getParameters();(!("encodings"in s)||s.encodings.length===1&&Object.keys(s.encodings[0]).length===0)&&(s.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(s).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return a})}function $Z(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function KZ(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function VZ(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}var rQ=Object.freeze({__proto__:null,shimAddTransceiver:HZ,shimCreateAnswer:VZ,shimCreateOffer:KZ,shimGetDisplayMedia:nIe,shimGetParameters:$Z,shimGetUserMedia:NZ,shimOnTrack:MZ,shimPeerConnection:sT,shimRTCDataChannel:jZ,shimReceiverGetStats:DZ,shimRemoveStream:QZ,shimSenderGetStats:RZ});function zZ(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>t.call(this,i,r)),r.getVideoTracks().forEach(i=>t.call(this,i,r))},e.RTCPeerConnection.prototype.addTrack=function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return a&&a.forEach(s=>{this._localStreams?this._localStreams.includes(s)||this._localStreams.push(s):this._localStreams=[s]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(a=>{i.includes(a.track)&&this.removeTrack(a)})})}}function WZ(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const a=new Event("addstream");a.stream=i,this.dispatchEvent(a)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(a=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(a)>=0)return;r._remoteStreams.push(a);const o=new Event("addstream");o.stream=a,r.dispatchEvent(o)})}),t.apply(r,arguments)}}}function GZ(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,a=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(l,A){const u=arguments.length>=2?arguments[2]:arguments[0],d=n.apply(this,[u]);return A?(d.then(l,A),Promise.resolve()):d},t.createAnswer=function(l,A){const u=arguments.length>=2?arguments[2]:arguments[0],d=r.apply(this,[u]);return A?(d.then(l,A),Promise.resolve()):d};let s=function(c,l,A){const u=i.apply(this,[c]);return A?(u.then(l,A),Promise.resolve()):u};t.setLocalDescription=s,s=function(c,l,A){const u=a.apply(this,[c]);return A?(u.then(l,A),Promise.resolve()):u},t.setRemoteDescription=s,s=function(c,l,A){const u=o.apply(this,[c]);return A?(u.then(l,A),Promise.resolve()):u},t.addIceCandidate=s}function qZ(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=i=>r(YZ(i))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(r,i,a){t.mediaDevices.getUserMedia(r).then(i,a)}).bind(t))}function YZ(e){return e&&e.video!==void 0?Object.assign({},e,{video:EZ(e.video)}):e}function XZ(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const a=[];for(let o=0;o<r.iceServers.length;o++){let s=r.iceServers[o];s.urls===void 0&&s.url?(zF("RTCIceServer.url","RTCIceServer.urls"),s=JSON.parse(JSON.stringify(s)),s.urls=s.url,delete s.url,a.push(s)):a.push(r.iceServers[o])}r.iceServers=a}return new t(r,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function JZ(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function ZZ(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const a=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):r.offerToReceiveVideo===!0&&!a&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function eee(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var iQ=Object.freeze({__proto__:null,shimAudioContext:eee,shimCallbacksAPI:GZ,shimConstraints:YZ,shimCreateOfferLegacy:ZZ,shimGetUserMedia:qZ,shimLocalStreamsAPI:zZ,shimRTCIceServerUrls:XZ,shimRemoteStreamsAPI:WZ,shimTrackEventTransceiver:JZ}),Px={exports:{}},aQ;function rIe(){return aQ||(aQ=1,function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((i,a)=>(a>0?"m="+i:i).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(i=>i.indexOf(r)===0)},t.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const i={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let a=8;a<r.length;a+=2)switch(r[a]){case"raddr":i.relatedAddress=r[a+1];break;case"rport":i.relatedPort=parseInt(r[a+1],10);break;case"tcptype":i.tcpType=r[a+1];break;case"ufrag":i.ufrag=r[a+1],i.usernameFragment=r[a+1];break;default:i[r[a]]===void 0&&(i[r[a]]=r[a+1]);break}return i},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const i=n.component;i==="rtp"?r.push(1):i==="rtcp"?r.push(2):r.push(i),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const a=n.type;return r.push("typ"),r.push(a),a!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let i;const a=n.substring(n.indexOf(" ")+1).split(";");for(let o=0;o<a.length;o++)i=a[o].trim().split("="),r[i[0].trim()]=i[1];return r},t.writeFmtp=function(n){let r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const a=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?a.push(o+"="+n.parameters[o]):a.push(o)}),r+="a=fmtp:"+i+" "+a.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(a=>{r+="a=rtcp-fb:"+i+" "+a.type+(a.parameter&&a.parameter.length?" "+a.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),i={ssrc:parseInt(n.substring(7,r),10)},a=n.indexOf(":",r);return a>-1?(i.attribute=n.substring(r+1,a),i.value=n.substring(a+1)):i.attribute=n.substring(r+1),i},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(i=>parseInt(i,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(a=>{i+="a=fingerprint:"+a.algorithm+" "+a.value+`\r
`}),i},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const i=t.matchPrefix(n+r,"a=ice-ufrag:")[0],a=t.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&a?{usernameFragment:i.substring(12),password:a.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},a=t.splitLines(n)[0].split(" ");r.profile=a[2];for(let s=3;s<a.length;s++){const c=a[s],l=t.matchPrefix(n,"a=rtpmap:"+c+" ")[0];if(l){const A=t.parseRtpMap(l),u=t.matchPrefix(n,"a=fmtp:"+c+" ");switch(A.parameters=u.length?t.parseFmtp(u[0]):{},A.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+c+" ").map(t.parseRtcpFb),r.codecs.push(A),A.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(A.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(s=>{r.headerExtensions.push(t.parseExtmap(s))});const o=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(s=>{o.forEach(c=>{s.rtcpFeedback.find(A=>A.type===c.type&&A.parameter===c.parameter)||s.rtcpFeedback.push(c)})}),r},t.writeRtpDescription=function(n,r){let i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{i+=t.writeRtpMap(o),i+=t.writeFmtp(o),i+=t.writeRtcpFb(o)});let a=0;return r.codecs.forEach(o=>{o.maxptime>a&&(a=o.maxptime)}),a>0&&(i+="a=maxptime:"+a+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{i+=t.writeExtmap(o)}),i},t.parseRtpEncodingParameters=function(n){const r=[],i=t.parseRtpParameters(n),a=i.fecMechanisms.indexOf("RED")!==-1,o=i.fecMechanisms.indexOf("ULPFEC")!==-1,s=t.matchPrefix(n,"a=ssrc:").map(d=>t.parseSsrcMedia(d)).filter(d=>d.attribute==="cname"),c=s.length>0&&s[0].ssrc;let l;const A=t.matchPrefix(n,"a=ssrc-group:FID").map(d=>d.substring(17).split(" ").map(h=>parseInt(h,10)));A.length>0&&A[0].length>1&&A[0][0]===c&&(l=A[0][1]),i.codecs.forEach(d=>{if(d.name.toUpperCase()==="RTX"&&d.parameters.apt){let f={ssrc:c,codecPayloadType:parseInt(d.parameters.apt,10)};c&&l&&(f.rtx={ssrc:l}),r.push(f),a&&(f=JSON.parse(JSON.stringify(f)),f.fec={ssrc:c,mechanism:o?"red+ulpfec":"red"},r.push(f))}}),r.length===0&&c&&r.push({ssrc:c});let u=t.matchPrefix(n,"b=");return u.length&&(u[0].indexOf("b=TIAS:")===0?u=parseInt(u[0].substring(7),10):u[0].indexOf("b=AS:")===0?u=parseInt(u[0].substring(5),10)*1e3*.95-50*40*8:u=void 0,r.forEach(d=>{d.maxBitrate=u})),r},t.parseRtcpParameters=function(n){const r={},i=t.matchPrefix(n,"a=ssrc:").map(s=>t.parseSsrcMedia(s)).filter(s=>s.attribute==="cname")[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);const a=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=a.length>0,r.compound=a.length===0;const o=t.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const i=t.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substring(7).split(" "),{stream:r[0],track:r[1]};const a=t.matchPrefix(n,"a=ssrc:").map(o=>t.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(a.length>0)return r=a[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){const r=t.parseMLine(n),i=t.matchPrefix(n,"a=max-message-size:");let a;i.length>0&&(a=parseInt(i[0].substring(19),10)),isNaN(a)&&(a=65536);const o=t.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:a};const s=t.matchPrefix(n,"a=sctpmap:");if(s.length>0){const c=s[0].substring(10).split(" ");return{port:parseInt(c[0],10),protocol:c[1],maxMessageSize:a}}},t.writeSctpDescription=function(n,r){let i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,i){let a;const o=r!==void 0?r:2;return n?a=n:a=t.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+a+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const i=t.splitLines(n);for(let a=0;a<i.length;a++)switch(i[a]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[a].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const i=t.splitLines(n)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(n){const i=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},e.exports=t}(Px)),Px.exports}var tee=rIe(),gp=VPe(tee),iIe=s_e({__proto__:null,default:gp},[tee]);function pb(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const i=new t(r),a=gp.parseCandidate(r.candidate);for(const o in a)o in i||Object.defineProperty(i,o,{value:a[o]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,Wf(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function cT(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||Wf(e,"icecandidate",t=>{if(t.candidate){const n=gp.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function gb(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(s){if(!s||!s.sdp)return!1;const c=gp.splitSections(s.sdp);return c.shift(),c.some(l=>{const A=gp.parseMLine(l);return A&&A.kind==="application"&&A.protocol.indexOf("SCTP")!==-1})},r=function(s){const c=s.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(c===null||c.length<2)return-1;const l=parseInt(c[1],10);return l!==l?-1:l},i=function(s){let c=65536;return t.browser==="firefox"&&(t.version<57?s===-1?c=16384:c=2147483637:t.version<60?c=t.version===57?65535:65536:c=2147483637),c},a=function(s,c){let l=65536;t.browser==="firefox"&&t.version===57&&(l=65535);const A=gp.matchPrefix(s.sdp,"a=max-message-size:");return A.length>0?l=parseInt(A[0].substring(19),10):t.browser==="firefox"&&c!==-1&&(l=2147483637),l},o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:c}=this.getConfiguration();c==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const c=r(arguments[0]),l=i(c),A=a(arguments[0],c);let u;l===0&&A===0?u=Number.POSITIVE_INFINITY:l===0||A===0?u=Math.max(l,A):u=Math.min(l,A);const d={};Object.defineProperty(d,"maxMessageSize",{get(){return u}}),this._sctp=d}return o.apply(this,arguments)}}function mb(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,i){const a=r.send;r.send=function(){const s=arguments[0],c=s.length||s.size||s.byteLength;if(r.readyState==="open"&&i.sctp&&c>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return a.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return t(i,this),i},Wf(e,"datachannel",r=>(t(r.channel,r.target),r))}function lT(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const a=i.target;if(a._lastConnectionState!==a.connectionState){a._lastConnectionState=a.connectionState;const o=new Event("connectionstatechange",i);a.dispatchEvent(o)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function AT(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const a=i.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&i instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:i.type,sdp:a}):i.sdp=a}return n.apply(this,arguments)}}function vb(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function yb(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?n.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}var aIe=Object.freeze({__proto__:null,removeExtmapAllowMixed:AT,shimAddIceCandidateNullOrEmpty:vb,shimConnectionState:lT,shimMaxMessageSize:gb,shimParameterlessSetLocalDescription:yb,shimRTCIceCandidate:pb,shimRTCIceCandidateRelayProtocol:cT,shimSendThrowTypeError:mb});function oIe(){let{window:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=kZ,r=tIe(e),i={browserDetails:r,commonShim:aIe,extractVersion:o0,disableLog:ZPe,disableWarnings:eIe,sdp:iIe};switch(r.browser){case"chrome":if(!nQ||!oT||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=nQ,vb(e,r),yb(e),TZ(e,r),_Z(e),oT(e,r),PZ(e),LZ(e,r),IZ(e),FZ(e),UZ(e,r),pb(e),cT(e),lT(e),gb(e,r),mb(e),AT(e,r);break;case"firefox":if(!rQ||!sT||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=rQ,vb(e,r),yb(e),NZ(e,r),sT(e,r),MZ(e),QZ(e),RZ(e),DZ(e),jZ(e),HZ(e),$Z(e),KZ(e),VZ(e),pb(e),lT(e),gb(e,r),mb(e);break;case"safari":if(!iQ||!t.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=iQ,vb(e,r),yb(e),XZ(e),ZZ(e),GZ(e),zZ(e),WZ(e),JZ(e),qZ(e),eee(e),pb(e),cT(e),gb(e,r),mb(e),AT(e,r);break;default:n("Unsupported browser!");break}return i}oIe({window:typeof window>"u"?void 0:window});var uT,nee;class ca extends(nee=Promise){constructor(t){super(t)}catch(t){return super.catch(t)}static reject(t){return super.reject(t)}static all(t){return super.all(t)}static race(t){return super.race(t)}}uT=ca;ca.resolve=e=>Reflect.get(nee,"resolve",uT).call(uT,e);const sIe=/version\/(\d+(\.?_?\d+)+)/i;let Ix;function Ca(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof navigator>"u")return;const n=navigator.userAgent.toLowerCase();if(Ix===void 0||t){const r=cIe.find(i=>{let{test:a}=i;return a.test(n)});Ix=r==null?void 0:r.describe(n)}return Ix}const cIe=[{test:/firefox|iceweasel|fxios/i,describe(e){return{name:"Firefox",version:bb(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("fxios")?"iOS":void 0,osVersion:Fx(e)}}},{test:/chrom|crios|crmo/i,describe(e){return{name:"Chrome",version:bb(/(?:chrome|chromium|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("crios")?"iOS":void 0,osVersion:Fx(e)}}},{test:/safari|applewebkit/i,describe(e){return{name:"Safari",version:bb(sIe,e),os:e.includes("mobile/")?"iOS":"macOS",osVersion:Fx(e)}}}];function bb(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const r=t.match(e);return r&&r.length>=n&&r[n]||""}function Fx(e){return e.includes("mac os")?bb(/\(.+?(\d+_\d+(:?_\d+)?)/,e,1).replace(/_/g,"."):void 0}var lIe="2.17.2";const AIe=lIe,uIe=16;class nd extends Error{constructor(t,n,r){super(n||"an error has occurred"),this.name="LiveKitError",this.code=t,typeof(r==null?void 0:r.cause)<"u"&&(this.cause=r==null?void 0:r.cause)}}class WF extends nd{}var Sn;(function(e){e[e.NotAllowed=0]="NotAllowed",e[e.ServerUnreachable=1]="ServerUnreachable",e[e.InternalError=2]="InternalError",e[e.Cancelled=3]="Cancelled",e[e.LeaveRequest=4]="LeaveRequest",e[e.Timeout=5]="Timeout",e[e.WebSocket=6]="WebSocket",e[e.ServiceNotFound=7]="ServiceNotFound"})(Sn||(Sn={}));class gt extends WF{constructor(t,n,r,i){super(1,t),this.name="ConnectionError",this.status=r,this.reason=n,this.context=i,this.reasonName=Sn[n]}static notAllowed(t,n,r){return new gt(t,Sn.NotAllowed,n,r)}static timeout(t){return new gt(t,Sn.Timeout)}static leaveRequest(t,n){return new gt(t,Sn.LeaveRequest,void 0,n)}static internal(t,n){return new gt(t,Sn.InternalError,void 0,n)}static cancelled(t){return new gt(t,Sn.Cancelled)}static serverUnreachable(t,n){return new gt(t,Sn.ServerUnreachable,n)}static websocket(t,n,r){return new gt(t,Sn.WebSocket,n,r)}static serviceNotFound(t,n){return new gt(t,Sn.ServiceNotFound,void 0,n)}}class GF extends nd{constructor(t){super(21,t??"device is unsupported"),this.name="DeviceUnsupportedError"}}class Ql extends nd{constructor(t){super(20,t??"track is invalid"),this.name="TrackInvalidError"}}class dIe extends nd{constructor(t){super(10,t??"unsupported server"),this.name="UnsupportedServer"}}class Cr extends nd{constructor(t){super(12,t??"unexpected connection state"),this.name="UnexpectedConnectionState"}}class lf extends nd{constructor(t){super(13,t??"unable to negotiate"),this.name="NegotiationError"}}class oQ extends nd{constructor(t,n){super(15,t),this.name="PublishTrackError",this.status=n}}class sQ extends WF{constructor(t,n){super(15,t),this.name="SignalRequestError",this.reason=n,this.reasonName=typeof n=="string"?n:VF[n]}}var ga;(function(e){e[e.AlreadyOpened=0]="AlreadyOpened",e[e.AbnormalEnd=1]="AbnormalEnd",e[e.DecodeFailed=2]="DecodeFailed",e[e.LengthExceeded=3]="LengthExceeded",e[e.Incomplete=4]="Incomplete",e[e.HandlerAlreadyRegistered=7]="HandlerAlreadyRegistered",e[e.EncryptionTypeMismatch=8]="EncryptionTypeMismatch"})(ga||(ga={}));class Xo extends WF{constructor(t,n){super(16,t),this.name="DataStreamError",this.reason=n,this.reasonName=ga[n]}}class kh extends nd{constructor(t){super(18,t),this.name="SignalReconnectError"}}var Tv;(function(e){e.PermissionDenied="PermissionDenied",e.NotFound="NotFound",e.DeviceInUse="DeviceInUse",e.Other="Other"})(Tv||(Tv={}));(function(e){function t(n){if(n&&"name"in n)return n.name==="NotFoundError"||n.name==="DevicesNotFoundError"?e.NotFound:n.name==="NotAllowedError"||n.name==="PermissionDeniedError"?e.PermissionDenied:n.name==="NotReadableError"||n.name==="TrackStartError"?e.DeviceInUse:e.Other}e.getFailure=t})(Tv||(Tv={}));class Qi{}Qi.setTimeout=function(){return setTimeout(...arguments)};Qi.setInterval=function(){return setInterval(...arguments)};Qi.clearTimeout=function(){return clearTimeout(...arguments)};Qi.clearInterval=function(){return clearInterval(...arguments)};var we;(function(e){e.Connected="connected",e.Reconnecting="reconnecting",e.SignalReconnecting="signalReconnecting",e.Reconnected="reconnected",e.Disconnected="disconnected",e.ConnectionStateChanged="connectionStateChanged",e.Moved="moved",e.MediaDevicesChanged="mediaDevicesChanged",e.ParticipantConnected="participantConnected",e.ParticipantDisconnected="participantDisconnected",e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalAudioSilenceDetected="localAudioSilenceDetected",e.ActiveSpeakersChanged="activeSpeakersChanged",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.ParticipantAttributesChanged="participantAttributesChanged",e.ParticipantActive="participantActive",e.RoomMetadataChanged="roomMetadataChanged",e.DataReceived="dataReceived",e.SipDTMFReceived="sipDTMFReceived",e.TranscriptionReceived="transcriptionReceived",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.AudioPlaybackStatusChanged="audioPlaybackChanged",e.VideoPlaybackStatusChanged="videoPlaybackChanged",e.MediaDevicesError="mediaDevicesError",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.SignalConnected="signalConnected",e.RecordingStatusChanged="recordingStatusChanged",e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ActiveDeviceChanged="activeDeviceChanged",e.ChatMessage="chatMessage",e.LocalTrackSubscribed="localTrackSubscribed",e.MetricsReceived="metricsReceived"})(we||(we={}));var _e;(function(e){e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalTrackCpuConstrained="localTrackCpuConstrained",e.LocalSenderCreated="localSenderCreated",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.DataReceived="dataReceived",e.SipDTMFReceived="sipDTMFReceived",e.TranscriptionReceived="transcriptionReceived",e.IsSpeakingChanged="isSpeakingChanged",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.TrackCpuConstrained="trackCpuConstrained",e.MediaDevicesError="mediaDevicesError",e.AudioStreamAcquired="audioStreamAcquired",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.PCTrackAdded="pcTrackAdded",e.AttributesChanged="attributesChanged",e.LocalTrackSubscribed="localTrackSubscribed",e.ChatMessage="chatMessage",e.Active="active"})(_e||(_e={}));var Qe;(function(e){e.TransportsCreated="transportsCreated",e.Connected="connected",e.Disconnected="disconnected",e.Resuming="resuming",e.Resumed="resumed",e.Restarting="restarting",e.Restarted="restarted",e.SignalResumed="signalResumed",e.SignalRestarted="signalRestarted",e.Closing="closing",e.MediaTrackAdded="mediaTrackAdded",e.ActiveSpeakersUpdate="activeSpeakersUpdate",e.DataPacketReceived="dataPacketReceived",e.RTPVideoMapUpdate="rtpVideoMapUpdate",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ParticipantUpdate="participantUpdate",e.RoomUpdate="roomUpdate",e.SpeakersChanged="speakersChanged",e.StreamStateChanged="streamStateChanged",e.ConnectionQualityUpdate="connectionQualityUpdate",e.SubscriptionError="subscriptionError",e.SubscriptionPermissionUpdate="subscriptionPermissionUpdate",e.RemoteMute="remoteMute",e.SubscribedQualityUpdate="subscribedQualityUpdate",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalTrackSubscribed="localTrackSubscribed",e.Offline="offline",e.SignalRequestResponse="signalRequestResponse",e.SignalConnected="signalConnected",e.RoomMoved="roomMoved"})(Qe||(Qe={}));var Re;(function(e){e.Message="message",e.Muted="muted",e.Unmuted="unmuted",e.Restarted="restarted",e.Ended="ended",e.Subscribed="subscribed",e.Unsubscribed="unsubscribed",e.CpuConstrained="cpuConstrained",e.UpdateSettings="updateSettings",e.UpdateSubscription="updateSubscription",e.AudioPlaybackStarted="audioPlaybackStarted",e.AudioPlaybackFailed="audioPlaybackFailed",e.AudioSilenceDetected="audioSilenceDetected",e.VisibilityChanged="visibilityChanged",e.VideoDimensionsChanged="videoDimensionsChanged",e.VideoPlaybackStarted="videoPlaybackStarted",e.VideoPlaybackFailed="videoPlaybackFailed",e.ElementAttached="elementAttached",e.ElementDetached="elementDetached",e.UpstreamPaused="upstreamPaused",e.UpstreamResumed="upstreamResumed",e.SubscriptionPermissionChanged="subscriptionPermissionChanged",e.SubscriptionStatusChanged="subscriptionStatusChanged",e.SubscriptionFailed="subscriptionFailed",e.TrackProcessorUpdate="trackProcessorUpdate",e.AudioTrackFeatureUpdate="audioTrackFeatureUpdate",e.TranscriptionReceived="transcriptionReceived",e.TimeSyncUpdate="timeSyncUpdate",e.PreConnectBufferFlushed="preConnectBufferFlushed"})(Re||(Re={}));function fIe(e){return typeof e>"u"?e:typeof structuredClone=="function"?typeof e=="object"&&e!==null?structuredClone(Object.assign({},e)):structuredClone(e):JSON.parse(JSON.stringify(e))}class mn{constructor(t,n,r,i,a){if(typeof t=="object")this.width=t.width,this.height=t.height,this.aspectRatio=t.aspectRatio,this.encoding={maxBitrate:t.maxBitrate,maxFramerate:t.maxFramerate,priority:t.priority};else if(n!==void 0&&r!==void 0)this.width=t,this.height=n,this.aspectRatio=t/n,this.encoding={maxBitrate:r,maxFramerate:i,priority:a};else throw new TypeError("Unsupported options: provide at least width, height and maxBitrate")}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.aspectRatio}}}const hIe=["vp8","h264"],pIe=["vp8","h264","vp9","av1","h265"];function gIe(e){return!!hIe.find(t=>t===e)}const mIe=gIe;var cQ;(function(e){e[e.PREFER_REGRESSION=0]="PREFER_REGRESSION",e[e.SIMULCAST=1]="SIMULCAST",e[e.REGRESSION=2]="REGRESSION"})(cQ||(cQ={}));var dT;(function(e){e.telephone={maxBitrate:12e3},e.speech={maxBitrate:24e3},e.music={maxBitrate:48e3},e.musicStereo={maxBitrate:64e3},e.musicHighQuality={maxBitrate:96e3},e.musicHighQualityStereo={maxBitrate:128e3}})(dT||(dT={}));const _v={h90:new mn(160,90,9e4,20),h180:new mn(320,180,16e4,20),h216:new mn(384,216,18e4,20),h360:new mn(640,360,45e4,20),h540:new mn(960,540,8e5,25),h720:new mn(1280,720,17e5,30),h1080:new mn(1920,1080,3e6,30),h1440:new mn(2560,1440,5e6,30),h2160:new mn(3840,2160,8e6,30)},fT={h120:new mn(160,120,7e4,20),h180:new mn(240,180,125e3,20),h240:new mn(320,240,14e4,20),h360:new mn(480,360,33e4,20),h480:new mn(640,480,5e5,20),h540:new mn(720,540,6e5,25),h720:new mn(960,720,13e5,30),h1080:new mn(1440,1080,23e5,30),h1440:new mn(1920,1440,38e5,30)},qF={h360fps3:new mn(640,360,2e5,3,"medium"),h360fps15:new mn(640,360,4e5,15,"medium"),h720fps5:new mn(1280,720,8e5,5,"medium"),h720fps15:new mn(1280,720,15e5,15,"medium"),h720fps30:new mn(1280,720,2e6,30,"medium"),h1080fps15:new mn(1920,1080,25e5,15,"medium"),h1080fps30:new mn(1920,1080,5e6,30,"medium"),original:new mn(0,0,7e6,30,"medium")};function ree(e,t,n){var r,i,a,o;const{optionsWithoutProcessor:s,audioProcessor:c,videoProcessor:l}=oee(e??{}),A=t==null?void 0:t.processor,u=n==null?void 0:n.processor,d=s??{};return d.audio===!0&&(d.audio={}),d.video===!0&&(d.video={}),d.audio&&(hT(d.audio,t),(r=(a=d.audio).deviceId)!==null&&r!==void 0||(a.deviceId={ideal:"default"}),(c||A)&&(d.audio.processor=c??A)),d.video&&(hT(d.video,n),(i=(o=d.video).deviceId)!==null&&i!==void 0||(o.deviceId={ideal:"default"}),(l||u)&&(d.video.processor=l??u)),d}function hT(e,t){return Object.keys(t).forEach(n=>{e[n]===void 0&&(e[n]=t[n])}),e}function YF(e){var t,n,r,i;const a={};if(e.video)if(typeof e.video=="object"){const o={},s=o,c=e.video;Object.keys(c).forEach(l=>{switch(l){case"resolution":hT(s,c.resolution);break;default:s[l]=c[l]}}),a.video=o,(t=(r=a.video).deviceId)!==null&&t!==void 0||(r.deviceId={ideal:"default"})}else a.video=e.video?{deviceId:{ideal:"default"}}:!1;else a.video=!1;return e.audio?typeof e.audio=="object"?(a.audio=e.audio,(n=(i=a.audio).deviceId)!==null&&n!==void 0||(i.deviceId={ideal:"default"})):a.audio={deviceId:{ideal:"default"}}:a.audio=!1,a}function iee(e){return J(this,arguments,void 0,function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200;return function*(){const r=aee();if(r){const i=r.createAnalyser();i.fftSize=2048;const a=i.frequencyBinCount,o=new Uint8Array(a);r.createMediaStreamSource(new MediaStream([t.mediaStreamTrack])).connect(i),yield ji(n),i.getByteTimeDomainData(o);const c=o.some(l=>l!==128&&l!==0);return r.close(),!c}return!1}()})}function aee(){var e;const t=typeof window<"u"&&(window.AudioContext||window.webkitAudioContext);if(t){const n=new t({latencyHint:"interactive"});if(n.state==="suspended"&&typeof window<"u"&&(!((e=window.document)===null||e===void 0)&&e.body)){const r=()=>J(this,void 0,void 0,function*(){var i;try{n.state==="suspended"&&(yield n.resume())}catch(a){console.warn("Error trying to auto-resume audio context",a)}finally{(i=window.document.body)===null||i===void 0||i.removeEventListener("click",r)}});n.addEventListener("statechange",()=>{var i;n.state==="closed"&&((i=window.document.body)===null||i===void 0||i.removeEventListener("click",r))}),window.document.body.addEventListener("click",r)}return n}}function vIe(e){return e==="audioinput"?ve.Source.Microphone:e==="videoinput"?ve.Source.Camera:ve.Source.Unknown}function pT(e){return e===ve.Source.Microphone?"audioinput":e===ve.Source.Camera?"videoinput":void 0}function yIe(e){var t,n;let r=(t=e.video)!==null&&t!==void 0?t:!0;return e.resolution&&e.resolution.width>0&&e.resolution.height>0&&(r=typeof r=="boolean"?{}:r,Of()?r=Object.assign(Object.assign({},r),{width:{max:e.resolution.width},height:{max:e.resolution.height},frameRate:e.resolution.frameRate}):r=Object.assign(Object.assign({},r),{width:{ideal:e.resolution.width},height:{ideal:e.resolution.height},frameRate:e.resolution.frameRate})),{audio:(n=e.audio)!==null&&n!==void 0?n:!1,video:r,controller:e.controller,selfBrowserSurface:e.selfBrowserSurface,surfaceSwitching:e.surfaceSwitching,systemAudio:e.systemAudio,preferCurrentTab:e.preferCurrentTab}}function P0(e){return e.split("/")[1].toLowerCase()}function bIe(e){const t=[];return e.forEach(n=>{n.track!==void 0&&t.push(new QF({cid:n.track.mediaStreamID,track:n.trackInfo}))}),t}function Dt(e){return"mediaStreamTrack"in e?{trackID:e.sid,source:e.source,muted:e.isMuted,enabled:e.mediaStreamTrack.enabled,kind:e.kind,streamID:e.mediaStreamID,streamTrackID:e.mediaStreamTrack.id}:{trackID:e.trackSid,enabled:e.isEnabled,muted:e.isMuted,trackInfo:Object.assign({mimeType:e.mimeType,name:e.trackName,encrypted:e.isEncrypted,kind:e.kind,source:e.source},e.track?Dt(e.track):{})}}function wIe(){return typeof RTCRtpReceiver<"u"&&"getSynchronizationSources"in RTCRtpReceiver}function CIe(e,t){var n;e===void 0&&(e={}),t===void 0&&(t={});const r=[...Object.keys(t),...Object.keys(e)],i={};for(const a of r)e[a]!==t[a]&&(i[a]=(n=t[a])!==null&&n!==void 0?n:"");return i}function oee(e){const t=Object.assign({},e);let n,r;return typeof t.audio=="object"&&t.audio.processor&&(n=t.audio.processor,t.audio=Object.assign(Object.assign({},t.audio),{processor:void 0})),typeof t.video=="object"&&t.video.processor&&(r=t.video.processor,t.video=Object.assign(Object.assign({},t.video),{processor:void 0})),{audioProcessor:n,videoProcessor:r,optionsWithoutProcessor:fIe(t)}}function BIe(e){switch(e){case Mr.CAMERA:return ve.Source.Camera;case Mr.MICROPHONE:return ve.Source.Microphone;case Mr.SCREEN_SHARE:return ve.Source.ScreenShare;case Mr.SCREEN_SHARE_AUDIO:return ve.Source.ScreenShareAudio;default:return ve.Source.Unknown}}function lQ(e,t){return e.width*e.height<t.width*t.height}function SIe(e,t){var n;return(n=e.layers)===null||n===void 0?void 0:n.find(r=>r.quality===t)}const xIe=5e3,Nm=[];var mo;(function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH"})(mo||(mo={}));class ve extends il.EventEmitter{get streamState(){return this._streamState}setStreamState(t){this._streamState=t}constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var i;super(),this.attachedElements=[],this.isMuted=!1,this._streamState=ve.StreamState.Active,this.isInBackground=!1,this._currentBitrate=0,this.log=_t,this.appVisibilityChangedListener=()=>{this.backgroundTimeout&&clearTimeout(this.backgroundTimeout),document.visibilityState==="hidden"?this.backgroundTimeout=setTimeout(()=>this.handleAppVisibilityChanged(),xIe):this.handleAppVisibilityChanged()},this.log=Wc((i=r.loggerName)!==null&&i!==void 0?i:ps.Track),this.loggerContextCb=r.loggerContextCb,this.setMaxListeners(100),this.kind=n,this._mediaStreamTrack=t,this._mediaStreamID=t.id,this.source=ve.Source.Unknown}get logContext(){var t;return Object.assign(Object.assign({},(t=this.loggerContextCb)===null||t===void 0?void 0:t.call(this)),Dt(this))}get currentBitrate(){return this._currentBitrate}get mediaStreamTrack(){return this._mediaStreamTrack}get mediaStreamID(){return this._mediaStreamID}attach(t){let n="audio";this.kind===ve.Kind.Video&&(n="video"),this.attachedElements.length===0&&this.kind===ve.Kind.Video&&this.addAppVisibilityListener(),t||(n==="audio"&&(Nm.forEach(a=>{a.parentElement===null&&!t&&(t=a)}),t&&Nm.splice(Nm.indexOf(t),1)),t||(t=document.createElement(n))),this.attachedElements.includes(t)||this.attachedElements.push(t),Yh(this.mediaStreamTrack,t);const r=t.srcObject.getTracks(),i=r.some(a=>a.kind==="audio");return t.play().then(()=>{this.emit(i?Re.AudioPlaybackStarted:Re.VideoPlaybackStarted)}).catch(a=>{a.name==="NotAllowedError"?this.emit(i?Re.AudioPlaybackFailed:Re.VideoPlaybackFailed,a):a.name==="AbortError"?_t.debug("".concat(i?"audio":"video"," playback aborted, likely due to new play request")):_t.warn("could not playback ".concat(i?"audio":"video"),a),i&&t&&r.some(o=>o.kind==="video")&&a.name==="NotAllowedError"&&(t.muted=!0,t.play().catch(()=>{}))}),this.emit(Re.ElementAttached,t),t}detach(t){try{if(t){mp(this.mediaStreamTrack,t);const r=this.attachedElements.indexOf(t);return r>=0&&(this.attachedElements.splice(r,1),this.recycleElement(t),this.emit(Re.ElementDetached,t)),t}const n=[];return this.attachedElements.forEach(r=>{mp(this.mediaStreamTrack,r),n.push(r),this.recycleElement(r),this.emit(Re.ElementDetached,r)}),this.attachedElements=[],n}finally{this.attachedElements.length===0&&this.removeAppVisibilityListener()}}stop(){this.stopMonitor(),this._mediaStreamTrack.stop()}enable(){this._mediaStreamTrack.enabled=!0}disable(){this._mediaStreamTrack.enabled=!1}stopMonitor(){this.monitorInterval&&clearInterval(this.monitorInterval),this.timeSyncHandle&&cancelAnimationFrame(this.timeSyncHandle)}updateLoggerOptions(t){t.loggerName&&(this.log=Wc(t.loggerName)),t.loggerContextCb&&(this.loggerContextCb=t.loggerContextCb)}recycleElement(t){if(t instanceof HTMLAudioElement){let n=!0;t.pause(),Nm.forEach(r=>{r.parentElement||(n=!1)}),n&&Nm.push(t)}}handleAppVisibilityChanged(){return J(this,void 0,void 0,function*(){this.isInBackground=document.visibilityState==="hidden",!this.isInBackground&&this.kind===ve.Kind.Video&&setTimeout(()=>this.attachedElements.forEach(t=>t.play().catch(()=>{})),0)})}addAppVisibilityListener(){Qa()?(this.isInBackground=document.visibilityState==="hidden",document.addEventListener("visibilitychange",this.appVisibilityChangedListener)):this.isInBackground=!1}removeAppVisibilityListener(){Qa()&&document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}}function Yh(e,t){let n;t.srcObject instanceof MediaStream?n=t.srcObject:n=new MediaStream;let r;e.kind==="audio"?r=n.getAudioTracks():r=n.getVideoTracks(),r.includes(e)||(r.forEach(i=>{n.removeTrack(i)}),n.addTrack(e)),(!Of()||!(t instanceof HTMLVideoElement))&&(t.autoplay=!0),t.muted=n.getAudioTracks().length===0,t instanceof HTMLVideoElement&&(t.playsInline=!0),t.srcObject!==n&&(t.srcObject=n,(Of()||Ff())&&t instanceof HTMLVideoElement&&setTimeout(()=>{t.srcObject=n,t.play().catch(()=>{})},0))}function mp(e,t){if(t.srcObject instanceof MediaStream){const n=t.srcObject;n.removeTrack(e),n.getTracks().length>0?t.srcObject=n:t.srcObject=null}}(function(e){let t;(function(l){l.Audio="audio",l.Video="video",l.Unknown="unknown"})(t=e.Kind||(e.Kind={}));let n;(function(l){l.Camera="camera",l.Microphone="microphone",l.ScreenShare="screen_share",l.ScreenShareAudio="screen_share_audio",l.Unknown="unknown"})(n=e.Source||(e.Source={}));let r;(function(l){l.Active="active",l.Paused="paused",l.Unknown="unknown"})(r=e.StreamState||(e.StreamState={}));function i(l){switch(l){case t.Audio:return Qs.AUDIO;case t.Video:return Qs.VIDEO;default:return Qs.DATA}}e.kindToProto=i;function a(l){switch(l){case Qs.AUDIO:return t.Audio;case Qs.VIDEO:return t.Video;default:return t.Unknown}}e.kindFromProto=a;function o(l){switch(l){case n.Camera:return Mr.CAMERA;case n.Microphone:return Mr.MICROPHONE;case n.ScreenShare:return Mr.SCREEN_SHARE;case n.ScreenShareAudio:return Mr.SCREEN_SHARE_AUDIO;default:return Mr.UNKNOWN}}e.sourceToProto=o;function s(l){switch(l){case Mr.CAMERA:return n.Camera;case Mr.MICROPHONE:return n.Microphone;case Mr.SCREEN_SHARE:return n.ScreenShare;case Mr.SCREEN_SHARE_AUDIO:return n.ScreenShareAudio;default:return n.Unknown}}e.sourceFromProto=s;function c(l){switch(l){case nT.ACTIVE:return r.Active;case nT.PAUSED:return r.Paused;default:return r.Unknown}}e.streamStateFromProto=c})(ve||(ve={}));const kIe="|",AQ="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension";function EIe(e){const t=e.split(kIe);return t.length>1?[t[0],e.substr(t[0].length+1)]:[e,""]}function ji(e){return new ca(t=>Qi.setTimeout(t,e))}function gT(){return"addTransceiver"in RTCPeerConnection.prototype}function mT(){return"addTrack"in RTCPeerConnection.prototype}function TIe(){if(!("getCapabilities"in RTCRtpSender)||Of()||Ff())return!1;const e=RTCRtpSender.getCapabilities("video");let t=!1;if(e){for(const n of e.codecs)if(n.mimeType.toLowerCase()==="video/av1"){t=!0;break}}return t}function _Ie(){if(!("getCapabilities"in RTCRtpSender)||Ff())return!1;if(Of()){const n=Ca();if(n!=null&&n.version&&Js(n.version,"16")<0||(n==null?void 0:n.os)==="iOS"&&(n!=null&&n.osVersion)&&Js(n.osVersion,"16")<0)return!1}const e=RTCRtpSender.getCapabilities("video");let t=!1;if(e){for(const n of e.codecs)if(n.mimeType.toLowerCase()==="video/vp9"){t=!0;break}}return t}function Hs(e){return e==="av1"||e==="vp9"}function vT(e){return!document||Pv()?!1:(e||(e=document.createElement("audio")),"setSinkId"in e)}function PIe(){return typeof RTCPeerConnection>"u"?!1:gT()||mT()}function Ff(){var e;return((e=Ca())===null||e===void 0?void 0:e.name)==="Firefox"}function uQ(){const e=Ca();return!!e&&e.name==="Chrome"&&e.os!=="iOS"}function Of(){var e;return((e=Ca())===null||e===void 0?void 0:e.name)==="Safari"}function Pv(){const e=Ca();return(e==null?void 0:e.name)==="Safari"||(e==null?void 0:e.os)==="iOS"}function IIe(){const e=Ca();return(e==null?void 0:e.name)==="Safari"&&e.version.startsWith("17.")||(e==null?void 0:e.os)==="iOS"&&!!(e!=null&&e.osVersion)&&Js(e.osVersion,"17")>=0}function FIe(e){return e||(e=Ca()),(e==null?void 0:e.name)==="Safari"&&Js(e.version,"18.3")>0||(e==null?void 0:e.os)==="iOS"&&!!(e!=null&&e.osVersion)&&Js(e.osVersion,"18.3")>0}function see(){var e,t;return Qa()?(t=(e=navigator.userAgentData)===null||e===void 0?void 0:e.mobile)!==null&&t!==void 0?t:/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent):!1}function OIe(){const e=Ca(),t="17.2";if(e)return e.name!=="Safari"&&e.os!=="iOS"||e.os==="iOS"&&e.osVersion&&Js(e.osVersion,t)>=0?!0:e.name==="Safari"&&Js(e.version,t)>=0}function Qa(){return typeof document<"u"}function Gc(){return navigator.product=="ReactNative"}function qp(e){return e.hostname.endsWith(".livekit.cloud")||e.hostname.endsWith(".livekit.run")}function Ox(e){return qp(e)?e.hostname.split(".")[0]:null}function cee(){if(global&&global.LiveKitReactNativeGlobal)return global.LiveKitReactNativeGlobal}function lee(){if(!Gc())return;let e=cee();if(e)return e.platform}function dQ(){if(Qa())return window.devicePixelRatio;if(Gc()){let e=cee();if(e)return e.devicePixelRatio}return 1}function Js(e,t){const n=e.split("."),r=t.split("."),i=Math.min(n.length,r.length);for(let a=0;a<i;++a){const o=parseInt(n[a],10),s=parseInt(r[a],10);if(o>s)return 1;if(o<s)return-1;if(a===i-1&&o===s)return 0}return e===""&&t!==""?-1:t===""?1:n.length==r.length?0:n.length<r.length?-1:1}function LIe(e){for(const t of e)t.target.handleResize(t)}function UIe(e){for(const t of e)t.target.handleVisibilityChanged(t)}let Lx=null;const fQ=()=>(Lx||(Lx=new ResizeObserver(LIe)),Lx);let Ux=null;const hQ=()=>(Ux||(Ux=new IntersectionObserver(UIe,{root:null,rootMargin:"0px"})),Ux);function NIe(){var e;const t=new aZ({sdk:oZ.JS,protocol:uIe,version:AIe});return Gc()&&(t.os=(e=lee())!==null&&e!==void 0?e:""),t}function pQ(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const i=document.createElement("canvas");i.width=e,i.height=t;const a=i.getContext("2d");a==null||a.fillRect(0,0,i.width,i.height),r&&a&&(a.beginPath(),a.arc(e/2,t/2,50,0,Math.PI*2,!0),a.closePath(),a.fillStyle="grey",a.fill());const o=i.captureStream(),[s]=o.getTracks();if(!s)throw Error("Could not get empty media stream video track");return s.enabled=n,s}let Mm;function Nx(){if(!Mm){const e=new AudioContext,t=e.createOscillator(),n=e.createGain();n.gain.setValueAtTime(0,0);const r=e.createMediaStreamDestination();if(t.connect(n),n.connect(r),t.start(),[Mm]=r.stream.getAudioTracks(),!Mm)throw Error("Could not get empty media stream audio track");Mm.enabled=!1}return Mm.clone()}class cs{get isResolved(){return this._isResolved}constructor(t,n){this._isResolved=!1,this.onFinally=n,this.promise=new Promise((r,i)=>J(this,void 0,void 0,function*(){this.resolve=r,this.reject=i,t&&(yield t(r,i))})).finally(()=>{var r;this._isResolved=!0,(r=this.onFinally)===null||r===void 0||r.call(this)})}}function MIe(e){return pIe.includes(e)}function Af(e){if(typeof e=="string"||typeof e=="number")return e;if(Array.isArray(e))return e[0];if(e.exact!==void 0)return Array.isArray(e.exact)?e.exact[0]:e.exact;if(e.ideal!==void 0)return Array.isArray(e.ideal)?e.ideal[0]:e.ideal;throw Error("could not unwrap constraint")}function RIe(e){return e.startsWith("http")?e.replace(/^(http)/,"ws"):e}function Iv(e){return e.startsWith("ws")?e.replace(/^(ws)/,"http"):e}function DIe(e,t){return e.segments.map(n=>{let{id:r,text:i,language:a,startTime:o,endTime:s,final:c}=n;var l;const A=(l=t.get(r))!==null&&l!==void 0?l:Date.now(),u=Date.now();return c?t.delete(r):t.set(r,A),{id:r,text:i,startTime:Number.parseInt(o.toString()),endTime:Number.parseInt(s.toString()),final:c,language:a,firstReceivedTime:A,lastReceivedTime:u}})}function QIe(e){const{id:t,timestamp:n,message:r,editTimestamp:i}=e;return{id:t,timestamp:Number.parseInt(n.toString()),editTimestamp:i?Number.parseInt(i.toString()):void 0,message:r}}function gQ(e){switch(e.reason){case Sn.LeaveRequest:return e.context;case Sn.Cancelled:return Ks.CLIENT_INITIATED;case Sn.NotAllowed:return Ks.USER_REJECTED;case Sn.ServerUnreachable:return Ks.JOIN_FAILURE;default:return Ks.UNKNOWN_REASON}}function wb(e){return e!==void 0?Number(e):void 0}function Ud(e){return e!==void 0?BigInt(e):void 0}function uf(e){return!!e&&!(e instanceof MediaStreamTrack)&&e.isLocal}function jc(e){return!!e&&e.kind==ve.Kind.Audio}function rd(e){return!!e&&e.kind==ve.Kind.Video}function qA(e){return uf(e)&&rd(e)}function _l(e){return uf(e)&&jc(e)}function yT(e){return!!e&&!e.isLocal}function jIe(e){return!!e&&!e.isLocal}function Mx(e){return yT(e)&&rd(e)}function HIe(e){return e.isLocal}function $Ie(e,t){const n=[];let r=new TextEncoder().encode(e);for(;r.length>t;){let i=t;for(;i>0;){const a=r[i];if(a!==void 0&&(a&192)!==128)break;i--}n.push(r.slice(0,i)),r=r.slice(i)}return r.length>0&&n.push(r),n}function KIe(e){var t;const n=e.get("Cache-Control");if(n){const r=(t=n.match(/(?:^|[,\s])max-age=(\d+)/))===null||t===void 0?void 0:t[1];if(r)return parseInt(r,10)}}function VIe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const r=zIe(e,t);return n?r:XF(r,"v1")}function zIe(e,t){const n=new URL(RIe(e));return t.forEach((r,i)=>{n.searchParams.set(i,r)}),XF(n,"rtc")}function WIe(e){const t=new URL(Iv(e));return XF(t,"validate")}function Aee(e){return e.endsWith("/")?e:"".concat(e,"/")}function XF(e,t){return e.pathname="".concat(Aee(e.pathname)).concat(t),e}function mQ(e){if(typeof e=="string")return q7.fromJson(JSON.parse(e),{ignoreUnknownFields:!0});if(e instanceof ArrayBuffer)return q7.fromBinary(new Uint8Array(e));throw new Error("could not decode websocket message: ".concat(typeof e))}function GIe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Unknown reason";if(!(e instanceof AbortSignal))return t;const n=e.reason;switch(typeof n){case"string":return n;case"object":return n instanceof Error?n.message:t;default:return"toString"in n?n.toString():t}}const qIe=10,Rm="lk_e2ee",YIe="LKFrameEncryptionKey",XIe={sharedKey:!1,ratchetSalt:YIe,ratchetWindowSize:8,failureTolerance:qIe,keyringSize:16};var Uu;(function(e){e.SetKey="setKey",e.RatchetRequest="ratchetRequest",e.KeyRatcheted="keyRatcheted"})(Uu||(Uu={}));var vQ;(function(e){e.KeyRatcheted="keyRatcheted"})(vQ||(vQ={}));var vu;(function(e){e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError"})(vu||(vu={}));var yQ;(function(e){e.Error="cryptorError"})(yQ||(yQ={}));function JIe(){return ZIe()||bT()}function bT(){return typeof window.RTCRtpScriptTransform<"u"}function ZIe(){return typeof window.RTCRtpSender<"u"&&typeof window.RTCRtpSender.prototype.createEncodedStreams<"u"}function eFe(e){var t,n,r,i,a;if(((t=e.value)===null||t===void 0?void 0:t.case)!=="sipDtmf"&&((n=e.value)===null||n===void 0?void 0:n.case)!=="metrics"&&((r=e.value)===null||r===void 0?void 0:r.case)!=="speaker"&&((i=e.value)===null||i===void 0?void 0:i.case)!=="transcription"&&((a=e.value)===null||a===void 0?void 0:a.case)!=="encryptedPacket")return new JJ({value:e.value})}class xRe extends il.EventEmitter{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this.onKeyRatcheted=(n,r,i)=>{_t.debug("key ratcheted event received",{ratchetResult:n,participantId:r,keyIndex:i})},this.keyInfoMap=new Map,this.options=Object.assign(Object.assign({},XIe),t),this.on(Uu.KeyRatcheted,this.onKeyRatcheted)}onSetEncryptionKey(t,n,r){const i={key:t,participantIdentity:n,keyIndex:r};if(!this.options.sharedKey&&!n)throw new Error("participant identity needs to be passed for encryption key if sharedKey option is false");this.keyInfoMap.set("".concat(n??"shared","-").concat(r??0),i),this.emit(Uu.SetKey,i)}getKeys(){return Array.from(this.keyInfoMap.values())}getOptions(){return this.options}ratchetKey(t,n){this.emit(Uu.RatchetRequest,t,n)}}var bQ;(function(e){e[e.InvalidKey=0]="InvalidKey",e[e.MissingKey=1]="MissingKey",e[e.InternalError=2]="InternalError"})(bQ||(bQ={}));class tFe extends il.EventEmitter{constructor(t,n){super(),this.decryptDataRequests=new Map,this.encryptDataRequests=new Map,this.onWorkerMessage=r=>{var i,a;const{kind:o,data:s}=r.data;switch(o){case"error":if(_t.error(s.error.message),s.uuid){const A=this.decryptDataRequests.get(s.uuid);if(A!=null&&A.reject){A.reject(s.error);break}const u=this.encryptDataRequests.get(s.uuid);if(u!=null&&u.reject){u.reject(s.error);break}}this.emit(vu.EncryptionError,s.error,s.participantIdentity);break;case"initAck":s.enabled&&this.keyProvider.getKeys().forEach(A=>{this.postKey(A)});break;case"enable":if(s.enabled&&this.keyProvider.getKeys().forEach(A=>{this.postKey(A)}),this.encryptionEnabled!==s.enabled&&s.participantIdentity===((i=this.room)===null||i===void 0?void 0:i.localParticipant.identity))this.emit(vu.ParticipantEncryptionStatusChanged,s.enabled,this.room.localParticipant),this.encryptionEnabled=s.enabled;else if(s.participantIdentity){const A=(a=this.room)===null||a===void 0?void 0:a.getParticipantByIdentity(s.participantIdentity);if(!A)throw TypeError("couldn't set encryption status, participant not found".concat(s.participantIdentity));this.emit(vu.ParticipantEncryptionStatusChanged,s.enabled,A)}break;case"ratchetKey":this.keyProvider.emit(Uu.KeyRatcheted,s.ratchetResult,s.participantIdentity,s.keyIndex);break;case"decryptDataResponse":const c=this.decryptDataRequests.get(s.uuid);c!=null&&c.resolve&&c.resolve(s);break;case"encryptDataResponse":const l=this.encryptDataRequests.get(s.uuid);l!=null&&l.resolve&&l.resolve(s);break}},this.onWorkerError=r=>{_t.error("e2ee worker encountered an error:",{error:r.error}),this.emit(vu.EncryptionError,r.error,void 0)},this.keyProvider=t.keyProvider,this.worker=t.worker,this.encryptionEnabled=!1,this.dataChannelEncryptionEnabled=n}get isEnabled(){return this.encryptionEnabled}get isDataChannelEncryptionEnabled(){return this.isEnabled&&this.dataChannelEncryptionEnabled}setup(t){if(!JIe())throw new GF("tried to setup end-to-end encryption on an unsupported browser");if(_t.info("setting up e2ee"),t!==this.room){this.room=t,this.setupEventListeners(t,this.keyProvider);const n={kind:"init",data:{keyProviderOptions:this.keyProvider.getOptions(),loglevel:GPe.getLevel()}};this.worker&&(_t.info("initializing worker",{worker:this.worker}),this.worker.onmessage=this.onWorkerMessage,this.worker.onerror=this.onWorkerError,this.worker.postMessage(n))}}setParticipantCryptorEnabled(t,n){_t.debug("set e2ee to ".concat(t," for participant ").concat(n)),this.postEnable(t,n)}setSifTrailer(t){!t||t.length===0?_t.warn("ignoring server sent trailer as it's empty"):this.postSifTrailer(t)}setupEngine(t){t.on(Qe.RTPVideoMapUpdate,n=>{this.postRTPMap(n)})}setupEventListeners(t,n){t.on(we.TrackPublished,(r,i)=>this.setParticipantCryptorEnabled(r.trackInfo.encryption!==Ir.NONE,i.identity)),t.on(we.ConnectionStateChanged,r=>{r===Kt.Connected&&t.remoteParticipants.forEach(i=>{i.trackPublications.forEach(a=>{this.setParticipantCryptorEnabled(a.trackInfo.encryption!==Ir.NONE,i.identity)})})}).on(we.TrackUnsubscribed,(r,i,a)=>{var o;const s={kind:"removeTransform",data:{participantIdentity:a.identity,trackId:r.mediaStreamID}};(o=this.worker)===null||o===void 0||o.postMessage(s)}).on(we.TrackSubscribed,(r,i,a)=>{this.setupE2EEReceiver(r,a.identity,i.trackInfo)}).on(we.SignalConnected,()=>{if(!this.room)throw new TypeError("expected room to be present on signal connect");n.getKeys().forEach(r=>{this.postKey(r)}),this.setParticipantCryptorEnabled(this.room.localParticipant.isE2EEEnabled,this.room.localParticipant.identity)}),t.localParticipant.on(_e.LocalSenderCreated,(r,i)=>J(this,void 0,void 0,function*(){this.setupE2EESender(i,r)})),t.localParticipant.on(_e.LocalTrackPublished,r=>{if(!rd(r.track)||!Pv())return;const i={kind:"updateCodec",data:{trackId:r.track.mediaStreamID,codec:P0(r.trackInfo.codecs[0].mimeType),participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(i)}),n.on(Uu.SetKey,r=>this.postKey(r)).on(Uu.RatchetRequest,(r,i)=>this.postRatchetRequest(r,i))}encryptData(t){return J(this,void 0,void 0,function*(){if(!this.worker)throw Error("could not encrypt data, worker is missing");const n=crypto.randomUUID(),r={kind:"encryptDataRequest",data:{uuid:n,payload:t,participantIdentity:this.room.localParticipant.identity}},i=new cs;return i.onFinally=()=>{this.encryptDataRequests.delete(n)},this.encryptDataRequests.set(n,i),this.worker.postMessage(r),i.promise})}handleEncryptedData(t,n,r,i){if(!this.worker)throw Error("could not handle encrypted data, worker is missing");const a=crypto.randomUUID(),o={kind:"decryptDataRequest",data:{uuid:a,payload:t,iv:n,participantIdentity:r,keyIndex:i}},s=new cs;return s.onFinally=()=>{this.decryptDataRequests.delete(a)},this.decryptDataRequests.set(a,s),this.worker.postMessage(o),s.promise}postRatchetRequest(t,n){if(!this.worker)throw Error("could not ratchet key, worker is missing");const r={kind:"ratchetRequest",data:{participantIdentity:t,keyIndex:n}};this.worker.postMessage(r)}postKey(t){let{key:n,participantIdentity:r,keyIndex:i}=t;var a;if(!this.worker)throw Error("could not set key, worker is missing");const o={kind:"setKey",data:{participantIdentity:r,isPublisher:r===((a=this.room)===null||a===void 0?void 0:a.localParticipant.identity),key:n,keyIndex:i}};this.worker.postMessage(o)}postEnable(t,n){if(this.worker){const r={kind:"enable",data:{enabled:t,participantIdentity:n}};this.worker.postMessage(r)}else throw new ReferenceError("failed to enable e2ee, worker is not ready")}postRTPMap(t){var n;if(!this.worker)throw TypeError("could not post rtp map, worker is missing");if(!(!((n=this.room)===null||n===void 0)&&n.localParticipant.identity))throw TypeError("could not post rtp map, local participant identity is missing");const r={kind:"setRTPMap",data:{map:t,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(r)}postSifTrailer(t){if(!this.worker)throw Error("could not post SIF trailer, worker is missing");const n={kind:"setSifTrailer",data:{trailer:t}};this.worker.postMessage(n)}setupE2EEReceiver(t,n,r){if(t.receiver){if(!(r!=null&&r.mimeType)||r.mimeType==="")throw new TypeError("MimeType missing from trackInfo, cannot set up E2EE cryptor");this.handleReceiver(t.receiver,t.mediaStreamID,n,t.kind==="video"?P0(r.mimeType):void 0)}}setupE2EESender(t,n){if(!uf(t)||!n){n||_t.warn("early return because sender is not ready");return}this.handleSender(n,t.mediaStreamID,void 0)}handleReceiver(t,n,r,i){return J(this,void 0,void 0,function*(){if(this.worker){if(bT()&&!uQ()){const a={kind:"decode",participantIdentity:r,trackId:n,codec:i};t.transform=new RTCRtpScriptTransform(this.worker,a)}else{if(Rm in t&&i){const c={kind:"updateCodec",data:{trackId:n,codec:i,participantIdentity:r}};this.worker.postMessage(c);return}let a=t.writableStream,o=t.readableStream;if(!a||!o){const c=t.createEncodedStreams();t.writableStream=c.writable,a=c.writable,t.readableStream=c.readable,o=c.readable}const s={kind:"decode",data:{readableStream:o,writableStream:a,trackId:n,codec:i,participantIdentity:r,isReuse:Rm in t}};this.worker.postMessage(s,[o,a])}t[Rm]=!0}})}handleSender(t,n,r){var i;if(!(Rm in t||!this.worker)){if(!(!((i=this.room)===null||i===void 0)&&i.localParticipant.identity)||this.room.localParticipant.identity==="")throw TypeError("local identity needs to be known in order to set up encrypted sender");if(bT()&&!uQ()){_t.info("initialize script transform");const a={kind:"encode",participantIdentity:this.room.localParticipant.identity,trackId:n,codec:r};t.transform=new RTCRtpScriptTransform(this.worker,a)}else{_t.info("initialize encoded streams");const a=t.createEncodedStreams(),o={kind:"encode",data:{readableStream:a.readable,writableStream:a.writable,codec:r,trackId:n,participantIdentity:this.room.localParticipant.identity,isReuse:!1}};this.worker.postMessage(o,[a.readable,a.writable])}t[Rm]=!0}}}const nFe=500,rFe=15e3;class vp{constructor(){this.failedConnectionAttempts=new Map,this.backOffPromises=new Map}static getInstance(){return this._instance||(this._instance=new vp),this._instance}addFailedConnectionAttempt(t){var n;const r=new URL(t),i=Ox(r);if(!i)return;let a=(n=this.failedConnectionAttempts.get(i))!==null&&n!==void 0?n:0;this.failedConnectionAttempts.set(i,a+1),this.backOffPromises.set(i,ji(Math.min(nFe*Math.pow(2,a),rFe)))}getBackOffPromise(t){const n=new URL(t),r=n&&Ox(n);return r&&this.backOffPromises.get(r)||Promise.resolve()}resetFailedConnectionAttempts(t){const n=new URL(t),r=n&&Ox(n);r&&(this.failedConnectionAttempts.set(r,0),this.backOffPromises.set(r,Promise.resolve()))}resetAll(){this.backOffPromises.clear(),this.failedConnectionAttempts.clear()}}vp._instance=null;const Rx="default";class yi{constructor(){this._previousDevices=[]}static getInstance(){return this.instance===void 0&&(this.instance=new yi),this.instance}get previousDevices(){return this._previousDevices}getDevices(t){return J(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){var a;if(((a=yi.userMediaPromiseMap)===null||a===void 0?void 0:a.size)>0){_t.debug("awaiting getUserMedia promise");try{n?yield yi.userMediaPromiseMap.get(n):yield Promise.all(yi.userMediaPromiseMap.values())}catch{_t.warn("error waiting for media permissons")}}let o=yield navigator.mediaDevices.enumerateDevices();if(i&&!(Of()&&r.hasDeviceInUse(n))&&(o.filter(c=>c.kind===n).length===0||o.some(c=>{const l=c.label==="",A=n?c.kind===n:!0;return l&&A}))){const c={video:n!=="audioinput"&&n!=="audiooutput",audio:n!=="videoinput"&&{deviceId:{ideal:"default"}}},l=yield navigator.mediaDevices.getUserMedia(c);o=yield navigator.mediaDevices.enumerateDevices(),l.getTracks().forEach(A=>{A.stop()})}return r._previousDevices=o,n&&(o=o.filter(s=>s.kind===n)),o}()})}normalizeDeviceId(t,n,r){return J(this,void 0,void 0,function*(){if(n!==Rx)return n;const i=yield this.getDevices(t),a=i.find(s=>s.deviceId===Rx);if(!a){_t.warn("could not reliably determine default device");return}const o=i.find(s=>s.deviceId!==Rx&&s.groupId===(r??a.groupId));if(!o){_t.warn("could not reliably determine default device");return}return o==null?void 0:o.deviceId})}hasDeviceInUse(t){return t?yi.userMediaPromiseMap.has(t):yi.userMediaPromiseMap.size>0}}yi.mediaDeviceKinds=["audioinput","audiooutput","videoinput"];yi.userMediaPromiseMap=new Map;var I0;(function(e){e[e.WAITING=0]="WAITING",e[e.RUNNING=1]="RUNNING",e[e.COMPLETED=2]="COMPLETED"})(I0||(I0={}));class iFe{constructor(){this.pendingTasks=new Map,this.taskMutex=new wa,this.nextTaskIndex=0}run(t){return J(this,void 0,void 0,function*(){const n={id:this.nextTaskIndex++,enqueuedAt:Date.now(),status:I0.WAITING};this.pendingTasks.set(n.id,n);const r=yield this.taskMutex.lock();try{return n.executedAt=Date.now(),n.status=I0.RUNNING,yield t()}finally{n.status=I0.COMPLETED,this.pendingTasks.delete(n.id),r()}})}flush(){return J(this,void 0,void 0,function*(){return this.run(()=>J(this,void 0,void 0,function*(){}))})}snapshot(){return Array.from(this.pendingTasks.values())}}class aFe{get readyState(){return this.ws.readyState}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r,i;if(!((r=n.signal)===null||r===void 0)&&r.aborted)throw new DOMException("This operation was aborted","AbortError");this.url=t;const a=new WebSocket(t,(i=n.protocols)!==null&&i!==void 0?i:[]);a.binaryType="arraybuffer",this.ws=a;const o=function(){let{closeCode:s,reason:c}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return a.close(s,c)};this.opened=new ca((s,c)=>{const l=()=>{c(gt.websocket("Encountered websocket error during connection establishment"))};a.onopen=()=>{s({readable:new ReadableStream({start(A){a.onmessage=u=>{let{data:d}=u;return A.enqueue(d)},a.onerror=u=>A.error(u)},cancel:o}),writable:new WritableStream({write(A){a.send(A)},abort(){a.close()},close:o}),protocol:a.protocol,extensions:a.extensions}),a.removeEventListener("error",l)},a.addEventListener("error",l)}),this.closed=new ca((s,c)=>{const l=()=>J(this,void 0,void 0,function*(){const A=new ca(d=>{a.readyState!==WebSocket.CLOSED&&a.addEventListener("close",f=>{d(f)},{once:!0})}),u=yield ca.race([ji(250),A]);u?s(u):c(gt.websocket("Encountered unspecified websocket error without a timely close event"))});a.onclose=A=>{let{code:u,reason:d}=A;s({closeCode:u,reason:d}),a.removeEventListener("error",l)},a.addEventListener("error",l)}),n.signal&&(n.signal.onabort=()=>a.close()),this.close=o}}const oFe=["syncState","trickle","offer","answer","simulate","leave"];function sFe(e){const t=oFe.indexOf(e.case)>=0;return _t.trace("request allowed to bypass queue:",{canPass:t,req:e}),t}var Bn;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.CONNECTED=1]="CONNECTED",e[e.RECONNECTING=2]="RECONNECTING",e[e.DISCONNECTING=3]="DISCONNECTING",e[e.DISCONNECTED=4]="DISCONNECTED"})(Bn||(Bn={}));const cFe=250;class JF{get currentState(){return this.state}get isDisconnected(){return this.state===Bn.DISCONNECTING||this.state===Bn.DISCONNECTED}get isEstablishingConnection(){return this.state===Bn.CONNECTING||this.state===Bn.RECONNECTING}getNextRequestId(){return this._requestId+=1,this._requestId}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r;this.rtt=0,this.state=Bn.DISCONNECTED,this.log=_t,this._requestId=0,this.useV0SignalPath=!1,this.resetCallbacks=()=>{this.onAnswer=void 0,this.onLeave=void 0,this.onLocalTrackPublished=void 0,this.onLocalTrackUnpublished=void 0,this.onNegotiateRequested=void 0,this.onOffer=void 0,this.onRemoteMuteChanged=void 0,this.onSubscribedQualityUpdate=void 0,this.onTokenRefresh=void 0,this.onTrickle=void 0,this.onClose=void 0,this.onMediaSectionsRequirement=void 0},this.log=Wc((r=n.loggerName)!==null&&r!==void 0?r:ps.Signal),this.loggerContextCb=n.loggerContextCb,this.useJSON=t,this.requestQueue=new iFe,this.queuedRequests=[],this.closingLock=new wa,this.connectionLock=new wa,this.state=Bn.DISCONNECTED}get logContext(){var t,n;return(n=(t=this.loggerContextCb)===null||t===void 0?void 0:t.call(this))!==null&&n!==void 0?n:{}}join(t,n,r,i){return J(this,arguments,void 0,function(a,o,s,c){var l=this;let A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return function*(){return l.state=Bn.CONNECTING,l.options=s,yield l.connect(a,o,s,c,A)}()})}reconnect(t,n,r,i){return J(this,void 0,void 0,function*(){if(!this.options){this.log.warn("attempted to reconnect without signal options being set, ignoring",this.logContext);return}return this.state=Bn.RECONNECTING,this.clearPingInterval(),yield this.connect(t,n,Object.assign(Object.assign({},this.options),{reconnect:!0,sid:r,reconnectReason:i}),void 0,this.useV0SignalPath)})}connect(t,n,r,i){return J(this,arguments,void 0,function(a,o,s,c){var l=this;let A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return function*(){const u=yield l.connectionLock.lock();l.connectOptions=s,l.useV0SignalPath=A;const d=NIe(),f=A?lFe(o,d,s):AFe(o,d,s),h=VIe(a,f,A).toString(),p=WIe(h).toString();return new Promise((v,m)=>J(l,void 0,void 0,function*(){var w,B;try{let C=!1;const S=U=>J(this,void 0,void 0,function*(){if(C)return;C=!0;const T=U instanceof Event?U.currentTarget:U,O=GIe(T,"Abort handler called");this.streamWriter&&!this.isDisconnected?this.sendLeave().then(()=>this.close(O)).catch(H=>{this.log.error(H),this.close()}):this.close(),k(),m(gt.cancelled(O))});c==null||c.addEventListener("abort",S);const k=()=>{clearTimeout(_),c==null||c.removeEventListener("abort",S)},_=setTimeout(()=>{S(gt.timeout("room connection has timed out (signal)"))},s.websocketTimeout),F=(U,T)=>{this.handleSignalConnected(U,_,T)},P=new URL(h);P.searchParams.has("access_token")&&P.searchParams.set("access_token","<redacted>"),this.log.debug("connecting to ".concat(P),Object.assign({reconnect:s.reconnect,reconnectReason:s.reconnectReason},this.logContext)),this.ws&&(yield this.close(!1)),this.ws=new aFe(h);try{this.ws.closed.then(ae=>{var ie;this.isEstablishingConnection&&m(gt.internal("Websocket got closed during a (re)connection attempt: ".concat(ae.reason))),ae.closeCode!==1e3&&(this.log.warn("websocket closed",Object.assign(Object.assign({},this.logContext),{reason:ae.reason,code:ae.closeCode,wasClean:ae.closeCode===1e3,state:this.state})),this.state===Bn.CONNECTED&&this.handleOnClose((ie=ae.reason)!==null&&ie!==void 0?ie:"Unexpected WS error"))}).catch(ae=>{this.isEstablishingConnection&&m(gt.internal("Websocket error during a (re)connection attempt: ".concat(ae)))});const U=yield this.ws.opened.catch(ae=>J(this,void 0,void 0,function*(){if(this.state!==Bn.CONNECTED){this.state=Bn.DISCONNECTED,clearTimeout(_);const ie=yield this.handleConnectionError(ae,p);m(ie);return}this.handleWSError(ae),m(ae)}));if(clearTimeout(_),!U)return;const T=U.readable.getReader();this.streamWriter=U.writable.getWriter();const O=yield T.read();if(T.releaseLock(),!O.value)throw gt.internal("no message received as first message");const H=mQ(O.value),$=this.validateFirstMessage(H,(w=s.reconnect)!==null&&w!==void 0?w:!1);if(!$.isValid){m($.error);return}((B=H.message)===null||B===void 0?void 0:B.case)==="join"&&(this.pingTimeoutDuration=H.message.value.pingTimeout,this.pingIntervalDuration=H.message.value.pingInterval,this.pingTimeoutDuration&&this.pingTimeoutDuration>0&&this.log.debug("ping config",Object.assign(Object.assign({},this.logContext),{timeout:this.pingTimeoutDuration,interval:this.pingIntervalDuration})));const Z=$.shouldProcessFirstMessage?H:void 0;F(U,Z),v($.response)}catch(U){m(U)}finally{k()}}finally{u()}}))}()})}startReadingLoop(t,n){return J(this,void 0,void 0,function*(){for(n&&this.handleSignalResponse(n);;){this.signalLatency&&(yield ji(this.signalLatency));const{done:r,value:i}=yield t.read();if(r)break;const a=mQ(i);this.handleSignalResponse(a)}})}close(){return J(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Close method called on signal client";return function*(){if([Bn.DISCONNECTING||Bn.DISCONNECTED].includes(t.state)){t.log.debug("ignoring signal close as it's already in disconnecting state");return}const i=yield t.closingLock.lock();try{if(t.clearPingInterval(),n&&(t.state=Bn.DISCONNECTING),t.ws){t.ws.close({closeCode:1e3,reason:r});const a=t.ws.closed;t.ws=void 0,t.streamWriter=void 0,yield Promise.race([a,ji(cFe)])}}catch(a){t.log.debug("websocket error while closing",Object.assign(Object.assign({},t.logContext),{error:a}))}finally{n&&(t.state=Bn.DISCONNECTED),i()}}()})}sendOffer(t,n){this.log.debug("sending offer",Object.assign(Object.assign({},this.logContext),{offerSdp:t.sdp})),this.sendRequest({case:"offer",value:Xh(t,n)})}sendAnswer(t,n){return this.log.debug("sending answer",Object.assign(Object.assign({},this.logContext),{answerSdp:t.sdp})),this.sendRequest({case:"answer",value:Xh(t,n)})}sendIceCandidate(t,n){return this.log.debug("sending ice candidate",Object.assign(Object.assign({},this.logContext),{candidate:t})),this.sendRequest({case:"trickle",value:new EB({candidateInit:JSON.stringify(t),target:n})})}sendMuteTrack(t,n){return this.sendRequest({case:"mute",value:new TB({sid:t,muted:n})})}sendAddTrack(t){return this.sendRequest({case:"addTrack",value:t})}sendUpdateLocalMetadata(t,n){return J(this,arguments,void 0,function(r,i){var a=this;let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){const s=a.getNextRequestId();return yield a.sendRequest({case:"updateMetadata",value:new HF({requestId:s,metadata:r,name:i,attributes:o})}),s}()})}sendUpdateTrackSettings(t){this.sendRequest({case:"trackSetting",value:t})}sendUpdateSubscription(t){return this.sendRequest({case:"subscription",value:t})}sendSyncState(t){return this.sendRequest({case:"syncState",value:t})}sendUpdateVideoLayers(t,n){return this.sendRequest({case:"updateLayers",value:new gZ({trackSid:t,layers:n})})}sendUpdateSubscriptionPermissions(t,n){return this.sendRequest({case:"subscriptionPermission",value:new yZ({allParticipants:t,trackPermissions:n})})}sendSimulateScenario(t){return this.sendRequest({case:"simulate",value:t})}sendPing(){return Promise.all([this.sendRequest({case:"ping",value:Wn.parse(Date.now())}),this.sendRequest({case:"pingReq",value:new CZ({timestamp:Wn.parse(Date.now()),rtt:Wn.parse(this.rtt)})})])}sendUpdateLocalAudioTrack(t,n){return this.sendRequest({case:"updateAudioTrack",value:new jF({trackSid:t,features:n})})}sendLeave(){return this.sendRequest({case:"leave",value:new PB({reason:Ks.CLIENT_INITIATED,action:pp.DISCONNECT})})}sendRequest(t){return J(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return function*(){if(!i&&!sFe(n)&&r.state===Bn.RECONNECTING){r.queuedRequests.push(()=>J(r,void 0,void 0,function*(){yield this.sendRequest(n,!0)}));return}if(i||(yield r.requestQueue.flush()),r.signalLatency&&(yield ji(r.signalLatency)),r.isDisconnected){r.log.debug("skipping signal request (type: ".concat(n.case,") - SignalClient disconnected"));return}if(!r.streamWriter){r.log.error("cannot send signal request before connected, type: ".concat(n==null?void 0:n.case),r.logContext);return}const o=new hPe({message:n});try{r.useJSON?yield r.streamWriter.write(o.toJsonString()):yield r.streamWriter.write(o.toBinary())}catch(s){r.log.error("error sending signal message",Object.assign(Object.assign({},r.logContext),{error:s}))}}()})}handleSignalResponse(t){var n,r;const i=t.message;if(i==null){this.log.debug("received unsupported message",this.logContext);return}let a=!1;if(i.case==="answer"){const o=wQ(i.value);this.onAnswer&&this.onAnswer(o,i.value.id,i.value.midToTrackId)}else if(i.case==="offer"){const o=wQ(i.value);this.onOffer&&this.onOffer(o,i.value.id,i.value.midToTrackId)}else if(i.case==="trickle"){const o=JSON.parse(i.value.candidateInit);this.onTrickle&&this.onTrickle(o,i.value.target)}else i.case==="update"?this.onParticipantUpdate&&this.onParticipantUpdate((n=i.value.participants)!==null&&n!==void 0?n:[]):i.case==="trackPublished"?this.onLocalTrackPublished&&this.onLocalTrackPublished(i.value):i.case==="speakersChanged"?this.onSpeakersChanged&&this.onSpeakersChanged((r=i.value.speakers)!==null&&r!==void 0?r:[]):i.case==="leave"?this.onLeave&&this.onLeave(i.value):i.case==="mute"?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(i.value.sid,i.value.muted):i.case==="roomUpdate"?this.onRoomUpdate&&i.value.room&&this.onRoomUpdate(i.value.room):i.case==="connectionQuality"?this.onConnectionQuality&&this.onConnectionQuality(i.value):i.case==="streamStateUpdate"?this.onStreamStateUpdate&&this.onStreamStateUpdate(i.value):i.case==="subscribedQualityUpdate"?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(i.value):i.case==="subscriptionPermissionUpdate"?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(i.value):i.case==="refreshToken"?this.onTokenRefresh&&this.onTokenRefresh(i.value):i.case==="trackUnpublished"?this.onLocalTrackUnpublished&&this.onLocalTrackUnpublished(i.value):i.case==="subscriptionResponse"?this.onSubscriptionError&&this.onSubscriptionError(i.value):i.case==="pong"||(i.case==="pongResp"?(this.rtt=Date.now()-Number.parseInt(i.value.lastPingTimestamp.toString()),this.resetPingTimeout(),a=!0):i.case==="requestResponse"?this.onRequestResponse&&this.onRequestResponse(i.value):i.case==="trackSubscribed"?this.onLocalTrackSubscribed&&this.onLocalTrackSubscribed(i.value.trackSid):i.case==="roomMoved"?(this.onTokenRefresh&&this.onTokenRefresh(i.value.token),this.onRoomMoved&&this.onRoomMoved(i.value)):i.case==="mediaSectionsRequirement"?this.onMediaSectionsRequirement&&this.onMediaSectionsRequirement(i.value):this.log.debug("unsupported message",Object.assign(Object.assign({},this.logContext),{msgCase:i.case})));a||this.resetPingTimeout()}setReconnected(){for(;this.queuedRequests.length>0;){const t=this.queuedRequests.shift();t&&this.requestQueue.run(t)}}handleOnClose(t){return J(this,void 0,void 0,function*(){if(this.state===Bn.DISCONNECTED)return;const n=this.onClose;yield this.close(void 0,t),this.log.debug("websocket connection closed: ".concat(t),Object.assign(Object.assign({},this.logContext),{reason:t})),n&&n(t)})}handleWSError(t){this.log.error("websocket error",Object.assign(Object.assign({},this.logContext),{error:t}))}resetPingTimeout(){if(this.clearPingTimeout(),!this.pingTimeoutDuration){this.log.warn("ping timeout duration not set",this.logContext);return}this.pingTimeout=Qi.setTimeout(()=>{this.log.warn("ping timeout triggered. last pong received at: ".concat(new Date(Date.now()-this.pingTimeoutDuration*1e3).toUTCString()),this.logContext),this.handleOnClose("ping timeout")},this.pingTimeoutDuration*1e3)}clearPingTimeout(){this.pingTimeout&&Qi.clearTimeout(this.pingTimeout)}startPingInterval(){if(this.clearPingInterval(),this.resetPingTimeout(),!this.pingIntervalDuration){this.log.warn("ping interval duration not set",this.logContext);return}this.log.debug("start ping interval",this.logContext),this.pingInterval=Qi.setInterval(()=>{this.sendPing()},this.pingIntervalDuration*1e3)}clearPingInterval(){this.log.debug("clearing ping interval",this.logContext),this.clearPingTimeout(),this.pingInterval&&Qi.clearInterval(this.pingInterval)}handleSignalConnected(t,n,r){this.state=Bn.CONNECTED,clearTimeout(n),this.startPingInterval(),this.startReadingLoop(t.readable.getReader(),r)}validateFirstMessage(t,n){var r,i,a,o,s;return((r=t.message)===null||r===void 0?void 0:r.case)==="join"?{isValid:!0,response:t.message.value}:this.state===Bn.RECONNECTING&&((i=t.message)===null||i===void 0?void 0:i.case)!=="leave"?((a=t.message)===null||a===void 0?void 0:a.case)==="reconnect"?{isValid:!0,response:t.message.value}:(this.log.debug("declaring signal reconnected without reconnect response received",this.logContext),{isValid:!0,response:void 0,shouldProcessFirstMessage:!0}):this.isEstablishingConnection&&((o=t.message)===null||o===void 0?void 0:o.case)==="leave"?{isValid:!1,error:gt.leaveRequest("Received leave request while trying to (re)connect",t.message.value.reason)}:n?{isValid:!1,error:gt.internal("Unexpected first message")}:{isValid:!1,error:gt.internal("did not receive join response, got ".concat((s=t.message)===null||s===void 0?void 0:s.case," instead"))}}handleConnectionError(t,n){return J(this,void 0,void 0,function*(){try{const r=yield fetch(n);switch(r.status){case 404:return gt.serviceNotFound("v1 RTC path not found. Consider upgrading your LiveKit server version","v0-rtc");case 401:case 403:const i=yield r.text();return gt.notAllowed(i,r.status);default:break}return t instanceof gt?t:gt.internal("Encountered unknown websocket error during connection: ".concat(t),{status:r.status,statusText:r.statusText})}catch(r){return r instanceof gt?r:gt.serverUnreachable(r instanceof Error?r.message:"server was not reachable")}})}}function wQ(e){const t={type:"offer",sdp:e.sdp};switch(e.type){case"answer":case"offer":case"pranswer":case"rollback":t.type=e.type;break}return t}function Xh(e,t){return new zu({sdp:e.sdp,type:e.type,id:t})}function lFe(e,t,n){var r;const i=new URLSearchParams;return i.set("access_token",e),n.reconnect&&(i.set("reconnect","1"),n.sid&&i.set("sid",n.sid)),i.set("auto_subscribe",n.autoSubscribe?"1":"0"),i.set("sdk",Gc()?"reactnative":"js"),i.set("version",t.version),i.set("protocol",t.protocol.toString()),t.deviceModel&&i.set("device_model",t.deviceModel),t.os&&i.set("os",t.os),t.osVersion&&i.set("os_version",t.osVersion),t.browser&&i.set("browser",t.browser),t.browserVersion&&i.set("browser_version",t.browserVersion),n.adaptiveStream&&i.set("adaptive_stream","1"),n.reconnectReason&&i.set("reconnect_reason",n.reconnectReason.toString()),!((r=navigator.connection)===null||r===void 0)&&r.type&&i.set("network",navigator.connection.type),i}function AFe(e,t,n){const r=new URLSearchParams;r.set("access_token",e);const i=new jPe({clientInfo:t,connectionSettings:new BZ({autoSubscribe:!!n.autoSubscribe,adaptiveStream:!!n.adaptiveStream}),reconnect:!!n.reconnect,participantSid:n.sid?n.sid:void 0});n.reconnectReason&&(i.reconnectReason=n.reconnectReason);const a=new HPe({joinRequest:i.toBinary()});return r.set("join_request",btoa(new TextDecoder("utf-8").decode(a.toBinary()))),r}class CQ{constructor(){this.buffer=[],this._totalSize=0}push(t){this.buffer.push(t),this._totalSize+=t.data.byteLength}pop(){const t=this.buffer.shift();return t&&(this._totalSize-=t.data.byteLength),t}getAll(){return this.buffer.slice()}popToSequence(t){for(;this.buffer.length>0&&this.buffer[0].sequence<=t;)this.pop()}alignBufferedAmount(t){for(;this.buffer.length>0;){const n=this.buffer[0];if(this._totalSize-n.data.byteLength<=t)break;this.pop()}}get length(){return this.buffer.length}}class uFe{constructor(t){this._map=new Map,this._lastCleanup=0,this.ttl=t}set(t,n){const r=Date.now();r-this._lastCleanup>this.ttl/2&&this.cleanup();const i=r+this.ttl;return this._map.set(t,{value:n,expiresAt:i}),this}get(t){const n=this._map.get(t);if(n){if(n.expiresAt<Date.now()){this._map.delete(t);return}return n.value}}has(t){const n=this._map.get(t);return n?n.expiresAt<Date.now()?(this._map.delete(t),!1):!0:!1}delete(t){return this._map.delete(t)}clear(){this._map.clear()}cleanup(){const t=Date.now();for(const[n,r]of this._map.entries())r.expiresAt<t&&this._map.delete(n);this._lastCleanup=t}get size(){return this.cleanup(),this._map.size}forEach(t){this.cleanup();for(const[n,r]of this._map.entries())r.expiresAt>=Date.now()&&t(r.value,n,this.asValueMap())}map(t){this.cleanup();const n=[],r=this.asValueMap();for(const[i,a]of r.entries())n.push(t(a,i,r));return n}asValueMap(){const t=new Map;for(const[n,r]of this._map.entries())r.expiresAt>=Date.now()&&t.set(n,r.value);return t}}var Ps={},Dx={},Qx={exports:{}},BQ;function ZF(){if(BQ)return Qx.exports;BQ=1;var e=Qx.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var n="candidate:%s %d %s %d %s %d typ %s";return n+=t.raddr!=null?" raddr %s rport %d":"%v%v",n+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(n+=" generation %d"),n+=t["network-id"]!=null?" network-id %d":"%v",n+=t["network-cost"]!=null?" network-cost %d":"%v",n}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var n="ssrc:%d";return t.attribute!=null&&(n+=" %s",t.value!=null&&(n+=":%s")),n}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var n="mediaclk:";return n+=t.id!=null?"id=%s %s":"%v%s",n+=t.mediaClockValue!=null?"=%s":"",n+=t.rateNumerator!=null?" rate=%s":"",n+=t.rateDenominator!=null?"/%s":"",n}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(e).forEach(function(t){var n=e[t];n.forEach(function(r){r.reg||(r.reg=/(.*)/),r.format||(r.format="%s")})}),Qx.exports}var SQ;function dFe(){return SQ||(SQ=1,function(e){var t=function(s){return String(Number(s))===s?Number(s):s},n=function(s,c,l,A){if(A&&!l)c[A]=t(s[1]);else for(var u=0;u<l.length;u+=1)s[u+1]!=null&&(c[l[u]]=t(s[u+1]))},r=function(s,c,l){var A=s.name&&s.names;s.push&&!c[s.push]?c[s.push]=[]:A&&!c[s.name]&&(c[s.name]={});var u=s.push?{}:A?c[s.name]:c;n(l.match(s.reg),u,s.names,s.name),s.push&&c[s.push].push(u)},i=ZF(),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(s){var c={},l=[],A=c;return s.split(/(\r\n|\r|\n)/).filter(a).forEach(function(u){var d=u[0],f=u.slice(2);d==="m"&&(l.push({rtp:[],fmtp:[]}),A=l[l.length-1]);for(var h=0;h<(i[d]||[]).length;h+=1){var p=i[d][h];if(p.reg.test(f))return r(p,A,f)}}),c.media=l,c};var o=function(s,c){var l=c.split(/=(.+)/,2);return l.length===2?s[l[0]]=t(l[1]):l.length===1&&c.length>1&&(s[l[0]]=void 0),s};e.parseParams=function(s){return s.split(/;\s?/).reduce(o,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(s){return s.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(s){for(var c=[],l=s.split(" ").map(t),A=0;A<l.length;A+=3)c.push({component:l[A],ip:l[A+1],port:l[A+2]});return c},e.parseImageAttributes=function(s){return s.split(" ").map(function(c){return c.substring(1,c.length-1).split(",").reduce(o,{})})},e.parseSimulcastStreamList=function(s){return s.split(";").map(function(c){return c.split(",").map(function(l){var A,u=!1;return l[0]!=="~"?A=t(l):(A=t(l.substring(1,l.length)),u=!0),{scid:A,paused:u}})})}}(Dx)),Dx}var jx,xQ;function fFe(){if(xQ)return jx;xQ=1;var e=ZF(),t=/%[sdv%]/g,n=function(o){var s=1,c=arguments,l=c.length;return o.replace(t,function(A){if(s>=l)return A;var u=c[s];switch(s+=1,A){case"%%":return"%";case"%s":return String(u);case"%d":return Number(u);case"%v":return""}})},r=function(o,s,c){var l=s.format instanceof Function?s.format(s.push?c:c[s.name]):s.format,A=[o+"="+l];if(s.names)for(var u=0;u<s.names.length;u+=1){var d=s.names[u];s.name?A.push(c[s.name][d]):A.push(c[s.names[u]])}else A.push(c[s.name]);return n.apply(null,A)},i=["v","o","s","i","u","e","p","c","b","t","r","z","a"],a=["i","c","b","a"];return jx=function(o,s){s=s||{},o.version==null&&(o.version=0),o.name==null&&(o.name=" "),o.media.forEach(function(u){u.payloads==null&&(u.payloads="")});var c=s.outerOrder||i,l=s.innerOrder||a,A=[];return c.forEach(function(u){e[u].forEach(function(d){d.name in o&&o[d.name]!=null?A.push(r(u,d,o)):d.push in o&&o[d.push]!=null&&o[d.push].forEach(function(f){A.push(r(u,d,f))})})}),o.media.forEach(function(u){A.push(r("m",e.m[0],u)),l.forEach(function(d){e[d].forEach(function(f){f.name in u&&u[f.name]!=null?A.push(r(d,f,u)):f.push in u&&u[f.push]!=null&&u[f.push].forEach(function(h){A.push(r(d,f,h))})})})}),A.join(`\r
`)+`\r
`},jx}var kQ;function hFe(){if(kQ)return Ps;kQ=1;var e=dFe(),t=fFe(),n=ZF();return Ps.grammar=n,Ps.write=t,Ps.parse=e.parse,Ps.parseParams=e.parseParams,Ps.parseFmtpConfig=e.parseFmtpConfig,Ps.parsePayloads=e.parsePayloads,Ps.parseRemoteCandidates=e.parseRemoteCandidates,Ps.parseImageAttributes=e.parseImageAttributes,Ps.parseSimulcastStreamList=e.parseSimulcastStreamList,Ps}var JA=hFe();function e6(e,t,n){var r,i,a;t===void 0&&(t=50),n===void 0&&(n={});var o=(r=n.isImmediate)!=null&&r,s=(i=n.callback)!=null&&i,c=n.maxWait,l=Date.now(),A=[];function u(){if(c!==void 0){var f=Date.now()-l;if(f+t>=c)return c-f}return t}var d=function(){var f=[].slice.call(arguments),h=this;return new Promise(function(p,v){var m=o&&a===void 0;if(a!==void 0&&clearTimeout(a),a=setTimeout(function(){if(a=void 0,l=Date.now(),!o){var B=e.apply(h,f);s&&s(B),A.forEach(function(C){return(0,C.resolve)(B)}),A=[]}},u()),m){var w=e.apply(h,f);return s&&s(w),p(w)}A.push({resolve:p,reject:v})})};return d.cancel=function(f){a!==void 0&&clearTimeout(a),A.forEach(function(h){return(0,h.reject)(f)}),A=[]},d}const pFe=.7,gFe=20,df={NegotiationStarted:"negotiationStarted",NegotiationComplete:"negotiationComplete",RTPVideoPayloadTypes:"rtpVideoPayloadTypes"};class EQ extends il.EventEmitter{get pc(){return this._pc||(this._pc=this.createPC()),this._pc}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r;super(),this.log=_t,this.ddExtID=0,this.latestOfferId=0,this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.trackBitrates=[],this.remoteStereoMids=[],this.remoteNackMids=[],this.negotiate=e6(i=>J(this,void 0,void 0,function*(){this.emit(df.NegotiationStarted);try{yield this.createAndSendOffer()}catch(a){if(i)i(a);else throw a}}),gFe),this.close=()=>{this._pc&&(this._pc.close(),this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.ondatachannel=null,this._pc.onnegotiationneeded=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ondatachannel=null,this._pc.ontrack=null,this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc=null)},this.log=Wc((r=n.loggerName)!==null&&r!==void 0?r:ps.PCTransport),this.loggerOptions=n,this.config=t,this._pc=this.createPC(),this.offerLock=new wa}createPC(){const t=new RTCPeerConnection(this.config);return t.onicecandidate=n=>{var r;n.candidate&&((r=this.onIceCandidate)===null||r===void 0||r.call(this,n.candidate))},t.onicecandidateerror=n=>{var r;(r=this.onIceCandidateError)===null||r===void 0||r.call(this,n)},t.oniceconnectionstatechange=()=>{var n;(n=this.onIceConnectionStateChange)===null||n===void 0||n.call(this,t.iceConnectionState)},t.onsignalingstatechange=()=>{var n;(n=this.onSignalingStatechange)===null||n===void 0||n.call(this,t.signalingState)},t.onconnectionstatechange=()=>{var n;(n=this.onConnectionStateChange)===null||n===void 0||n.call(this,t.connectionState)},t.ondatachannel=n=>{var r;(r=this.onDataChannel)===null||r===void 0||r.call(this,n)},t.ontrack=n=>{var r;(r=this.onTrack)===null||r===void 0||r.call(this,n)},t}get logContext(){var t,n;return Object.assign({},(n=(t=this.loggerOptions).loggerContextCb)===null||n===void 0?void 0:n.call(t))}get isICEConnected(){return this._pc!==null&&(this.pc.iceConnectionState==="connected"||this.pc.iceConnectionState==="completed")}addIceCandidate(t){return J(this,void 0,void 0,function*(){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(t);this.pendingCandidates.push(t)})}setRemoteDescription(t,n){return J(this,void 0,void 0,function*(){var r;if(t.type==="answer"&&this.latestOfferId>0&&n>0&&n!==this.latestOfferId)return this.log.warn("ignoring answer for old offer",Object.assign(Object.assign({},this.logContext),{offerId:n,latestOfferId:this.latestOfferId})),!1;let i;if(t.type==="offer"){let{stereoMids:a,nackMids:o}=mFe(t);this.remoteStereoMids=a,this.remoteNackMids=o}else if(t.type==="answer"){const a=JA.parse((r=t.sdp)!==null&&r!==void 0?r:"");a.media.forEach(o=>{const s=t6(o.mid);o.type==="audio"&&this.trackBitrates.some(c=>{if(!c.transceiver||s!=c.transceiver.mid)return!1;let l=0;if(o.rtp.some(u=>u.codec.toUpperCase()===c.codec.toUpperCase()?(l=u.payload,!0):!1),l===0)return!0;let A=!1;for(const u of o.fmtp)if(u.payload===l){u.config=u.config.split(";").filter(d=>!d.includes("maxaveragebitrate")).join(";"),c.maxbr>0&&(u.config+=";maxaveragebitrate=".concat(c.maxbr*1e3)),A=!0;break}return A||c.maxbr>0&&o.fmtp.push({payload:l,config:"maxaveragebitrate=".concat(c.maxbr*1e3)}),!0})}),i=JA.write(a)}return yield this.setMungedSDP(t,i,!0),this.pendingCandidates.forEach(a=>{this.pc.addIceCandidate(a)}),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate?(this.renegotiate=!1,yield this.createAndSendOffer()):t.type==="answer"&&(this.emit(df.NegotiationComplete),t.sdp&&JA.parse(t.sdp).media.forEach(o=>{o.type==="video"&&this.emit(df.RTPVideoPayloadTypes,o.rtp)})),!0})}createAndSendOffer(t){return J(this,void 0,void 0,function*(){var n;const r=yield this.offerLock.lock();try{if(this.onOffer===void 0)return;if(t!=null&&t.iceRestart&&(this.log.debug("restarting ICE",this.logContext),this.restartingIce=!0),this._pc&&this._pc.signalingState==="have-local-offer"){const s=this._pc.remoteDescription;if(t!=null&&t.iceRestart&&s)yield this._pc.setRemoteDescription(s);else{this.renegotiate=!0,this.log.debug("requesting renegotiation",Object.assign({},this.logContext));return}}else if(!this._pc||this._pc.signalingState==="closed"){this.log.warn("could not createOffer with closed peer connection",this.logContext);return}this.log.debug("starting to negotiate",this.logContext);const i=this.latestOfferId+1;this.latestOfferId=i;const a=yield this.pc.createOffer(t);this.log.debug("original offer",Object.assign({sdp:a.sdp},this.logContext));const o=JA.parse((n=a.sdp)!==null&&n!==void 0?n:"");if(o.media.forEach(s=>{_Q(s),s.type==="audio"?TQ(s,["all"],[]):s.type==="video"&&this.trackBitrates.some(c=>{if(!s.msid||!c.cid||!s.msid.includes(c.cid))return!1;let l=0;if(s.rtp.some(u=>u.codec.toUpperCase()===c.codec.toUpperCase()?(l=u.payload,!0):!1),l===0||(Hs(c.codec)&&!Of()&&this.ensureVideoDDExtensionForSVC(s,o),!Hs(c.codec)))return!0;const A=Math.round(c.maxbr*pFe);for(const u of s.fmtp)if(u.payload===l){u.config.includes("x-google-start-bitrate")||(u.config+=";x-google-start-bitrate=".concat(A));break}return!0})}),this.latestOfferId>i){this.log.warn("latestOfferId mismatch",Object.assign(Object.assign({},this.logContext),{latestOfferId:this.latestOfferId,offerId:i}));return}yield this.setMungedSDP(a,JA.write(o)),this.onOffer(a,this.latestOfferId)}finally{r()}})}createAndSetAnswer(){return J(this,void 0,void 0,function*(){var t;const n=yield this.pc.createAnswer(),r=JA.parse((t=n.sdp)!==null&&t!==void 0?t:"");return r.media.forEach(i=>{_Q(i),i.type==="audio"&&TQ(i,this.remoteStereoMids,this.remoteNackMids)}),yield this.setMungedSDP(n,JA.write(r)),n})}createDataChannel(t,n){return this.pc.createDataChannel(t,n)}addTransceiver(t,n){return this.pc.addTransceiver(t,n)}addTransceiverOfKind(t,n){return this.pc.addTransceiver(t,n)}addTrack(t){if(!this._pc)throw new Cr("PC closed, cannot add track");return this._pc.addTrack(t)}setTrackCodecBitrate(t){this.trackBitrates.push(t)}setConfiguration(t){var n;if(!this._pc)throw new Cr("PC closed, cannot configure");return(n=this._pc)===null||n===void 0?void 0:n.setConfiguration(t)}canRemoveTrack(){var t;return!!(!((t=this._pc)===null||t===void 0)&&t.removeTrack)}removeTrack(t){var n;return(n=this._pc)===null||n===void 0?void 0:n.removeTrack(t)}getConnectionState(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.connectionState)!==null&&n!==void 0?n:"closed"}getICEConnectionState(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.iceConnectionState)!==null&&n!==void 0?n:"closed"}getSignallingState(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.signalingState)!==null&&n!==void 0?n:"closed"}getTransceivers(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.getTransceivers())!==null&&n!==void 0?n:[]}getSenders(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.getSenders())!==null&&n!==void 0?n:[]}getLocalDescription(){var t;return(t=this._pc)===null||t===void 0?void 0:t.localDescription}getRemoteDescription(){var t;return(t=this.pc)===null||t===void 0?void 0:t.remoteDescription}getStats(){return this.pc.getStats()}getConnectedAddress(){return J(this,void 0,void 0,function*(){var t;if(!this._pc)return;let n="";const r=new Map,i=new Map;if((yield this._pc.getStats()).forEach(s=>{switch(s.type){case"transport":n=s.selectedCandidatePairId;break;case"candidate-pair":n===""&&s.selected&&(n=s.id),r.set(s.id,s);break;case"remote-candidate":i.set(s.id,"".concat(s.address,":").concat(s.port));break}}),n==="")return;const o=(t=r.get(n))===null||t===void 0?void 0:t.remoteCandidateId;if(o!==void 0)return i.get(o)})}setMungedSDP(t,n,r){return J(this,void 0,void 0,function*(){if(n){const i=t.sdp;t.sdp=n;try{this.log.debug("setting munged ".concat(r?"remote":"local"," description"),this.logContext),r?yield this.pc.setRemoteDescription(t):yield this.pc.setLocalDescription(t);return}catch(a){this.log.warn("not able to set ".concat(t.type,", falling back to unmodified sdp"),Object.assign(Object.assign({},this.logContext),{error:a,sdp:n})),t.sdp=i}}try{r?yield this.pc.setRemoteDescription(t):yield this.pc.setLocalDescription(t)}catch(i){let a="unknown error";i instanceof Error?a=i.message:typeof i=="string"&&(a=i);const o={error:a,sdp:t.sdp};throw!r&&this.pc.remoteDescription&&(o.remoteSdp=this.pc.remoteDescription),this.log.error("unable to set ".concat(t.type),Object.assign(Object.assign({},this.logContext),{fields:o})),new lf(a)}})}ensureVideoDDExtensionForSVC(t,n){var r,i;if(!((r=t.ext)===null||r===void 0?void 0:r.some(o=>o.uri===AQ))){if(this.ddExtID===0){let o=0;n.media.forEach(s=>{var c;s.type==="video"&&((c=s.ext)===null||c===void 0||c.forEach(l=>{l.value>o&&(o=l.value)}))}),this.ddExtID=o+1}(i=t.ext)===null||i===void 0||i.push({value:this.ddExtID,uri:AQ})}}}function TQ(e,t,n){const r=t6(e.mid);let i=0;e.rtp.some(a=>a.codec==="opus"?(i=a.payload,!0):!1),i>0&&(e.rtcpFb||(e.rtcpFb=[]),n.includes(r)&&!e.rtcpFb.some(a=>a.payload===i&&a.type==="nack")&&e.rtcpFb.push({payload:i,type:"nack"}),(t.includes(r)||t.length===1&&t[0]==="all")&&e.fmtp.some(a=>a.payload===i?(a.config.includes("stereo=1")||(a.config+=";stereo=1"),!0):!1))}function mFe(e){var t;const n=[],r=[],i=JA.parse((t=e.sdp)!==null&&t!==void 0?t:"");let a=0;return i.media.forEach(o=>{var s;const c=t6(o.mid);o.type==="audio"&&(o.rtp.some(l=>l.codec==="opus"?(a=l.payload,!0):!1),!((s=o.rtcpFb)===null||s===void 0)&&s.some(l=>l.payload===a&&l.type==="nack")&&r.push(c),o.fmtp.some(l=>l.payload===a?(l.config.includes("sprop-stereo=1")&&n.push(c),!0):!1))}),{stereoMids:n,nackMids:r}}function _Q(e){if(e.connection){const t=e.connection.ip.indexOf(":")>=0;(e.connection.version===4&&t||e.connection.version===6&&!t)&&(e.connection.ip="0.0.0.0",e.connection.version=4)}}function t6(e){return typeof e=="number"?e.toFixed(0):e}const wT="vp8",vFe={audioPreset:dT.music,dtx:!0,red:!0,forceStereo:!1,simulcast:!0,screenShareEncoding:qF.h1080fps15.encoding,stopMicTrackOnMute:!1,videoCodec:wT,backupCodec:!0,preConnectBuffer:!1},uee={deviceId:{ideal:"default"},autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0,voiceIsolation:!0},dee={deviceId:{ideal:"default"},resolution:_v.h720.resolution},yFe={adaptiveStream:!1,dynacast:!1,stopLocalTrackOnUnpublish:!0,reconnectPolicy:new YPe,disconnectOnPageLeave:!0,webAudioMix:!1,singlePeerConnection:!0},n6={autoSubscribe:!0,maxRetries:1,peerConnectionTimeout:15e3,websocketTimeout:15e3};var Zn;(function(e){e[e.NEW=0]="NEW",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED",e[e.FAILED=3]="FAILED",e[e.CLOSING=4]="CLOSING",e[e.CLOSED=5]="CLOSED"})(Zn||(Zn={}));class bFe{get needsPublisher(){return this.isPublisherConnectionRequired}get needsSubscriber(){return this.isSubscriberConnectionRequired}get currentState(){return this.state}get mode(){return this._mode}constructor(t,n,r){var i;this.peerConnectionTimeout=n6.peerConnectionTimeout,this.log=_t,this.updateState=()=>{var a,o;const s=this.state,c=this.requiredTransports.map(l=>l.getConnectionState());c.every(l=>l==="connected")?this.state=Zn.CONNECTED:c.some(l=>l==="failed")?this.state=Zn.FAILED:c.some(l=>l==="connecting")?this.state=Zn.CONNECTING:c.every(l=>l==="closed")?this.state=Zn.CLOSED:c.some(l=>l==="closed")?this.state=Zn.CLOSING:c.every(l=>l==="new")&&(this.state=Zn.NEW),s!==this.state&&(this.log.debug("pc state change: from ".concat(Zn[s]," to ").concat(Zn[this.state]),this.logContext),(a=this.onStateChange)===null||a===void 0||a.call(this,this.state,this.publisher.getConnectionState(),(o=this.subscriber)===null||o===void 0?void 0:o.getConnectionState()))},this.log=Wc((i=r.loggerName)!==null&&i!==void 0?i:ps.PCManager),this.loggerOptions=r,this.isPublisherConnectionRequired=n!=="subscriber-primary",this.isSubscriberConnectionRequired=n==="subscriber-primary",this.publisher=new EQ(t,r),this._mode=n,n!=="publisher-only"&&(this.subscriber=new EQ(t,r),this.subscriber.onConnectionStateChange=this.updateState,this.subscriber.onIceConnectionStateChange=this.updateState,this.subscriber.onSignalingStatechange=this.updateState,this.subscriber.onIceCandidate=a=>{var o;(o=this.onIceCandidate)===null||o===void 0||o.call(this,a,js.SUBSCRIBER)},this.subscriber.onDataChannel=a=>{var o;(o=this.onDataChannel)===null||o===void 0||o.call(this,a)},this.subscriber.onTrack=a=>{var o;(o=this.onTrack)===null||o===void 0||o.call(this,a)}),this.publisher.onConnectionStateChange=this.updateState,this.publisher.onIceConnectionStateChange=this.updateState,this.publisher.onSignalingStatechange=this.updateState,this.publisher.onIceCandidate=a=>{var o;(o=this.onIceCandidate)===null||o===void 0||o.call(this,a,js.PUBLISHER)},this.publisher.onTrack=a=>{var o;(o=this.onTrack)===null||o===void 0||o.call(this,a)},this.publisher.onOffer=(a,o)=>{var s;(s=this.onPublisherOffer)===null||s===void 0||s.call(this,a,o)},this.state=Zn.NEW,this.connectionLock=new wa,this.remoteOfferLock=new wa}get logContext(){var t,n;return Object.assign({},(n=(t=this.loggerOptions).loggerContextCb)===null||n===void 0?void 0:n.call(t))}requirePublisher(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isPublisherConnectionRequired=t,this.updateState()}createAndSendPublisherOffer(t){return this.publisher.createAndSendOffer(t)}setPublisherAnswer(t,n){return this.publisher.setRemoteDescription(t,n)}removeTrack(t){return this.publisher.removeTrack(t)}close(){return J(this,void 0,void 0,function*(){var t;if(this.publisher&&this.publisher.getSignallingState()!=="closed"){const n=this.publisher;for(const r of n.getSenders())try{n.canRemoveTrack()&&n.removeTrack(r)}catch(i){this.log.warn("could not removeTrack",Object.assign(Object.assign({},this.logContext),{error:i}))}}yield Promise.all([this.publisher.close(),(t=this.subscriber)===null||t===void 0?void 0:t.close()]),this.updateState()})}triggerIceRestart(){return J(this,void 0,void 0,function*(){this.subscriber&&(this.subscriber.restartingIce=!0),this.needsPublisher&&(yield this.createAndSendPublisherOffer({iceRestart:!0}))})}addIceCandidate(t,n){return J(this,void 0,void 0,function*(){var r;n===js.PUBLISHER?yield this.publisher.addIceCandidate(t):yield(r=this.subscriber)===null||r===void 0?void 0:r.addIceCandidate(t)})}createSubscriberAnswerFromOffer(t,n){return J(this,void 0,void 0,function*(){var r,i,a;this.log.debug("received server offer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:t.type,sdp:t.sdp,signalingState:(r=this.subscriber)===null||r===void 0?void 0:r.getSignallingState().toString()}));const o=yield this.remoteOfferLock.lock();try{return(yield(i=this.subscriber)===null||i===void 0?void 0:i.setRemoteDescription(t,n))?yield(a=this.subscriber)===null||a===void 0?void 0:a.createAndSetAnswer():void 0}finally{o()}})}updateConfiguration(t,n){var r;this.publisher.setConfiguration(t),(r=this.subscriber)===null||r===void 0||r.setConfiguration(t),n&&this.triggerIceRestart()}ensurePCTransportConnection(t,n){return J(this,void 0,void 0,function*(){var r;const i=yield this.connectionLock.lock();try{this.isPublisherConnectionRequired&&this.publisher.getConnectionState()!=="connected"&&this.publisher.getConnectionState()!=="connecting"&&(this.log.debug("negotiation required, start negotiating",this.logContext),this.publisher.negotiate()),yield Promise.all((r=this.requiredTransports)===null||r===void 0?void 0:r.map(a=>this.ensureTransportConnected(a,t,n)))}finally{i()}})}negotiate(t){return J(this,void 0,void 0,function*(){return new ca((n,r)=>J(this,void 0,void 0,function*(){let i=setTimeout(()=>{r(new lf("negotiation timed out"))},this.peerConnectionTimeout);const a=()=>{clearTimeout(i),this.publisher.off(df.NegotiationStarted,s),t.signal.removeEventListener("abort",o)},o=()=>{a(),r(new lf("negotiation aborted"))},s=()=>{t.signal.aborted||(clearTimeout(i),i=setTimeout(()=>{a(),r(new lf("negotiation timed out"))},this.peerConnectionTimeout))};t.signal.addEventListener("abort",o),this.publisher.on(df.NegotiationStarted,s),this.publisher.once(df.NegotiationComplete,()=>{a(),n()}),yield this.publisher.negotiate(c=>{a(),c instanceof Error?r(c):r(new Error(String(c)))})}))})}addPublisherTransceiver(t,n){return this.publisher.addTransceiver(t,n)}addPublisherTransceiverOfKind(t,n){return this.publisher.addTransceiverOfKind(t,n)}getMidForReceiver(t){const r=(this.subscriber?this.subscriber.getTransceivers():this.publisher.getTransceivers()).find(i=>i.receiver===t);return r==null?void 0:r.mid}addPublisherTrack(t){return this.publisher.addTrack(t)}createPublisherDataChannel(t,n){return this.publisher.createDataChannel(t,n)}getConnectedAddress(t){return t===js.PUBLISHER?this.publisher.getConnectedAddress():t===js.SUBSCRIBER?this.publisher.getConnectedAddress():this.requiredTransports[0].getConnectedAddress()}get requiredTransports(){const t=[];return this.isPublisherConnectionRequired&&t.push(this.publisher),this.isSubscriberConnectionRequired&&this.subscriber&&t.push(this.subscriber),t}ensureTransportConnected(t,n){return J(this,arguments,void 0,function(r,i){var a=this;let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.peerConnectionTimeout;return function*(){if(r.getConnectionState()!=="connected")return new Promise((c,l)=>J(a,void 0,void 0,function*(){const A=()=>{this.log.warn("abort transport connection",this.logContext),Qi.clearTimeout(u),l(gt.cancelled("room connection has been cancelled"))};i!=null&&i.signal.aborted&&A(),i==null||i.signal.addEventListener("abort",A);const u=Qi.setTimeout(()=>{i==null||i.signal.removeEventListener("abort",A),l(gt.internal("could not establish pc connection"))},o);for(;this.state!==Zn.CONNECTED;)if(yield ji(50),i!=null&&i.signal.aborted){l(gt.cancelled("room connection has been cancelled"));return}Qi.clearTimeout(u),i==null||i.signal.removeEventListener("abort",A),c()}))}()})}}const fee=5e3,wFe=3e4;class Zt{static fetchRegionSettings(t,n,r){return J(this,void 0,void 0,function*(){const i=yield Zt.fetchLock.lock();try{const a=yield fetch("".concat(CFe(t),"/regions"),{headers:{authorization:"Bearer ".concat(n)},signal:r});if(a.ok){const o=KIe(a.headers),s=o?o*1e3:fee;return{regionSettings:yield a.json(),updatedAtInMs:Date.now(),maxAgeInMs:s}}else throw a.status===401?gt.notAllowed("Could not fetch region settings: ".concat(a.statusText),a.status):gt.internal("Could not fetch region settings: ".concat(a.statusText))}catch(a){throw a instanceof gt?a:r!=null&&r.aborted?gt.cancelled("Region fetching was aborted"):gt.serverUnreachable("Could not fetch region settings, ".concat(a instanceof Error?"".concat(a.name,": ").concat(a.message):a))}finally{i()}})}static scheduleRefetch(t,n,r){return J(this,void 0,void 0,function*(){const i=Zt.settingsTimeouts.get(t.hostname);clearTimeout(i),Zt.settingsTimeouts.set(t.hostname,setTimeout(()=>J(this,void 0,void 0,function*(){try{const a=yield Zt.fetchRegionSettings(t,n);Zt.updateCachedRegionSettings(t,n,a)}catch(a){if(a instanceof gt&&a.reason===Sn.NotAllowed){_t.debug("token is not valid, cancelling auto region refresh");return}_t.debug("auto refetching of region settings failed",{error:a}),Zt.scheduleRefetch(t,n,r)}}),r))})}static updateCachedRegionSettings(t,n,r){Zt.cache.set(t.hostname,r),Zt.scheduleRefetch(t,n,r.maxAgeInMs)}static stopRefetch(t){const n=Zt.settingsTimeouts.get(t);n&&(clearTimeout(n),Zt.settingsTimeouts.delete(t))}static scheduleCleanup(t){let n=Zt.connectionTrackers.get(t);n&&(n.cleanupTimeout&&clearTimeout(n.cleanupTimeout),n.cleanupTimeout=setTimeout(()=>{const r=Zt.connectionTrackers.get(t);r&&r.connectionCount===0&&(_t.debug("stopping region refetch after disconnect delay",{hostname:t}),Zt.stopRefetch(t)),r&&(r.cleanupTimeout=void 0)},wFe))}static cancelCleanup(t){const n=Zt.connectionTrackers.get(t);n!=null&&n.cleanupTimeout&&(clearTimeout(n.cleanupTimeout),n.cleanupTimeout=void 0)}notifyConnected(){const t=this.serverUrl.hostname;let n=Zt.connectionTrackers.get(t);n||(n={connectionCount:0},Zt.connectionTrackers.set(t,n)),n.connectionCount++,Zt.cancelCleanup(t)}notifyDisconnected(){const t=this.serverUrl.hostname,n=Zt.connectionTrackers.get(t);n&&(n.connectionCount=Math.max(0,n.connectionCount-1),n.connectionCount===0&&Zt.scheduleCleanup(t))}constructor(t,n){this.attemptedRegions=[],this.serverUrl=new URL(t),this.token=n}updateToken(t){this.token=t}isCloud(){return qp(this.serverUrl)}getServerUrl(){return this.serverUrl}fetchRegionSettings(t){return J(this,void 0,void 0,function*(){return Zt.fetchRegionSettings(this.serverUrl,this.token,t)})}getNextBestRegionUrl(t){return J(this,void 0,void 0,function*(){if(!this.isCloud())throw Error("region availability is only supported for LiveKit Cloud domains");let n=Zt.cache.get(this.serverUrl.hostname);(!n||Date.now()-n.updatedAtInMs>n.maxAgeInMs)&&(n=yield this.fetchRegionSettings(t),Zt.updateCachedRegionSettings(this.serverUrl,this.token,n));const r=n.regionSettings.regions.filter(i=>!this.attemptedRegions.find(a=>a.url===i.url));if(r.length>0){const i=r[0];return this.attemptedRegions.push(i),_t.debug("next region: ".concat(i.region)),i.url}else return null})}resetAttempts(){this.attemptedRegions=[]}setServerReportedRegions(t){Zt.updateCachedRegionSettings(this.serverUrl,this.token,t)}}Zt.cache=new Map;Zt.settingsTimeouts=new Map;Zt.connectionTrackers=new Map;Zt.fetchLock=new wa;function CFe(e){return"".concat(e.protocol.replace("ws","http"),"//").concat(e.host,"/settings")}class hr extends Error{constructor(t,n,r){super(n),this.code=t,this.message=PQ(n,hr.MAX_MESSAGE_BYTES),this.data=r?PQ(r,hr.MAX_DATA_BYTES):void 0}static fromProto(t){return new hr(t.code,t.message,t.data)}toProto(){return new tZ({code:this.code,message:this.message,data:this.data})}static builtIn(t,n){return new hr(hr.ErrorCode[t],hr.ErrorMessage[t],n)}}hr.MAX_MESSAGE_BYTES=256;hr.MAX_DATA_BYTES=15360;hr.ErrorCode={APPLICATION_ERROR:1500,CONNECTION_TIMEOUT:1501,RESPONSE_TIMEOUT:1502,RECIPIENT_DISCONNECTED:1503,RESPONSE_PAYLOAD_TOO_LARGE:1504,SEND_FAILED:1505,UNSUPPORTED_METHOD:1400,RECIPIENT_NOT_FOUND:1401,REQUEST_PAYLOAD_TOO_LARGE:1402,UNSUPPORTED_SERVER:1403,UNSUPPORTED_VERSION:1404};hr.ErrorMessage={APPLICATION_ERROR:"Application error in method handler",CONNECTION_TIMEOUT:"Connection timeout",RESPONSE_TIMEOUT:"Response timeout",RECIPIENT_DISCONNECTED:"Recipient disconnected",RESPONSE_PAYLOAD_TOO_LARGE:"Response payload too large",SEND_FAILED:"Failed to send",UNSUPPORTED_METHOD:"Method not supported at destination",RECIPIENT_NOT_FOUND:"Recipient not found",REQUEST_PAYLOAD_TOO_LARGE:"Request payload too large",UNSUPPORTED_SERVER:"RPC not supported by server",UNSUPPORTED_VERSION:"Unsupported RPC version"};const hee=15360;function r6(e){return new TextEncoder().encode(e).length}function PQ(e,t){if(r6(e)<=t)return e;let n=0,r=e.length;const i=new TextEncoder;for(;n<r;){const a=Math.floor((n+r+1)/2);i.encode(e.slice(0,a)).length<=t?n=a:r=a-1}return e.slice(0,n)}const i6=2e3;function FB(e,t){if(!t)return 0;let n,r;return"bytesReceived"in e?(n=e.bytesReceived,r=t.bytesReceived):"bytesSent"in e&&(n=e.bytesSent,r=t.bytesSent),n===void 0||r===void 0||e.timestamp===void 0||t.timestamp===void 0?0:(n-r)*8*1e3/(e.timestamp-t.timestamp)}const a6=typeof MediaRecorder<"u";class BFe{constructor(){throw new Error("MediaRecorder is not available in this environment")}}const SFe=a6?MediaRecorder:BFe;class xFe extends SFe{constructor(t,n){if(!a6)throw new Error("MediaRecorder is not available in this environment");super(new MediaStream([t.mediaStreamTrack]),n);let r,i;const a=()=>i===void 0,o=()=>{this.removeEventListener("dataavailable",r),this.removeEventListener("stop",o),this.removeEventListener("error",s),i==null||i.close(),i=void 0},s=c=>{i==null||i.error(c),this.removeEventListener("dataavailable",r),this.removeEventListener("stop",o),this.removeEventListener("error",s),i=void 0};this.byteStream=new ReadableStream({start:c=>{i=c,r=l=>J(this,void 0,void 0,function*(){let A;if(l.data.arrayBuffer){const u=yield l.data.arrayBuffer();A=new Uint8Array(u)}else if(l.data.byteArray)A=l.data.byteArray;else throw new Error("no data available!");a()||c.enqueue(A)}),this.addEventListener("dataavailable",r)},cancel:()=>{o()}}),this.addEventListener("stop",o),this.addEventListener("error",s)}}function kFe(){return a6}const EFe=1e3,TFe=1e4;class pee extends ve{get sender(){return this._sender}set sender(t){this._sender=t}get constraints(){return this._constraints}get hasPreConnectBuffer(){return!!this.localTrackRecorder}constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4?arguments[4]:void 0;super(t,n,a),this.manuallyStopped=!1,this.pendingDeviceChange=!1,this._isUpstreamPaused=!1,this.handleTrackMuteEvent=()=>this.debouncedTrackMuteHandler().catch(()=>this.log.debug("track mute bounce got cancelled by an unmute event",this.logContext)),this.debouncedTrackMuteHandler=e6(()=>J(this,void 0,void 0,function*(){yield this.pauseUpstream()}),5e3),this.handleTrackUnmuteEvent=()=>J(this,void 0,void 0,function*(){this.debouncedTrackMuteHandler.cancel("unmute"),yield this.resumeUpstream()}),this.handleEnded=()=>{this.isInBackground&&(this.reacquireTrack=!0),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),this.emit(Re.Ended,this)},this.reacquireTrack=!1,this.providedByUser=i,this.muteLock=new wa,this.pauseUpstreamLock=new wa,this.trackChangeLock=new wa,this.trackChangeLock.lock().then(o=>J(this,void 0,void 0,function*(){try{yield this.setMediaStreamTrack(t,!0)}finally{o()}})),this._constraints=t.getConstraints(),r&&(this._constraints=r)}get id(){return this._mediaStreamTrack.id}get dimensions(){if(this.kind!==ve.Kind.Video)return;const{width:t,height:n}=this._mediaStreamTrack.getSettings();if(t&&n)return{width:t,height:n}}get isUpstreamPaused(){return this._isUpstreamPaused}get isUserProvided(){return this.providedByUser}get mediaStreamTrack(){var t,n;return(n=(t=this.processor)===null||t===void 0?void 0:t.processedTrack)!==null&&n!==void 0?n:this._mediaStreamTrack}get isLocal(){return!0}getSourceTrackSettings(){return this._mediaStreamTrack.getSettings()}setMediaStreamTrack(t,n){return J(this,void 0,void 0,function*(){var r;if(t===this._mediaStreamTrack&&!n)return;this._mediaStreamTrack&&(this.attachedElements.forEach(a=>{mp(this._mediaStreamTrack,a)}),this.debouncedTrackMuteHandler.cancel("new-track"),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent)),this.mediaStream=new MediaStream([t]),t&&(t.addEventListener("ended",this.handleEnded),t.addEventListener("mute",this.handleTrackMuteEvent),t.addEventListener("unmute",this.handleTrackUnmuteEvent),this._constraints=t.getConstraints());let i;if(this.processor&&t){if(this.log.debug("restarting processor",this.logContext),this.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");this.processorElement&&(Yh(t,this.processorElement),this.processorElement.muted=!0),yield this.processor.restart({track:t,kind:this.kind,element:this.processorElement}),i=this.processor.processedTrack}this.sender&&((r=this.sender.transport)===null||r===void 0?void 0:r.state)!=="closed"&&(yield this.sender.replaceTrack(i??t)),!this.providedByUser&&this._mediaStreamTrack!==t&&this._mediaStreamTrack.stop(),this._mediaStreamTrack=t,t&&(this._mediaStreamTrack.enabled=!this.isMuted,yield this.resumeUpstream(),this.attachedElements.forEach(a=>{Yh(i??t,a)}))})}waitForDimensions(){return J(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:EFe;return function*(){var r;if(t.kind===ve.Kind.Audio)throw new Error("cannot get dimensions for audio tracks");((r=Ca())===null||r===void 0?void 0:r.os)==="iOS"&&(yield ji(10));const i=Date.now();for(;Date.now()-i<n;){const a=t.dimensions;if(a)return a;yield ji(50)}throw new Ql("unable to get track dimensions after timeout")}()})}setDeviceId(t){return J(this,void 0,void 0,function*(){return this._constraints.deviceId===t&&this._mediaStreamTrack.getSettings().deviceId===Af(t)?!0:(this._constraints.deviceId=t,this.isMuted?(this.pendingDeviceChange=!0,!0):(yield this.restartTrack(),Af(t)===this._mediaStreamTrack.getSettings().deviceId))})}getDeviceId(){return J(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){if(t.source===ve.Source.ScreenShare)return;const{deviceId:r,groupId:i}=t._mediaStreamTrack.getSettings(),a=t.kind===ve.Kind.Audio?"audioinput":"videoinput";return n?yi.getInstance().normalizeDeviceId(a,r,i):r}()})}mute(){return J(this,void 0,void 0,function*(){return this.setTrackMuted(!0),this})}unmute(){return J(this,void 0,void 0,function*(){return this.setTrackMuted(!1),this})}replaceTrack(t,n){return J(this,void 0,void 0,function*(){const r=yield this.trackChangeLock.lock();try{if(!this.sender)throw new Ql("unable to replace an unpublished track");let i,a;return typeof n=="boolean"?i=n:n!==void 0&&(i=n.userProvidedTrack,a=n.stopProcessor),this.providedByUser=i??!0,this.log.debug("replace MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(t),a&&this.processor&&(yield this.internalStopProcessor()),this}finally{r()}})}restart(t){return J(this,void 0,void 0,function*(){this.manuallyStopped=!1;const n=yield this.trackChangeLock.lock();try{t||(t=this._constraints);const{deviceId:r,facingMode:i}=t,a=XPe(t,["deviceId","facingMode"]);this.log.debug("restarting track with constraints",Object.assign(Object.assign({},this.logContext),{constraints:t}));const o={audio:!1,video:!1};this.kind===ve.Kind.Video?o.video=r||i?{deviceId:r,facingMode:i}:!0:o.audio=r?Object.assign({deviceId:r},a):!0,this.attachedElements.forEach(l=>{mp(this.mediaStreamTrack,l)}),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.stop();const c=(yield navigator.mediaDevices.getUserMedia(o)).getTracks()[0];return this.kind===ve.Kind.Video&&(yield c.applyConstraints(a)),c.addEventListener("ended",this.handleEnded),this.log.debug("re-acquired MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(c),this._constraints=t,this.pendingDeviceChange=!1,this.emit(Re.Restarted,this),this.manuallyStopped&&(this.log.warn("track was stopped during a restart, stopping restarted track",this.logContext),this.stop()),this}finally{n()}})}setTrackMuted(t){this.log.debug("setting ".concat(this.kind," track ").concat(t?"muted":"unmuted"),this.logContext),!(this.isMuted===t&&this._mediaStreamTrack.enabled!==t)&&(this.isMuted=t,this._mediaStreamTrack.enabled=!t,this.emit(t?Re.Muted:Re.Unmuted,this))}get needsReAcquisition(){return this._mediaStreamTrack.readyState!=="live"||this._mediaStreamTrack.muted||!this._mediaStreamTrack.enabled||this.reacquireTrack}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return J(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),see()&&(this.log.debug("visibility changed, is in Background: ".concat(this.isInBackground),this.logContext),!this.isInBackground&&this.needsReAcquisition&&!this.isUserProvided&&!this.isMuted&&(this.log.debug("track needs to be reacquired, restarting ".concat(this.source),this.logContext),yield this.restart(),this.reacquireTrack=!1))})}stop(){var t;this.manuallyStopped=!0,super.stop(),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),(t=this.processor)===null||t===void 0||t.destroy(),this.processor=void 0}pauseUpstream(){return J(this,void 0,void 0,function*(){var t;const n=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!0)return;if(!this.sender){this.log.warn("unable to pause upstream for an unpublished track",this.logContext);return}this._isUpstreamPaused=!0,this.emit(Re.UpstreamPaused,this);const r=Ca();if((r==null?void 0:r.name)==="Safari"&&Js(r.version,"12.0")<0)throw new GF("pauseUpstream is not supported on Safari < 12.");((t=this.sender.transport)===null||t===void 0?void 0:t.state)!=="closed"&&(yield this.sender.replaceTrack(null))}finally{n()}})}resumeUpstream(){return J(this,void 0,void 0,function*(){var t;const n=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!1)return;if(!this.sender){this.log.warn("unable to resume upstream for an unpublished track",this.logContext);return}this._isUpstreamPaused=!1,this.emit(Re.UpstreamResumed,this),((t=this.sender.transport)===null||t===void 0?void 0:t.state)!=="closed"&&(yield this.sender.replaceTrack(this.mediaStreamTrack))}finally{n()}})}getRTCStatsReport(){return J(this,void 0,void 0,function*(){var t;return!((t=this.sender)===null||t===void 0)&&t.getStats?yield this.sender.getStats():void 0})}setProcessor(t){return J(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){var a;const o=yield r.trackChangeLock.lock();try{r.log.debug("setting up processor",r.logContext);const s=document.createElement(r.kind),c={kind:r.kind,track:r._mediaStreamTrack,element:s,audioContext:r.audioContext};if(yield n.init(c),r.log.debug("processor initialized",r.logContext),r.processor&&(yield r.internalStopProcessor()),r.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");if(Yh(r._mediaStreamTrack,s),s.muted=!0,s.play().catch(l=>{l instanceof DOMException&&l.name==="AbortError"?(r.log.warn("failed to play processor element, retrying",Object.assign(Object.assign({},r.logContext),{error:l})),setTimeout(()=>{s.play().catch(A=>{r.log.error("failed to play processor element",Object.assign(Object.assign({},r.logContext),{err:A}))})},100)):r.log.error("failed to play processor element",Object.assign(Object.assign({},r.logContext),{error:l}))}),r.processor=n,r.processorElement=s,r.processor.processedTrack){for(const l of r.attachedElements)l!==r.processorElement&&i&&(mp(r._mediaStreamTrack,l),Yh(r.processor.processedTrack,l));yield(a=r.sender)===null||a===void 0?void 0:a.replaceTrack(r.processor.processedTrack)}r.emit(Re.TrackProcessorUpdate,r.processor)}finally{o()}}()})}getProcessor(){return this.processor}stopProcessor(){return J(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){const r=yield t.trackChangeLock.lock();try{yield t.internalStopProcessor(n)}finally{r()}}()})}internalStopProcessor(){return J(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){var r,i;t.processor&&(t.log.debug("stopping processor",t.logContext),(r=t.processor.processedTrack)===null||r===void 0||r.stop(),yield t.processor.destroy(),t.processor=void 0,n||((i=t.processorElement)===null||i===void 0||i.remove(),t.processorElement=void 0),yield t._mediaStreamTrack.applyConstraints(t._constraints),yield t.setMediaStreamTrack(t._mediaStreamTrack,!0),t.emit(Re.TrackProcessorUpdate))}()})}startPreConnectBuffer(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;if(!kFe()){this.log.warn("MediaRecorder is not available, cannot start preconnect buffer",this.logContext);return}if(this.localTrackRecorder){this.log.warn("preconnect buffer already started");return}else{let n="audio/webm;codecs=opus";MediaRecorder.isTypeSupported(n)||(n="video/mp4"),this.localTrackRecorder=new xFe(this,{mimeType:n})}this.localTrackRecorder.start(t),this.autoStopPreConnectBuffer=setTimeout(()=>{this.log.warn("preconnect buffer timed out, stopping recording automatically",this.logContext),this.stopPreConnectBuffer()},TFe)}stopPreConnectBuffer(){clearTimeout(this.autoStopPreConnectBuffer),this.localTrackRecorder&&(this.localTrackRecorder.stop(),this.localTrackRecorder=void 0)}getPreConnectBuffer(){var t;return(t=this.localTrackRecorder)===null||t===void 0?void 0:t.byteStream}getPreConnectBufferMimeType(){var t;return(t=this.localTrackRecorder)===null||t===void 0?void 0:t.mimeType}}class p5 extends pee{get enhancedNoiseCancellation(){return this.isKrispNoiseFilterEnabled}constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;super(t,ve.Kind.Audio,n,r,a),this.stopOnMute=!1,this.isKrispNoiseFilterEnabled=!1,this.monitorSender=()=>J(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let o;try{o=yield this.getSenderStats()}catch(s){this.log.error("could not get audio sender stats",Object.assign(Object.assign({},this.logContext),{error:s}));return}o&&this.prevStats&&(this._currentBitrate=FB(o,this.prevStats)),this.prevStats=o}),this.handleKrispNoiseFilterEnable=()=>{this.isKrispNoiseFilterEnabled=!0,this.log.debug("Krisp noise filter enabled",this.logContext),this.emit(Re.AudioTrackFeatureUpdate,this,vi.TF_ENHANCED_NOISE_CANCELLATION,!0)},this.handleKrispNoiseFilterDisable=()=>{this.isKrispNoiseFilterEnabled=!1,this.log.debug("Krisp noise filter disabled",this.logContext),this.emit(Re.AudioTrackFeatureUpdate,this,vi.TF_ENHANCED_NOISE_CANCELLATION,!1)},this.audioContext=i,this.checkForSilence()}mute(){const t=Object.create(null,{mute:{get:()=>super.mute}});return J(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===ve.Source.Microphone&&this.stopOnMute&&!this.isUserProvided&&(this.log.debug("stopping mic track",this.logContext),this._mediaStreamTrack.stop()),yield t.mute.call(this),this)}finally{n()}})}unmute(){const t=Object.create(null,{unmute:{get:()=>super.unmute}});return J(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.source===ve.Source.Microphone&&(this.stopOnMute||this._mediaStreamTrack.readyState==="ended"||this.pendingDeviceChange)&&!this.isUserProvided&&(this.log.debug("reacquiring mic track",this.logContext),yield this.restartTrack()),yield t.unmute.call(this),this):(this.log.debug("Track already unmuted",this.logContext),this)}finally{n()}})}restartTrack(t){return J(this,void 0,void 0,function*(){let n;if(t){const r=YF({audio:t});typeof r.audio!="boolean"&&(n=r.audio)}yield this.restart(n)})}restart(t){const n=Object.create(null,{restart:{get:()=>super.restart}});return J(this,void 0,void 0,function*(){const r=yield n.restart.call(this,t);return this.checkForSilence(),r})}startMonitor(){Qa()&&(this.monitorInterval||(this.monitorInterval=setInterval(()=>{this.monitorSender()},i6)))}setProcessor(t){return J(this,void 0,void 0,function*(){var n;const r=yield this.trackChangeLock.lock();try{if(!Gc()&&!this.audioContext)throw Error("Audio context needs to be set on LocalAudioTrack in order to enable processors");this.processor&&(yield this.internalStopProcessor());const i={kind:this.kind,track:this._mediaStreamTrack,audioContext:this.audioContext};this.log.debug("setting up audio processor ".concat(t.name),this.logContext),yield t.init(i),this.processor=t,this.processor.processedTrack&&(yield(n=this.sender)===null||n===void 0?void 0:n.replaceTrack(this.processor.processedTrack),this.processor.processedTrack.addEventListener("enable-lk-krisp-noise-filter",this.handleKrispNoiseFilterEnable),this.processor.processedTrack.addEventListener("disable-lk-krisp-noise-filter",this.handleKrispNoiseFilterDisable)),this.emit(Re.TrackProcessorUpdate,this.processor)}finally{r()}})}setAudioContext(t){this.audioContext=t}getSenderStats(){return J(this,void 0,void 0,function*(){var t;if(!(!((t=this.sender)===null||t===void 0)&&t.getStats))return;const n=yield this.sender.getStats();let r;return n.forEach(i=>{i.type==="outbound-rtp"&&(r={type:"audio",streamId:i.id,packetsSent:i.packetsSent,packetsLost:i.packetsLost,bytesSent:i.bytesSent,timestamp:i.timestamp,roundTripTime:i.roundTripTime,jitter:i.jitter})}),r})}checkForSilence(){return J(this,void 0,void 0,function*(){const t=yield iee(this);return t&&(this.isMuted||this.log.debug("silence detected on local audio track",this.logContext),this.emit(Re.AudioSilenceDetected)),t})}}function _Fe(e,t,n){switch(e.kind){case"audio":return new p5(e,t,!1,void 0,n);case"video":return new g5(e,t,!1,n);default:throw new Ql("unsupported track type: ".concat(e.kind))}}const PFe=Object.values(_v),IFe=Object.values(fT),FFe=Object.values(qF),OFe=[_v.h180,_v.h360],LFe=[fT.h180,fT.h360],UFe=e=>[{scaleResolutionDownBy:2,fps:e.encoding.maxFramerate}].map(n=>{var r,i;return new mn(Math.floor(e.width/n.scaleResolutionDownBy),Math.floor(e.height/n.scaleResolutionDownBy),Math.max(15e4,Math.floor(e.encoding.maxBitrate/(Math.pow(n.scaleResolutionDownBy,2)*(((r=e.encoding.maxFramerate)!==null&&r!==void 0?r:30)/((i=n.fps)!==null&&i!==void 0?i:30))))),n.fps,e.encoding.priority)}),CT=["q","h","f"];function BT(e,t,n,r){var i,a;let o=r==null?void 0:r.videoEncoding;e&&(o=r==null?void 0:r.screenShareEncoding);const s=r==null?void 0:r.simulcast,c=r==null?void 0:r.scalabilityMode,l=r==null?void 0:r.videoCodec;if(!o&&!s&&!c||!t||!n)return[{}];o||(o=MFe(e,t,n,l),_t.debug("using video encoding",o));const A=o.maxFramerate,u=new mn(t,n,o.maxBitrate,o.maxFramerate,o.priority);if(c&&Hs(l)){const h=new gee(c),p=[];if(h.spatial>3)throw new Error("unsupported scalabilityMode: ".concat(c));const v=Ca();if(Pv()||Gc()||(v==null?void 0:v.name)==="Chrome"&&Js(v==null?void 0:v.version,"113")<0){const m=h.suffix=="h"?2:3,w=FIe(v);for(let B=0;B<h.spatial;B+=1)p.push({rid:CT[2-B],maxBitrate:o.maxBitrate/Math.pow(m,B),maxFramerate:u.encoding.maxFramerate,scaleResolutionDownBy:w?Math.pow(2,B):void 0});p[0].scalabilityMode=c}else p.push({maxBitrate:o.maxBitrate,maxFramerate:u.encoding.maxFramerate,scalabilityMode:c});return u.encoding.priority&&(p[0].priority=u.encoding.priority,p[0].networkPriority=u.encoding.priority),_t.debug("using svc encoding",{encodings:p}),p}if(!s)return[o];let d=[];e?d=(i=FQ(r==null?void 0:r.screenShareSimulcastLayers))!==null&&i!==void 0?i:IQ(e,u):d=(a=FQ(r==null?void 0:r.videoSimulcastLayers))!==null&&a!==void 0?a:IQ(e,u);let f;if(d.length>0){const h=d[0];d.length>1&&([,f]=d);const p=Math.max(t,n);if(p>=960&&f)return Hx(t,n,[h,f,u],A);if(p>=480)return Hx(t,n,[h,u],A)}return Hx(t,n,[u])}function NFe(e,t,n){var r,i,a,o;if(!n.backupCodec||n.backupCodec===!0||n.backupCodec.codec===n.videoCodec)return;t!==n.backupCodec.codec&&_t.warn("requested a different codec than specified as backup",{serverRequested:t,backup:n.backupCodec.codec}),n.videoCodec=t,n.videoEncoding=n.backupCodec.encoding;const s=e.mediaStreamTrack.getSettings(),c=(r=s.width)!==null&&r!==void 0?r:(i=e.dimensions)===null||i===void 0?void 0:i.width,l=(a=s.height)!==null&&a!==void 0?a:(o=e.dimensions)===null||o===void 0?void 0:o.height;return e.source===ve.Source.ScreenShare&&n.simulcast&&(n.simulcast=!1),BT(e.source===ve.Source.ScreenShare,c,l,n)}function MFe(e,t,n,r){const i=RFe(e,t,n);let{encoding:a}=i[0];const o=Math.max(t,n);for(let s=0;s<i.length;s+=1){const c=i[s];if(a=c.encoding,c.width>=o)break}if(r)switch(r){case"av1":case"h265":a=Object.assign({},a),a.maxBitrate=a.maxBitrate*.7;break;case"vp9":a=Object.assign({},a),a.maxBitrate=a.maxBitrate*.85;break}return a}function RFe(e,t,n){if(e)return FFe;const r=t>n?t/n:n/t;return Math.abs(r-16/9)<Math.abs(r-4/3)?PFe:IFe}function IQ(e,t){if(e)return UFe(t);const{width:n,height:r}=t,i=n>r?n/r:r/n;return Math.abs(i-16/9)<Math.abs(i-4/3)?OFe:LFe}function Hx(e,t,n,r){const i=[];if(n.forEach((a,o)=>{if(o>=CT.length)return;const s=Math.min(e,t),l={rid:CT[o],scaleResolutionDownBy:Math.max(1,s/Math.min(a.width,a.height)),maxBitrate:a.encoding.maxBitrate},A=r&&a.encoding.maxFramerate?Math.min(r,a.encoding.maxFramerate):a.encoding.maxFramerate;A&&(l.maxFramerate=A);const u=Ff()||o===0;a.encoding.priority&&u&&(l.priority=a.encoding.priority,l.networkPriority=a.encoding.priority),i.push(l)}),Gc()&&lee()==="ios"){let a;i.forEach(s=>{a?s.maxFramerate&&s.maxFramerate>a&&(a=s.maxFramerate):a=s.maxFramerate});let o=!0;i.forEach(s=>{var c;s.maxFramerate!=a&&(o&&(o=!1,_t.info("Simulcast on iOS React-Native requires all encodings to share the same framerate.")),_t.info('Setting framerate of encoding "'.concat((c=s.rid)!==null&&c!==void 0?c:"",'" to ').concat(a)),s.maxFramerate=a)})}return i}function FQ(e){if(e)return e.sort((t,n)=>{const{encoding:r}=t,{encoding:i}=n;return r.maxBitrate>i.maxBitrate?1:r.maxBitrate<i.maxBitrate?-1:r.maxBitrate===i.maxBitrate&&r.maxFramerate&&i.maxFramerate?r.maxFramerate>i.maxFramerate?1:-1:0})}class gee{constructor(t){const n=t.match(/^L(\d)T(\d)(h|_KEY|_KEY_SHIFT){0,1}$/);if(!n)throw new Error("invalid scalability mode");if(this.spatial=parseInt(n[1]),this.temporal=parseInt(n[2]),n.length>3)switch(n[3]){case"h":case"_KEY":case"_KEY_SHIFT":this.suffix=n[3]}}toString(){var t;return"L".concat(this.spatial,"T").concat(this.temporal).concat((t=this.suffix)!==null&&t!==void 0?t:"")}}function DFe(e){return e.source===ve.Source.ScreenShare||e.constraints.height&&Af(e.constraints.height)>=1080?"maintain-resolution":"balanced"}const QFe=5e3;class g5 extends pee{get sender(){return this._sender}set sender(t){this._sender=t,this.degradationPreference&&this.setDegradationPreference(this.degradationPreference)}constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3?arguments[3]:void 0;super(t,ve.Kind.Video,n,r,i),this.simulcastCodecs=new Map,this.degradationPreference="balanced",this.isCpuConstrained=!1,this.optimizeForPerformance=!1,this.monitorSender=()=>J(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let a;try{a=yield this.getSenderStats()}catch(c){this.log.error("could not get video sender stats",Object.assign(Object.assign({},this.logContext),{error:c}));return}const o=new Map(a.map(c=>[c.rid,c])),s=a.some(c=>c.qualityLimitationReason==="cpu");if(s!==this.isCpuConstrained&&(this.isCpuConstrained=s,this.isCpuConstrained&&this.emit(Re.CpuConstrained)),this.prevStats){let c=0;o.forEach((l,A)=>{var u;const d=(u=this.prevStats)===null||u===void 0?void 0:u.get(A);c+=FB(l,d)}),this._currentBitrate=c}this.prevStats=o}),this.senderLock=new wa}get isSimulcast(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}startMonitor(t){var n;if(this.signalClient=t,!Qa())return;const r=(n=this.sender)===null||n===void 0?void 0:n.getParameters();r&&(this.encodings=r.encodings),!this.monitorInterval&&(this.monitorInterval=setInterval(()=>{this.monitorSender()},i6))}stop(){this._mediaStreamTrack.getConstraints(),this.simulcastCodecs.forEach(t=>{t.mediaStreamTrack.stop()}),super.stop()}pauseUpstream(){const t=Object.create(null,{pauseUpstream:{get:()=>super.pauseUpstream}});return J(this,void 0,void 0,function*(){var n,r,i,a,o;yield t.pauseUpstream.call(this);try{for(var s=!0,c=Dl(this.simulcastCodecs.values()),l;l=yield c.next(),n=l.done,!n;s=!0)a=l.value,s=!1,yield(o=a.sender)===null||o===void 0?void 0:o.replaceTrack(null)}catch(A){r={error:A}}finally{try{!s&&!n&&(i=c.return)&&(yield i.call(c))}finally{if(r)throw r.error}}})}resumeUpstream(){const t=Object.create(null,{resumeUpstream:{get:()=>super.resumeUpstream}});return J(this,void 0,void 0,function*(){var n,r,i,a,o;yield t.resumeUpstream.call(this);try{for(var s=!0,c=Dl(this.simulcastCodecs.values()),l;l=yield c.next(),n=l.done,!n;s=!0){a=l.value,s=!1;const A=a;yield(o=A.sender)===null||o===void 0?void 0:o.replaceTrack(A.mediaStreamTrack)}}catch(A){r={error:A}}finally{try{!s&&!n&&(i=c.return)&&(yield i.call(c))}finally{if(r)throw r.error}}})}mute(){const t=Object.create(null,{mute:{get:()=>super.mute}});return J(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===ve.Source.Camera&&!this.isUserProvided&&(this.log.debug("stopping camera track",this.logContext),this._mediaStreamTrack.stop()),yield t.mute.call(this),this)}finally{n()}})}unmute(){const t=Object.create(null,{unmute:{get:()=>super.unmute}});return J(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.source===ve.Source.Camera&&!this.isUserProvided&&(this.log.debug("reacquiring camera track",this.logContext),yield this.restartTrack()),yield t.unmute.call(this),this):(this.log.debug("Track already unmuted",this.logContext),this)}finally{n()}})}setTrackMuted(t){super.setTrackMuted(t);for(const n of this.simulcastCodecs.values())n.mediaStreamTrack.enabled=!t}getSenderStats(){return J(this,void 0,void 0,function*(){var t;if(!(!((t=this.sender)===null||t===void 0)&&t.getStats))return[];const n=[],r=yield this.sender.getStats();return r.forEach(i=>{var a;if(i.type==="outbound-rtp"){const o={type:"video",streamId:i.id,frameHeight:i.frameHeight,frameWidth:i.frameWidth,framesPerSecond:i.framesPerSecond,framesSent:i.framesSent,firCount:i.firCount,pliCount:i.pliCount,nackCount:i.nackCount,packetsSent:i.packetsSent,bytesSent:i.bytesSent,qualityLimitationReason:i.qualityLimitationReason,qualityLimitationDurations:i.qualityLimitationDurations,qualityLimitationResolutionChanges:i.qualityLimitationResolutionChanges,rid:(a=i.rid)!==null&&a!==void 0?a:i.id,retransmittedPacketsSent:i.retransmittedPacketsSent,targetBitrate:i.targetBitrate,timestamp:i.timestamp},s=r.get(i.remoteId);s&&(o.jitter=s.jitter,o.packetsLost=s.packetsLost,o.roundTripTime=s.roundTripTime),n.push(o)}}),n.sort((i,a)=>{var o,s;return((o=a.frameWidth)!==null&&o!==void 0?o:0)-((s=i.frameWidth)!==null&&s!==void 0?s:0)}),n})}setPublishingQuality(t){const n=[];for(let r=mo.LOW;r<=mo.HIGH;r+=1)n.push(new $F({quality:r,enabled:r<=t}));this.log.debug("setting publishing quality. max quality ".concat(t),this.logContext),this.setPublishingLayers(Hs(this.codec),n)}restartTrack(t){return J(this,void 0,void 0,function*(){var n,r,i,a,o;let s;if(t){const u=YF({video:t});typeof u.video!="boolean"&&(s=u.video)}yield this.restart(s),this.isCpuConstrained=!1;try{for(var c=!0,l=Dl(this.simulcastCodecs.values()),A;A=yield l.next(),n=A.done,!n;c=!0){a=A.value,c=!1;const u=a;u.sender&&((o=u.sender.transport)===null||o===void 0?void 0:o.state)!=="closed"&&(u.mediaStreamTrack=this.mediaStreamTrack.clone(),yield u.sender.replaceTrack(u.mediaStreamTrack))}}catch(u){r={error:u}}finally{try{!c&&!n&&(i=l.return)&&(yield i.call(l))}finally{if(r)throw r.error}}})}setProcessor(t){const n=Object.create(null,{setProcessor:{get:()=>super.setProcessor}});return J(this,arguments,void 0,function(r){var i=this;let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){var o,s,c,l,A,u;if(yield n.setProcessor.call(i,r,a),!((A=i.processor)===null||A===void 0)&&A.processedTrack)try{for(var d=!0,f=Dl(i.simulcastCodecs.values()),h;h=yield f.next(),o=h.done,!o;d=!0)l=h.value,d=!1,yield(u=l.sender)===null||u===void 0?void 0:u.replaceTrack(i.processor.processedTrack)}catch(p){s={error:p}}finally{try{!d&&!o&&(c=f.return)&&(yield c.call(f))}finally{if(s)throw s.error}}}()})}setDegradationPreference(t){return J(this,void 0,void 0,function*(){if(this.degradationPreference=t,this.sender)try{this.log.debug("setting degradationPreference to ".concat(t),this.logContext);const n=this.sender.getParameters();n.degradationPreference=t,this.sender.setParameters(n)}catch(n){this.log.warn("failed to set degradationPreference",Object.assign({error:n},this.logContext))}})}addSimulcastTrack(t,n){if(this.simulcastCodecs.has(t)){this.log.error("".concat(t," already added, skipping adding simulcast codec"),this.logContext);return}const r={codec:t,mediaStreamTrack:this.mediaStreamTrack.clone(),sender:void 0,encodings:n};return this.simulcastCodecs.set(t,r),r}setSimulcastTrackSender(t,n){const r=this.simulcastCodecs.get(t);r&&(r.sender=n,setTimeout(()=>{this.subscribedCodecs&&this.setPublishingCodecs(this.subscribedCodecs)},QFe))}setPublishingCodecs(t){return J(this,void 0,void 0,function*(){var n,r,i,a,o,s,c;if(this.log.debug("setting publishing codecs",Object.assign(Object.assign({},this.logContext),{codecs:t,currentCodec:this.codec})),!this.codec&&t.length>0)return yield this.setPublishingLayers(Hs(t[0].codec),t[0].qualities),[];this.subscribedCodecs=t;const l=[];try{for(n=!0,r=Dl(t);i=yield r.next(),a=i.done,!a;n=!0){c=i.value,n=!1;const A=c;if(!this.codec||this.codec===A.codec)yield this.setPublishingLayers(Hs(A.codec),A.qualities);else{const u=this.simulcastCodecs.get(A.codec);if(this.log.debug("try setPublishingCodec for ".concat(A.codec),Object.assign(Object.assign({},this.logContext),{simulcastCodecInfo:u})),!u||!u.sender){for(const d of A.qualities)if(d.enabled){l.push(A.codec);break}}else u.encodings&&(this.log.debug("try setPublishingLayersForSender ".concat(A.codec),this.logContext),yield OQ(u.sender,u.encodings,A.qualities,this.senderLock,Hs(A.codec),this.log,this.logContext))}}}catch(A){o={error:A}}finally{try{!n&&!a&&(s=r.return)&&(yield s.call(r))}finally{if(o)throw o.error}}return l})}setPublishingLayers(t,n){return J(this,void 0,void 0,function*(){if(this.optimizeForPerformance){this.log.info("skipping setPublishingLayers due to optimized publishing performance",Object.assign(Object.assign({},this.logContext),{qualities:n}));return}this.log.debug("setting publishing layers",Object.assign(Object.assign({},this.logContext),{qualities:n})),!(!this.sender||!this.encodings)&&(yield OQ(this.sender,this.encodings,n,this.senderLock,t,this.log,this.logContext))})}prioritizePerformance(){return J(this,void 0,void 0,function*(){if(!this.sender)throw new Error("sender not found");const t=yield this.senderLock.lock();try{this.optimizeForPerformance=!0;const n=this.sender.getParameters();n.encodings=n.encodings.map((r,i)=>{var a;return Object.assign(Object.assign({},r),{active:i===0,scaleResolutionDownBy:Math.max(1,Math.ceil(((a=this.mediaStreamTrack.getSettings().height)!==null&&a!==void 0?a:360)/360)),scalabilityMode:i===0&&Hs(this.codec)?"L1T3":void 0,maxFramerate:i===0?15:0,maxBitrate:i===0?r.maxBitrate:0})}),this.log.debug("setting performance optimised encodings",Object.assign(Object.assign({},this.logContext),{encodings:n.encodings})),this.encodings=n.encodings,yield this.sender.setParameters(n)}catch(n){this.log.error("failed to set performance optimised encodings",Object.assign(Object.assign({},this.logContext),{error:n})),this.optimizeForPerformance=!1}finally{t()}})}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return J(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),see()&&this.isInBackground&&this.source===ve.Source.Camera&&(this._mediaStreamTrack.enabled=!1)})}}function OQ(e,t,n,r,i,a,o){return J(this,void 0,void 0,function*(){const s=yield r.lock();a.debug("setPublishingLayersForSender",Object.assign(Object.assign({},o),{sender:e,qualities:n,senderEncodings:t}));try{const c=e.getParameters(),{encodings:l}=c;if(!l)return;if(l.length!==t.length){a.warn("cannot set publishing layers, encodings mismatch",Object.assign(Object.assign({},o),{encodings:l,senderEncodings:t}));return}let A=!1;!1&&l[0].scalabilityMode||(i&&n.some(f=>f.enabled)&&n.forEach(f=>f.enabled=!0),l.forEach((d,f)=>{var h;let p=(h=d.rid)!==null&&h!==void 0?h:"";p===""&&(p="q");const v=mee(p),m=n.find(w=>w.quality===v);m&&d.active!==m.enabled&&(A=!0,d.active=m.enabled,a.debug("setting layer ".concat(m.quality," to ").concat(d.active?"enabled":"disabled"),o),Ff()&&(m.enabled?(d.scaleResolutionDownBy=t[f].scaleResolutionDownBy,d.maxBitrate=t[f].maxBitrate,d.maxFrameRate=t[f].maxFrameRate):(d.scaleResolutionDownBy=4,d.maxBitrate=10,d.maxFrameRate=2)))})),A&&(c.encodings=l,a.debug("setting encodings",Object.assign(Object.assign({},o),{encodings:c.encodings})),yield e.setParameters(c))}finally{s()}})}function mee(e){switch(e){case"f":return mo.HIGH;case"h":return mo.MEDIUM;case"q":return mo.LOW;default:return mo.HIGH}}function LQ(e,t,n,r){if(!n)return[new Lu({quality:mo.HIGH,width:e,height:t,bitrate:0,ssrc:0})];if(r){const i=n[0].scalabilityMode,a=new gee(i),o=[],s=a.suffix=="h"?1.5:2,c=a.suffix=="h"?2:3;for(let l=0;l<a.spatial;l+=1)o.push(new Lu({quality:Math.min(mo.HIGH,a.spatial-1)-l,width:Math.ceil(e/Math.pow(s,l)),height:Math.ceil(t/Math.pow(s,l)),bitrate:n[0].maxBitrate?Math.ceil(n[0].maxBitrate/Math.pow(c,l)):0,ssrc:0}));return o}return n.map(i=>{var a,o,s;const c=(a=i.scaleResolutionDownBy)!==null&&a!==void 0?a:1;let l=mee((o=i.rid)!==null&&o!==void 0?o:"");return new Lu({quality:l,width:Math.ceil(e/c),height:Math.ceil(t/c),bitrate:(s=i.maxBitrate)!==null&&s!==void 0?s:0,ssrc:0})})}const UQ="_lossy",NQ="_reliable",jFe=2*1e3,$x="leave-reconnect",HFe=3e4,$Fe=8*1024,KFe=256*1024;var qo;(function(e){e[e.New=0]="New",e[e.Connected=1]="Connected",e[e.Disconnected=2]="Disconnected",e[e.Reconnecting=3]="Reconnecting",e[e.Closed=4]="Closed"})(qo||(qo={}));class VFe extends il.EventEmitter{get isClosed(){return this._isClosed}get pendingReconnect(){return!!this.reconnectTimeout}constructor(t){var n;super(),this.options=t,this.rtcConfig={},this.peerConnectionTimeout=n6.peerConnectionTimeout,this.fullReconnectOnNext=!1,this.latestRemoteOfferId=0,this.subscriberPrimary=!1,this.pcState=qo.New,this._isClosed=!0,this.pendingTrackResolvers={},this.reconnectAttempts=0,this.reconnectStart=0,this.attemptingReconnect=!1,this.joinAttempts=0,this.maxJoinAttempts=1,this.shouldFailNext=!1,this.log=_t,this.reliableDataSequence=1,this.reliableMessageBuffer=new CQ,this.reliableReceivedState=new uFe(HFe),this.lossyDataStatCurrentBytes=0,this.lossyDataStatByterate=0,this.lossyDataDropCount=0,this.midToTrackId={},this.isWaitingForNetworkReconnect=!1,this.handleDataChannel=r=>J(this,[r],void 0,function(i){var a=this;let{channel:o}=i;return function*(){if(o){if(o.label===NQ)a.reliableDCSub=o;else if(o.label===UQ)a.lossyDCSub=o;else return;a.log.debug("on data channel ".concat(o.id,", ").concat(o.label),a.logContext),o.onmessage=a.handleDataMessage}}()}),this.handleDataMessage=r=>J(this,void 0,void 0,function*(){var i,a,o,s,c;const l=yield this.dataProcessLock.lock();try{let A;if(r.data instanceof ArrayBuffer)A=r.data;else if(r.data instanceof Blob)A=yield r.data.arrayBuffer();else{this.log.error("unsupported data type",Object.assign(Object.assign({},this.logContext),{data:r.data}));return}const u=ma.fromBinary(new Uint8Array(A));if(u.sequence>0&&u.participantSid!==""){const d=this.reliableReceivedState.get(u.participantSid);if(d&&u.sequence<=d)return;this.reliableReceivedState.set(u.participantSid,u.sequence)}if(((i=u.value)===null||i===void 0?void 0:i.case)==="speaker")this.emit(Qe.ActiveSpeakersUpdate,u.value.value.speakers);else if(((a=u.value)===null||a===void 0?void 0:a.case)==="encryptedPacket"){if(!this.e2eeManager){this.log.error("Received encrypted packet but E2EE not set up",this.logContext);return}const d=yield(o=this.e2eeManager)===null||o===void 0?void 0:o.handleEncryptedData(u.value.value.encryptedValue,u.value.value.iv,u.participantIdentity,u.value.value.keyIndex),f=JJ.fromBinary(d.payload),h=new ma({value:f.value,participantIdentity:u.participantIdentity,participantSid:u.participantSid});((s=h.value)===null||s===void 0?void 0:s.case)==="user"&&MQ(h,h.value.value),this.emit(Qe.DataPacketReceived,h,u.value.value.encryptionType)}else((c=u.value)===null||c===void 0?void 0:c.case)==="user"&&MQ(u,u.value.value),this.emit(Qe.DataPacketReceived,u,Ir.NONE)}finally{l()}}),this.handleDataError=r=>{const a=r.currentTarget.maxRetransmits===0?"lossy":"reliable";if(r instanceof ErrorEvent&&r.error){const{error:o}=r.error;this.log.error("DataChannel error on ".concat(a,": ").concat(r.message),Object.assign(Object.assign({},this.logContext),{error:o}))}else this.log.error("Unknown DataChannel error on ".concat(a),Object.assign(Object.assign({},this.logContext),{event:r}))},this.handleBufferedAmountLow=r=>{const a=r.currentTarget.maxRetransmits===0?Rt.LOSSY:Rt.RELIABLE;this.updateAndEmitDCBufferStatus(a)},this.handleDisconnect=(r,i)=>{if(this._isClosed)return;this.log.warn("".concat(r," disconnected"),this.logContext),this.reconnectAttempts===0&&(this.reconnectStart=Date.now());const a=c=>{this.log.warn("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(c,"ms. giving up"),this.logContext),this.emit(Qe.Disconnected),this.close()},o=Date.now()-this.reconnectStart;let s=this.getNextRetryDelay({elapsedMs:o,retryCount:this.reconnectAttempts});if(s===null){a(o);return}r===$x&&(s=0),this.log.debug("reconnecting in ".concat(s,"ms"),this.logContext),this.clearReconnectTimeout(),this.token&&this.regionUrlProvider&&this.regionUrlProvider.updateToken(this.token),this.reconnectTimeout=Qi.setTimeout(()=>this.attemptReconnect(i).finally(()=>this.reconnectTimeout=void 0),s)},this.waitForRestarted=()=>new Promise((r,i)=>{this.pcState===qo.Connected&&r();const a=()=>{this.off(Qe.Disconnected,o),r()},o=()=>{this.off(Qe.Restarted,a),i()};this.once(Qe.Restarted,a),this.once(Qe.Disconnected,o)}),this.updateAndEmitDCBufferStatus=r=>{if(r===Rt.RELIABLE){const a=this.dataChannelForKind(r);a&&this.reliableMessageBuffer.alignBufferedAmount(a.bufferedAmount)}const i=this.isBufferStatusLow(r);typeof i<"u"&&i!==this.dcBufferStatus.get(r)&&(this.dcBufferStatus.set(r,i),this.emit(Qe.DCBufferStatusChanged,i,r))},this.isBufferStatusLow=r=>{const i=this.dataChannelForKind(r);if(i)return i.bufferedAmount<=i.bufferedAmountLowThreshold},this.handleBrowserOnLine=()=>J(this,void 0,void 0,function*(){!this.url||!(yield fetch(Iv(this.url),{method:"HEAD"}).then(i=>i.ok).catch(()=>!1))||(this.log.info("detected network reconnected"),(this.client.currentState===Bn.RECONNECTING||this.isWaitingForNetworkReconnect&&this.client.currentState===Bn.CONNECTED)&&(this.clearReconnectTimeout(),this.attemptReconnect(Ld.RR_SIGNAL_DISCONNECTED),this.isWaitingForNetworkReconnect=!1))}),this.handleBrowserOffline=()=>J(this,void 0,void 0,function*(){if(this.url)try{yield Promise.race([fetch(Iv(this.url),{method:"HEAD"}),ji(4e3).then(()=>Promise.reject())])}catch{window.navigator.onLine===!1&&(this.log.info("detected network interruption"),this.isWaitingForNetworkReconnect=!0)}}),this.log=Wc((n=t.loggerName)!==null&&n!==void 0?n:ps.Engine),this.loggerOptions={loggerName:t.loggerName,loggerContextCb:()=>this.logContext},this.client=new JF(void 0,this.loggerOptions),this.client.signalLatency=this.options.expSignalLatency,this.reconnectPolicy=this.options.reconnectPolicy,this.closingLock=new wa,this.dataProcessLock=new wa,this.dcBufferStatus=new Map([[Rt.LOSSY,!0],[Rt.RELIABLE,!0]]),this.client.onParticipantUpdate=r=>this.emit(Qe.ParticipantUpdate,r),this.client.onConnectionQuality=r=>this.emit(Qe.ConnectionQualityUpdate,r),this.client.onRoomUpdate=r=>this.emit(Qe.RoomUpdate,r),this.client.onSubscriptionError=r=>this.emit(Qe.SubscriptionError,r),this.client.onSubscriptionPermissionUpdate=r=>this.emit(Qe.SubscriptionPermissionUpdate,r),this.client.onSpeakersChanged=r=>this.emit(Qe.SpeakersChanged,r),this.client.onStreamStateUpdate=r=>this.emit(Qe.StreamStateChanged,r),this.client.onRequestResponse=r=>this.emit(Qe.SignalRequestResponse,r)}get logContext(){var t,n,r,i,a,o;return{room:(n=(t=this.latestJoinResponse)===null||t===void 0?void 0:t.room)===null||n===void 0?void 0:n.name,roomID:(i=(r=this.latestJoinResponse)===null||r===void 0?void 0:r.room)===null||i===void 0?void 0:i.sid,participant:(o=(a=this.latestJoinResponse)===null||a===void 0?void 0:a.participant)===null||o===void 0?void 0:o.identity,pID:this.participantSid}}join(t,n,r,i){return J(this,arguments,void 0,function(a,o,s,c){var l=this;let A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return function*(){l.url=a,l.token=o,l.signalOpts=s,l.maxJoinAttempts=s.maxRetries;try{l.joinAttempts+=1,l.setupSignalClientCallbacks();const u=yield l.client.join(a,o,s,c,A);return l._isClosed=!1,l.latestJoinResponse=u,l.subscriberPrimary=u.subscriberPrimary,l.pcManager||(yield l.configure(u,!A)),(!l.subscriberPrimary||u.fastPublish)&&l.negotiate().catch(d=>{_t.error(d,l.logContext)}),l.registerOnLineListener(),l.clientConfiguration=u.clientConfiguration,l.emit(Qe.SignalConnected,u),u}catch(u){if(u instanceof gt){if(u.reason===Sn.ServerUnreachable){if(l.log.warn("Couldn't connect to server, attempt ".concat(l.joinAttempts," of ").concat(l.maxJoinAttempts),l.logContext),l.joinAttempts<l.maxJoinAttempts)return l.join(a,o,s,c,A)}else if(u.reason===Sn.ServiceNotFound)return l.log.warn("Initial connection failed: ".concat(u.message,"  Retrying")),l.join(a,o,s,c,!0)}throw u}}()})}close(){return J(this,void 0,void 0,function*(){const t=yield this.closingLock.lock();if(this.isClosed){t();return}try{this._isClosed=!0,this.joinAttempts=0,this.emit(Qe.Closing),this.removeAllListeners(),this.deregisterOnLineListener(),this.clearPendingReconnect(),this.cleanupLossyDataStats(),yield this.cleanupPeerConnections(),yield this.cleanupClient()}finally{t()}})}cleanupPeerConnections(){return J(this,void 0,void 0,function*(){var t;yield(t=this.pcManager)===null||t===void 0?void 0:t.close(),this.pcManager=void 0;const n=r=>{r&&(r.close(),r.onbufferedamountlow=null,r.onclose=null,r.onclosing=null,r.onerror=null,r.onmessage=null,r.onopen=null)};n(this.lossyDC),n(this.lossyDCSub),n(this.reliableDC),n(this.reliableDCSub),this.lossyDC=void 0,this.lossyDCSub=void 0,this.reliableDC=void 0,this.reliableDCSub=void 0,this.reliableMessageBuffer=new CQ,this.reliableDataSequence=1,this.reliableReceivedState.clear()})}cleanupLossyDataStats(){this.lossyDataStatByterate=0,this.lossyDataStatCurrentBytes=0,this.lossyDataStatInterval&&(clearInterval(this.lossyDataStatInterval),this.lossyDataStatInterval=void 0),this.lossyDataDropCount=0}cleanupClient(){return J(this,void 0,void 0,function*(){yield this.client.close(),this.client.resetCallbacks()})}addTrack(t){if(this.pendingTrackResolvers[t.cid])throw new Ql("a track with the same ID has already been published");return new Promise((n,r)=>{const i=setTimeout(()=>{delete this.pendingTrackResolvers[t.cid],r(gt.timeout("publication of local track timed out, no response from server"))},1e4);this.pendingTrackResolvers[t.cid]={resolve:a=>{clearTimeout(i),n(a)},reject:()=>{clearTimeout(i),r(new Error("Cancelled publication by calling unpublish"))}},this.client.sendAddTrack(t)})}removeTrack(t){if(t.track&&this.pendingTrackResolvers[t.track.id]){const{reject:n}=this.pendingTrackResolvers[t.track.id];n&&n(),delete this.pendingTrackResolvers[t.track.id]}try{return this.pcManager.removeTrack(t),!0}catch(n){this.log.warn("failed to remove track",Object.assign(Object.assign({},this.logContext),{error:n}))}return!1}updateMuteStatus(t,n){this.client.sendMuteTrack(t,n)}get dataSubscriberReadyState(){var t;return(t=this.reliableDCSub)===null||t===void 0?void 0:t.readyState}getConnectedServerAddress(){return J(this,void 0,void 0,function*(){var t;return(t=this.pcManager)===null||t===void 0?void 0:t.getConnectedAddress()})}setRegionUrlProvider(t){this.regionUrlProvider=t}configure(t,n){return J(this,void 0,void 0,function*(){var r,i;if(this.pcManager&&this.pcManager.currentState!==Zn.NEW)return;this.participantSid=(r=t.participant)===null||r===void 0?void 0:r.sid;const a=this.makeRTCConfiguration(t);this.pcManager=new bFe(a,n?"publisher-only":t.subscriberPrimary?"subscriber-primary":"publisher-primary",this.loggerOptions),this.emit(Qe.TransportsCreated,this.pcManager.publisher,this.pcManager.subscriber),this.pcManager.onIceCandidate=(o,s)=>{this.client.sendIceCandidate(o,s)},this.pcManager.onPublisherOffer=(o,s)=>{this.client.sendOffer(o,s)},this.pcManager.onDataChannel=this.handleDataChannel,this.pcManager.onStateChange=(o,s,c)=>J(this,void 0,void 0,function*(){if(this.log.debug("primary PC state changed ".concat(o),this.logContext),["closed","disconnected","failed"].includes(s)&&(this.publisherConnectionPromise=void 0),o===Zn.CONNECTED){const u=this.pcState===qo.New;this.pcState=qo.Connected,u&&this.emit(Qe.Connected,t)}else o===Zn.FAILED&&(this.pcState===qo.Connected||this.pcState===qo.Reconnecting)&&(this.pcState=qo.Disconnected,this.handleDisconnect("peerconnection failed",c==="failed"?Ld.RR_SUBSCRIBER_FAILED:Ld.RR_PUBLISHER_FAILED));const l=this.client.isDisconnected||this.client.currentState===Bn.RECONNECTING,A=[Zn.FAILED,Zn.CLOSING,Zn.CLOSED].includes(o);l&&A&&!this._isClosed&&this.emit(Qe.Offline)}),this.pcManager.onTrack=o=>{o.streams.length!==0&&this.emit(Qe.MediaTrackAdded,o.track,o.streams[0],o.receiver)},zFe((i=t.serverInfo)===null||i===void 0?void 0:i.protocol)||this.createDataChannels()})}setupSignalClientCallbacks(){this.client.onAnswer=(t,n,r)=>J(this,void 0,void 0,function*(){this.pcManager&&(this.log.debug("received server answer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:t.type,sdp:t.sdp,midToTrackId:r})),this.midToTrackId=r,yield this.pcManager.setPublisherAnswer(t,n))}),this.client.onTrickle=(t,n)=>{this.pcManager&&(this.log.debug("got ICE candidate from peer",Object.assign(Object.assign({},this.logContext),{candidate:t,target:n})),this.pcManager.addIceCandidate(t,n))},this.client.onOffer=(t,n,r)=>J(this,void 0,void 0,function*(){if(this.latestRemoteOfferId=n,!this.pcManager)return;this.midToTrackId=r;const i=yield this.pcManager.createSubscriberAnswerFromOffer(t,n);i&&this.client.sendAnswer(i,n)}),this.client.onLocalTrackPublished=t=>{var n;if(this.log.debug("received trackPublishedResponse",Object.assign(Object.assign({},this.logContext),{cid:t.cid,track:(n=t.track)===null||n===void 0?void 0:n.sid})),!this.pendingTrackResolvers[t.cid]){this.log.error("missing track resolver for ".concat(t.cid),Object.assign(Object.assign({},this.logContext),{cid:t.cid}));return}const{resolve:r}=this.pendingTrackResolvers[t.cid];delete this.pendingTrackResolvers[t.cid],r(t.track)},this.client.onLocalTrackUnpublished=t=>{this.emit(Qe.LocalTrackUnpublished,t)},this.client.onLocalTrackSubscribed=t=>{this.emit(Qe.LocalTrackSubscribed,t)},this.client.onTokenRefresh=t=>{var n;this.token=t,(n=this.regionUrlProvider)===null||n===void 0||n.updateToken(t)},this.client.onRemoteMuteChanged=(t,n)=>{this.emit(Qe.RemoteMute,t,n)},this.client.onSubscribedQualityUpdate=t=>{this.emit(Qe.SubscribedQualityUpdate,t)},this.client.onRoomMoved=t=>{var n;this.participantSid=(n=t.participant)===null||n===void 0?void 0:n.sid,this.latestJoinResponse&&(this.latestJoinResponse.room=t.room),this.emit(Qe.RoomMoved,t)},this.client.onMediaSectionsRequirement=t=>{var n,r;const i={direction:"recvonly"};for(let a=0;a<t.numAudios;a++)(n=this.pcManager)===null||n===void 0||n.addPublisherTransceiverOfKind("audio",i);for(let a=0;a<t.numVideos;a++)(r=this.pcManager)===null||r===void 0||r.addPublisherTransceiverOfKind("video",i);this.negotiate()},this.client.onClose=()=>{this.handleDisconnect("signal",Ld.RR_SIGNAL_DISCONNECTED)},this.client.onLeave=t=>{switch(this.log.debug("client leave request",Object.assign(Object.assign({},this.logContext),{reason:t==null?void 0:t.reason})),t.regions&&this.regionUrlProvider&&(this.log.debug("updating regions",this.logContext),this.regionUrlProvider.setServerReportedRegions({updatedAtInMs:Date.now(),maxAgeInMs:fee,regionSettings:t.regions})),t.action){case pp.DISCONNECT:this.emit(Qe.Disconnected,t==null?void 0:t.reason),this.close();break;case pp.RECONNECT:this.fullReconnectOnNext=!0,this.handleDisconnect($x);break;case pp.RESUME:this.handleDisconnect($x)}}}makeRTCConfiguration(t){var n;const r=Object.assign({},this.rtcConfig);if(!((n=this.signalOpts)===null||n===void 0)&&n.e2eeEnabled&&(this.log.debug("E2EE - setting up transports with insertable streams",this.logContext),r.encodedInsertableStreams=!0),t.iceServers&&!r.iceServers){const i=[];t.iceServers.forEach(a=>{const o={urls:a.urls};a.username&&(o.username=a.username),a.credential&&(o.credential=a.credential),i.push(o)}),r.iceServers=i}return t.clientConfiguration&&t.clientConfiguration.forceRelay===xv.ENABLED&&(r.iceTransportPolicy="relay"),r.sdpSemantics="unified-plan",r.continualGatheringPolicy="gather_continually",r}createDataChannels(){this.pcManager&&(this.lossyDC&&(this.lossyDC.onmessage=null,this.lossyDC.onerror=null),this.reliableDC&&(this.reliableDC.onmessage=null,this.reliableDC.onerror=null),this.lossyDC=this.pcManager.createPublisherDataChannel(UQ,{ordered:!1,maxRetransmits:0}),this.reliableDC=this.pcManager.createPublisherDataChannel(NQ,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError,this.lossyDC.bufferedAmountLowThreshold=65535,this.reliableDC.bufferedAmountLowThreshold=65535,this.lossyDC.onbufferedamountlow=this.handleBufferedAmountLow,this.reliableDC.onbufferedamountlow=this.handleBufferedAmountLow,this.cleanupLossyDataStats(),this.lossyDataStatInterval=setInterval(()=>{this.lossyDataStatByterate=this.lossyDataStatCurrentBytes,this.lossyDataStatCurrentBytes=0;const t=this.dataChannelForKind(Rt.LOSSY);if(t){const n=this.lossyDataStatByterate/10;t.bufferedAmountLowThreshold=Math.min(Math.max(n,$Fe),KFe)}},1e3))}createSender(t,n,r){return J(this,void 0,void 0,function*(){if(gT())return yield this.createTransceiverRTCRtpSender(t,n,r);if(mT())return this.log.warn("using add-track fallback",this.logContext),yield this.createRTCRtpSender(t.mediaStreamTrack);throw new Cr("Required webRTC APIs not supported on this device")})}createSimulcastSender(t,n,r,i){return J(this,void 0,void 0,function*(){if(gT())return this.createSimulcastTransceiverSender(t,n,r,i);if(mT())return this.log.debug("using add-track fallback",this.logContext),this.createRTCRtpSender(t.mediaStreamTrack);throw new Cr("Cannot stream on this device")})}createTransceiverRTCRtpSender(t,n,r){return J(this,void 0,void 0,function*(){if(!this.pcManager)throw new Cr("publisher is closed");const i=[];t.mediaStream&&i.push(t.mediaStream),rd(t)&&(t.codec=n.videoCodec);const a={direction:"sendonly",streams:i};return r&&(a.sendEncodings=r),(yield this.pcManager.addPublisherTransceiver(t.mediaStreamTrack,a)).sender})}createSimulcastTransceiverSender(t,n,r,i){return J(this,void 0,void 0,function*(){if(!this.pcManager)throw new Cr("publisher is closed");const a={direction:"sendonly"};i&&(a.sendEncodings=i);const o=yield this.pcManager.addPublisherTransceiver(n.mediaStreamTrack,a);if(r.videoCodec)return t.setSimulcastTrackSender(r.videoCodec,o.sender),o.sender})}createRTCRtpSender(t){return J(this,void 0,void 0,function*(){if(!this.pcManager)throw new Cr("publisher is closed");return this.pcManager.addPublisherTrack(t)})}attemptReconnect(t){return J(this,void 0,void 0,function*(){var n,r,i;if(!this._isClosed){if(this.attemptingReconnect){_t.warn("already attempting reconnect, returning early",this.logContext);return}(((n=this.clientConfiguration)===null||n===void 0?void 0:n.resumeConnection)===xv.DISABLED||((i=(r=this.pcManager)===null||r===void 0?void 0:r.currentState)!==null&&i!==void 0?i:Zn.NEW)===Zn.NEW)&&(this.fullReconnectOnNext=!0);try{this.attemptingReconnect=!0,this.fullReconnectOnNext?yield this.restartConnection():yield this.resumeConnection(t),this.clearPendingReconnect(),this.fullReconnectOnNext=!1}catch(a){this.reconnectAttempts+=1;let o=!0;a instanceof Cr?(this.log.debug("received unrecoverable error",Object.assign(Object.assign({},this.logContext),{error:a})),o=!1):a instanceof kh||(this.fullReconnectOnNext=!0),o?this.handleDisconnect("reconnect",Ld.RR_UNKNOWN):(this.log.info("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(Date.now()-this.reconnectStart,"ms. giving up"),this.logContext),this.emit(Qe.Disconnected),yield this.close())}finally{this.attemptingReconnect=!1}}})}getNextRetryDelay(t){try{return this.reconnectPolicy.nextRetryDelayInMs(t)}catch(n){this.log.warn("encountered error in reconnect policy",Object.assign(Object.assign({},this.logContext),{error:n}))}return null}restartConnection(t){return J(this,void 0,void 0,function*(){var n,r,i;try{if(!this.url||!this.token)throw new Cr("could not reconnect, url or token not saved");this.log.info("reconnecting, attempt: ".concat(this.reconnectAttempts),this.logContext),this.emit(Qe.Restarting),this.client.isDisconnected||(yield this.client.sendLeave()),yield this.cleanupPeerConnections(),yield this.cleanupClient();let a;try{if(!this.signalOpts)throw this.log.warn("attempted connection restart, without signal options present",this.logContext),new kh;a=yield this.join(t??this.url,this.token,this.signalOpts,void 0,!this.options.singlePeerConnection)}catch(o){throw o instanceof gt&&o.reason===Sn.NotAllowed?new Cr("could not reconnect, token might be expired"):new kh}if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(this.client.setReconnected(),this.emit(Qe.SignalRestarted,a),yield this.waitForPCReconnected(),this.client.currentState!==Bn.CONNECTED)throw new kh("Signal connection got severed during reconnect");(n=this.regionUrlProvider)===null||n===void 0||n.resetAttempts(),this.emit(Qe.Restarted)}catch(a){const o=yield(r=this.regionUrlProvider)===null||r===void 0?void 0:r.getNextBestRegionUrl();if(o){yield this.restartConnection(o);return}else throw(i=this.regionUrlProvider)===null||i===void 0||i.resetAttempts(),a}})}resumeConnection(t){return J(this,void 0,void 0,function*(){var n;if(!this.url||!this.token)throw new Cr("could not reconnect, url or token not saved");if(!this.pcManager)throw new Cr("publisher and subscriber connections unset");this.log.info("resuming signal connection, attempt ".concat(this.reconnectAttempts),this.logContext),this.emit(Qe.Resuming);let r;try{this.setupSignalClientCallbacks(),r=yield this.client.reconnect(this.url,this.token,this.participantSid,t)}catch(i){let a="";throw i instanceof Error&&(a=i.message,this.log.error(i.message,Object.assign(Object.assign({},this.logContext),{error:i}))),i instanceof gt&&i.reason===Sn.NotAllowed?new Cr("could not reconnect, token might be expired"):i instanceof gt&&i.reason===Sn.LeaveRequest?i:new kh(a)}if(this.emit(Qe.SignalResumed),r){const i=this.makeRTCConfiguration(r);this.pcManager.updateConfiguration(i),this.latestJoinResponse&&(this.latestJoinResponse.serverInfo=r.serverInfo)}else this.log.warn("Did not receive reconnect response",this.logContext);if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(yield this.pcManager.triggerIceRestart(),yield this.waitForPCReconnected(),this.client.currentState!==Bn.CONNECTED)throw new kh("Signal connection got severed during reconnect");this.client.setReconnected(),((n=this.reliableDC)===null||n===void 0?void 0:n.readyState)==="open"&&this.reliableDC.id===null&&this.createDataChannels(),r!=null&&r.lastMessageSeq&&this.resendReliableMessagesForResume(r.lastMessageSeq),this.emit(Qe.Resumed)})}waitForPCInitialConnection(t,n){return J(this,void 0,void 0,function*(){if(!this.pcManager)throw new Cr("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(n,t)})}waitForPCReconnected(){return J(this,void 0,void 0,function*(){this.pcState=qo.Reconnecting,this.log.debug("waiting for peer connection to reconnect",this.logContext);try{if(yield ji(jFe),!this.pcManager)throw new Cr("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(void 0,this.peerConnectionTimeout),this.pcState=qo.Connected}catch(t){throw this.pcState=qo.Disconnected,gt.internal("could not establish PC connection, ".concat(t.message))}})}publishRpcResponse(t,n,r,i){return J(this,void 0,void 0,function*(){const a=new ma({destinationIdentities:[t],kind:Rt.RELIABLE,value:{case:"rpcResponse",value:new DF({requestId:n,value:i?{case:"error",value:i.toProto()}:{case:"payload",value:r??""}})}});yield this.sendDataPacket(a,Rt.RELIABLE)})}publishRpcAck(t,n){return J(this,void 0,void 0,function*(){const r=new ma({destinationIdentities:[t],kind:Rt.RELIABLE,value:{case:"rpcAck",value:new RF({requestId:n})}});yield this.sendDataPacket(r,Rt.RELIABLE)})}sendDataPacket(t,n){return J(this,void 0,void 0,function*(){if(yield this.ensurePublisherConnected(n),this.e2eeManager&&this.e2eeManager.isDataChannelEncryptionEnabled){const a=eFe(t);if(a){const o=yield this.e2eeManager.encryptData(a.toBinary());t.value={case:"encryptedPacket",value:new XJ({encryptedValue:o.payload,iv:o.iv,keyIndex:o.keyIndex})}}}n===Rt.RELIABLE&&(t.sequence=this.reliableDataSequence,this.reliableDataSequence+=1);const r=t.toBinary(),i=this.dataChannelForKind(n);if(i){if(n===Rt.RELIABLE)yield this.waitForBufferStatusLow(n),this.reliableMessageBuffer.push({data:r,sequence:t.sequence});else{if(!this.isBufferStatusLow(n)){this.lossyDataDropCount+=1,this.lossyDataDropCount%100===0&&this.log.warn("dropping lossy data channel messages, total dropped: ".concat(this.lossyDataDropCount),this.logContext);return}this.lossyDataStatCurrentBytes+=r.byteLength}if(this.attemptingReconnect)return;i.send(r)}this.updateAndEmitDCBufferStatus(n)})}resendReliableMessagesForResume(t){return J(this,void 0,void 0,function*(){yield this.ensurePublisherConnected(Rt.RELIABLE);const n=this.dataChannelForKind(Rt.RELIABLE);n&&(this.reliableMessageBuffer.popToSequence(t),this.reliableMessageBuffer.getAll().forEach(r=>{n.send(r.data)})),this.updateAndEmitDCBufferStatus(Rt.RELIABLE)})}waitForBufferStatusLow(t){return new ca((n,r)=>J(this,void 0,void 0,function*(){if(this.isBufferStatusLow(t))n();else{const i=()=>r(new Cr("engine closed"));for(this.once(Qe.Closing,i);!this.dcBufferStatus.get(t);)yield ji(10);this.off(Qe.Closing,i),n()}}))}ensureDataTransportConnected(t){return J(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.subscriberPrimary;return function*(){var a;if(!r.pcManager)throw new Cr("PC manager is closed");const o=i?r.pcManager.subscriber:r.pcManager.publisher,s=i?"Subscriber":"Publisher";if(!o)throw gt.internal("".concat(s," connection not set"));let c=!1;!i&&!r.dataChannelForKind(n,i)&&(r.createDataChannels(),c=!0),!c&&!i&&!r.pcManager.publisher.isICEConnected&&r.pcManager.publisher.getICEConnectionState()!=="checking"&&(c=!0),c&&r.negotiate().catch(u=>{_t.error(u,r.logContext)});const l=r.dataChannelForKind(n,i);if((l==null?void 0:l.readyState)==="open")return;const A=new Date().getTime()+r.peerConnectionTimeout;for(;new Date().getTime()<A;){if(o.isICEConnected&&((a=r.dataChannelForKind(n,i))===null||a===void 0?void 0:a.readyState)==="open")return;yield ji(50)}throw gt.internal("could not establish ".concat(s," connection, state: ").concat(o.getICEConnectionState()))}()})}ensurePublisherConnected(t){return J(this,void 0,void 0,function*(){this.publisherConnectionPromise||(this.publisherConnectionPromise=this.ensureDataTransportConnected(t,!1)),yield this.publisherConnectionPromise})}verifyTransport(){return!(!this.pcManager||![Zn.CONNECTING,Zn.CONNECTED].includes(this.pcManager.currentState)||!this.client.ws||this.client.ws.readyState===WebSocket.CLOSED)}negotiate(){return J(this,void 0,void 0,function*(){return new ca((t,n)=>J(this,void 0,void 0,function*(){if(!this.pcManager){n(new lf("PC manager is closed"));return}this.pcManager.requirePublisher(),this.pcManager.publisher.getTransceivers().length==0&&!this.lossyDC&&!this.reliableDC&&this.createDataChannels();const r=new AbortController,i=()=>{r.abort(),this.log.debug("engine disconnected while negotiation was ongoing",this.logContext),t()};this.isClosed&&n(new lf("cannot negotiate on closed engine")),this.on(Qe.Closing,i),this.on(Qe.Restarting,i),this.pcManager.publisher.once(df.RTPVideoPayloadTypes,a=>{const o=new Map;a.forEach(s=>{const c=s.codec.toLowerCase();MIe(c)&&o.set(s.payload,c)}),this.emit(Qe.RTPVideoMapUpdate,o)});try{yield this.pcManager.negotiate(r),t()}catch(a){if(r.signal.aborted){t();return}a instanceof lf&&(this.fullReconnectOnNext=!0),this.handleDisconnect("negotiation",Ld.RR_UNKNOWN),a instanceof Error?n(a):n(new Error(String(a)))}finally{this.off(Qe.Closing,i),this.off(Qe.Restarting,i)}}))})}dataChannelForKind(t,n){if(n){if(t===Rt.LOSSY)return this.lossyDCSub;if(t===Rt.RELIABLE)return this.reliableDCSub}else{if(t===Rt.LOSSY)return this.lossyDC;if(t===Rt.RELIABLE)return this.reliableDC}}sendSyncState(t,n){var r,i,a,o;if(!this.pcManager){this.log.warn("sync state cannot be sent without peer connection setup",this.logContext);return}const s=this.pcManager.publisher.getLocalDescription(),c=this.pcManager.publisher.getRemoteDescription(),l=(r=this.pcManager.subscriber)===null||r===void 0?void 0:r.getRemoteDescription(),A=(i=this.pcManager.subscriber)===null||i===void 0?void 0:i.getLocalDescription(),u=(o=(a=this.signalOpts)===null||a===void 0?void 0:a.autoSubscribe)!==null&&o!==void 0?o:!0,d=new Array,f=new Array;t.forEach(h=>{h.isDesired!==u&&d.push(h.trackSid),h.isEnabled||f.push(h.trackSid)}),this.client.sendSyncState(new KF({answer:this.pcManager.mode==="publisher-only"?c?Xh({sdp:c.sdp,type:c.type}):void 0:A?Xh({sdp:A.sdp,type:A.type}):void 0,offer:this.pcManager.mode==="publisher-only"?s?Xh({sdp:s.sdp,type:s.type}):void 0:l?Xh({sdp:l.sdp,type:l.type}):void 0,subscription:new _B({trackSids:d,subscribe:!u,participantTracks:[]}),publishTracks:bIe(n),dataChannels:this.dataChannelsInfo(),trackSidsDisabled:f,datachannelReceiveStates:this.reliableReceivedState.map((h,p)=>new bZ({publisherSid:p,lastSeq:h}))}))}failNext(){this.shouldFailNext=!0}dataChannelsInfo(){const t=[],n=(r,i)=>{(r==null?void 0:r.id)!==void 0&&r.id!==null&&t.push(new wZ({label:r.label,id:r.id,target:i}))};return n(this.dataChannelForKind(Rt.LOSSY),js.PUBLISHER),n(this.dataChannelForKind(Rt.RELIABLE),js.PUBLISHER),n(this.dataChannelForKind(Rt.LOSSY,!0),js.SUBSCRIBER),n(this.dataChannelForKind(Rt.RELIABLE,!0),js.SUBSCRIBER),t}clearReconnectTimeout(){this.reconnectTimeout&&Qi.clearTimeout(this.reconnectTimeout)}clearPendingReconnect(){this.clearReconnectTimeout(),this.reconnectAttempts=0}registerOnLineListener(){Qa()&&(window.addEventListener("online",this.handleBrowserOnLine),window.addEventListener("offline",this.handleBrowserOffline))}deregisterOnLineListener(){Qa()&&(window.removeEventListener("online",this.handleBrowserOnLine),window.removeEventListener("offline",this.handleBrowserOffline))}getTrackIdForReceiver(t){var n;const r=(n=this.pcManager)===null||n===void 0?void 0:n.getMidForReceiver(t);if(r){const i=Object.entries(this.midToTrackId).find(a=>{let[o]=a;return o===r});if(i)return i[1]}}}function zFe(e){return e!==void 0&&e>13}function MQ(e,t){const n=e.participantIdentity?e.participantIdentity:t.participantIdentity;e.participantIdentity=n,t.participantIdentity=n;const r=e.destinationIdentities.length!==0?e.destinationIdentities:t.destinationIdentities;e.destinationIdentities=r,t.destinationIdentities=r}class vee{get info(){return this._info}validateBytesReceived(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(typeof this.totalByteSize!="number"||this.totalByteSize===0)){if(t&&this.bytesReceived<this.totalByteSize)throw new Xo("Not enough chunk(s) received - expected ".concat(this.totalByteSize," bytes of data total, only received ").concat(this.bytesReceived," bytes"),ga.Incomplete);if(this.bytesReceived>this.totalByteSize)throw new Xo("Extra chunk(s) received - expected ".concat(this.totalByteSize," bytes of data total, received ").concat(this.bytesReceived," bytes"),ga.LengthExceeded)}}constructor(t,n,r,i){this.reader=n,this.totalByteSize=r,this._info=t,this.bytesReceived=0,this.outOfBandFailureRejectingFuture=i}}class WFe extends vee{handleChunkReceived(t){var n;this.bytesReceived+=t.content.byteLength,this.validateBytesReceived();const r=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;(n=this.onProgress)===null||n===void 0||n.call(this,r)}[Symbol.asyncIterator](){const t=this.reader.getReader();let n=new cs,r=null,i=null;if(this.signal){const o=this.signal;i=()=>{var s;(s=n.reject)===null||s===void 0||s.call(n,o.reason)},o.addEventListener("abort",i),r=o}const a=()=>{t.releaseLock(),r&&i&&r.removeEventListener("abort",i),this.signal=void 0};return{next:()=>J(this,void 0,void 0,function*(){var o,s;try{const{done:c,value:l}=yield Promise.race([t.read(),n.promise,(s=(o=this.outOfBandFailureRejectingFuture)===null||o===void 0?void 0:o.promise)!==null&&s!==void 0?s:new Promise(()=>{})]);return c?(this.validateBytesReceived(!0),{done:!0,value:void 0}):(this.handleChunkReceived(l),{done:!1,value:l.content})}catch(c){throw a(),c}}),return(){return J(this,void 0,void 0,function*(){return a(),{done:!0,value:void 0}})}}}withAbortSignal(t){return this.signal=t,this}readAll(){return J(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function*(){var r,i,a,o;let s=new Set;const c=n.signal?t.withAbortSignal(n.signal):t;try{for(var l=!0,A=Dl(c),u;u=yield A.next(),r=u.done,!r;l=!0){o=u.value,l=!1;const d=o;s.add(d)}}catch(d){i={error:d}}finally{try{!l&&!r&&(a=A.return)&&(yield a.call(A))}finally{if(i)throw i.error}}return Array.from(s)}()})}}class GFe extends vee{constructor(t,n,r,i){super(t,n,r,i),this.receivedChunks=new Map}handleChunkReceived(t){var n;const r=wb(t.chunkIndex),i=this.receivedChunks.get(r);if(i&&i.version>t.version)return;this.receivedChunks.set(r,t),this.bytesReceived+=t.content.byteLength,this.validateBytesReceived();const a=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;(n=this.onProgress)===null||n===void 0||n.call(this,a)}[Symbol.asyncIterator](){const t=this.reader.getReader(),n=new TextDecoder("utf-8",{fatal:!0});let r=new cs,i=null,a=null;if(this.signal){const s=this.signal;a=()=>{var c;(c=r.reject)===null||c===void 0||c.call(r,s.reason)},s.addEventListener("abort",a),i=s}const o=()=>{t.releaseLock(),i&&a&&i.removeEventListener("abort",a),this.signal=void 0};return{next:()=>J(this,void 0,void 0,function*(){var s,c;try{const{done:l,value:A}=yield Promise.race([t.read(),r.promise,(c=(s=this.outOfBandFailureRejectingFuture)===null||s===void 0?void 0:s.promise)!==null&&c!==void 0?c:new Promise(()=>{})]);if(l)return this.validateBytesReceived(!0),{done:!0,value:void 0};{this.handleChunkReceived(A);let u;try{u=n.decode(A.content)}catch(d){throw new Xo("Cannot decode datastream chunk ".concat(A.chunkIndex," as text: ").concat(d),ga.DecodeFailed)}return{done:!1,value:u}}}catch(l){throw o(),l}}),return(){return J(this,void 0,void 0,function*(){return o(),{done:!0,value:void 0}})}}}withAbortSignal(t){return this.signal=t,this}readAll(){return J(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function*(){var r,i,a,o;let s="";const c=n.signal?t.withAbortSignal(n.signal):t;try{for(var l=!0,A=Dl(c),u;u=yield A.next(),r=u.done,!r;l=!0)o=u.value,l=!1,s+=o}catch(d){i={error:d}}finally{try{!l&&!r&&(a=A.return)&&(yield a.call(A))}finally{if(i)throw i.error}}return s}()})}}class qFe{constructor(){this.log=_t,this.byteStreamControllers=new Map,this.textStreamControllers=new Map,this.byteStreamHandlers=new Map,this.textStreamHandlers=new Map}registerTextStreamHandler(t,n){if(this.textStreamHandlers.has(t))throw new Xo('A text stream handler for topic "'.concat(t,'" has already been set.'),ga.HandlerAlreadyRegistered);this.textStreamHandlers.set(t,n)}unregisterTextStreamHandler(t){this.textStreamHandlers.delete(t)}registerByteStreamHandler(t,n){if(this.byteStreamHandlers.has(t))throw new Xo('A byte stream handler for topic "'.concat(t,'" has already been set.'),ga.HandlerAlreadyRegistered);this.byteStreamHandlers.set(t,n)}unregisterByteStreamHandler(t){this.byteStreamHandlers.delete(t)}clearControllers(){this.byteStreamControllers.clear(),this.textStreamControllers.clear()}validateParticipantHasNoActiveDataStreams(t){var n,r,i,a;const o=Array.from(this.textStreamControllers.entries()).filter(c=>c[1].sendingParticipantIdentity===t),s=Array.from(this.byteStreamControllers.entries()).filter(c=>c[1].sendingParticipantIdentity===t);if(o.length>0||s.length>0){const c=new Xo("Participant ".concat(t," unexpectedly disconnected in the middle of sending data"),ga.AbnormalEnd);for(const[l,A]of s)(r=(n=A.outOfBandFailureRejectingFuture).reject)===null||r===void 0||r.call(n,c),this.byteStreamControllers.delete(l);for(const[l,A]of o)(a=(i=A.outOfBandFailureRejectingFuture).reject)===null||a===void 0||a.call(i,c),this.textStreamControllers.delete(l)}}handleDataStreamPacket(t,n){return J(this,void 0,void 0,function*(){switch(t.value.case){case"streamHeader":return this.handleStreamHeader(t.value.value,t.participantIdentity,n);case"streamChunk":return this.handleStreamChunk(t.value.value,n);case"streamTrailer":return this.handleStreamTrailer(t.value.value,n);default:throw new Error('DataPacket of value "'.concat(t.value.case,'" is not data stream related!'))}})}handleStreamHeader(t,n,r){return J(this,void 0,void 0,function*(){var i;if(t.contentHeader.case==="byteHeader"){const a=this.byteStreamHandlers.get(t.topic);if(!a){this.log.debug("ignoring incoming byte stream due to no handler for topic",t.topic);return}let o;const s=new cs;s.promise.catch(A=>{this.log.error(A)});const c={id:t.streamId,name:(i=t.contentHeader.value.name)!==null&&i!==void 0?i:"unknown",mimeType:t.mimeType,size:t.totalLength?Number(t.totalLength):void 0,topic:t.topic,timestamp:wb(t.timestamp),attributes:t.attributes,encryptionType:r},l=new ReadableStream({start:A=>{if(o=A,this.textStreamControllers.has(t.streamId))throw new Xo("A data stream read is already in progress for a stream with id ".concat(t.streamId,"."),ga.AlreadyOpened);this.byteStreamControllers.set(t.streamId,{info:c,controller:o,startTime:Date.now(),sendingParticipantIdentity:n,outOfBandFailureRejectingFuture:s})}});a(new WFe(c,l,wb(t.totalLength),s),{identity:n})}else if(t.contentHeader.case==="textHeader"){const a=this.textStreamHandlers.get(t.topic);if(!a){this.log.debug("ignoring incoming text stream due to no handler for topic",t.topic);return}let o;const s=new cs;s.promise.catch(A=>{this.log.error(A)});const c={id:t.streamId,mimeType:t.mimeType,size:t.totalLength?Number(t.totalLength):void 0,topic:t.topic,timestamp:Number(t.timestamp),attributes:t.attributes,encryptionType:r,attachedStreamIds:t.contentHeader.value.attachedStreamIds},l=new ReadableStream({start:A=>{if(o=A,this.textStreamControllers.has(t.streamId))throw new Xo("A data stream read is already in progress for a stream with id ".concat(t.streamId,"."),ga.AlreadyOpened);this.textStreamControllers.set(t.streamId,{info:c,controller:o,startTime:Date.now(),sendingParticipantIdentity:n,outOfBandFailureRejectingFuture:s})}});a(new GFe(c,l,wb(t.totalLength),s),{identity:n})}})}handleStreamChunk(t,n){const r=this.byteStreamControllers.get(t.streamId);r&&(r.info.encryptionType!==n?(r.controller.error(new Xo("Encryption type mismatch for stream ".concat(t.streamId,". Expected ").concat(n,", got ").concat(r.info.encryptionType),ga.EncryptionTypeMismatch)),this.byteStreamControllers.delete(t.streamId)):t.content.length>0&&r.controller.enqueue(t));const i=this.textStreamControllers.get(t.streamId);i&&(i.info.encryptionType!==n?(i.controller.error(new Xo("Encryption type mismatch for stream ".concat(t.streamId,". Expected ").concat(n,", got ").concat(i.info.encryptionType),ga.EncryptionTypeMismatch)),this.textStreamControllers.delete(t.streamId)):t.content.length>0&&i.controller.enqueue(t))}handleStreamTrailer(t,n){const r=this.textStreamControllers.get(t.streamId);r&&(r.info.encryptionType!==n?r.controller.error(new Xo("Encryption type mismatch for stream ".concat(t.streamId,". Expected ").concat(n,", got ").concat(r.info.encryptionType),ga.EncryptionTypeMismatch)):(r.info.attributes=Object.assign(Object.assign({},r.info.attributes),t.attributes),r.controller.close(),this.textStreamControllers.delete(t.streamId)));const i=this.byteStreamControllers.get(t.streamId);i&&(i.info.encryptionType!==n?i.controller.error(new Xo("Encryption type mismatch for stream ".concat(t.streamId,". Expected ").concat(n,", got ").concat(i.info.encryptionType),ga.EncryptionTypeMismatch)):(i.info.attributes=Object.assign(Object.assign({},i.info.attributes),t.attributes),i.controller.close()),this.byteStreamControllers.delete(t.streamId))}}class yee{constructor(t,n,r){this.writableStream=t,this.defaultWriter=t.getWriter(),this.onClose=r,this.info=n}write(t){return this.defaultWriter.write(t)}close(){return J(this,void 0,void 0,function*(){var t;yield this.defaultWriter.close(),this.defaultWriter.releaseLock(),(t=this.onClose)===null||t===void 0||t.call(this)})}}class YFe extends yee{}class XFe extends yee{}const RQ=15e3;class JFe{constructor(t,n){this.engine=t,this.log=n}setupEngine(t){this.engine=t}sendText(t,n){return J(this,void 0,void 0,function*(){var r;const i=crypto.randomUUID(),o=new TextEncoder().encode(t).byteLength,s=(r=n==null?void 0:n.attachments)===null||r===void 0?void 0:r.map(()=>crypto.randomUUID()),c=new Array(s?s.length+1:1).fill(0),l=(u,d)=>{var f;c[d]=u;const h=c.reduce((p,v)=>p+v,0);(f=n==null?void 0:n.onProgress)===null||f===void 0||f.call(n,h)},A=yield this.streamText({streamId:i,totalSize:o,destinationIdentities:n==null?void 0:n.destinationIdentities,topic:n==null?void 0:n.topic,attachedStreamIds:s,attributes:n==null?void 0:n.attributes});return yield A.write(t),l(1,0),yield A.close(),n!=null&&n.attachments&&s&&(yield Promise.all(n.attachments.map((u,d)=>J(this,void 0,void 0,function*(){return this._sendFile(s[d],u,{topic:n.topic,mimeType:u.type,onProgress:f=>{l(f,d+1)}})})))),A.info})}streamText(t){return J(this,void 0,void 0,function*(){var n,r,i;const a=(n=t==null?void 0:t.streamId)!==null&&n!==void 0?n:crypto.randomUUID(),o={id:a,mimeType:"text/plain",timestamp:Date.now(),topic:(r=t==null?void 0:t.topic)!==null&&r!==void 0?r:"",size:t==null?void 0:t.totalSize,attributes:t==null?void 0:t.attributes,encryptionType:!((i=this.engine.e2eeManager)===null||i===void 0)&&i.isDataChannelEncryptionEnabled?Ir.GCM:Ir.NONE,attachedStreamIds:t==null?void 0:t.attachedStreamIds},s=new d5({streamId:a,mimeType:o.mimeType,topic:o.topic,timestamp:Ud(o.timestamp),totalLength:Ud(t==null?void 0:t.totalSize),attributes:o.attributes,contentHeader:{case:"textHeader",value:new lZ({version:t==null?void 0:t.version,attachedStreamIds:o.attachedStreamIds,replyToStreamId:t==null?void 0:t.replyToStreamId,operationType:(t==null?void 0:t.type)==="update"?tT.UPDATE:tT.CREATE})}}),c=t==null?void 0:t.destinationIdentities,l=new ma({destinationIdentities:c,value:{case:"streamHeader",value:s}});yield this.engine.sendDataPacket(l,Rt.RELIABLE);let A=0;const u=this.engine,d=new WritableStream({write(p){return J(this,void 0,void 0,function*(){for(const v of $Ie(p,RQ)){const m=new f5({content:v,streamId:a,chunkIndex:Ud(A)}),w=new ma({destinationIdentities:c,value:{case:"streamChunk",value:m}});yield u.sendDataPacket(w,Rt.RELIABLE),A+=1}})},close(){return J(this,void 0,void 0,function*(){const p=new h5({streamId:a}),v=new ma({destinationIdentities:c,value:{case:"streamTrailer",value:p}});yield u.sendDataPacket(v,Rt.RELIABLE)})},abort(p){console.log("Sink error:",p)}});let f=()=>J(this,void 0,void 0,function*(){yield h.close()});u.once(Qe.Closing,f);const h=new YFe(d,o,()=>this.engine.off(Qe.Closing,f));return h})}sendFile(t,n){return J(this,void 0,void 0,function*(){const r=crypto.randomUUID();return yield this._sendFile(r,t,n),{id:r}})}_sendFile(t,n,r){return J(this,void 0,void 0,function*(){var i;const a=yield this.streamBytes({streamId:t,totalSize:n.size,name:n.name,mimeType:(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:n.type,topic:r==null?void 0:r.topic,destinationIdentities:r==null?void 0:r.destinationIdentities}),o=n.stream().getReader();for(;;){const{done:s,value:c}=yield o.read();if(s)break;yield a.write(c)}return yield a.close(),a.info})}streamBytes(t){return J(this,void 0,void 0,function*(){var n,r,i,a,o,s;const c=(n=t==null?void 0:t.streamId)!==null&&n!==void 0?n:crypto.randomUUID(),l=t==null?void 0:t.destinationIdentities,A={id:c,mimeType:(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:"application/octet-stream",topic:(i=t==null?void 0:t.topic)!==null&&i!==void 0?i:"",timestamp:Date.now(),attributes:t==null?void 0:t.attributes,size:t==null?void 0:t.totalSize,name:(a=t==null?void 0:t.name)!==null&&a!==void 0?a:"unknown",encryptionType:!((o=this.engine.e2eeManager)===null||o===void 0)&&o.isDataChannelEncryptionEnabled?Ir.GCM:Ir.NONE},u=new d5({totalLength:Ud((s=A.size)!==null&&s!==void 0?s:0),mimeType:A.mimeType,streamId:c,topic:A.topic,timestamp:Ud(Date.now()),attributes:A.attributes,contentHeader:{case:"byteHeader",value:new AZ({name:A.name})}}),d=new ma({destinationIdentities:l,value:{case:"streamHeader",value:u}});yield this.engine.sendDataPacket(d,Rt.RELIABLE);let f=0;const h=new wa,p=this.engine,v=this.log,m=new WritableStream({write(B){return J(this,void 0,void 0,function*(){const C=yield h.lock();let S=0;try{for(;S<B.byteLength;){const k=B.slice(S,S+RQ),_=new ma({destinationIdentities:l,value:{case:"streamChunk",value:new f5({content:k,streamId:c,chunkIndex:Ud(f)})}});yield p.sendDataPacket(_,Rt.RELIABLE),f+=1,S+=k.byteLength}}finally{C()}})},close(){return J(this,void 0,void 0,function*(){const B=new h5({streamId:c}),C=new ma({destinationIdentities:l,value:{case:"streamTrailer",value:B}});yield p.sendDataPacket(C,Rt.RELIABLE)})},abort(B){v.error("Sink error:",B)}});return new XFe(m,A)})}}class bee extends ve{constructor(t,n,r,i,a){super(t,r,a),this.sid=n,this.receiver=i}get isLocal(){return!1}setMuted(t){this.isMuted!==t&&(this.isMuted=t,this._mediaStreamTrack.enabled=!t,this.emit(t?Re.Muted:Re.Unmuted,this))}setMediaStream(t){this.mediaStream=t;const n=r=>{r.track===this._mediaStreamTrack&&(t.removeEventListener("removetrack",n),this.receiver&&"playoutDelayHint"in this.receiver&&(this.receiver.playoutDelayHint=void 0),this.receiver=void 0,this._currentBitrate=0,this.emit(Re.Ended,this))};t.addEventListener("removetrack",n)}start(){this.startMonitor(),super.enable()}stop(){this.stopMonitor(),super.disable()}getRTCStatsReport(){return J(this,void 0,void 0,function*(){var t;return!((t=this.receiver)===null||t===void 0)&&t.getStats?yield this.receiver.getStats():void 0})}setPlayoutDelay(t){this.receiver?"playoutDelayHint"in this.receiver?this.receiver.playoutDelayHint=t:this.log.warn("Playout delay not supported in this browser"):this.log.warn("Cannot set playout delay, track already ended")}getPlayoutDelay(){if(this.receiver){if("playoutDelayHint"in this.receiver)return this.receiver.playoutDelayHint;this.log.warn("Playout delay not supported in this browser")}else this.log.warn("Cannot get playout delay, track already ended");return 0}startMonitor(){this.monitorInterval||(this.monitorInterval=setInterval(()=>this.monitorReceiver(),i6)),wIe()&&this.registerTimeSyncUpdate()}registerTimeSyncUpdate(){const t=()=>{var n;this.timeSyncHandle=requestAnimationFrame(()=>t());const r=(n=this.receiver)===null||n===void 0?void 0:n.getSynchronizationSources()[0];if(r){const{timestamp:i,rtpTimestamp:a}=r;a&&this.rtpTimestamp!==a&&(this.emit(Re.TimeSyncUpdate,{timestamp:i,rtpTimestamp:a}),this.rtpTimestamp=a)}};t()}}class wee extends bee{constructor(t,n,r,i,a,o){super(t,n,ve.Kind.Audio,r,o),this.monitorReceiver=()=>J(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const s=yield this.getReceiverStats();s&&this.prevStats&&this.receiver&&(this._currentBitrate=FB(s,this.prevStats)),this.prevStats=s}),this.audioContext=i,this.webAudioPluginNodes=[],a&&(this.sinkId=a.deviceId)}setVolume(t){var n;for(const r of this.attachedElements)this.audioContext?(n=this.gainNode)===null||n===void 0||n.gain.setTargetAtTime(t,0,.1):r.volume=t;Gc()&&this._mediaStreamTrack._setVolume(t),this.elementVolume=t}getVolume(){if(this.elementVolume)return this.elementVolume;if(Gc())return 1;let t=0;return this.attachedElements.forEach(n=>{n.volume>t&&(t=n.volume)}),t}setSinkId(t){return J(this,void 0,void 0,function*(){this.sinkId=t,yield Promise.all(this.attachedElements.map(n=>{if(vT(n))return n.setSinkId(t)}))})}attach(t){const n=this.attachedElements.length===0;return t?super.attach(t):t=super.attach(),this.sinkId&&vT(t)&&t.setSinkId(this.sinkId).catch(r=>{this.log.error("Failed to set sink id on remote audio track",r,this.logContext)}),this.audioContext&&n&&(this.log.debug("using audio context mapping",this.logContext),this.connectWebAudio(this.audioContext,t),t.volume=0,t.muted=!0),this.elementVolume&&this.setVolume(this.elementVolume),t}detach(t){let n;return t?(n=super.detach(t),this.audioContext&&(this.attachedElements.length>0?this.connectWebAudio(this.audioContext,this.attachedElements[0]):this.disconnectWebAudio())):(n=super.detach(),this.disconnectWebAudio()),n}setAudioContext(t){this.audioContext=t,t&&this.attachedElements.length>0?this.connectWebAudio(t,this.attachedElements[0]):t||this.disconnectWebAudio()}setWebAudioPlugins(t){this.webAudioPluginNodes=t,this.attachedElements.length>0&&this.audioContext&&this.connectWebAudio(this.audioContext,this.attachedElements[0])}connectWebAudio(t,n){this.disconnectWebAudio(),this.sourceNode=t.createMediaStreamSource(n.srcObject);let r=this.sourceNode;this.webAudioPluginNodes.forEach(i=>{r.connect(i),r=i}),this.gainNode=t.createGain(),r.connect(this.gainNode),this.gainNode.connect(t.destination),this.elementVolume&&this.gainNode.gain.setTargetAtTime(this.elementVolume,0,.1),t.state!=="running"&&t.resume().then(()=>{t.state!=="running"&&this.emit(Re.AudioPlaybackFailed,new Error("Audio Context couldn't be started automatically"))}).catch(i=>{this.emit(Re.AudioPlaybackFailed,i)})}disconnectWebAudio(){var t,n;(t=this.gainNode)===null||t===void 0||t.disconnect(),(n=this.sourceNode)===null||n===void 0||n.disconnect(),this.gainNode=void 0,this.sourceNode=void 0}getReceiverStats(){return J(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const t=yield this.receiver.getStats();let n;return t.forEach(r=>{r.type==="inbound-rtp"&&(n={type:"audio",streamId:r.id,timestamp:r.timestamp,jitter:r.jitter,bytesReceived:r.bytesReceived,concealedSamples:r.concealedSamples,concealmentEvents:r.concealmentEvents,silentConcealedSamples:r.silentConcealedSamples,silentConcealmentEvents:r.silentConcealmentEvents,totalAudioEnergy:r.totalAudioEnergy,totalSamplesDuration:r.totalSamplesDuration})}),n})}}const Kx=100;class ZFe extends bee{constructor(t,n,r,i,a){super(t,n,ve.Kind.Video,r,a),this.elementInfos=[],this.monitorReceiver=()=>J(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const o=yield this.getReceiverStats();o&&this.prevStats&&this.receiver&&(this._currentBitrate=FB(o,this.prevStats)),this.prevStats=o}),this.debouncedHandleResize=e6(()=>{this.updateDimensions()},Kx),this.adaptiveStreamSettings=i}get isAdaptiveStream(){return this.adaptiveStreamSettings!==void 0}setStreamState(t){super.setStreamState(t),this.log.debug("setStreamState",t),this.isAdaptiveStream&&t===ve.StreamState.Active&&this.updateVisibility()}get mediaStreamTrack(){return this._mediaStreamTrack}setMuted(t){super.setMuted(t),this.attachedElements.forEach(n=>{t?mp(this._mediaStreamTrack,n):Yh(this._mediaStreamTrack,n)})}attach(t){if(t?super.attach(t):t=super.attach(),this.adaptiveStreamSettings&&this.elementInfos.find(n=>n.element===t)===void 0){const n=new e6e(t);this.observeElementInfo(n)}return t}observeElementInfo(t){this.adaptiveStreamSettings&&this.elementInfos.find(n=>n===t)===void 0?(t.handleResize=()=>{this.debouncedHandleResize()},t.handleVisibilityChanged=()=>{this.updateVisibility()},this.elementInfos.push(t),t.observe(),this.debouncedHandleResize(),this.updateVisibility()):this.log.warn("visibility resize observer not triggered",this.logContext)}stopObservingElementInfo(t){if(!this.isAdaptiveStream){this.log.warn("stopObservingElementInfo ignored",this.logContext);return}const n=this.elementInfos.filter(r=>r===t);for(const r of n)r.stopObserving();this.elementInfos=this.elementInfos.filter(r=>r!==t),this.updateVisibility(),this.debouncedHandleResize()}detach(t){let n=[];if(t)return this.stopObservingElement(t),super.detach(t);n=super.detach();for(const r of n)this.stopObservingElement(r);return n}getDecoderImplementation(){var t;return(t=this.prevStats)===null||t===void 0?void 0:t.decoderImplementation}getReceiverStats(){return J(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const t=yield this.receiver.getStats();let n,r="",i=new Map;return t.forEach(a=>{a.type==="inbound-rtp"?(r=a.codecId,n={type:"video",streamId:a.id,framesDecoded:a.framesDecoded,framesDropped:a.framesDropped,framesReceived:a.framesReceived,packetsReceived:a.packetsReceived,packetsLost:a.packetsLost,frameWidth:a.frameWidth,frameHeight:a.frameHeight,pliCount:a.pliCount,firCount:a.firCount,nackCount:a.nackCount,jitter:a.jitter,timestamp:a.timestamp,bytesReceived:a.bytesReceived,decoderImplementation:a.decoderImplementation}):a.type==="codec"&&i.set(a.id,a)}),n&&r!==""&&i.get(r)&&(n.mimeType=i.get(r).mimeType),n})}stopObservingElement(t){const n=this.elementInfos.filter(r=>r.element===t);for(const r of n)this.stopObservingElementInfo(r)}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return J(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),this.isAdaptiveStream&&this.updateVisibility()})}updateVisibility(t){var n,r;const i=this.elementInfos.reduce((c,l)=>Math.max(c,l.visibilityChangedAt||0),0),a=!((r=(n=this.adaptiveStreamSettings)===null||n===void 0?void 0:n.pauseVideoInBackground)!==null&&r!==void 0)||r?this.isInBackground:!1,o=this.elementInfos.some(c=>c.pictureInPicture),s=this.elementInfos.some(c=>c.visible)&&!a||o;if(!(this.lastVisible===s&&!t)){if(!s&&Date.now()-i<Kx){Qi.setTimeout(()=>{this.updateVisibility()},Kx);return}this.lastVisible=s,this.emit(Re.VisibilityChanged,s,this)}}updateDimensions(){var t,n;let r=0,i=0;const a=this.getPixelDensity();for(const o of this.elementInfos){const s=o.width()*a,c=o.height()*a;s+c>r+i&&(r=s,i=c)}((t=this.lastDimensions)===null||t===void 0?void 0:t.width)===r&&((n=this.lastDimensions)===null||n===void 0?void 0:n.height)===i||(this.lastDimensions={width:r,height:i},this.emit(Re.VideoDimensionsChanged,this.lastDimensions,this))}getPixelDensity(){var t;const n=(t=this.adaptiveStreamSettings)===null||t===void 0?void 0:t.pixelDensity;return n==="screen"?dQ():n||(dQ()>2?2:1)}}class e6e{get visible(){return this.isPiP||this.isIntersecting}get pictureInPicture(){return this.isPiP}constructor(t,n){this.onVisibilityChanged=r=>{var i;const{target:a,isIntersecting:o}=r;a===this.element&&(this.isIntersecting=o,this.isPiP=Dm(this.element),this.visibilityChangedAt=Date.now(),(i=this.handleVisibilityChanged)===null||i===void 0||i.call(this))},this.onEnterPiP=()=>{var r,i,a;(i=(r=window.documentPictureInPicture)===null||r===void 0?void 0:r.window)===null||i===void 0||i.addEventListener("pagehide",this.onLeavePiP),this.isPiP=Dm(this.element),(a=this.handleVisibilityChanged)===null||a===void 0||a.call(this)},this.onLeavePiP=()=>{var r;this.isPiP=Dm(this.element),(r=this.handleVisibilityChanged)===null||r===void 0||r.call(this)},this.element=t,this.isIntersecting=n??ST(t),this.isPiP=Qa()&&Dm(t),this.visibilityChangedAt=0}width(){return this.element.clientWidth}height(){return this.element.clientHeight}observe(){var t,n,r;this.isIntersecting=ST(this.element),this.isPiP=Dm(this.element),this.element.handleResize=()=>{var i;(i=this.handleResize)===null||i===void 0||i.call(this)},this.element.handleVisibilityChanged=this.onVisibilityChanged,hQ().observe(this.element),fQ().observe(this.element),this.element.addEventListener("enterpictureinpicture",this.onEnterPiP),this.element.addEventListener("leavepictureinpicture",this.onLeavePiP),(t=window.documentPictureInPicture)===null||t===void 0||t.addEventListener("enter",this.onEnterPiP),(r=(n=window.documentPictureInPicture)===null||n===void 0?void 0:n.window)===null||r===void 0||r.addEventListener("pagehide",this.onLeavePiP)}stopObserving(){var t,n,r,i,a;(t=hQ())===null||t===void 0||t.unobserve(this.element),(n=fQ())===null||n===void 0||n.unobserve(this.element),this.element.removeEventListener("enterpictureinpicture",this.onEnterPiP),this.element.removeEventListener("leavepictureinpicture",this.onLeavePiP),(r=window.documentPictureInPicture)===null||r===void 0||r.removeEventListener("enter",this.onEnterPiP),(a=(i=window.documentPictureInPicture)===null||i===void 0?void 0:i.window)===null||a===void 0||a.removeEventListener("pagehide",this.onLeavePiP)}}function Dm(e){var t,n;return document.pictureInPictureElement===e?!0:!((t=window.documentPictureInPicture)===null||t===void 0)&&t.window?ST(e,(n=window.documentPictureInPicture)===null||n===void 0?void 0:n.window):!1}function ST(e,t){const n=t||window;let r=e.offsetTop,i=e.offsetLeft;const a=e.offsetWidth,o=e.offsetHeight,{hidden:s}=e,{display:c}=getComputedStyle(e);for(;e.offsetParent;)e=e.offsetParent,r+=e.offsetTop,i+=e.offsetLeft;return r<n.pageYOffset+n.innerHeight&&i<n.pageXOffset+n.innerWidth&&r+o>n.pageYOffset&&i+a>n.pageXOffset&&!s&&c!=="none"}class Ll extends il.EventEmitter{constructor(t,n,r,i){var a;super(),this.metadataMuted=!1,this.encryption=Ir.NONE,this.log=_t,this.handleMuted=()=>{this.emit(Re.Muted)},this.handleUnmuted=()=>{this.emit(Re.Unmuted)},this.log=Wc((a=i==null?void 0:i.loggerName)!==null&&a!==void 0?a:ps.Publication),this.loggerContextCb=this.loggerContextCb,this.setMaxListeners(100),this.kind=t,this.trackSid=n,this.trackName=r,this.source=ve.Source.Unknown}setTrack(t){this.track&&(this.track.off(Re.Muted,this.handleMuted),this.track.off(Re.Unmuted,this.handleUnmuted)),this.track=t,t&&(t.on(Re.Muted,this.handleMuted),t.on(Re.Unmuted,this.handleUnmuted))}get logContext(){var t;return Object.assign(Object.assign({},(t=this.loggerContextCb)===null||t===void 0?void 0:t.call(this)),Dt(this))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return this.track!==void 0}get isEncrypted(){return this.encryption!==Ir.NONE}get audioTrack(){if(jc(this.track))return this.track}get videoTrack(){if(rd(this.track))return this.track}updateInfo(t){this.trackSid=t.sid,this.trackName=t.name,this.source=ve.sourceFromProto(t.source),this.mimeType=t.mimeType,this.kind===ve.Kind.Video&&t.width>0&&(this.dimensions={width:t.width,height:t.height},this.simulcasted=t.simulcast),this.encryption=t.encryption,this.trackInfo=t,this.log.debug("update publication info",Object.assign(Object.assign({},this.logContext),{info:t}))}}(function(e){(function(t){t.Desired="desired",t.Subscribed="subscribed",t.Unsubscribed="unsubscribed"})(e.SubscriptionStatus||(e.SubscriptionStatus={})),function(t){t.Allowed="allowed",t.NotAllowed="not_allowed"}(e.PermissionStatus||(e.PermissionStatus={}))})(Ll||(Ll={}));class m5 extends Ll{get isUpstreamPaused(){var t;return(t=this.track)===null||t===void 0?void 0:t.isUpstreamPaused}constructor(t,n,r,i){super(t,n.sid,n.name,i),this.track=void 0,this.handleTrackEnded=()=>{this.emit(Re.Ended)},this.handleCpuConstrained=()=>{this.track&&rd(this.track)&&this.emit(Re.CpuConstrained,this.track)},this.updateInfo(n),this.setTrack(r)}setTrack(t){this.track&&(this.track.off(Re.Ended,this.handleTrackEnded),this.track.off(Re.CpuConstrained,this.handleCpuConstrained)),super.setTrack(t),t&&(t.on(Re.Ended,this.handleTrackEnded),t.on(Re.CpuConstrained,this.handleCpuConstrained))}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}get isLocal(){return!0}mute(){return J(this,void 0,void 0,function*(){var t;return(t=this.track)===null||t===void 0?void 0:t.mute()})}unmute(){return J(this,void 0,void 0,function*(){var t;return(t=this.track)===null||t===void 0?void 0:t.unmute()})}pauseUpstream(){return J(this,void 0,void 0,function*(){var t;yield(t=this.track)===null||t===void 0?void 0:t.pauseUpstream()})}resumeUpstream(){return J(this,void 0,void 0,function*(){var t;yield(t=this.track)===null||t===void 0?void 0:t.resumeUpstream()})}getTrackFeatures(){var t;if(jc(this.track)){const n=this.track.getSourceTrackSettings(),r=new Set;return n.autoGainControl&&r.add(vi.TF_AUTO_GAIN_CONTROL),n.echoCancellation&&r.add(vi.TF_ECHO_CANCELLATION),n.noiseSuppression&&r.add(vi.TF_NOISE_SUPPRESSION),n.channelCount&&n.channelCount>1&&r.add(vi.TF_STEREO),!((t=this.options)===null||t===void 0)&&t.dtx||r.add(vi.TF_NO_DTX),this.track.enhancedNoiseCancellation&&r.add(vi.TF_ENHANCED_NOISE_CANCELLATION),Array.from(r.values())}else return[]}}function OB(e,t){return J(this,void 0,void 0,function*(){e??(e={});let n=!1;const{audioProcessor:r,videoProcessor:i,optionsWithoutProcessor:a}=oee(e);let o=a.audio,s=a.video;if(r&&typeof a.audio=="object"&&(a.audio.processor=r),i&&typeof a.video=="object"&&(a.video.processor=i),e.audio&&typeof a.audio=="object"&&typeof a.audio.deviceId=="string"){const u=a.audio.deviceId;a.audio.deviceId={exact:u},n=!0,o=Object.assign(Object.assign({},a.audio),{deviceId:{ideal:u}})}if(a.video&&typeof a.video=="object"&&typeof a.video.deviceId=="string"){const u=a.video.deviceId;a.video.deviceId={exact:u},n=!0,s=Object.assign(Object.assign({},a.video),{deviceId:{ideal:u}})}a.audio===!0?a.audio={deviceId:"default"}:typeof a.audio=="object"&&a.audio!==null&&(a.audio=Object.assign(Object.assign({},a.audio),{deviceId:a.audio.deviceId||"default"})),a.video===!0?a.video={deviceId:"default"}:typeof a.video=="object"&&!a.video.deviceId&&(a.video.deviceId="default");const c=ree(a,uee,dee),l=YF(c),A=navigator.mediaDevices.getUserMedia(l);a.audio&&(yi.userMediaPromiseMap.set("audioinput",A),A.catch(()=>yi.userMediaPromiseMap.delete("audioinput"))),a.video&&(yi.userMediaPromiseMap.set("videoinput",A),A.catch(()=>yi.userMediaPromiseMap.delete("videoinput")));try{const u=yield A;return yield Promise.all(u.getTracks().map(d=>J(this,void 0,void 0,function*(){const f=d.kind==="audio";let h=f?c.audio:c.video;(typeof h=="boolean"||!h)&&(h={});let p;const v=f?l.audio:l.video;typeof v!="boolean"&&(p=v);const m=d.getSettings().deviceId;p!=null&&p.deviceId&&Af(p.deviceId)!==m?p.deviceId=m:p||(p={deviceId:m});const w=_Fe(d,p,t);return w.kind===ve.Kind.Video?w.source=ve.Source.Camera:w.kind===ve.Kind.Audio&&(w.source=ve.Source.Microphone),w.mediaStream=u,jc(w)&&r?yield w.setProcessor(r):rd(w)&&i&&(yield w.setProcessor(i)),w})))}catch(u){if(!n)throw u;return OB(Object.assign(Object.assign({},e),{audio:o,video:s}),t)}})}function t6e(e){return J(this,void 0,void 0,function*(){return(yield OB({audio:!1,video:!0}))[0]})}function n6e(e){return J(this,void 0,void 0,function*(){return(yield OB({audio:!0,video:!1}))[0]})}var $s;(function(e){e.Excellent="excellent",e.Good="good",e.Poor="poor",e.Lost="lost",e.Unknown="unknown"})($s||($s={}));function r6e(e){switch(e){case a0.EXCELLENT:return $s.Excellent;case a0.GOOD:return $s.Good;case a0.POOR:return $s.Poor;case a0.LOST:return $s.Lost;default:return $s.Unknown}}class Cee extends il.EventEmitter{get logContext(){var t,n;return Object.assign({},(n=(t=this.loggerOptions)===null||t===void 0?void 0:t.loggerContextCb)===null||n===void 0?void 0:n.call(t))}get isEncrypted(){return this.trackPublications.size>0&&Array.from(this.trackPublications.values()).every(t=>t.isEncrypted)}get isAgent(){var t;return((t=this.permissions)===null||t===void 0?void 0:t.agent)||this.kind===kv.AGENT}get isActive(){var t;return((t=this.participantInfo)===null||t===void 0?void 0:t.state)===hp.ACTIVE}get kind(){return this._kind}get attributes(){return Object.freeze(Object.assign({},this._attributes))}constructor(t,n,r,i,a,o){let s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:kv.STANDARD;var c;super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=$s.Unknown,this.log=_t,this.log=Wc((c=o==null?void 0:o.loggerName)!==null&&c!==void 0?c:ps.Participant),this.loggerOptions=o,this.setMaxListeners(100),this.sid=t,this.identity=n,this.name=r,this.metadata=i,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this._kind=s,this._attributes=a??{}}getTrackPublications(){return Array.from(this.trackPublications.values())}getTrackPublication(t){for(const[,n]of this.trackPublications)if(n.source===t)return n}getTrackPublicationByName(t){for(const[,n]of this.trackPublications)if(n.trackName===t)return n}waitUntilActive(){return this.isActive?Promise.resolve():this.activeFuture?this.activeFuture.promise:(this.activeFuture=new cs,this.once(_e.Active,()=>{var t,n;(n=(t=this.activeFuture)===null||t===void 0?void 0:t.resolve)===null||n===void 0||n.call(t),this.activeFuture=void 0}),this.activeFuture.promise)}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var t;const n=this.getTrackPublication(ve.Source.Camera);return!(!((t=n==null?void 0:n.isMuted)!==null&&t!==void 0)||t)}get isMicrophoneEnabled(){var t;const n=this.getTrackPublication(ve.Source.Microphone);return!(!((t=n==null?void 0:n.isMuted)!==null&&t!==void 0)||t)}get isScreenShareEnabled(){return!!this.getTrackPublication(ve.Source.ScreenShare)}get isLocal(){return!1}get joinedAt(){return this.participantInfo?new Date(Number.parseInt(this.participantInfo.joinedAt.toString())*1e3):new Date}updateInfo(t){var n;return this.participantInfo&&this.participantInfo.sid===t.sid&&this.participantInfo.version>t.version?!1:(this.identity=t.identity,this.sid=t.sid,this._setName(t.name),this._setMetadata(t.metadata),this._setAttributes(t.attributes),t.state===hp.ACTIVE&&((n=this.participantInfo)===null||n===void 0?void 0:n.state)!==hp.ACTIVE&&this.emit(_e.Active),t.permission&&this.setPermissions(t.permission),this.participantInfo=t,!0)}_setMetadata(t){const n=this.metadata!==t,r=this.metadata;this.metadata=t,n&&this.emit(_e.ParticipantMetadataChanged,r)}_setName(t){const n=this.name!==t;this.name=t,n&&this.emit(_e.ParticipantNameChanged,t)}_setAttributes(t){const n=CIe(this.attributes,t);this._attributes=t,Object.keys(n).length>0&&this.emit(_e.AttributesChanged,n)}setPermissions(t){var n,r,i,a,o,s;const c=this.permissions,l=t.canPublish!==((n=this.permissions)===null||n===void 0?void 0:n.canPublish)||t.canSubscribe!==((r=this.permissions)===null||r===void 0?void 0:r.canSubscribe)||t.canPublishData!==((i=this.permissions)===null||i===void 0?void 0:i.canPublishData)||t.hidden!==((a=this.permissions)===null||a===void 0?void 0:a.hidden)||t.recorder!==((o=this.permissions)===null||o===void 0?void 0:o.recorder)||t.canPublishSources.length!==this.permissions.canPublishSources.length||t.canPublishSources.some((A,u)=>{var d;return A!==((d=this.permissions)===null||d===void 0?void 0:d.canPublishSources[u])})||t.canSubscribeMetrics!==((s=this.permissions)===null||s===void 0?void 0:s.canSubscribeMetrics);return this.permissions=t,l&&this.emit(_e.ParticipantPermissionsChanged,c),l}setIsSpeaking(t){t!==this.isSpeaking&&(this.isSpeaking=t,t&&(this.lastSpokeAt=new Date),this.emit(_e.IsSpeakingChanged,t))}setConnectionQuality(t){const n=this._connectionQuality;this._connectionQuality=r6e(t),n!==this._connectionQuality&&this.emit(_e.ConnectionQualityChanged,this._connectionQuality)}setDisconnected(){var t,n;this.activeFuture&&((n=(t=this.activeFuture).reject)===null||n===void 0||n.call(t,new Error("Participant disconnected")),this.activeFuture=void 0)}setAudioContext(t){this.audioContext=t,this.audioTrackPublications.forEach(n=>jc(n.track)&&n.track.setAudioContext(t))}addTrackPublication(t){t.on(Re.Muted,()=>{this.emit(_e.TrackMuted,t)}),t.on(Re.Unmuted,()=>{this.emit(_e.TrackUnmuted,t)});const n=t;switch(n.track&&(n.track.sid=t.trackSid),this.trackPublications.set(t.trackSid,t),t.kind){case ve.Kind.Audio:this.audioTrackPublications.set(t.trackSid,t);break;case ve.Kind.Video:this.videoTrackPublications.set(t.trackSid,t);break}}}function i6e(e){var t,n,r;if(!e.participantSid&&!e.participantIdentity)throw new Error("Invalid track permission, must provide at least one of participantIdentity and participantSid");return new vZ({participantIdentity:(t=e.participantIdentity)!==null&&t!==void 0?t:"",participantSid:(n=e.participantSid)!==null&&n!==void 0?n:"",allTracks:(r=e.allowAll)!==null&&r!==void 0?r:!1,trackSids:e.allowedTrackSids||[]})}class a6e extends Cee{constructor(t,n,r,i,a,o){super(t,n,void 0,void 0,void 0,{loggerName:i.loggerName,loggerContextCb:()=>this.engine.logContext}),this.pendingPublishing=new Set,this.pendingPublishPromises=new Map,this.participantTrackPermissions=[],this.allParticipantsAllowedToSubscribe=!0,this.encryptionType=Ir.NONE,this.enabledPublishVideoCodecs=[],this.pendingAcks=new Map,this.pendingResponses=new Map,this.handleReconnecting=()=>{this.reconnectFuture||(this.reconnectFuture=new cs)},this.handleReconnected=()=>{var s,c;(c=(s=this.reconnectFuture)===null||s===void 0?void 0:s.resolve)===null||c===void 0||c.call(s),this.reconnectFuture=void 0,this.updateTrackSubscriptionPermissions()},this.handleClosing=()=>{var s,c,l,A,u,d;this.reconnectFuture&&(this.reconnectFuture.promise.catch(f=>this.log.warn(f.message,this.logContext)),(c=(s=this.reconnectFuture)===null||s===void 0?void 0:s.reject)===null||c===void 0||c.call(s,new Error("Got disconnected during reconnection attempt")),this.reconnectFuture=void 0),this.signalConnectedFuture&&((A=(l=this.signalConnectedFuture).reject)===null||A===void 0||A.call(l,new Error("Got disconnected without signal connected")),this.signalConnectedFuture=void 0),(d=(u=this.activeAgentFuture)===null||u===void 0?void 0:u.reject)===null||d===void 0||d.call(u,new Error("Got disconnected without active agent present")),this.activeAgentFuture=void 0,this.firstActiveAgent=void 0},this.handleSignalConnected=s=>{var c,l;s.participant&&this.updateInfo(s.participant),this.signalConnectedFuture||(this.signalConnectedFuture=new cs),(l=(c=this.signalConnectedFuture).resolve)===null||l===void 0||l.call(c)},this.handleSignalRequestResponse=s=>{const{requestId:c,reason:l,message:A}=s,u=this.pendingSignalRequests.get(c);u&&(l!==VF.OK&&u.reject(new sQ(A,l)),this.pendingSignalRequests.delete(c))},this.handleDataPacket=s=>{switch(s.value.case){case"rpcResponse":let c=s.value.value,l=null,A=null;c.value.case==="payload"?l=c.value.value:c.value.case==="error"&&(A=hr.fromProto(c.value.value)),this.handleIncomingRpcResponse(c.requestId,l,A);break;case"rpcAck":let u=s.value.value;this.handleIncomingRpcAck(u.requestId);break}},this.updateTrackSubscriptionPermissions=()=>{this.log.debug("updating track subscription permissions",Object.assign(Object.assign({},this.logContext),{allParticipantsAllowed:this.allParticipantsAllowedToSubscribe,participantTrackPermissions:this.participantTrackPermissions})),this.engine.client.sendUpdateSubscriptionPermissions(this.allParticipantsAllowedToSubscribe,this.participantTrackPermissions.map(s=>i6e(s)))},this.onTrackUnmuted=s=>{this.onTrackMuted(s,s.isUpstreamPaused)},this.onTrackMuted=(s,c)=>{if(c===void 0&&(c=!0),!s.sid){this.log.error("could not update mute status for unpublished track",Object.assign(Object.assign({},this.logContext),Dt(s)));return}this.engine.updateMuteStatus(s.sid,c)},this.onTrackUpstreamPaused=s=>{this.log.debug("upstream paused",Object.assign(Object.assign({},this.logContext),Dt(s))),this.onTrackMuted(s,!0)},this.onTrackUpstreamResumed=s=>{this.log.debug("upstream resumed",Object.assign(Object.assign({},this.logContext),Dt(s))),this.onTrackMuted(s,s.isMuted)},this.onTrackFeatureUpdate=s=>{const c=this.audioTrackPublications.get(s.sid);if(!c){this.log.warn("Could not update local audio track settings, missing publication for track ".concat(s.sid),this.logContext);return}this.engine.client.sendUpdateLocalAudioTrack(c.trackSid,c.getTrackFeatures())},this.onTrackCpuConstrained=(s,c)=>{this.log.debug("track cpu constrained",Object.assign(Object.assign({},this.logContext),Dt(c))),this.emit(_e.LocalTrackCpuConstrained,s,c)},this.handleSubscribedQualityUpdate=s=>J(this,void 0,void 0,function*(){var c,l,A,u,d;if(!(!((d=this.roomOptions)===null||d===void 0)&&d.dynacast))return;const f=this.videoTrackPublications.get(s.trackSid);if(!f){this.log.warn("received subscribed quality update for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:s.trackSid}));return}if(!f.videoTrack)return;const h=yield f.videoTrack.setPublishingCodecs(s.subscribedCodecs);try{for(var p=!0,v=Dl(h),m;m=yield v.next(),c=m.done,!c;p=!0){u=m.value,p=!1;const w=u;mIe(w)&&(this.log.debug("publish ".concat(w," for ").concat(f.videoTrack.sid),Object.assign(Object.assign({},this.logContext),Dt(f))),yield this.publishAdditionalCodecForTrack(f.videoTrack,w,f.options))}}catch(w){l={error:w}}finally{try{!p&&!c&&(A=v.return)&&(yield A.call(v))}finally{if(l)throw l.error}}}),this.handleLocalTrackUnpublished=s=>{const c=this.trackPublications.get(s.trackSid);if(!c){this.log.warn("received unpublished event for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:s.trackSid}));return}this.unpublishTrack(c.track)},this.handleTrackEnded=s=>J(this,void 0,void 0,function*(){if(s.source===ve.Source.ScreenShare||s.source===ve.Source.ScreenShareAudio)this.log.debug("unpublishing local track due to TrackEnded",Object.assign(Object.assign({},this.logContext),Dt(s))),this.unpublishTrack(s);else if(s.isUserProvided)yield s.mute();else if(_l(s)||qA(s))try{if(Qa())try{const c=yield navigator==null?void 0:navigator.permissions.query({name:s.source===ve.Source.Camera?"camera":"microphone"});if(c&&c.state==="denied")throw this.log.warn("user has revoked access to ".concat(s.source),Object.assign(Object.assign({},this.logContext),Dt(s))),c.onchange=()=>{c.state!=="denied"&&(s.isMuted||s.restartTrack(),c.onchange=null)},new Error("GetUserMedia Permission denied")}catch{}s.isMuted||(this.log.debug("track ended, attempting to use a different device",Object.assign(Object.assign({},this.logContext),Dt(s))),_l(s)?yield s.restartTrack({deviceId:"default"}):yield s.restartTrack())}catch{this.log.warn("could not restart track, muting instead",Object.assign(Object.assign({},this.logContext),Dt(s))),yield s.mute()}}),this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this.engine=r,this.roomOptions=i,this.setupEngine(r),this.activeDeviceMap=new Map([["audioinput","default"],["videoinput","default"],["audiooutput","default"]]),this.pendingSignalRequests=new Map,this.rpcHandlers=a,this.roomOutgoingDataStreamManager=o}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}get isE2EEEnabled(){return this.encryptionType!==Ir.NONE}getTrackPublication(t){const n=super.getTrackPublication(t);if(n)return n}getTrackPublicationByName(t){const n=super.getTrackPublicationByName(t);if(n)return n}setupEngine(t){var n;this.engine=t,this.engine.on(Qe.RemoteMute,(r,i)=>{const a=this.trackPublications.get(r);!a||!a.track||(i?a.mute():a.unmute())}),!((n=this.signalConnectedFuture)===null||n===void 0)&&n.isResolved&&(this.signalConnectedFuture=void 0),this.engine.on(Qe.Connected,this.handleReconnected).on(Qe.SignalConnected,this.handleSignalConnected).on(Qe.SignalRestarted,this.handleReconnected).on(Qe.SignalResumed,this.handleReconnected).on(Qe.Restarting,this.handleReconnecting).on(Qe.Resuming,this.handleReconnecting).on(Qe.LocalTrackUnpublished,this.handleLocalTrackUnpublished).on(Qe.SubscribedQualityUpdate,this.handleSubscribedQualityUpdate).on(Qe.Closing,this.handleClosing).on(Qe.SignalRequestResponse,this.handleSignalRequestResponse).on(Qe.DataPacketReceived,this.handleDataPacket)}setMetadata(t){return J(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({metadata:t})})}setName(t){return J(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({name:t})})}setAttributes(t){return J(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({attributes:t})})}requestMetadataUpdate(t){return J(this,arguments,void 0,function(n){var r=this;let{metadata:i,name:a,attributes:o}=n;return function*(){return new ca((s,c)=>J(r,void 0,void 0,function*(){var l,A;try{let u=!1;const d=yield this.engine.client.sendUpdateLocalMetadata((l=i??this.metadata)!==null&&l!==void 0?l:"",(A=a??this.name)!==null&&A!==void 0?A:"",o),f=performance.now();for(this.pendingSignalRequests.set(d,{resolve:s,reject:h=>{c(h),u=!0},values:{name:a,metadata:i,attributes:o}});performance.now()-f<5e3&&!u;){if((!a||this.name===a)&&(!i||this.metadata===i)&&(!o||Object.entries(o).every(h=>{let[p,v]=h;return this.attributes[p]===v||v===""&&!this.attributes[p]}))){this.pendingSignalRequests.delete(d),s();return}yield ji(50)}c(new sQ("Request to update local metadata timed out","TimeoutError"))}catch(u){u instanceof Error?c(u):c(new Error(String(u)))}}))}()})}setCameraEnabled(t,n,r){return this.setTrackEnabled(ve.Source.Camera,t,n,r)}setMicrophoneEnabled(t,n,r){return this.setTrackEnabled(ve.Source.Microphone,t,n,r)}setScreenShareEnabled(t,n,r){return this.setTrackEnabled(ve.Source.ScreenShare,t,n,r)}setE2EEEnabled(t){return J(this,void 0,void 0,function*(){this.encryptionType=t?Ir.GCM:Ir.NONE,yield this.republishAllTracks(void 0,!1)})}setTrackEnabled(t,n,r,i){return J(this,void 0,void 0,function*(){var a,o;this.log.debug("setTrackEnabled",Object.assign(Object.assign({},this.logContext),{source:t,enabled:n})),this.republishPromise&&(yield this.republishPromise);let s=this.getTrackPublication(t);if(n)if(s)yield s.unmute();else{let c;if(this.pendingPublishing.has(t)){const l=yield this.waitForPendingPublicationOfSource(t);return l||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:t})),yield l==null?void 0:l.unmute(),l}this.pendingPublishing.add(t);try{switch(t){case ve.Source.Camera:c=yield this.createTracks({video:(a=r)!==null&&a!==void 0?a:!0});break;case ve.Source.Microphone:c=yield this.createTracks({audio:(o=r)!==null&&o!==void 0?o:!0});break;case ve.Source.ScreenShare:c=yield this.createScreenTracks(Object.assign({},r));break;default:throw new Ql(t)}}catch(l){throw c==null||c.forEach(A=>{A.stop()}),l instanceof Error&&this.emit(_e.MediaDevicesError,l,pT(t)),this.pendingPublishing.delete(t),l}for(const l of c){const A=Object.assign(Object.assign({},this.roomOptions.publishDefaults),r);t===ve.Source.Microphone&&jc(l)&&A.preConnectBuffer&&(this.log.info("starting preconnect buffer for microphone",Object.assign({},this.logContext)),l.startPreConnectBuffer())}try{const l=[];for(const u of c)this.log.info("publishing track",Object.assign(Object.assign({},this.logContext),Dt(u))),l.push(this.publishTrack(u,i));[s]=yield Promise.all(l)}catch(l){throw c==null||c.forEach(A=>{A.stop()}),l}finally{this.pendingPublishing.delete(t)}}else if(!(s!=null&&s.track)&&this.pendingPublishing.has(t)&&(s=yield this.waitForPendingPublicationOfSource(t),s||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:t}))),s&&s.track)if(t===ve.Source.ScreenShare){s=yield this.unpublishTrack(s.track);const c=this.getTrackPublication(ve.Source.ScreenShareAudio);c&&c.track&&this.unpublishTrack(c.track)}else yield s.mute();return s})}enableCameraAndMicrophone(){return J(this,void 0,void 0,function*(){if(!(this.pendingPublishing.has(ve.Source.Camera)||this.pendingPublishing.has(ve.Source.Microphone))){this.pendingPublishing.add(ve.Source.Camera),this.pendingPublishing.add(ve.Source.Microphone);try{const t=yield this.createTracks({audio:!0,video:!0});yield Promise.all(t.map(n=>this.publishTrack(n)))}finally{this.pendingPublishing.delete(ve.Source.Camera),this.pendingPublishing.delete(ve.Source.Microphone)}}})}createTracks(t){return J(this,void 0,void 0,function*(){var n,r;t??(t={});const i=ree(t,(n=this.roomOptions)===null||n===void 0?void 0:n.audioCaptureDefaults,(r=this.roomOptions)===null||r===void 0?void 0:r.videoCaptureDefaults);try{return(yield OB(i,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext})).map(s=>(jc(s)&&(this.microphoneError=void 0,s.setAudioContext(this.audioContext),s.source=ve.Source.Microphone,this.emit(_e.AudioStreamAcquired)),rd(s)&&(this.cameraError=void 0,s.source=ve.Source.Camera),s))}catch(a){throw a instanceof Error&&(t.audio&&(this.microphoneError=a),t.video&&(this.cameraError=a)),a}})}createScreenTracks(t){return J(this,void 0,void 0,function*(){if(t===void 0&&(t={}),navigator.mediaDevices.getDisplayMedia===void 0)throw new GF("getDisplayMedia not supported");t.resolution===void 0&&!IIe()&&(t.resolution=qF.h1080fps30.resolution);const n=yIe(t),r=yield navigator.mediaDevices.getDisplayMedia(n),i=r.getVideoTracks();if(i.length===0)throw new Ql("no video track found");const a=new g5(i[0],void 0,!1,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});a.source=ve.Source.ScreenShare,t.contentHint&&(a.mediaStreamTrack.contentHint=t.contentHint);const o=[a];if(r.getAudioTracks().length>0){this.emit(_e.AudioStreamAcquired);const s=new p5(r.getAudioTracks()[0],void 0,!1,this.audioContext,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});s.source=ve.Source.ScreenShareAudio,o.push(s)}return o})}publishTrack(t,n){return J(this,void 0,void 0,function*(){return this.publishOrRepublishTrack(t,n)})}publishOrRepublishTrack(t,n){return J(this,arguments,void 0,function(r,i){var a=this;let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return function*(){var s,c,l,A;_l(r)&&r.setAudioContext(a.audioContext),yield(s=a.reconnectFuture)===null||s===void 0?void 0:s.promise,a.republishPromise&&!o&&(yield a.republishPromise),uf(r)&&a.pendingPublishPromises.has(r)&&(yield a.pendingPublishPromises.get(r));let u;if(r instanceof MediaStreamTrack)u=r.getConstraints();else{u=r.constraints;let m;switch(r.source){case ve.Source.Microphone:m="audioinput";break;case ve.Source.Camera:m="videoinput"}m&&a.activeDeviceMap.has(m)&&(u=Object.assign(Object.assign({},u),{deviceId:a.activeDeviceMap.get(m)}))}if(r instanceof MediaStreamTrack)switch(r.kind){case"audio":r=new p5(r,u,!0,a.audioContext,{loggerName:a.roomOptions.loggerName,loggerContextCb:()=>a.logContext});break;case"video":r=new g5(r,u,!0,{loggerName:a.roomOptions.loggerName,loggerContextCb:()=>a.logContext});break;default:throw new Ql("unsupported MediaStreamTrack kind ".concat(r.kind))}else r.updateLoggerOptions({loggerName:a.roomOptions.loggerName,loggerContextCb:()=>a.logContext});let d;if(a.trackPublications.forEach(m=>{m.track&&m.track===r&&(d=m)}),d)return a.log.warn("track has already been published, skipping",Object.assign(Object.assign({},a.logContext),Dt(d))),d;const f=Object.assign(Object.assign({},a.roomOptions.publishDefaults),i),h="channelCount"in r.mediaStreamTrack.getSettings()&&r.mediaStreamTrack.getSettings().channelCount===2||r.mediaStreamTrack.getConstraints().channelCount===2,p=(c=f.forceStereo)!==null&&c!==void 0?c:h;p&&(f.dtx===void 0&&a.log.info("Opus DTX will be disabled for stereo tracks by default. Enable them explicitly to make it work.",Object.assign(Object.assign({},a.logContext),Dt(r))),f.red===void 0&&a.log.info("Opus RED will be disabled for stereo tracks by default. Enable them explicitly to make it work."),(l=f.dtx)!==null&&l!==void 0||(f.dtx=!1),(A=f.red)!==null&&A!==void 0||(f.red=!1)),!OIe()&&a.roomOptions.e2ee&&(a.log.info("End-to-end encryption is set up, simulcast publishing will be disabled on Safari versions and iOS browsers running iOS < v17.2",Object.assign({},a.logContext)),f.simulcast=!1),f.source&&(r.source=f.source);const v=new Promise((m,w)=>J(a,void 0,void 0,function*(){try{if(this.engine.client.currentState!==Bn.CONNECTED){this.log.debug("deferring track publication until signal is connected",Object.assign(Object.assign({},this.logContext),{track:Dt(r)}));let B=!1;const C=setTimeout(()=>{B=!0,r.stop(),w(new oQ("publishing rejected as engine not connected within timeout",408))},15e3);if(yield this.waitUntilEngineConnected(),clearTimeout(C),B)return;const S=yield this.publish(r,f,p);m(S)}else try{const B=yield this.publish(r,f,p);m(B)}catch(B){w(B)}}catch(B){w(B)}}));a.pendingPublishPromises.set(r,v);try{return yield v}catch(m){throw m}finally{a.pendingPublishPromises.delete(r)}}()})}waitUntilEngineConnected(){return this.signalConnectedFuture||(this.signalConnectedFuture=new cs),this.signalConnectedFuture.promise}hasPermissionsToPublish(t){if(!this.permissions)return this.log.warn("no permissions present for publishing track",Object.assign(Object.assign({},this.logContext),Dt(t))),!1;const{canPublish:n,canPublishSources:r}=this.permissions;return n&&(r.length===0||r.map(i=>BIe(i)).includes(t.source))?!0:(this.log.warn("insufficient permissions to publish",Object.assign(Object.assign({},this.logContext),Dt(t))),!1)}publish(t,n,r){return J(this,void 0,void 0,function*(){var i,a,o,s,c,l,A,u,d,f;if(!this.hasPermissionsToPublish(t))throw new oQ("failed to publish track, insufficient permissions",403);Array.from(this.trackPublications.values()).find(P=>uf(t)&&P.source===t.source)&&t.source!==ve.Source.Unknown&&this.log.info("publishing a second track with the same source: ".concat(t.source),Object.assign(Object.assign({},this.logContext),Dt(t))),n.stopMicTrackOnMute&&jc(t)&&(t.stopOnMute=!0),t.source===ve.Source.ScreenShare&&Ff()&&(n.simulcast=!1),n.videoCodec==="av1"&&!TIe()&&(n.videoCodec=void 0),n.videoCodec==="vp9"&&!_Ie()&&(n.videoCodec=void 0),n.videoCodec===void 0&&(n.videoCodec=wT),this.enabledPublishVideoCodecs.length>0&&(this.enabledPublishVideoCodecs.some(P=>n.videoCodec===P0(P.mime))||(n.videoCodec=P0(this.enabledPublishVideoCodecs[0].mime)));const p=n.videoCodec;t.on(Re.Muted,this.onTrackMuted),t.on(Re.Unmuted,this.onTrackUnmuted),t.on(Re.Ended,this.handleTrackEnded),t.on(Re.UpstreamPaused,this.onTrackUpstreamPaused),t.on(Re.UpstreamResumed,this.onTrackUpstreamResumed),t.on(Re.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate);const v=[],m=!(!((i=n.dtx)!==null&&i!==void 0)||i),w=t.getSourceTrackSettings();w.autoGainControl&&v.push(vi.TF_AUTO_GAIN_CONTROL),w.echoCancellation&&v.push(vi.TF_ECHO_CANCELLATION),w.noiseSuppression&&v.push(vi.TF_NOISE_SUPPRESSION),w.channelCount&&w.channelCount>1&&v.push(vi.TF_STEREO),m&&v.push(vi.TF_NO_DTX),_l(t)&&t.hasPreConnectBuffer&&v.push(vi.TF_PRECONNECT_BUFFER);const B=new Ev({cid:t.mediaStreamTrack.id,name:n.name,type:ve.kindToProto(t.kind),muted:t.isMuted,source:ve.sourceToProto(t.source),disableDtx:m,encryption:this.encryptionType,stereo:r,disableRed:this.isE2EEEnabled||!(!((a=n.red)!==null&&a!==void 0)||a),stream:n==null?void 0:n.stream,backupCodecPolicy:n==null?void 0:n.backupCodecPolicy,audioFeatures:v});let C;if(t.kind===ve.Kind.Video){let P={width:0,height:0};try{P=yield t.waitForDimensions()}catch{const T=(s=(o=this.roomOptions.videoCaptureDefaults)===null||o===void 0?void 0:o.resolution)!==null&&s!==void 0?s:_v.h720.resolution;P={width:T.width,height:T.height},this.log.error("could not determine track dimensions, using defaults",Object.assign(Object.assign(Object.assign({},this.logContext),Dt(t)),{dims:P}))}B.width=P.width,B.height=P.height,qA(t)&&(Hs(p)&&(t.source===ve.Source.ScreenShare&&(n.scalabilityMode="L1T3","contentHint"in t.mediaStreamTrack&&(t.mediaStreamTrack.contentHint="motion",this.log.info("forcing contentHint to motion for screenshare with SVC codecs",Object.assign(Object.assign({},this.logContext),Dt(t))))),n.scalabilityMode=(c=n.scalabilityMode)!==null&&c!==void 0?c:"L3T3_KEY"),B.simulcastCodecs=[new rT({codec:p,cid:t.mediaStreamTrack.id})],n.backupCodec===!0&&(n.backupCodec={codec:wT}),n.backupCodec&&p!==n.backupCodec.codec&&B.encryption===Ir.NONE&&(this.roomOptions.dynacast||(this.roomOptions.dynacast=!0),B.simulcastCodecs.push(new rT({codec:n.backupCodec.codec,cid:""})))),C=BT(t.source===ve.Source.ScreenShare,B.width,B.height,n),B.layers=LQ(B.width,B.height,C,Hs(n.videoCodec))}else t.kind===ve.Kind.Audio&&(C=[{maxBitrate:(l=n.audioPreset)===null||l===void 0?void 0:l.maxBitrate,priority:(u=(A=n.audioPreset)===null||A===void 0?void 0:A.priority)!==null&&u!==void 0?u:"high",networkPriority:(f=(d=n.audioPreset)===null||d===void 0?void 0:d.priority)!==null&&f!==void 0?f:"high"}]);if(!this.engine||this.engine.isClosed)throw new Cr("cannot publish track when not connected");const S=()=>J(this,void 0,void 0,function*(){var P,U,T;if(!this.engine.pcManager)throw new Cr("pcManager is not ready");if(t.sender=yield this.engine.createSender(t,n,C),this.emit(_e.LocalSenderCreated,t.sender,t),qA(t)&&((P=n.degradationPreference)!==null&&P!==void 0||(n.degradationPreference=DFe(t)),t.setDegradationPreference(n.degradationPreference)),C)if(Ff()&&t.kind===ve.Kind.Audio){let O;for(const H of this.engine.pcManager.publisher.getTransceivers())if(H.sender===t.sender){O=H;break}O&&this.engine.pcManager.publisher.setTrackCodecBitrate({transceiver:O,codec:"opus",maxbr:!((U=C[0])===null||U===void 0)&&U.maxBitrate?C[0].maxBitrate/1e3:0})}else t.codec&&Hs(t.codec)&&(!((T=C[0])===null||T===void 0)&&T.maxBitrate)&&this.engine.pcManager.publisher.setTrackCodecBitrate({cid:B.cid,codec:t.codec,maxbr:C[0].maxBitrate/1e3});yield this.engine.negotiate()});let k;const _=new Promise((P,U)=>J(this,void 0,void 0,function*(){var T;try{k=yield this.engine.addTrack(B),P(k)}catch(O){t.sender&&(!((T=this.engine.pcManager)===null||T===void 0)&&T.publisher)&&(this.engine.pcManager.publisher.removeTrack(t.sender),yield this.engine.negotiate().catch(H=>{this.log.error("failed to negotiate after removing track due to failed add track request",Object.assign(Object.assign(Object.assign({},this.logContext),Dt(t)),{error:H}))})),U(O)}}));if(this.enabledPublishVideoCodecs.length>0)k=(yield Promise.all([_,S()]))[0];else{k=yield _;let P;if(k.codecs.forEach(U=>{P===void 0&&(P=U.mimeType)}),P&&t.kind===ve.Kind.Video){const U=P0(P);U!==p&&(this.log.debug("falling back to server selected codec",Object.assign(Object.assign(Object.assign({},this.logContext),Dt(t)),{codec:U})),n.videoCodec=U,C=BT(t.source===ve.Source.ScreenShare,B.width,B.height,n))}yield S()}const F=new m5(t.kind,k,t,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});if(F.on(Re.CpuConstrained,P=>this.onTrackCpuConstrained(P,F)),F.options=n,t.sid=k.sid,this.log.debug("publishing ".concat(t.kind," with encodings"),Object.assign(Object.assign({},this.logContext),{encodings:C,trackInfo:k})),qA(t)?t.startMonitor(this.engine.client):_l(t)&&t.startMonitor(),this.addTrackPublication(F),this.emit(_e.LocalTrackPublished,F),_l(t)&&k.audioFeatures.includes(vi.TF_PRECONNECT_BUFFER)){const P=t.getPreConnectBuffer(),U=t.getPreConnectBufferMimeType();this.on(_e.LocalTrackSubscribed,T=>{if(T.trackSid===k.sid){if(!t.hasPreConnectBuffer){this.log.warn("subscribe event came to late, buffer already closed",this.logContext);return}this.log.debug("finished recording preconnect buffer",Object.assign(Object.assign({},this.logContext),Dt(t))),t.stopPreConnectBuffer()}}),P&&new Promise((O,H)=>J(this,void 0,void 0,function*(){var $,Z,ae,ie,W,te;try{this.log.debug("waiting for agent",Object.assign(Object.assign({},this.logContext),Dt(t)));const z=setTimeout(()=>{H(new Error("agent not active within 10 seconds"))},1e4),X=yield this.waitUntilActiveAgentPresent();clearTimeout(z),this.log.debug("sending preconnect buffer",Object.assign(Object.assign({},this.logContext),Dt(t)));const re=yield this.streamBytes({name:"preconnect-buffer",mimeType:U,topic:"lk.agent.pre-connect-audio-buffer",destinationIdentities:[X.identity],attributes:{trackId:F.trackSid,sampleRate:String((W=w.sampleRate)!==null&&W!==void 0?W:"48000"),channels:String((te=w.channelCount)!==null&&te!==void 0?te:"1")}});try{for(var de=!0,pe=Dl(P),R;R=yield pe.next(),$=R.done,!$;de=!0){ie=R.value,de=!1;const oe=ie;yield re.write(oe)}}catch(oe){Z={error:oe}}finally{try{!de&&!$&&(ae=pe.return)&&(yield ae.call(pe))}finally{if(Z)throw Z.error}}yield re.close(),O()}catch(z){H(z)}})).then(()=>{this.log.debug("preconnect buffer sent successfully",Object.assign(Object.assign({},this.logContext),Dt(t)))}).catch(O=>{this.log.error("error sending preconnect buffer",Object.assign(Object.assign(Object.assign({},this.logContext),Dt(t)),{error:O}))})}return F})}get isLocal(){return!0}publishAdditionalCodecForTrack(t,n,r){return J(this,void 0,void 0,function*(){var i;if(this.encryptionType!==Ir.NONE)return;let a;if(this.trackPublications.forEach(f=>{f.track&&f.track===t&&(a=f)}),!a)throw new Ql("track is not published");if(!qA(t))throw new Ql("track is not a video track");const o=Object.assign(Object.assign({},(i=this.roomOptions)===null||i===void 0?void 0:i.publishDefaults),r),s=NFe(t,n,o);if(!s){this.log.info("backup codec has been disabled, ignoring request to add additional codec for track",Object.assign(Object.assign({},this.logContext),Dt(t)));return}const c=t.addSimulcastTrack(n,s);if(!c)return;const l=new Ev({cid:c.mediaStreamTrack.id,type:ve.kindToProto(t.kind),muted:t.isMuted,source:ve.sourceToProto(t.source),sid:t.sid,simulcastCodecs:[{codec:o.videoCodec,cid:c.mediaStreamTrack.id}]});if(l.layers=LQ(l.width,l.height,s),!this.engine||this.engine.isClosed)throw new Cr("cannot publish track when not connected");const A=()=>J(this,void 0,void 0,function*(){yield this.engine.createSimulcastSender(t,c,o,s),yield this.engine.negotiate()}),d=(yield Promise.all([this.engine.addTrack(l),A()]))[0];this.log.debug("published ".concat(n," for track ").concat(t.sid),Object.assign(Object.assign({},this.logContext),{encodings:s,trackInfo:d}))})}unpublishTrack(t,n){return J(this,void 0,void 0,function*(){var r,i;if(uf(t)){const l=this.pendingPublishPromises.get(t);l&&(this.log.info("awaiting publish promise before attempting to unpublish",Object.assign(Object.assign({},this.logContext),Dt(t))),yield l)}const a=this.getPublicationForTrack(t),o=a?Dt(a):void 0;if(this.log.debug("unpublishing track",Object.assign(Object.assign({},this.logContext),o)),!a||!a.track){this.log.warn("track was not unpublished because no publication was found",Object.assign(Object.assign({},this.logContext),o));return}t=a.track,t.off(Re.Muted,this.onTrackMuted),t.off(Re.Unmuted,this.onTrackUnmuted),t.off(Re.Ended,this.handleTrackEnded),t.off(Re.UpstreamPaused,this.onTrackUpstreamPaused),t.off(Re.UpstreamResumed,this.onTrackUpstreamResumed),t.off(Re.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate),n===void 0&&(n=(i=(r=this.roomOptions)===null||r===void 0?void 0:r.stopLocalTrackOnUnpublish)!==null&&i!==void 0?i:!0),n?t.stop():t.stopMonitor();let s=!1;const c=t.sender;if(t.sender=void 0,this.engine.pcManager&&this.engine.pcManager.currentState<Zn.FAILED&&c)try{for(const l of this.engine.pcManager.publisher.getTransceivers())l.sender===c&&(l.direction="inactive",s=!0);if(this.engine.removeTrack(c)&&(s=!0),qA(t)){for(const[,l]of t.simulcastCodecs)l.sender&&(this.engine.removeTrack(l.sender)&&(s=!0),l.sender=void 0);t.simulcastCodecs.clear()}}catch(l){this.log.warn("failed to unpublish track",Object.assign(Object.assign(Object.assign({},this.logContext),o),{error:l}))}switch(this.trackPublications.delete(a.trackSid),a.kind){case ve.Kind.Audio:this.audioTrackPublications.delete(a.trackSid);break;case ve.Kind.Video:this.videoTrackPublications.delete(a.trackSid);break}return this.emit(_e.LocalTrackUnpublished,a),a.setTrack(void 0),s&&(yield this.engine.negotiate()),a})}unpublishTracks(t){return J(this,void 0,void 0,function*(){return(yield Promise.all(t.map(r=>this.unpublishTrack(r)))).filter(r=>!!r)})}republishAllTracks(t){return J(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){r.republishPromise&&(yield r.republishPromise),r.republishPromise=new ca((a,o)=>J(r,void 0,void 0,function*(){try{const s=[];this.trackPublications.forEach(c=>{c.track&&(n&&(c.options=Object.assign(Object.assign({},c.options),n)),s.push(c))}),yield Promise.all(s.map(c=>J(this,void 0,void 0,function*(){const l=c.track;yield this.unpublishTrack(l,!1),i&&!l.isMuted&&l.source!==ve.Source.ScreenShare&&l.source!==ve.Source.ScreenShareAudio&&(_l(l)||qA(l))&&!l.isUserProvided&&(this.log.debug("restarting existing track",Object.assign(Object.assign({},this.logContext),{track:c.trackSid})),yield l.restartTrack()),yield this.publishOrRepublishTrack(l,c.options,!0)}))),a()}catch(s){s instanceof Error?o(s):o(new Error(String(s)))}finally{this.republishPromise=void 0}})),yield r.republishPromise}()})}publishData(t){return J(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){const a=i.reliable?Rt.RELIABLE:Rt.LOSSY,o=i.destinationIdentities,s=i.topic;let c=new NF({participantIdentity:r.identity,payload:n,destinationIdentities:o,topic:s});const l=new ma({kind:a,value:{case:"user",value:c}});yield r.engine.sendDataPacket(l,a)}()})}publishDtmf(t,n){return J(this,void 0,void 0,function*(){const r=new ma({kind:Rt.RELIABLE,value:{case:"sipDtmf",value:new eZ({code:t,digit:n})}});yield this.engine.sendDataPacket(r,Rt.RELIABLE)})}sendChatMessage(t,n){return J(this,void 0,void 0,function*(){const r={id:crypto.randomUUID(),message:t,timestamp:Date.now(),attachedFiles:n==null?void 0:n.attachments},i=new ma({value:{case:"chatMessage",value:new u5(Object.assign(Object.assign({},r),{timestamp:Wn.parse(r.timestamp)}))}});return yield this.engine.sendDataPacket(i,Rt.RELIABLE),this.emit(_e.ChatMessage,r),r})}editChatMessage(t,n){return J(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},n),{message:t,editTimestamp:Date.now()}),i=new ma({value:{case:"chatMessage",value:new u5(Object.assign(Object.assign({},r),{timestamp:Wn.parse(r.timestamp),editTimestamp:Wn.parse(r.editTimestamp)}))}});return yield this.engine.sendDataPacket(i,Rt.RELIABLE),this.emit(_e.ChatMessage,r),r})}sendText(t,n){return J(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.sendText(t,n)})}streamText(t){return J(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.streamText(t)})}sendFile(t,n){return J(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.sendFile(t,n)})}streamBytes(t){return J(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.streamBytes(t)})}performRpc(t){let{destinationIdentity:n,method:r,payload:i,responseTimeout:a=15e3}=t;const o=7e3,s=o+1e3;return new ca((c,l)=>J(this,void 0,void 0,function*(){var A,u,d,f;if(r6(i)>hee){l(hr.builtIn("REQUEST_PAYLOAD_TOO_LARGE"));return}if(!((u=(A=this.engine.latestJoinResponse)===null||A===void 0?void 0:A.serverInfo)===null||u===void 0)&&u.version&&Js((f=(d=this.engine.latestJoinResponse)===null||d===void 0?void 0:d.serverInfo)===null||f===void 0?void 0:f.version,"1.8.0")<0){l(hr.builtIn("UNSUPPORTED_SERVER"));return}const h=Math.max(a,s),p=crypto.randomUUID();yield this.publishRpcRequest(n,p,r,i,h);const v=setTimeout(()=>{this.pendingAcks.delete(p),l(hr.builtIn("CONNECTION_TIMEOUT")),this.pendingResponses.delete(p),clearTimeout(m)},o);this.pendingAcks.set(p,{resolve:()=>{clearTimeout(v)},participantIdentity:n});const m=setTimeout(()=>{this.pendingResponses.delete(p),l(hr.builtIn("RESPONSE_TIMEOUT"))},a);this.pendingResponses.set(p,{resolve:(w,B)=>{clearTimeout(m),this.pendingAcks.has(p)&&(this.log.warn("RPC response received before ack",p),this.pendingAcks.delete(p),clearTimeout(v)),B?l(B):c(w??"")},participantIdentity:n})}))}registerRpcMethod(t,n){this.rpcHandlers.has(t)&&this.log.warn("you're overriding the RPC handler for method ".concat(t,", in the future this will throw an error")),this.rpcHandlers.set(t,n)}unregisterRpcMethod(t){this.rpcHandlers.delete(t)}setTrackSubscriptionPermissions(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];this.participantTrackPermissions=n,this.allParticipantsAllowedToSubscribe=t,this.engine.client.isDisconnected||this.updateTrackSubscriptionPermissions()}handleIncomingRpcAck(t){const n=this.pendingAcks.get(t);n?(n.resolve(),this.pendingAcks.delete(t)):console.error("Ack received for unexpected RPC request",t)}handleIncomingRpcResponse(t,n,r){const i=this.pendingResponses.get(t);i?(i.resolve(n,r),this.pendingResponses.delete(t)):console.error("Response received for unexpected RPC request",t)}publishRpcRequest(t,n,r,i,a){return J(this,void 0,void 0,function*(){const o=new ma({destinationIdentities:[t],kind:Rt.RELIABLE,value:{case:"rpcRequest",value:new MF({id:n,method:r,payload:i,responseTimeoutMs:a,version:1})}});yield this.engine.sendDataPacket(o,Rt.RELIABLE)})}handleParticipantDisconnected(t){for(const[n,{participantIdentity:r}]of this.pendingAcks)r===t&&this.pendingAcks.delete(n);for(const[n,{participantIdentity:r,resolve:i}]of this.pendingResponses)r===t&&(i(null,hr.builtIn("RECIPIENT_DISCONNECTED")),this.pendingResponses.delete(n))}setEnabledPublishCodecs(t){this.enabledPublishVideoCodecs=t.filter(n=>n.mime.split("/")[0].toLowerCase()==="video")}updateInfo(t){return super.updateInfo(t)?(t.tracks.forEach(n=>{var r,i;const a=this.trackPublications.get(n.sid);if(a){const o=a.isMuted||((i=(r=a.track)===null||r===void 0?void 0:r.isUpstreamPaused)!==null&&i!==void 0?i:!1);o!==n.muted&&(this.log.debug("updating server mute state after reconcile",Object.assign(Object.assign(Object.assign({},this.logContext),Dt(a)),{mutedOnServer:o})),this.engine.client.sendMuteTrack(n.sid,o))}}),!0):!1}setActiveAgent(t){var n,r,i,a;this.firstActiveAgent=t,t&&!this.firstActiveAgent&&(this.firstActiveAgent=t),t?(r=(n=this.activeAgentFuture)===null||n===void 0?void 0:n.resolve)===null||r===void 0||r.call(n,t):(a=(i=this.activeAgentFuture)===null||i===void 0?void 0:i.reject)===null||a===void 0||a.call(i,new Error("Agent disconnected")),this.activeAgentFuture=void 0}waitUntilActiveAgentPresent(){return this.firstActiveAgent?Promise.resolve(this.firstActiveAgent):(this.activeAgentFuture||(this.activeAgentFuture=new cs),this.activeAgentFuture.promise)}getPublicationForTrack(t){let n;return this.trackPublications.forEach(r=>{const i=r.track;i&&(t instanceof MediaStreamTrack?(_l(i)||qA(i))&&i.mediaStreamTrack===t&&(n=r):t===i&&(n=r))}),n}waitForPendingPublicationOfSource(t){return J(this,void 0,void 0,function*(){const r=Date.now();for(;Date.now()<r+1e4;){const i=Array.from(this.pendingPublishPromises.entries()).find(a=>{let[o]=a;return o.source===t});if(i)return i[1];yield ji(20)}})}}class v5 extends Ll{constructor(t,n,r,i){super(t,n.sid,n.name,i),this.track=void 0,this.allowed=!0,this.requestedDisabled=void 0,this.visible=!0,this.handleEnded=a=>{this.setTrack(void 0),this.emit(Re.Ended,a)},this.handleVisibilityChange=a=>{this.log.debug("adaptivestream video visibility ".concat(this.trackSid,", visible=").concat(a),this.logContext),this.visible=a,this.emitTrackUpdate()},this.handleVideoDimensionsChange=a=>{this.log.debug("adaptivestream video dimensions ".concat(a.width,"x").concat(a.height),this.logContext),this.videoDimensionsAdaptiveStream=a,this.emitTrackUpdate()},this.subscribed=r,this.updateInfo(n)}setSubscribed(t){const n=this.subscriptionStatus,r=this.permissionStatus;this.subscribed=t,t&&(this.allowed=!0);const i=new _B({trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[new nZ({participantSid:"",trackSids:[this.trackSid]})]});this.emit(Re.UpdateSubscription,i),this.emitSubscriptionUpdateIfChanged(n),this.emitPermissionUpdateIfChanged(r)}get subscriptionStatus(){return this.subscribed===!1?Ll.SubscriptionStatus.Unsubscribed:super.isSubscribed?Ll.SubscriptionStatus.Subscribed:Ll.SubscriptionStatus.Desired}get permissionStatus(){return this.allowed?Ll.PermissionStatus.Allowed:Ll.PermissionStatus.NotAllowed}get isSubscribed(){return this.subscribed===!1?!1:super.isSubscribed}get isDesired(){return this.subscribed!==!1}get isEnabled(){return this.requestedDisabled!==void 0?!this.requestedDisabled:this.isAdaptiveStream?this.visible:!0}get isLocal(){return!1}setEnabled(t){!this.isManualOperationAllowed()||this.requestedDisabled===!t||(this.requestedDisabled=!t,this.emitTrackUpdate())}setVideoQuality(t){!this.isManualOperationAllowed()||this.requestedMaxQuality===t||(this.requestedMaxQuality=t,this.requestedVideoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(t){var n,r;this.isManualOperationAllowed()&&(((n=this.requestedVideoDimensions)===null||n===void 0?void 0:n.width)===t.width&&((r=this.requestedVideoDimensions)===null||r===void 0?void 0:r.height)===t.height||(Mx(this.track)&&(this.requestedVideoDimensions=t),this.requestedMaxQuality=void 0,this.emitTrackUpdate()))}setVideoFPS(t){this.isManualOperationAllowed()&&Mx(this.track)&&this.fps!==t&&(this.fps=t,this.emitTrackUpdate())}get videoQuality(){var t;return(t=this.requestedMaxQuality)!==null&&t!==void 0?t:mo.HIGH}setTrack(t){const n=this.subscriptionStatus,r=this.permissionStatus,i=this.track;i!==t&&(i&&(i.off(Re.VideoDimensionsChanged,this.handleVideoDimensionsChange),i.off(Re.VisibilityChanged,this.handleVisibilityChange),i.off(Re.Ended,this.handleEnded),i.detach(),i.stopMonitor(),this.emit(Re.Unsubscribed,i)),super.setTrack(t),t&&(t.sid=this.trackSid,t.on(Re.VideoDimensionsChanged,this.handleVideoDimensionsChange),t.on(Re.VisibilityChanged,this.handleVisibilityChange),t.on(Re.Ended,this.handleEnded),this.emit(Re.Subscribed,t)),this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n))}setAllowed(t){const n=this.subscriptionStatus,r=this.permissionStatus;this.allowed=t,this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n)}setSubscriptionError(t){this.emit(Re.SubscriptionFailed,t)}updateInfo(t){super.updateInfo(t);const n=this.metadataMuted;this.metadataMuted=t.muted,this.track?this.track.setMuted(t.muted):n!==t.muted&&this.emit(t.muted?Re.Muted:Re.Unmuted)}emitSubscriptionUpdateIfChanged(t){const n=this.subscriptionStatus;t!==n&&this.emit(Re.SubscriptionStatusChanged,n,t)}emitPermissionUpdateIfChanged(t){this.permissionStatus!==t&&this.emit(Re.SubscriptionPermissionChanged,this.permissionStatus,t)}isManualOperationAllowed(){return this.isDesired?!0:(this.log.warn("cannot update track settings when not subscribed",this.logContext),!1)}get isAdaptiveStream(){return Mx(this.track)&&this.track.isAdaptiveStream}emitTrackUpdate(){const t=new hZ({trackSids:[this.trackSid],disabled:!this.isEnabled,fps:this.fps});if(this.kind===ve.Kind.Video){let n=this.requestedVideoDimensions;if(this.videoDimensionsAdaptiveStream!==void 0)if(n)lQ(this.videoDimensionsAdaptiveStream,n)&&(this.log.debug("using adaptive stream dimensions instead of requested",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream);else if(this.requestedMaxQuality!==void 0&&this.trackInfo){const r=SIe(this.trackInfo,this.requestedMaxQuality);r&&lQ(this.videoDimensionsAdaptiveStream,r)&&(this.log.debug("using adaptive stream dimensions instead of max quality layer",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream)}else this.log.debug("using adaptive stream dimensions",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream;n?(t.width=Math.ceil(n.width),t.height=Math.ceil(n.height)):this.requestedMaxQuality!==void 0?(this.log.debug("using requested max quality",Object.assign(Object.assign({},this.logContext),{quality:this.requestedMaxQuality})),t.quality=this.requestedMaxQuality):(this.log.debug("using default quality",Object.assign(Object.assign({},this.logContext),{quality:mo.HIGH})),t.quality=mo.HIGH)}this.emit(Re.UpdateSettings,t)}}class y5 extends Cee{static fromParticipantInfo(t,n,r){return new y5(t,n.sid,n.identity,n.name,n.metadata,n.attributes,r,n.kind)}get logContext(){return Object.assign(Object.assign({},super.logContext),{rpID:this.sid,remoteParticipant:this.identity})}constructor(t,n,r,i,a,o,s){let c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:kv.STANDARD;super(n,r||"",i,a,o,s,c),this.signalClient=t,this.trackPublications=new Map,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.volumeMap=new Map}addTrackPublication(t){super.addTrackPublication(t),t.on(Re.UpdateSettings,n=>{this.log.debug("send update settings",Object.assign(Object.assign(Object.assign({},this.logContext),Dt(t)),{settings:n})),this.signalClient.sendUpdateTrackSettings(n)}),t.on(Re.UpdateSubscription,n=>{n.participantTracks.forEach(r=>{r.participantSid=this.sid}),this.signalClient.sendUpdateSubscription(n)}),t.on(Re.SubscriptionPermissionChanged,n=>{this.emit(_e.TrackSubscriptionPermissionChanged,t,n)}),t.on(Re.SubscriptionStatusChanged,n=>{this.emit(_e.TrackSubscriptionStatusChanged,t,n)}),t.on(Re.Subscribed,n=>{this.emit(_e.TrackSubscribed,n,t)}),t.on(Re.Unsubscribed,n=>{this.emit(_e.TrackUnsubscribed,n,t)}),t.on(Re.SubscriptionFailed,n=>{this.emit(_e.TrackSubscriptionFailed,t.trackSid,n)})}getTrackPublication(t){const n=super.getTrackPublication(t);if(n)return n}getTrackPublicationByName(t){const n=super.getTrackPublicationByName(t);if(n)return n}setVolume(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ve.Source.Microphone;this.volumeMap.set(n,t);const r=this.getTrackPublication(n);r&&r.track&&r.track.setVolume(t)}getVolume(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ve.Source.Microphone;const n=this.getTrackPublication(t);return n&&n.track?n.track.getVolume():this.volumeMap.get(t)}addSubscribedMediaTrack(t,n,r,i,a,o){let s=this.getTrackPublicationBySid(n);if(s||n.startsWith("TR")||this.trackPublications.forEach(A=>{!s&&t.kind===A.kind.toString()&&(s=A)}),!s){if(o===0){this.log.error("could not find published track",Object.assign(Object.assign({},this.logContext),{trackSid:n})),this.emit(_e.TrackSubscriptionFailed,n);return}o===void 0&&(o=20),setTimeout(()=>{this.addSubscribedMediaTrack(t,n,r,i,a,o-1)},150);return}if(t.readyState==="ended"){this.log.error("unable to subscribe because MediaStreamTrack is ended. Do not call MediaStreamTrack.stop()",Object.assign(Object.assign({},this.logContext),Dt(s))),this.emit(_e.TrackSubscriptionFailed,n);return}const c=t.kind==="video";let l;return c?l=new ZFe(t,n,i,a):l=new wee(t,n,i,this.audioContext,this.audioOutput),l.source=s.source,l.isMuted=s.isMuted,l.setMediaStream(r),l.start(),s.setTrack(l),this.volumeMap.has(s.source)&&yT(l)&&jc(l)&&l.setVolume(this.volumeMap.get(s.source)),s}get hasMetadata(){return!!this.participantInfo}getTrackPublicationBySid(t){return this.trackPublications.get(t)}updateInfo(t){if(!super.updateInfo(t))return!1;const n=new Map,r=new Map;return t.tracks.forEach(i=>{var a,o;let s=this.getTrackPublicationBySid(i.sid);if(s)s.updateInfo(i);else{const c=ve.kindFromProto(i.type);if(!c)return;s=new v5(c,i,(a=this.signalClient.connectOptions)===null||a===void 0?void 0:a.autoSubscribe,{loggerContextCb:()=>this.logContext,loggerName:(o=this.loggerOptions)===null||o===void 0?void 0:o.loggerName}),s.updateInfo(i),r.set(i.sid,s);const l=Array.from(this.trackPublications.values()).find(A=>A.source===(s==null?void 0:s.source));l&&s.source!==ve.Source.Unknown&&this.log.debug("received a second track publication for ".concat(this.identity," with the same source: ").concat(s.source),Object.assign(Object.assign({},this.logContext),{oldTrack:Dt(l),newTrack:Dt(s)})),this.addTrackPublication(s)}n.set(i.sid,s)}),this.trackPublications.forEach(i=>{n.has(i.trackSid)||(this.log.trace("detected removed track on remote participant, unpublishing",Object.assign(Object.assign({},this.logContext),Dt(i))),this.unpublishTrack(i.trackSid,!0))}),r.forEach(i=>{this.emit(_e.TrackPublished,i)}),!0}unpublishTrack(t,n){const r=this.trackPublications.get(t);if(!r)return;const{track:i}=r;switch(i&&(i.stop(),r.setTrack(void 0)),this.trackPublications.delete(t),r.kind){case ve.Kind.Audio:this.audioTrackPublications.delete(t);break;case ve.Kind.Video:this.videoTrackPublications.delete(t);break}n&&this.emit(_e.TrackUnpublished,r)}setAudioOutput(t){return J(this,void 0,void 0,function*(){this.audioOutput=t;const n=[];this.audioTrackPublications.forEach(r=>{var i;jc(r.track)&&yT(r.track)&&n.push(r.track.setSinkId((i=t.deviceId)!==null&&i!==void 0?i:"default"))}),yield Promise.all(n)})}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.log.trace("participant event",Object.assign(Object.assign({},this.logContext),{event:t,args:r})),super.emit(t,...r)}}var Kt;(function(e){e.Disconnected="disconnected",e.Connecting="connecting",e.Connected="connected",e.Reconnecting="reconnecting",e.SignalReconnecting="signalReconnecting"})(Kt||(Kt={}));const o6e=4*1e3;class hA extends il.EventEmitter{get hasE2EESetup(){return this.e2eeManager!==void 0}constructor(t){var n,r,i,a,o;if(super(),n=this,this.state=Kt.Disconnected,this.activeSpeakers=[],this.isE2EEEnabled=!1,this.audioEnabled=!0,this.isVideoPlaybackBlocked=!1,this.log=_t,this.bufferedEvents=[],this.isResuming=!1,this.rpcHandlers=new Map,this.connect=(s,c,l)=>J(this,void 0,void 0,function*(){var A;if(!PIe())throw Gc()?Error("WebRTC isn't detected, have you called registerGlobals?"):Error("LiveKit doesn't seem to be supported on this browser. Try to update your browser and make sure no browser extensions are disabling webRTC.");const u=yield this.disconnectLock.lock();if(this.state===Kt.Connected)return this.log.info("already connected to room ".concat(this.name),this.logContext),u(),Promise.resolve();if(this.connectFuture)return u(),this.connectFuture.promise;this.setAndEmitConnectionState(Kt.Connecting),((A=this.regionUrlProvider)===null||A===void 0?void 0:A.getServerUrl().toString())!==Aee(s)&&(this.regionUrl=void 0,this.regionUrlProvider=void 0),qp(new URL(s))&&(this.regionUrlProvider===void 0?this.regionUrlProvider=new Zt(s,c):this.regionUrlProvider.updateToken(c),this.regionUrlProvider.fetchRegionSettings().then(h=>{var p;(p=this.regionUrlProvider)===null||p===void 0||p.setServerReportedRegions(h)}).catch(h=>{this.log.warn("could not fetch region settings",Object.assign(Object.assign({},this.logContext),{error:h}))}));const d=(h,p,v)=>J(this,void 0,void 0,function*(){var m,w;this.abortController&&this.abortController.abort();const B=new AbortController;this.abortController=B,u==null||u();try{if(yield vp.getInstance().getBackOffPromise(s),B.signal.aborted)throw gt.cancelled("Connection attempt aborted");yield this.attemptConnection(v??s,c,l,B),this.abortController=void 0,h()}catch(C){if(this.regionUrlProvider&&C instanceof gt&&C.reason!==Sn.Cancelled&&C.reason!==Sn.NotAllowed){let S=null;try{this.log.debug("Fetching next region"),S=yield this.regionUrlProvider.getNextBestRegionUrl((m=this.abortController)===null||m===void 0?void 0:m.signal)}catch(k){if(k instanceof gt&&(k.status===401||k.reason===Sn.Cancelled)){this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),p(k);return}}[Sn.InternalError,Sn.ServerUnreachable,Sn.Timeout].includes(C.reason)&&(this.log.debug("Adding failed connection attempt to back off"),vp.getInstance().addFailedConnectionAttempt(s)),S&&!(!((w=this.abortController)===null||w===void 0)&&w.signal.aborted)?(this.log.info("Initial connection failed with ConnectionError: ".concat(C.message,". Retrying with another region: ").concat(S),this.logContext),this.recreateEngine(),yield d(h,p,S)):(this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,gQ(C)),p(C))}else{let S=Ks.UNKNOWN_REASON;C instanceof gt&&(S=gQ(C)),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,S),p(C)}}}),f=this.regionUrl;return this.regionUrl=void 0,this.connectFuture=new cs((h,p)=>{d(h,p,f)},()=>{this.clearConnectionFutures()}),this.connectFuture.promise}),this.connectSignal=(s,c,l,A,u,d)=>J(this,void 0,void 0,function*(){var f,h,p;const v=yield l.join(s,c,{autoSubscribe:A.autoSubscribe,adaptiveStream:typeof u.adaptiveStream=="object"?!0:u.adaptiveStream,maxRetries:A.maxRetries,e2eeEnabled:!!this.e2eeManager,websocketTimeout:A.websocketTimeout},d.signal,!u.singlePeerConnection);let m=v.serverInfo;if(m||(m={version:v.serverVersion,region:v.serverRegion}),this.serverInfo=m,this.log.debug("connected to Livekit Server ".concat(Object.entries(m).map(w=>{let[B,C]=w;return"".concat(B,": ").concat(C)}).join(", ")),{room:(f=v.room)===null||f===void 0?void 0:f.name,roomSid:(h=v.room)===null||h===void 0?void 0:h.sid,identity:(p=v.participant)===null||p===void 0?void 0:p.identity}),!m.version)throw new dIe("unknown server version");return m.version==="0.15.1"&&this.options.dynacast&&(this.log.debug("disabling dynacast due to server version",this.logContext),u.dynacast=!1),v}),this.applyJoinResponse=s=>{const c=s.participant;if(this.localParticipant.sid=c.sid,this.localParticipant.identity=c.identity,this.localParticipant.setEnabledPublishCodecs(s.enabledPublishCodecs),this.e2eeManager)try{this.e2eeManager.setSifTrailer(s.sifTrailer)}catch(l){this.log.error(l instanceof Error?l.message:"Could not set SifTrailer",Object.assign(Object.assign({},this.logContext),{error:l}))}this.handleParticipantUpdates([c,...s.otherParticipants]),s.room&&this.handleRoomUpdate(s.room)},this.attemptConnection=(s,c,l,A)=>J(this,void 0,void 0,function*(){var u,d;this.state===Kt.Reconnecting||this.isResuming||!((u=this.engine)===null||u===void 0)&&u.pendingReconnect?(this.log.info("Reconnection attempt replaced by new connection attempt",this.logContext),this.recreateEngine()):this.maybeCreateEngine(),!((d=this.regionUrlProvider)===null||d===void 0)&&d.isCloud()&&this.engine.setRegionUrlProvider(this.regionUrlProvider),this.acquireAudioContext(),this.connOptions=Object.assign(Object.assign({},n6),l),this.connOptions.rtcConfig&&(this.engine.rtcConfig=this.connOptions.rtcConfig),this.connOptions.peerConnectionTimeout&&(this.engine.peerConnectionTimeout=this.connOptions.peerConnectionTimeout);try{const f=yield this.connectSignal(s,c,this.engine,this.connOptions,this.options,A);this.applyJoinResponse(f),this.setupLocalParticipantEvents(),this.emit(we.SignalConnected)}catch(f){yield this.engine.close(),this.recreateEngine();const h=A.signal.aborted?gt.cancelled("Signal connection aborted"):gt.serverUnreachable("could not establish signal connection");throw f instanceof Error&&(h.message="".concat(h.message,": ").concat(f.message)),f instanceof gt&&(h.reason=f.reason,h.status=f.status),this.log.debug("error trying to establish signal connection",Object.assign(Object.assign({},this.logContext),{error:f})),h}if(A.signal.aborted)throw yield this.engine.close(),this.recreateEngine(),gt.cancelled("Connection attempt aborted");try{yield this.engine.waitForPCInitialConnection(this.connOptions.peerConnectionTimeout,A)}catch(f){throw yield this.engine.close(),this.recreateEngine(),f}Qa()&&this.options.disconnectOnPageLeave&&(window.addEventListener("pagehide",this.onPageLeave),window.addEventListener("beforeunload",this.onPageLeave)),Qa()&&window.addEventListener("freeze",this.onPageLeave),this.setAndEmitConnectionState(Kt.Connected),this.emit(we.Connected),vp.getInstance().resetFailedConnectionAttempts(s),this.registerConnectionReconcile(),this.regionUrlProvider&&this.regionUrlProvider.notifyConnected()}),this.disconnect=function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];return J(n,[...c],void 0,function(){var A=this;let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){var d,f,h;const p=yield A.disconnectLock.lock();try{if(A.state===Kt.Disconnected){A.log.debug("already disconnected",A.logContext);return}if(A.log.info("disconnect from room",Object.assign({},A.logContext)),A.state===Kt.Connecting||A.state===Kt.Reconnecting||A.isResuming){const v="Abort connection attempt due to user initiated disconnect";A.log.warn(v,A.logContext),(d=A.abortController)===null||d===void 0||d.abort(v),(h=(f=A.connectFuture)===null||f===void 0?void 0:f.reject)===null||h===void 0||h.call(f,gt.cancelled("Client initiated disconnect")),A.connectFuture=void 0}A.engine&&(A.engine.client.isDisconnected||(yield A.engine.client.sendLeave()),yield A.engine.close()),A.handleDisconnect(u,Ks.CLIENT_INITIATED),A.engine=void 0}finally{p()}}()})},this.onPageLeave=()=>J(this,void 0,void 0,function*(){this.log.info("Page leave detected, disconnecting",this.logContext),yield this.disconnect()}),this.startAudio=()=>J(this,void 0,void 0,function*(){const s=[],c=Ca();if(c&&c.os==="iOS"){const l="livekit-dummy-audio-el";let A=document.getElementById(l);if(!A){A=document.createElement("audio"),A.id=l,A.autoplay=!0,A.hidden=!0;const u=Nx();u.enabled=!0;const d=new MediaStream([u]);A.srcObject=d,document.addEventListener("visibilitychange",()=>{A&&(A.srcObject=document.hidden?null:d,document.hidden||(this.log.debug("page visible again, triggering startAudio to resume playback and update playback status",this.logContext),this.startAudio()))}),document.body.append(A),this.once(we.Disconnected,()=>{A==null||A.remove(),A=null})}s.push(A)}this.remoteParticipants.forEach(l=>{l.audioTrackPublications.forEach(A=>{A.track&&A.track.attachedElements.forEach(u=>{s.push(u)})})});try{yield Promise.all([this.acquireAudioContext(),...s.map(l=>(l.muted=!1,l.play()))]),this.handleAudioPlaybackStarted()}catch(l){throw this.handleAudioPlaybackFailed(l),l}}),this.startVideo=()=>J(this,void 0,void 0,function*(){const s=[];for(const c of this.remoteParticipants.values())c.videoTrackPublications.forEach(l=>{var A;(A=l.track)===null||A===void 0||A.attachedElements.forEach(u=>{s.includes(u)||s.push(u)})});yield Promise.all(s.map(c=>c.play())).then(()=>{this.handleVideoPlaybackStarted()}).catch(c=>{c.name==="NotAllowedError"?this.handleVideoPlaybackFailed():this.log.warn("Resuming video playback failed, make sure you call `startVideo` directly in a user gesture handler",this.logContext)})}),this.handleRestarting=()=>{this.clearConnectionReconcile(),this.isResuming=!1;for(const s of this.remoteParticipants.values())this.handleParticipantDisconnected(s.identity,s);this.setAndEmitConnectionState(Kt.Reconnecting)&&this.emit(we.Reconnecting)},this.handleSignalRestarted=s=>J(this,void 0,void 0,function*(){this.log.debug("signal reconnected to server, region ".concat(s.serverRegion),Object.assign(Object.assign({},this.logContext),{region:s.serverRegion})),this.bufferedEvents=[],this.applyJoinResponse(s);try{yield this.localParticipant.republishAllTracks(void 0,!0)}catch(c){this.log.error("error trying to re-publish tracks after reconnection",Object.assign(Object.assign({},this.logContext),{error:c}))}try{yield this.engine.waitForRestarted(),this.log.debug("fully reconnected to server",Object.assign(Object.assign({},this.logContext),{region:s.serverRegion}))}catch{return}this.setAndEmitConnectionState(Kt.Connected),this.emit(we.Reconnected),this.registerConnectionReconcile(),this.emitBufferedEvents()}),this.handleParticipantUpdates=s=>{s.forEach(c=>{var l;if(c.identity===this.localParticipant.identity){this.localParticipant.updateInfo(c);return}c.identity===""&&(c.identity=(l=this.sidToIdentity.get(c.sid))!==null&&l!==void 0?l:"");let A=this.remoteParticipants.get(c.identity);c.state===hp.DISCONNECTED?this.handleParticipantDisconnected(c.identity,A):A=this.getOrCreateParticipant(c.identity,c)})},this.handleActiveSpeakersUpdate=s=>{const c=[],l={};s.forEach(A=>{if(l[A.sid]=!0,A.sid===this.localParticipant.sid)this.localParticipant.audioLevel=A.level,this.localParticipant.setIsSpeaking(!0),c.push(this.localParticipant);else{const u=this.getRemoteParticipantBySid(A.sid);u&&(u.audioLevel=A.level,u.setIsSpeaking(!0),c.push(u))}}),l[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.remoteParticipants.forEach(A=>{l[A.sid]||(A.audioLevel=0,A.setIsSpeaking(!1))}),this.activeSpeakers=c,this.emitWhenConnected(we.ActiveSpeakersChanged,c)},this.handleSpeakersChanged=s=>{const c=new Map;this.activeSpeakers.forEach(A=>{const u=this.remoteParticipants.get(A.identity);u&&u.sid!==A.sid||c.set(A.sid,A)}),s.forEach(A=>{let u=this.getRemoteParticipantBySid(A.sid);A.sid===this.localParticipant.sid&&(u=this.localParticipant),u&&(u.audioLevel=A.level,u.setIsSpeaking(A.active),A.active?c.set(A.sid,u):c.delete(A.sid))});const l=Array.from(c.values());l.sort((A,u)=>u.audioLevel-A.audioLevel),this.activeSpeakers=l,this.emitWhenConnected(we.ActiveSpeakersChanged,l)},this.handleStreamStateUpdate=s=>{s.streamStates.forEach(c=>{const l=this.getRemoteParticipantBySid(c.participantSid);if(!l)return;const A=l.getTrackPublicationBySid(c.trackSid);if(!A||!A.track)return;const u=ve.streamStateFromProto(c.state);A.track.setStreamState(u),u!==A.track.streamState&&(l.emit(_e.TrackStreamStateChanged,A,A.track.streamState),this.emitWhenConnected(we.TrackStreamStateChanged,A,A.track.streamState,l))})},this.handleSubscriptionPermissionUpdate=s=>{const c=this.getRemoteParticipantBySid(s.participantSid);if(!c)return;const l=c.getTrackPublicationBySid(s.trackSid);l&&l.setAllowed(s.allowed)},this.handleSubscriptionError=s=>{const c=Array.from(this.remoteParticipants.values()).find(A=>A.trackPublications.has(s.trackSid));if(!c)return;const l=c.getTrackPublicationBySid(s.trackSid);l&&l.setSubscriptionError(s.err)},this.handleDataPacket=(s,c)=>{const l=this.remoteParticipants.get(s.participantIdentity);if(s.value.case==="user")this.handleUserPacket(l,s.value.value,s.kind,c);else if(s.value.case==="transcription")this.handleTranscription(l,s.value.value);else if(s.value.case==="sipDtmf")this.handleSipDtmf(l,s.value.value);else if(s.value.case==="chatMessage")this.handleChatMessage(l,s.value.value);else if(s.value.case==="metrics")this.handleMetrics(s.value.value,l);else if(s.value.case==="streamHeader"||s.value.case==="streamChunk"||s.value.case==="streamTrailer")this.handleDataStream(s,c);else if(s.value.case==="rpcRequest"){const A=s.value.value;this.handleIncomingRpcRequest(s.participantIdentity,A.id,A.method,A.payload,A.responseTimeoutMs,A.version)}},this.handleUserPacket=(s,c,l,A)=>{this.emit(we.DataReceived,c.payload,s,l,c.topic,A),s==null||s.emit(_e.DataReceived,c.payload,l,A)},this.handleSipDtmf=(s,c)=>{this.emit(we.SipDTMFReceived,c,s),s==null||s.emit(_e.SipDTMFReceived,c)},this.handleTranscription=(s,c)=>{const l=c.transcribedParticipantIdentity===this.localParticipant.identity?this.localParticipant:this.getParticipantByIdentity(c.transcribedParticipantIdentity),A=l==null?void 0:l.trackPublications.get(c.trackId),u=DIe(c,this.transcriptionReceivedTimes);A==null||A.emit(Re.TranscriptionReceived,u),l==null||l.emit(_e.TranscriptionReceived,u,A),this.emit(we.TranscriptionReceived,u,l,A)},this.handleChatMessage=(s,c)=>{const l=QIe(c);this.emit(we.ChatMessage,l,s)},this.handleMetrics=(s,c)=>{this.emit(we.MetricsReceived,s,c)},this.handleDataStream=(s,c)=>{this.incomingDataStreamManager.handleDataStreamPacket(s,c)},this.bufferedSegments=new Map,this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(we.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=s=>{this.log.warn("could not playback audio",Object.assign(Object.assign({},this.logContext),{error:s})),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(we.AudioPlaybackStatusChanged,!1))},this.handleVideoPlaybackStarted=()=>{this.isVideoPlaybackBlocked&&(this.isVideoPlaybackBlocked=!1,this.emit(we.VideoPlaybackStatusChanged,!0))},this.handleVideoPlaybackFailed=()=>{this.isVideoPlaybackBlocked||(this.isVideoPlaybackBlocked=!0,this.emit(we.VideoPlaybackStatusChanged,!1))},this.handleDeviceChange=()=>J(this,void 0,void 0,function*(){var s;((s=Ca())===null||s===void 0?void 0:s.os)!=="iOS"&&(yield this.selectDefaultDevices()),this.emit(we.MediaDevicesChanged)}),this.handleRoomUpdate=s=>{const c=this.roomInfo;this.roomInfo=s,c&&c.metadata!==s.metadata&&this.emitWhenConnected(we.RoomMetadataChanged,s.metadata),(c==null?void 0:c.activeRecording)!==s.activeRecording&&this.emitWhenConnected(we.RecordingStatusChanged,s.activeRecording)},this.handleConnectionQualityUpdate=s=>{s.updates.forEach(c=>{if(c.participantSid===this.localParticipant.sid){this.localParticipant.setConnectionQuality(c.quality);return}const l=this.getRemoteParticipantBySid(c.participantSid);l&&l.setConnectionQuality(c.quality)})},this.onLocalParticipantMetadataChanged=s=>{this.emit(we.ParticipantMetadataChanged,s,this.localParticipant)},this.onLocalParticipantNameChanged=s=>{this.emit(we.ParticipantNameChanged,s,this.localParticipant)},this.onLocalAttributesChanged=s=>{this.emit(we.ParticipantAttributesChanged,s,this.localParticipant)},this.onLocalTrackMuted=s=>{this.emit(we.TrackMuted,s,this.localParticipant)},this.onLocalTrackUnmuted=s=>{this.emit(we.TrackUnmuted,s,this.localParticipant)},this.onTrackProcessorUpdate=s=>{var c;(c=s==null?void 0:s.onPublish)===null||c===void 0||c.call(s,this)},this.onLocalTrackPublished=s=>J(this,void 0,void 0,function*(){var c,l,A,u,d,f;(c=s.track)===null||c===void 0||c.on(Re.TrackProcessorUpdate,this.onTrackProcessorUpdate),(l=s.track)===null||l===void 0||l.on(Re.Restarted,this.onLocalTrackRestarted),(d=(u=(A=s.track)===null||A===void 0?void 0:A.getProcessor())===null||u===void 0?void 0:u.onPublish)===null||d===void 0||d.call(u,this),this.emit(we.LocalTrackPublished,s,this.localParticipant),_l(s.track)&&(yield s.track.checkForSilence())&&this.emit(we.LocalAudioSilenceDetected,s);const h=yield(f=s.track)===null||f===void 0?void 0:f.getDeviceId(!1),p=pT(s.source);p&&h&&h!==this.localParticipant.activeDeviceMap.get(p)&&(this.localParticipant.activeDeviceMap.set(p,h),this.emit(we.ActiveDeviceChanged,p,h))}),this.onLocalTrackUnpublished=s=>{var c,l;(c=s.track)===null||c===void 0||c.off(Re.TrackProcessorUpdate,this.onTrackProcessorUpdate),(l=s.track)===null||l===void 0||l.off(Re.Restarted,this.onLocalTrackRestarted),this.emit(we.LocalTrackUnpublished,s,this.localParticipant)},this.onLocalTrackRestarted=s=>J(this,void 0,void 0,function*(){const c=yield s.getDeviceId(!1),l=pT(s.source);l&&c&&c!==this.localParticipant.activeDeviceMap.get(l)&&(this.log.debug("local track restarted, setting ".concat(l," ").concat(c," active"),this.logContext),this.localParticipant.activeDeviceMap.set(l,c),this.emit(we.ActiveDeviceChanged,l,c))}),this.onLocalConnectionQualityChanged=s=>{this.emit(we.ConnectionQualityChanged,s,this.localParticipant)},this.onMediaDevicesError=(s,c)=>{this.emit(we.MediaDevicesError,s,c)},this.onLocalParticipantPermissionsChanged=s=>{this.emit(we.ParticipantPermissionsChanged,s,this.localParticipant)},this.onLocalChatMessageSent=s=>{this.emit(we.ChatMessage,s,this.localParticipant)},this.setMaxListeners(100),this.remoteParticipants=new Map,this.sidToIdentity=new Map,this.options=Object.assign(Object.assign({},yFe),t),this.log=Wc((r=this.options.loggerName)!==null&&r!==void 0?r:ps.Room),this.transcriptionReceivedTimes=new Map,this.options.audioCaptureDefaults=Object.assign(Object.assign({},uee),t==null?void 0:t.audioCaptureDefaults),this.options.videoCaptureDefaults=Object.assign(Object.assign({},dee),t==null?void 0:t.videoCaptureDefaults),this.options.publishDefaults=Object.assign(Object.assign({},vFe),t==null?void 0:t.publishDefaults),this.maybeCreateEngine(),this.incomingDataStreamManager=new qFe,this.outgoingDataStreamManager=new JFe(this.engine,this.log),this.disconnectLock=new wa,this.localParticipant=new a6e("","",this.engine,this.options,this.rpcHandlers,this.outgoingDataStreamManager),(this.options.e2ee||this.options.encryption)&&this.setupE2EE(),this.engine.e2eeManager=this.e2eeManager,this.options.videoCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("videoinput",Af(this.options.videoCaptureDefaults.deviceId)),this.options.audioCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("audioinput",Af(this.options.audioCaptureDefaults.deviceId)),!((i=this.options.audioOutput)===null||i===void 0)&&i.deviceId&&this.switchActiveDevice("audiooutput",Af(this.options.audioOutput.deviceId)).catch(s=>this.log.warn("Could not set audio output: ".concat(s.message),this.logContext)),Qa()){const s=new AbortController;(o=(a=navigator.mediaDevices)===null||a===void 0?void 0:a.addEventListener)===null||o===void 0||o.call(a,"devicechange",this.handleDeviceChange,{signal:s.signal}),hA.cleanupRegistry&&hA.cleanupRegistry.register(this,()=>{s.abort()})}}registerTextStreamHandler(t,n){return this.incomingDataStreamManager.registerTextStreamHandler(t,n)}unregisterTextStreamHandler(t){return this.incomingDataStreamManager.unregisterTextStreamHandler(t)}registerByteStreamHandler(t,n){return this.incomingDataStreamManager.registerByteStreamHandler(t,n)}unregisterByteStreamHandler(t){return this.incomingDataStreamManager.unregisterByteStreamHandler(t)}registerRpcMethod(t,n){if(this.rpcHandlers.has(t))throw Error("RPC handler already registered for method ".concat(t,", unregisterRpcMethod before trying to register again"));this.rpcHandlers.set(t,n)}unregisterRpcMethod(t){this.rpcHandlers.delete(t)}setE2EEEnabled(t){return J(this,void 0,void 0,function*(){if(this.e2eeManager)yield Promise.all([this.localParticipant.setE2EEEnabled(t)]),this.localParticipant.identity!==""&&this.e2eeManager.setParticipantCryptorEnabled(t,this.localParticipant.identity);else throw Error("e2ee not configured, please set e2ee settings within the room options")})}setupE2EE(){var t;const n=!!this.options.encryption,r=this.options.encryption||this.options.e2ee;r&&("e2eeManager"in r?(this.e2eeManager=r.e2eeManager,this.e2eeManager.isDataChannelEncryptionEnabled=n):this.e2eeManager=new tFe(r,n),this.e2eeManager.on(vu.ParticipantEncryptionStatusChanged,(i,a)=>{HIe(a)&&(this.isE2EEEnabled=i),this.emit(we.ParticipantEncryptionStatusChanged,i,a)}),this.e2eeManager.on(vu.EncryptionError,(i,a)=>{const o=a?this.getParticipantByIdentity(a):void 0;this.emit(we.EncryptionError,i,o)}),(t=this.e2eeManager)===null||t===void 0||t.setup(this))}get logContext(){var t;return{room:this.name,roomID:(t=this.roomInfo)===null||t===void 0?void 0:t.sid,participant:this.localParticipant.identity,pID:this.localParticipant.sid}}get isRecording(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.activeRecording)!==null&&n!==void 0?n:!1}getSid(){return this.state===Kt.Disconnected?ca.resolve(""):this.roomInfo&&this.roomInfo.sid!==""?ca.resolve(this.roomInfo.sid):new ca((t,n)=>{const r=i=>{i.sid!==""&&(this.engine.off(Qe.RoomUpdate,r),t(i.sid))};this.engine.on(Qe.RoomUpdate,r),this.once(we.Disconnected,()=>{this.engine.off(Qe.RoomUpdate,r),n(new Cr("Room disconnected before room server id was available"))})})}get name(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.name)!==null&&n!==void 0?n:""}get metadata(){var t;return(t=this.roomInfo)===null||t===void 0?void 0:t.metadata}get numParticipants(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.numParticipants)!==null&&n!==void 0?n:0}get numPublishers(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.numPublishers)!==null&&n!==void 0?n:0}maybeCreateEngine(){this.engine&&!this.engine.isClosed||(this.engine=new VFe(this.options),this.engine.e2eeManager=this.e2eeManager,this.engine.on(Qe.ParticipantUpdate,this.handleParticipantUpdates).on(Qe.RoomUpdate,this.handleRoomUpdate).on(Qe.SpeakersChanged,this.handleSpeakersChanged).on(Qe.StreamStateChanged,this.handleStreamStateUpdate).on(Qe.ConnectionQualityUpdate,this.handleConnectionQualityUpdate).on(Qe.SubscriptionError,this.handleSubscriptionError).on(Qe.SubscriptionPermissionUpdate,this.handleSubscriptionPermissionUpdate).on(Qe.MediaTrackAdded,(t,n,r)=>{this.onTrackAdded(t,n,r)}).on(Qe.Disconnected,t=>{this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,t)}).on(Qe.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(Qe.DataPacketReceived,this.handleDataPacket).on(Qe.Resuming,()=>{this.clearConnectionReconcile(),this.isResuming=!0,this.log.info("Resuming signal connection",this.logContext),this.setAndEmitConnectionState(Kt.SignalReconnecting)&&this.emit(we.SignalReconnecting)}).on(Qe.Resumed,()=>{this.registerConnectionReconcile(),this.isResuming=!1,this.log.info("Resumed signal connection",this.logContext),this.updateSubscriptions(),this.emitBufferedEvents(),this.setAndEmitConnectionState(Kt.Connected)&&this.emit(we.Reconnected)}).on(Qe.SignalResumed,()=>{this.bufferedEvents=[],(this.state===Kt.Reconnecting||this.isResuming)&&this.sendSyncState()}).on(Qe.Restarting,this.handleRestarting).on(Qe.SignalRestarted,this.handleSignalRestarted).on(Qe.Offline,()=>{this.setAndEmitConnectionState(Kt.Reconnecting)&&this.emit(we.Reconnecting)}).on(Qe.DCBufferStatusChanged,(t,n)=>{this.emit(we.DCBufferStatusChanged,t,n)}).on(Qe.LocalTrackSubscribed,t=>{const n=this.localParticipant.getTrackPublications().find(r=>{let{trackSid:i}=r;return i===t});if(!n){this.log.warn("could not find local track subscription for subscribed event",this.logContext);return}this.localParticipant.emit(_e.LocalTrackSubscribed,n),this.emitWhenConnected(we.LocalTrackSubscribed,n,this.localParticipant)}).on(Qe.RoomMoved,t=>{this.log.debug("room moved",t),t.room&&this.handleRoomUpdate(t.room),this.remoteParticipants.forEach((n,r)=>{this.handleParticipantDisconnected(r,n)}),this.emit(we.Moved,t.room.name),t.participant?this.handleParticipantUpdates([t.participant,...t.otherParticipants]):this.handleParticipantUpdates(t.otherParticipants)}),this.localParticipant&&this.localParticipant.setupEngine(this.engine),this.e2eeManager&&this.e2eeManager.setupEngine(this.engine),this.outgoingDataStreamManager&&this.outgoingDataStreamManager.setupEngine(this.engine))}static getLocalDevices(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return yi.getInstance().getDevices(t,n)}prepareConnection(t,n){return J(this,void 0,void 0,function*(){if(this.state===Kt.Disconnected){this.log.debug("prepareConnection to ".concat(t),this.logContext);try{if(qp(new URL(t))&&n){this.regionUrlProvider=new Zt(t,n);const r=yield this.regionUrlProvider.getNextBestRegionUrl();r&&this.state===Kt.Disconnected&&(this.regionUrl=r,yield fetch(Iv(r),{method:"HEAD"}),this.log.debug("prepared connection to ".concat(r),this.logContext))}else yield fetch(Iv(t),{method:"HEAD"})}catch(r){this.log.warn("could not prepare connection",Object.assign(Object.assign({},this.logContext),{error:r}))}}})}getParticipantByIdentity(t){return this.localParticipant.identity===t?this.localParticipant:this.remoteParticipants.get(t)}clearConnectionFutures(){this.connectFuture=void 0}simulateScenario(t,n){return J(this,void 0,void 0,function*(){let r=()=>J(this,void 0,void 0,function*(){}),i;switch(t){case"signal-reconnect":yield this.engine.client.handleOnClose("simulate disconnect");break;case"speaker":i=new Tc({scenario:{case:"speakerUpdate",value:3}});break;case"node-failure":i=new Tc({scenario:{case:"nodeFailure",value:!0}});break;case"server-leave":i=new Tc({scenario:{case:"serverLeave",value:!0}});break;case"migration":i=new Tc({scenario:{case:"migration",value:!0}});break;case"resume-reconnect":this.engine.failNext(),yield this.engine.client.handleOnClose("simulate resume-disconnect");break;case"disconnect-signal-on-resume":r=()=>J(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),i=new Tc({scenario:{case:"disconnectSignalOnResume",value:!0}});break;case"disconnect-signal-on-resume-no-messages":r=()=>J(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),i=new Tc({scenario:{case:"disconnectSignalOnResumeNoMessages",value:!0}});break;case"full-reconnect":this.engine.fullReconnectOnNext=!0,yield this.engine.client.handleOnClose("simulate full-reconnect");break;case"force-tcp":case"force-tls":i=new Tc({scenario:{case:"switchCandidateProtocol",value:t==="force-tls"?2:1}}),r=()=>J(this,void 0,void 0,function*(){const a=this.engine.client.onLeave;a&&a(new PB({reason:Ks.CLIENT_INITIATED,action:pp.RECONNECT}))});break;case"subscriber-bandwidth":if(n===void 0||typeof n!="number")throw new Error("subscriber-bandwidth requires a number as argument");i=new Tc({scenario:{case:"subscriberBandwidth",value:Ud(n)}});break;case"leave-full-reconnect":i=new Tc({scenario:{case:"leaveRequestFullReconnect",value:!0}})}i&&(yield this.engine.client.sendSimulateScenario(i),yield r())})}get canPlaybackAudio(){return this.audioEnabled}get canPlaybackVideo(){return!this.isVideoPlaybackBlocked}getActiveDevice(t){return this.localParticipant.activeDeviceMap.get(t)}switchActiveDevice(t,n){return J(this,arguments,void 0,function(r,i){var a=this;let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return function*(){var s,c,l,A,u,d,f;let h=!0,p=!1;const v=o?{exact:i}:i;if(r==="audioinput"){p=a.localParticipant.audioTrackPublications.size===0;const m=(s=a.getActiveDevice(r))!==null&&s!==void 0?s:a.options.audioCaptureDefaults.deviceId;a.options.audioCaptureDefaults.deviceId=v;const w=Array.from(a.localParticipant.audioTrackPublications.values()).filter(C=>C.source===ve.Source.Microphone);try{h=(yield Promise.all(w.map(C=>{var S;return(S=C.audioTrack)===null||S===void 0?void 0:S.setDeviceId(v)}))).every(C=>C===!0)}catch(C){throw a.options.audioCaptureDefaults.deviceId=m,C}const B=w.some(C=>{var S,k;return(k=(S=C.track)===null||S===void 0?void 0:S.isMuted)!==null&&k!==void 0?k:!1});h&&B&&(p=!0)}else if(r==="videoinput"){p=a.localParticipant.videoTrackPublications.size===0;const m=(c=a.getActiveDevice(r))!==null&&c!==void 0?c:a.options.videoCaptureDefaults.deviceId;a.options.videoCaptureDefaults.deviceId=v;const w=Array.from(a.localParticipant.videoTrackPublications.values()).filter(C=>C.source===ve.Source.Camera);try{h=(yield Promise.all(w.map(C=>{var S;return(S=C.videoTrack)===null||S===void 0?void 0:S.setDeviceId(v)}))).every(C=>C===!0)}catch(C){throw a.options.videoCaptureDefaults.deviceId=m,C}const B=w.some(C=>{var S,k;return(k=(S=C.track)===null||S===void 0?void 0:S.isMuted)!==null&&k!==void 0?k:!1});h&&B&&(p=!0)}else if(r==="audiooutput"){if(p=!0,!vT()&&!a.options.webAudioMix||a.options.webAudioMix&&a.audioContext&&!("setSinkId"in a.audioContext))throw new Error("cannot switch audio output, the current browser does not support it");a.options.webAudioMix&&(i=(l=yield yi.getInstance().normalizeDeviceId("audiooutput",i))!==null&&l!==void 0?l:""),(A=(f=a.options).audioOutput)!==null&&A!==void 0||(f.audioOutput={});const m=(u=a.getActiveDevice(r))!==null&&u!==void 0?u:a.options.audioOutput.deviceId;a.options.audioOutput.deviceId=i;try{a.options.webAudioMix&&((d=a.audioContext)===null||d===void 0||d.setSinkId(i)),yield Promise.all(Array.from(a.remoteParticipants.values()).map(w=>w.setAudioOutput({deviceId:i})))}catch(w){throw a.options.audioOutput.deviceId=m,w}}return p&&(a.localParticipant.activeDeviceMap.set(r,i),a.emit(we.ActiveDeviceChanged,r,i)),h}()})}setupLocalParticipantEvents(){this.localParticipant.on(_e.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).on(_e.ParticipantNameChanged,this.onLocalParticipantNameChanged).on(_e.AttributesChanged,this.onLocalAttributesChanged).on(_e.TrackMuted,this.onLocalTrackMuted).on(_e.TrackUnmuted,this.onLocalTrackUnmuted).on(_e.LocalTrackPublished,this.onLocalTrackPublished).on(_e.LocalTrackUnpublished,this.onLocalTrackUnpublished).on(_e.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).on(_e.MediaDevicesError,this.onMediaDevicesError).on(_e.AudioStreamAcquired,this.startAudio).on(_e.ChatMessage,this.onLocalChatMessageSent).on(_e.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged)}recreateEngine(){var t;(t=this.engine)===null||t===void 0||t.close(),this.engine=void 0,this.isResuming=!1,this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.bufferedEvents=[],this.maybeCreateEngine()}onTrackAdded(t,n,r){if(this.state===Kt.Connecting||this.state===Kt.Reconnecting){const u=()=>{this.log.debug("deferring on track for later",{mediaTrackId:t.id,mediaStreamId:n.id,tracksInStream:n.getTracks().map(f=>f.id)}),this.onTrackAdded(t,n,r),d()},d=()=>{this.off(we.Reconnected,u),this.off(we.Connected,u),this.off(we.Disconnected,d)};this.once(we.Reconnected,u),this.once(we.Connected,u),this.once(we.Disconnected,d);return}if(this.state===Kt.Disconnected){this.log.warn("skipping incoming track after Room disconnected",this.logContext);return}if(t.readyState==="ended"){this.log.info("skipping incoming track as it already ended",this.logContext);return}const i=EIe(n.id),a=i[0];let o=i[1],s=t.id;if(o&&o.startsWith("TR")&&(s=o),a===this.localParticipant.sid){this.log.warn("tried to create RemoteParticipant for local participant",this.logContext);return}const c=Array.from(this.remoteParticipants.values()).find(u=>u.sid===a);if(!c){this.log.error("Tried to add a track for a participant, that's not present. Sid: ".concat(a),this.logContext);return}if(!s.startsWith("TR")){const u=this.engine.getTrackIdForReceiver(r);if(!u){this.log.error("Tried to add a track whose 'sid' could not be found for a participant, that's not present. Sid: ".concat(a),this.logContext);return}s=u}s.startsWith("TR")||this.log.warn("Tried to add a track whose 'sid' could not be determined for a participant, that's not present. Sid: ".concat(a,", streamId: ").concat(o,", trackId: ").concat(s),Object.assign(Object.assign({},this.logContext),{rpID:a,streamId:o,trackId:s}));let l;this.options.adaptiveStream&&(typeof this.options.adaptiveStream=="object"?l=this.options.adaptiveStream:l={});const A=c.addSubscribedMediaTrack(t,s,n,r,l);A!=null&&A.isEncrypted&&!this.e2eeManager&&this.emit(we.EncryptionError,new Error("Encrypted ".concat(A.source," track received from participant ").concat(c.sid,", but room does not have encryption enabled!")))}handleDisconnect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments.length>1?arguments[1]:void 0;var r,i;if(this.clearConnectionReconcile(),this.isResuming=!1,this.bufferedEvents=[],this.transcriptionReceivedTimes.clear(),this.incomingDataStreamManager.clearControllers(),this.state!==Kt.Disconnected){this.regionUrl=void 0,this.regionUrlProvider&&this.regionUrlProvider.notifyDisconnected();try{this.remoteParticipants.forEach(a=>{a.trackPublications.forEach(o=>{a.unpublishTrack(o.trackSid)})}),this.localParticipant.trackPublications.forEach(a=>{var o,s,c;a.track&&this.localParticipant.unpublishTrack(a.track,t),t?((o=a.track)===null||o===void 0||o.detach(),(s=a.track)===null||s===void 0||s.stop()):(c=a.track)===null||c===void 0||c.stopMonitor()}),this.localParticipant.off(_e.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).off(_e.ParticipantNameChanged,this.onLocalParticipantNameChanged).off(_e.AttributesChanged,this.onLocalAttributesChanged).off(_e.TrackMuted,this.onLocalTrackMuted).off(_e.TrackUnmuted,this.onLocalTrackUnmuted).off(_e.LocalTrackPublished,this.onLocalTrackPublished).off(_e.LocalTrackUnpublished,this.onLocalTrackUnpublished).off(_e.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).off(_e.MediaDevicesError,this.onMediaDevicesError).off(_e.AudioStreamAcquired,this.startAudio).off(_e.ChatMessage,this.onLocalChatMessageSent).off(_e.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),this.localParticipant.trackPublications.clear(),this.localParticipant.videoTrackPublications.clear(),this.localParticipant.audioTrackPublications.clear(),this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.activeSpeakers=[],this.audioContext&&typeof this.options.webAudioMix=="boolean"&&(this.audioContext.close(),this.audioContext=void 0),Qa()&&(window.removeEventListener("beforeunload",this.onPageLeave),window.removeEventListener("pagehide",this.onPageLeave),window.removeEventListener("freeze",this.onPageLeave),(i=(r=navigator.mediaDevices)===null||r===void 0?void 0:r.removeEventListener)===null||i===void 0||i.call(r,"devicechange",this.handleDeviceChange))}finally{this.setAndEmitConnectionState(Kt.Disconnected),this.emit(we.Disconnected,n)}}}handleParticipantDisconnected(t,n){var r;this.remoteParticipants.delete(t),n&&(this.incomingDataStreamManager.validateParticipantHasNoActiveDataStreams(t),n.trackPublications.forEach(i=>{n.unpublishTrack(i.trackSid,!0)}),this.emit(we.ParticipantDisconnected,n),n.setDisconnected(),(r=this.localParticipant)===null||r===void 0||r.handleParticipantDisconnected(n.identity))}handleIncomingRpcRequest(t,n,r,i,a,o){return J(this,void 0,void 0,function*(){if(yield this.engine.publishRpcAck(t,n),o!==1){yield this.engine.publishRpcResponse(t,n,null,hr.builtIn("UNSUPPORTED_VERSION"));return}const s=this.rpcHandlers.get(r);if(!s){yield this.engine.publishRpcResponse(t,n,null,hr.builtIn("UNSUPPORTED_METHOD"));return}let c=null,l=null;try{const A=yield s({requestId:n,callerIdentity:t,payload:i,responseTimeout:a});r6(A)>hee?(c=hr.builtIn("RESPONSE_PAYLOAD_TOO_LARGE"),this.log.warn("RPC Response payload too large for ".concat(r))):l=A}catch(A){A instanceof hr?c=A:(this.log.warn("Uncaught error returned by RPC handler for ".concat(r,". Returning APPLICATION_ERROR instead."),A),c=hr.builtIn("APPLICATION_ERROR"))}yield this.engine.publishRpcResponse(t,n,l,c)})}selectDefaultDevices(){return J(this,void 0,void 0,function*(){var t,n,r;const i=yi.getInstance().previousDevices,a=yield yi.getInstance().getDevices(void 0,!1),o=Ca();if((o==null?void 0:o.name)==="Chrome"&&o.os!=="iOS")for(let c of a){const l=i.find(A=>A.deviceId===c.deviceId);l&&l.label!==""&&l.kind===c.kind&&l.label!==c.label&&this.getActiveDevice(c.kind)==="default"&&this.emit(we.ActiveDeviceChanged,c.kind,c.deviceId)}const s=["audiooutput","audioinput","videoinput"];for(let c of s){const l=vIe(c),A=this.localParticipant.getTrackPublication(l);if(A&&(!((t=A.track)===null||t===void 0)&&t.isUserProvided))continue;const u=a.filter(f=>f.kind===c),d=this.getActiveDevice(c);if(d===((n=i.filter(f=>f.kind===c)[0])===null||n===void 0?void 0:n.deviceId)&&u.length>0&&((r=u[0])===null||r===void 0?void 0:r.deviceId)!==d){yield this.switchActiveDevice(c,u[0].deviceId);continue}c==="audioinput"&&!Pv()||c==="videoinput"||u.length>0&&!u.find(f=>f.deviceId===this.getActiveDevice(c))&&(c!=="audiooutput"||!Pv())&&(yield this.switchActiveDevice(c,u[0].deviceId))}})}acquireAudioContext(){return J(this,void 0,void 0,function*(){var t,n;if(typeof this.options.webAudioMix!="boolean"&&this.options.webAudioMix.audioContext?this.audioContext=this.options.webAudioMix.audioContext:(!this.audioContext||this.audioContext.state==="closed")&&(this.audioContext=(t=aee())!==null&&t!==void 0?t:void 0),this.options.webAudioMix&&this.remoteParticipants.forEach(i=>i.setAudioContext(this.audioContext)),this.localParticipant.setAudioContext(this.audioContext),this.audioContext&&this.audioContext.state==="suspended")try{yield Promise.race([this.audioContext.resume(),ji(200)])}catch(i){this.log.warn("Could not resume audio context",Object.assign(Object.assign({},this.logContext),{error:i}))}const r=((n=this.audioContext)===null||n===void 0?void 0:n.state)==="running";r!==this.canPlaybackAudio&&(this.audioEnabled=r,this.emit(we.AudioPlaybackStatusChanged,r))})}createParticipant(t,n){var r;let i;return n?i=y5.fromParticipantInfo(this.engine.client,n,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}):i=new y5(this.engine.client,"",t,void 0,void 0,void 0,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}),this.options.webAudioMix&&i.setAudioContext(this.audioContext),!((r=this.options.audioOutput)===null||r===void 0)&&r.deviceId&&i.setAudioOutput(this.options.audioOutput).catch(a=>this.log.warn("Could not set audio output: ".concat(a.message),this.logContext)),i}getOrCreateParticipant(t,n){if(this.remoteParticipants.has(t)){const i=this.remoteParticipants.get(t);return n&&i.updateInfo(n)&&this.sidToIdentity.set(n.sid,n.identity),i}const r=this.createParticipant(t,n);return this.remoteParticipants.set(t,r),this.sidToIdentity.set(n.sid,n.identity),this.emitWhenConnected(we.ParticipantConnected,r),r.on(_e.TrackPublished,i=>{this.emitWhenConnected(we.TrackPublished,i,r)}).on(_e.TrackSubscribed,(i,a)=>{i.kind===ve.Kind.Audio?(i.on(Re.AudioPlaybackStarted,this.handleAudioPlaybackStarted),i.on(Re.AudioPlaybackFailed,this.handleAudioPlaybackFailed)):i.kind===ve.Kind.Video&&(i.on(Re.VideoPlaybackFailed,this.handleVideoPlaybackFailed),i.on(Re.VideoPlaybackStarted,this.handleVideoPlaybackStarted)),this.emit(we.TrackSubscribed,i,a,r)}).on(_e.TrackUnpublished,i=>{this.emit(we.TrackUnpublished,i,r)}).on(_e.TrackUnsubscribed,(i,a)=>{this.emit(we.TrackUnsubscribed,i,a,r)}).on(_e.TrackMuted,i=>{this.emitWhenConnected(we.TrackMuted,i,r)}).on(_e.TrackUnmuted,i=>{this.emitWhenConnected(we.TrackUnmuted,i,r)}).on(_e.ParticipantMetadataChanged,i=>{this.emitWhenConnected(we.ParticipantMetadataChanged,i,r)}).on(_e.ParticipantNameChanged,i=>{this.emitWhenConnected(we.ParticipantNameChanged,i,r)}).on(_e.AttributesChanged,i=>{this.emitWhenConnected(we.ParticipantAttributesChanged,i,r)}).on(_e.ConnectionQualityChanged,i=>{this.emitWhenConnected(we.ConnectionQualityChanged,i,r)}).on(_e.ParticipantPermissionsChanged,i=>{this.emitWhenConnected(we.ParticipantPermissionsChanged,i,r)}).on(_e.TrackSubscriptionStatusChanged,(i,a)=>{this.emitWhenConnected(we.TrackSubscriptionStatusChanged,i,a,r)}).on(_e.TrackSubscriptionFailed,(i,a)=>{this.emit(we.TrackSubscriptionFailed,i,r,a)}).on(_e.TrackSubscriptionPermissionChanged,(i,a)=>{this.emitWhenConnected(we.TrackSubscriptionPermissionChanged,i,a,r)}).on(_e.Active,()=>{this.emitWhenConnected(we.ParticipantActive,r),r.kind===kv.AGENT&&this.localParticipant.setActiveAgent(r)}),n&&r.updateInfo(n),r}sendSyncState(){const t=Array.from(this.remoteParticipants.values()).reduce((r,i)=>(r.push(...i.getTrackPublications()),r),[]),n=this.localParticipant.getTrackPublications();this.engine.sendSyncState(t,n)}updateSubscriptions(){for(const t of this.remoteParticipants.values())for(const n of t.videoTrackPublications.values())n.isSubscribed&&jIe(n)&&n.emitTrackUpdate()}getRemoteParticipantBySid(t){const n=this.sidToIdentity.get(t);if(n)return this.remoteParticipants.get(n)}registerConnectionReconcile(){this.clearConnectionReconcile();let t=0;this.connectionReconcileInterval=Qi.setInterval(()=>{!this.engine||this.engine.isClosed||!this.engine.verifyTransport()?(t++,this.log.warn("detected connection state mismatch",Object.assign(Object.assign({},this.logContext),{numFailures:t,engine:this.engine?{closed:this.engine.isClosed,transportsConnectedOrConnecting:this.engine.verifyTransport()}:void 0})),t>=3&&(this.recreateEngine(),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,Ks.STATE_MISMATCH))):t=0},o6e)}clearConnectionReconcile(){this.connectionReconcileInterval&&Qi.clearInterval(this.connectionReconcileInterval)}setAndEmitConnectionState(t){return t===this.state?!1:(this.state=t,this.emit(we.ConnectionStateChanged,this.state),!0)}emitBufferedEvents(){this.bufferedEvents.forEach(t=>{let[n,r]=t;this.emit(n,...r)}),this.bufferedEvents=[]}emitWhenConnected(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(this.state===Kt.Reconnecting||this.isResuming||!this.engine||this.engine.pendingReconnect)this.bufferedEvents.push([t,r]);else if(this.state===Kt.Connected)return this.emit(t,...r);return!1}simulateParticipants(t){return J(this,void 0,void 0,function*(){var n,r,i,a;const o=Object.assign({audio:!0,video:!0,useRealTracks:!1},t.publish),s=Object.assign({count:9,audio:!1,video:!0,aspectRatios:[1.66,1.7,1.3]},t.participants);if(this.handleDisconnect(),this.roomInfo=new kB({sid:"RM_SIMULATED",name:"simulated-room",emptyTimeout:0,maxParticipants:0,creationTime:Wn.parse(new Date().getTime()),metadata:"",numParticipants:1,numPublishers:1,turnPassword:"",enabledCodecs:[],activeRecording:!1}),this.localParticipant.updateInfo(new If({identity:"simulated-local",name:"local-name"})),this.setupLocalParticipantEvents(),this.emit(we.SignalConnected),this.emit(we.Connected),this.setAndEmitConnectionState(Kt.Connected),o.video){const c=new m5(ve.Kind.Video,new qh({source:Mr.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:Qs.AUDIO,name:"video-dummy"}),new g5(o.useRealTracks&&(!((n=window.navigator.mediaDevices)===null||n===void 0)&&n.getUserMedia)?(yield window.navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0]:pQ(160*((r=s.aspectRatios[0])!==null&&r!==void 0?r:1),160,!0,!0),void 0,!1,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(c),this.localParticipant.emit(_e.LocalTrackPublished,c)}if(o.audio){const c=new m5(ve.Kind.Audio,new qh({source:Mr.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:Qs.AUDIO}),new p5(o.useRealTracks&&(!((i=navigator.mediaDevices)===null||i===void 0)&&i.getUserMedia)?(yield navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0]:Nx(),void 0,!1,this.audioContext,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(c),this.localParticipant.emit(_e.LocalTrackPublished,c)}for(let c=0;c<s.count-1;c+=1){let l=new If({sid:Math.floor(Math.random()*1e4).toString(),identity:"simulated-".concat(c),state:hp.ACTIVE,tracks:[],joinedAt:Wn.parse(Date.now())});const A=this.getOrCreateParticipant(l.identity,l);if(s.video){const u=pQ(160*((a=s.aspectRatios[c%s.aspectRatios.length])!==null&&a!==void 0?a:1),160,!1,!0),d=new qh({source:Mr.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:Qs.AUDIO});A.addSubscribedMediaTrack(u,d.sid,new MediaStream([u]),new RTCRtpReceiver),l.tracks=[...l.tracks,d]}if(s.audio){const u=Nx(),d=new qh({source:Mr.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:Qs.AUDIO});A.addSubscribedMediaTrack(u,d.sid,new MediaStream([u]),new RTCRtpReceiver),l.tracks=[...l.tracks,d]}A.updateInfo(l)}})}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(t!==we.ActiveSpeakersChanged&&t!==we.TranscriptionReceived){const a=Bee(r).filter(o=>o!==void 0);(t===we.TrackSubscribed||t===we.TrackUnsubscribed)&&this.log.trace("subscribe trace: ".concat(t),Object.assign(Object.assign({},this.logContext),{event:t,args:a})),this.log.debug("room event ".concat(t),Object.assign(Object.assign({},this.logContext),{event:t,args:a}))}return super.emit(t,...r)}}hA.cleanupRegistry=typeof FinalizationRegistry<"u"&&new FinalizationRegistry(e=>{e()});function Bee(e){return e.map(t=>{if(t)return Array.isArray(t)?Bee(t):typeof t=="object"?"logContext"in t?t.logContext:void 0:t})}var DQ;(function(e){e[e.TooShort=0]="TooShort",e[e.HeaderOverrun=1]="HeaderOverrun",e[e.MissingExtWords=2]="MissingExtWords",e[e.UnsupportedVersion=3]="UnsupportedVersion",e[e.InvalidHandle=4]="InvalidHandle",e[e.MalformedExt=5]="MalformedExt"})(DQ||(DQ={}));var QQ;(function(e){e[e.TooSmallForHeader=0]="TooSmallForHeader",e[e.TooSmallForPayload=1]="TooSmallForPayload"})(QQ||(QQ={}));var b5;(function(e){e[e.UserTimestamp=2]="UserTimestamp",e[e.E2ee=1]="E2ee"})(b5||(b5={}));b5.UserTimestamp;b5.E2ee;var jQ;(function(e){e[e.Reserved=0]="Reserved",e[e.TooLarge=1]="TooLarge"})(jQ||(jQ={}));var HQ;(function(e){e[e.Start=0]="Start",e[e.Inter=1]="Inter",e[e.Final=2]="Final",e[e.Single=3]="Single"})(HQ||(HQ={}));var $Q;(function(e){e[e.MtuTooShort=0]="MtuTooShort"})($Q||($Q={}));Wc(ps.DataTracks);var KQ;(function(e){e[e.Interrupted=0]="Interrupted",e[e.UnknownFrame=1]="UnknownFrame",e[e.BufferFull=2]="BufferFull",e[e.Incomplete=3]="Incomplete"})(KQ||(KQ={}));var Us;(function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.SKIPPED=2]="SKIPPED",e[e.SUCCESS=3]="SUCCESS",e[e.FAILED=4]="FAILED"})(Us||(Us={}));class id extends il.EventEmitter{constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};super(),this.status=Us.IDLE,this.logs=[],this.options={},this.url=t,this.token=n,this.name=this.constructor.name,this.room=new hA(r.roomOptions),this.connectOptions=r.connectOptions,this.options=r}run(t){return J(this,void 0,void 0,function*(){if(this.status!==Us.IDLE)throw Error("check is running already");this.setStatus(Us.RUNNING);try{yield this.perform()}catch(n){n instanceof Error&&(this.options.errorsAsWarnings?this.appendWarning(n.message):this.appendError(n.message))}return yield this.disconnect(),yield new Promise(n=>setTimeout(n,500)),this.status!==Us.SKIPPED&&this.setStatus(this.isSuccess()?Us.SUCCESS:Us.FAILED),t&&t(),this.getInfo()})}isSuccess(){return!this.logs.some(t=>t.level==="error")}connect(t){return J(this,void 0,void 0,function*(){return this.room.state===Kt.Connected?this.room:(t||(t=this.url),yield this.room.connect(t,this.token,this.connectOptions),this.room)})}disconnect(){return J(this,void 0,void 0,function*(){this.room&&this.room.state!==Kt.Disconnected&&(yield this.room.disconnect(),yield new Promise(t=>setTimeout(t,500)))})}skip(){this.setStatus(Us.SKIPPED)}switchProtocol(t){return J(this,void 0,void 0,function*(){let n=!1,r=!1;if(this.room.on(we.Reconnecting,()=>{n=!0}),this.room.once(we.Reconnected,()=>{r=!0}),this.room.simulateScenario("force-".concat(t)),yield new Promise(a=>setTimeout(a,1e3)),!n)return;const i=Date.now()+1e4;for(;Date.now()<i;){if(r)return;yield ji(100)}throw new Error("Could not reconnect using ".concat(t," protocol after 10 seconds"))})}appendMessage(t){this.logs.push({level:"info",message:t}),this.emit("update",this.getInfo())}appendWarning(t){this.logs.push({level:"warning",message:t}),this.emit("update",this.getInfo())}appendError(t){this.logs.push({level:"error",message:t}),this.emit("update",this.getInfo())}setStatus(t){this.status=t,this.emit("update",this.getInfo())}get engine(){var t;return(t=this.room)===null||t===void 0?void 0:t.engine}getInfo(){return{logs:this.logs,name:this.name,status:this.status,description:this.description}}}class s6e extends id{get description(){return"Cloud regions"}perform(){return J(this,void 0,void 0,function*(){const t=new Zt(this.url,this.token);if(!t.isCloud()){this.skip();return}const n=[],r=new Set;for(let a=0;a<3;a++){const o=yield t.getNextBestRegionUrl();if(!o)break;if(r.has(o))continue;r.add(o);const s=yield this.checkCloudRegion(o);this.appendMessage("".concat(s.region," RTT: ").concat(s.rtt,"ms, duration: ").concat(s.duration,"ms")),n.push(s)}n.sort((a,o)=>(a.duration-o.duration)*.5+(a.rtt-o.rtt)*.5);const i=n[0];this.bestStats=i,this.appendMessage("best Cloud region: ".concat(i.region))})}getInfo(){const t=super.getInfo();return t.data=this.bestStats,t}checkCloudRegion(t){return J(this,void 0,void 0,function*(){var n,r;yield this.connect(t),this.options.protocol==="tcp"&&(yield this.switchProtocol("tcp"));const i=(n=this.room.serverInfo)===null||n===void 0?void 0:n.region;if(!i)throw new Error("Region not found");const a=yield this.room.localParticipant.streamText({topic:"test"}),o=1e3,c=1e6/o,l="A".repeat(o),A=Date.now();for(let h=0;h<c;h++)yield a.write(l);yield a.close();const u=Date.now(),d=yield(r=this.room.engine.pcManager)===null||r===void 0?void 0:r.publisher.getStats(),f={region:i,rtt:1e4,duration:u-A};return d==null||d.forEach(h=>{h.type==="candidate-pair"&&h.nominated&&(f.rtt=h.currentRoundTripTime*1e3)}),yield this.disconnect(),f})}}const Vx=1e4;class c6e extends id{get description(){return"Connection via UDP vs TCP"}perform(){return J(this,void 0,void 0,function*(){const t=yield this.checkConnectionProtocol("udp"),n=yield this.checkConnectionProtocol("tcp");this.bestStats=t,t.qualityLimitationDurations.bandwidth-n.qualityLimitationDurations.bandwidth>.5||(t.packetsLost-n.packetsLost)/t.packetsSent>.01?(this.appendMessage("best connection quality via tcp"),this.bestStats=n):this.appendMessage("best connection quality via udp");const r=this.bestStats;this.appendMessage("upstream bitrate: ".concat((r.bitrateTotal/r.count/1e3/1e3).toFixed(2)," mbps")),this.appendMessage("RTT: ".concat((r.rttTotal/r.count*1e3).toFixed(2)," ms")),this.appendMessage("jitter: ".concat((r.jitterTotal/r.count*1e3).toFixed(2)," ms")),r.packetsLost>0&&this.appendWarning("packets lost: ".concat((r.packetsLost/r.packetsSent*100).toFixed(2),"%")),r.qualityLimitationDurations.bandwidth>1&&this.appendWarning("bandwidth limited ".concat((r.qualityLimitationDurations.bandwidth/(Vx/1e3)*100).toFixed(2),"%")),r.qualityLimitationDurations.cpu>0&&this.appendWarning("cpu limited ".concat((r.qualityLimitationDurations.cpu/(Vx/1e3)*100).toFixed(2),"%"))})}getInfo(){const t=super.getInfo();return t.data=this.bestStats,t}checkConnectionProtocol(t){return J(this,void 0,void 0,function*(){yield this.connect(),t==="tcp"?yield this.switchProtocol("tcp"):yield this.switchProtocol("udp");const n=document.createElement("canvas");n.width=1280,n.height=720;const r=n.getContext("2d");if(!r)throw new Error("Could not get canvas context");let i=0;const a=()=>{i=(i+1)%360,r.fillStyle="hsl(".concat(i,", 100%, 50%)"),r.fillRect(0,0,n.width,n.height),requestAnimationFrame(a)};a();const s=n.captureStream(30).getVideoTracks()[0],l=(yield this.room.localParticipant.publishTrack(s,{simulcast:!1,degradationPreference:"maintain-resolution",videoEncoding:{maxBitrate:2e6}})).track,A={protocol:t,packetsLost:0,packetsSent:0,qualityLimitationDurations:{},rttTotal:0,jitterTotal:0,bitrateTotal:0,count:0},u=setInterval(()=>J(this,void 0,void 0,function*(){const d=yield l.getRTCStatsReport();d==null||d.forEach(f=>{f.type==="outbound-rtp"?(A.packetsSent=f.packetsSent,A.qualityLimitationDurations=f.qualityLimitationDurations,A.bitrateTotal+=f.targetBitrate,A.count++):f.type==="remote-inbound-rtp"&&(A.packetsLost=f.packetsLost,A.rttTotal+=f.roundTripTime,A.jitterTotal+=f.jitter)})}),1e3);return yield new Promise(d=>setTimeout(d,Vx)),clearInterval(u),s.stop(),n.remove(),yield this.disconnect(),A})}}class l6e extends id{get description(){return"Can publish audio"}perform(){return J(this,void 0,void 0,function*(){var t;const n=yield this.connect(),r=yield n6e();if(yield iee(r,1e3))throw new Error("unable to detect audio from microphone");this.appendMessage("detected audio from microphone"),n.localParticipant.publishTrack(r),yield new Promise(s=>setTimeout(s,3e3));const a=yield(t=r.sender)===null||t===void 0?void 0:t.getStats();if(!a)throw new Error("Could not get RTCStats");let o=0;if(a.forEach(s=>{s.type==="outbound-rtp"&&(s.kind==="audio"||!s.kind&&s.mediaType==="audio")&&(o=s.packetsSent)}),o===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(o," audio packets"))})}}class A6e extends id{get description(){return"Can publish video"}perform(){return J(this,void 0,void 0,function*(){var t;const n=yield this.connect(),r=yield t6e();yield this.checkForVideo(r.mediaStreamTrack),n.localParticipant.publishTrack(r),yield new Promise(o=>setTimeout(o,5e3));const i=yield(t=r.sender)===null||t===void 0?void 0:t.getStats();if(!i)throw new Error("Could not get RTCStats");let a=0;if(i.forEach(o=>{o.type==="outbound-rtp"&&(o.kind==="video"||!o.kind&&o.mediaType==="video")&&(a+=o.packetsSent)}),a===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(a," video packets"))})}checkForVideo(t){return J(this,void 0,void 0,function*(){const n=new MediaStream;n.addTrack(t.clone());const r=document.createElement("video");r.srcObject=n,r.muted=!0,r.autoplay=!0,r.playsInline=!0,r.setAttribute("playsinline","true"),document.body.appendChild(r),yield new Promise(i=>{r.onplay=()=>{setTimeout(()=>{var a,o,s,c;const l=document.createElement("canvas"),A=t.getSettings(),u=(o=(a=A.width)!==null&&a!==void 0?a:r.videoWidth)!==null&&o!==void 0?o:1280,d=(c=(s=A.height)!==null&&s!==void 0?s:r.videoHeight)!==null&&c!==void 0?c:720;l.width=u,l.height=d;const f=l.getContext("2d");f.drawImage(r,0,0);const p=f.getImageData(0,0,l.width,l.height).data;let v=!0;for(let m=0;m<p.length;m+=4)if(p[m]!==0||p[m+1]!==0||p[m+2]!==0){v=!1;break}v?this.appendError("camera appears to be producing only black frames"):this.appendMessage("received video frames"),i()},1e3)},r.play()}),n.getTracks().forEach(i=>i.stop()),r.remove()})}}class u6e extends id{get description(){return"Resuming connection after interruption"}perform(){return J(this,void 0,void 0,function*(){var t;const n=yield this.connect();let r=!1,i=!1,a;const o=new Promise(l=>{setTimeout(l,5e3),a=l}),s=()=>{r=!0};n.on(we.SignalReconnecting,s).on(we.Reconnecting,s).on(we.Reconnected,()=>{i=!0,a(!0)}),(t=n.engine.client.ws)===null||t===void 0||t.close();const c=n.engine.client.onClose;if(c&&c(""),yield o,r){if(!i||n.state!==Kt.Connected)throw this.appendWarning("reconnection is only possible in Redis-based configurations"),new Error("Not able to reconnect")}else throw new Error("Did not attempt to reconnect")})}}class d6e extends id{get description(){return"Can connect via TURN"}perform(){return J(this,void 0,void 0,function*(){var t,n,r;qp(new URL(this.url))&&(this.appendMessage("Using region specific url"),this.url=(t=yield new Zt(this.url,this.token).getNextBestRegionUrl())!==null&&t!==void 0?t:this.url);const i=new JF,a=yield i.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3},void 0,!0);let o=!1,s=!1,c=!1;for(let l of a.iceServers)for(let A of l.urls)A.startsWith("turn:")?(s=!0,c=!0):A.startsWith("turns:")&&(s=!0,c=!0,o=!0),A.startsWith("stun:")&&(c=!0);c?s&&!o&&this.appendWarning("TURN is configured server side, but TURN/TLS is unavailable."):this.appendWarning("No STUN servers configured on server side."),yield i.close(),!((r=(n=this.connectOptions)===null||n===void 0?void 0:n.rtcConfig)===null||r===void 0)&&r.iceServers||s?yield this.room.connect(this.url,this.token,{rtcConfig:{iceTransportPolicy:"relay"}}):(this.appendWarning("No TURN servers configured."),this.skip(),yield new Promise(l=>setTimeout(l,0)))})}}class f6e extends id{get description(){return"Establishing WebRTC connection"}perform(){return J(this,void 0,void 0,function*(){let t=!1,n=!1;this.room.on(we.SignalConnected,()=>{var r;const i=this.room.engine.client.onTrickle;this.room.engine.client.onTrickle=(a,o)=>{if(a.candidate){const s=new RTCIceCandidate(a);let c="".concat(s.protocol," ").concat(s.address,":").concat(s.port," ").concat(s.type);s.address&&(h6e(s.address)?c+=" (private)":s.protocol==="tcp"&&s.tcpType==="passive"?(t=!0,c+=" (passive)"):s.protocol==="udp"&&(n=!0)),this.appendMessage(c)}i&&i(a,o)},!((r=this.room.engine.pcManager)===null||r===void 0)&&r.subscriber&&(this.room.engine.pcManager.subscriber.onIceCandidateError=a=>{a instanceof RTCPeerConnectionIceErrorEvent&&this.appendWarning("error with ICE candidate: ".concat(a.errorCode," ").concat(a.errorText," ").concat(a.url))})});try{yield this.connect(),_t.info("now the room is connected")}catch(r){throw this.appendWarning("ports need to be open on firewall in order to connect."),r}t||this.appendWarning("Server is not configured for ICE/TCP"),n||this.appendWarning("No public IPv4 UDP candidates were found. Your server is likely not configured correctly")})}}function h6e(e){const t=e.split(".");if(t.length===4){if(t[0]==="10")return!0;if(t[0]==="192"&&t[1]==="168")return!0;if(t[0]==="172"){const n=parseInt(t[1],10);if(n>=16&&n<=31)return!0}}return!1}class p6e extends id{get description(){return"Connecting to signal connection via WebSocket"}perform(){return J(this,void 0,void 0,function*(){var t,n,r;(this.url.startsWith("ws:")||this.url.startsWith("http:"))&&this.appendWarning("Server is insecure, clients may block connections to it");let i=new JF,a;try{a=yield i.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3},void 0,!0)}catch(o){if(qp(new URL(this.url))){this.appendMessage("Initial connection failed with error ".concat(o.message,". Retrying with region fallback"));const c=yield new Zt(this.url,this.token).getNextBestRegionUrl();c&&(a=yield i.join(c,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3},void 0,!0),this.appendMessage("Fallback to region worked. To avoid initial connections failing, ensure you're calling room.prepareConnection() ahead of time"))}}a?(this.appendMessage("Connected to server, version ".concat(a.serverVersion,".")),((t=a.serverInfo)===null||t===void 0?void 0:t.edition)===iZ.Cloud&&(!((n=a.serverInfo)===null||n===void 0)&&n.region)&&this.appendMessage("LiveKit Cloud: ".concat((r=a.serverInfo)===null||r===void 0?void 0:r.region))):this.appendError("Websocket connection could not be established"),yield i.close()})}}class kRe extends il.EventEmitter{constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};super(),this.options={},this.checkResults=new Map,this.url=t,this.token=n,this.options=r}getNextCheckId(){const t=this.checkResults.size;return this.checkResults.set(t,{logs:[],status:Us.IDLE,name:"",description:""}),t}updateCheck(t,n){this.checkResults.set(t,n),this.emit("checkUpdate",t,n)}isSuccess(){return Array.from(this.checkResults.values()).every(t=>t.status!==Us.FAILED)}getResults(){return Array.from(this.checkResults.values())}createAndRunCheck(t){return J(this,void 0,void 0,function*(){const n=this.getNextCheckId(),r=new t(this.url,this.token,this.options),i=o=>{this.updateCheck(n,o)};r.on("update",i);const a=yield r.run();return r.off("update",i),a})}checkWebsocket(){return J(this,void 0,void 0,function*(){return this.createAndRunCheck(p6e)})}checkWebRTC(){return J(this,void 0,void 0,function*(){return this.createAndRunCheck(f6e)})}checkTURN(){return J(this,void 0,void 0,function*(){return this.createAndRunCheck(d6e)})}checkReconnect(){return J(this,void 0,void 0,function*(){return this.createAndRunCheck(u6e)})}checkPublishAudio(){return J(this,void 0,void 0,function*(){return this.createAndRunCheck(l6e)})}checkPublishVideo(){return J(this,void 0,void 0,function*(){return this.createAndRunCheck(A6e)})}checkConnectionProtocol(){return J(this,void 0,void 0,function*(){const t=yield this.createAndRunCheck(c6e);if(t.data&&"protocol"in t.data){const n=t.data;this.options.protocol=n.protocol}return t})}checkCloudRegion(){return J(this,void 0,void 0,function*(){return this.createAndRunCheck(s6e)})}}function Qt(e,t,n){return(t=m6e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g6e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m6e(e){var t=g6e(e,"string");return typeof t=="symbol"?t:t+""}new TextEncoder;new TextDecoder;class _a extends Error{constructor(t,n){var r;super(t,n),Qt(this,"code","ERR_JOSE_GENERIC"),this.name=this.constructor.name,(r=Error.captureStackTrace)===null||r===void 0||r.call(Error,this,this.constructor)}}Qt(_a,"code","ERR_JOSE_GENERIC");class v6e extends _a{constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"unspecified",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unspecified";super(t,{cause:{claim:r,reason:i,payload:n}}),Qt(this,"code","ERR_JWT_CLAIM_VALIDATION_FAILED"),Qt(this,"claim",void 0),Qt(this,"reason",void 0),Qt(this,"payload",void 0),this.claim=r,this.reason=i,this.payload=n}}Qt(v6e,"code","ERR_JWT_CLAIM_VALIDATION_FAILED");class y6e extends _a{constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"unspecified",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unspecified";super(t,{cause:{claim:r,reason:i,payload:n}}),Qt(this,"code","ERR_JWT_EXPIRED"),Qt(this,"claim",void 0),Qt(this,"reason",void 0),Qt(this,"payload",void 0),this.claim=r,this.reason=i,this.payload=n}}Qt(y6e,"code","ERR_JWT_EXPIRED");class b6e extends _a{constructor(){super(...arguments),Qt(this,"code","ERR_JOSE_ALG_NOT_ALLOWED")}}Qt(b6e,"code","ERR_JOSE_ALG_NOT_ALLOWED");class w6e extends _a{constructor(){super(...arguments),Qt(this,"code","ERR_JOSE_NOT_SUPPORTED")}}Qt(w6e,"code","ERR_JOSE_NOT_SUPPORTED");class C6e extends _a{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"decryption operation failed",n=arguments.length>1?arguments[1]:void 0;super(t,n),Qt(this,"code","ERR_JWE_DECRYPTION_FAILED")}}Qt(C6e,"code","ERR_JWE_DECRYPTION_FAILED");class B6e extends _a{constructor(){super(...arguments),Qt(this,"code","ERR_JWE_INVALID")}}Qt(B6e,"code","ERR_JWE_INVALID");class S6e extends _a{constructor(){super(...arguments),Qt(this,"code","ERR_JWS_INVALID")}}Qt(S6e,"code","ERR_JWS_INVALID");class x6e extends _a{constructor(){super(...arguments),Qt(this,"code","ERR_JWT_INVALID")}}Qt(x6e,"code","ERR_JWT_INVALID");class k6e extends _a{constructor(){super(...arguments),Qt(this,"code","ERR_JWK_INVALID")}}Qt(k6e,"code","ERR_JWK_INVALID");class E6e extends _a{constructor(){super(...arguments),Qt(this,"code","ERR_JWKS_INVALID")}}Qt(E6e,"code","ERR_JWKS_INVALID");class T6e extends _a{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"no applicable key found in the JSON Web Key Set",n=arguments.length>1?arguments[1]:void 0;super(t,n),Qt(this,"code","ERR_JWKS_NO_MATCHING_KEY")}}Qt(T6e,"code","ERR_JWKS_NO_MATCHING_KEY");class _6e extends _a{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"multiple matching keys found in the JSON Web Key Set",n=arguments.length>1?arguments[1]:void 0;super(t,n),Qt(this,Symbol.asyncIterator,void 0),Qt(this,"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS")}}Qt(_6e,"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS");class P6e extends _a{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"request timed out",n=arguments.length>1?arguments[1]:void 0;super(t,n),Qt(this,"code","ERR_JWKS_TIMEOUT")}}Qt(P6e,"code","ERR_JWKS_TIMEOUT");class I6e extends _a{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"signature verification failed",n=arguments.length>1?arguments[1]:void 0;super(t,n),Qt(this,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED")}}Qt(I6e,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED");function F6e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var n;const r=uf(e)?e.mediaStreamTrack:e,i=r.getSettings();let a={facingMode:(n=t.defaultFacingMode)!==null&&n!==void 0?n:"user",confidence:"low"};if("facingMode"in i){const o=i.facingMode;_t.trace("rawFacingMode",{rawFacingMode:o}),o&&typeof o=="string"&&U6e(o)&&(a={facingMode:o,confidence:"high"})}if(["low","medium"].includes(a.confidence)){_t.trace("Try to get facing mode from device label: (".concat(r.label,")"));const o=L6e(r.label);o!==void 0&&(a=o)}return a}const VQ=new Map([["obs virtual camera",{facingMode:"environment",confidence:"medium"}]]),O6e=new Map([["iphone",{facingMode:"environment",confidence:"medium"}],["ipad",{facingMode:"environment",confidence:"medium"}]]);function L6e(e){var t;const n=e.trim().toLowerCase();if(n!=="")return VQ.has(n)?VQ.get(n):(t=Array.from(O6e.entries()).find(r=>{let[i]=r;return n.includes(i)}))===null||t===void 0?void 0:t[1]}function U6e(e){return e===void 0||["user","environment","left","right"].includes(e)}const w5=Math.min,ff=Math.max,C5=Math.round,B2=Math.floor,Hc=e=>({x:e,y:e}),N6e={left:"right",right:"left",bottom:"top",top:"bottom"},M6e={start:"end",end:"start"};function zQ(e,t,n){return ff(e,w5(t,n))}function LB(e,t){return typeof e=="function"?e(t):e}function Lf(e){return e.split("-")[0]}function UB(e){return e.split("-")[1]}function See(e){return e==="x"?"y":"x"}function xee(e){return e==="y"?"height":"width"}const R6e=new Set(["top","bottom"]);function yu(e){return R6e.has(Lf(e))?"y":"x"}function kee(e){return See(yu(e))}function D6e(e,t,n){n===void 0&&(n=!1);const r=UB(e),i=kee(e),a=xee(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=B5(o)),[o,B5(o)]}function Q6e(e){const t=B5(e);return[xT(e),t,xT(t)]}function xT(e){return e.replace(/start|end/g,t=>M6e[t])}const WQ=["left","right"],GQ=["right","left"],j6e=["top","bottom"],H6e=["bottom","top"];function $6e(e,t,n){switch(e){case"top":case"bottom":return n?t?GQ:WQ:t?WQ:GQ;case"left":case"right":return t?j6e:H6e;default:return[]}}function K6e(e,t,n,r){const i=UB(e);let a=$6e(Lf(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(xT)))),a}function B5(e){return e.replace(/left|right|bottom|top/g,t=>N6e[t])}function V6e(e){return{top:0,right:0,bottom:0,left:0,...e}}function z6e(e){return typeof e!="number"?V6e(e):{top:e,right:e,bottom:e,left:e}}function S5(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function qQ(e,t,n){let{reference:r,floating:i}=e;const a=yu(t),o=kee(t),s=xee(o),c=Lf(t),l=a==="y",A=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,d=r[s]/2-i[s]/2;let f;switch(c){case"top":f={x:A,y:r.y-i.height};break;case"bottom":f={x:A,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:u};break;case"left":f={x:r.x-i.width,y:u};break;default:f={x:r.x,y:r.y}}switch(UB(t)){case"start":f[o]-=d*(n&&l?-1:1);break;case"end":f[o]+=d*(n&&l?-1:1);break}return f}const W6e=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:A,y:u}=qQ(l,r,c),d=r,f={},h=0;for(let p=0;p<s.length;p++){const{name:v,fn:m}=s[p],{x:w,y:B,data:C,reset:S}=await m({x:A,y:u,initialPlacement:r,placement:d,strategy:i,middlewareData:f,rects:l,platform:o,elements:{reference:e,floating:t}});A=w??A,u=B??u,f={...f,[v]:{...f[v],...C}},S&&h<=50&&(h++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(l=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:A,y:u}=qQ(l,d,c)),p=-1)}return{x:A,y:u,placement:d,strategy:i,middlewareData:f}};async function Eee(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:A="viewport",elementContext:u="floating",altBoundary:d=!1,padding:f=0}=LB(t,e),h=z6e(f),p=s[d?u==="floating"?"reference":"floating":u],v=S5(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(p)))==null||n?p:p.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:l,rootBoundary:A,strategy:c})),m=u==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),B=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},C=S5(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:m,offsetParent:w,strategy:c}):m);return{top:(v.top-C.top+h.top)/B.y,bottom:(C.bottom-v.bottom+h.bottom)/B.y,left:(v.left-C.left+h.left)/B.x,right:(C.right-v.right+h.right)/B.x}}const G6e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:c,elements:l}=t,{mainAxis:A=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:p=!0,...v}=LB(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const m=Lf(i),w=yu(s),B=Lf(s)===s,C=await(c.isRTL==null?void 0:c.isRTL(l.floating)),S=d||(B||!p?[B5(s)]:Q6e(s)),k=h!=="none";!d&&k&&S.push(...K6e(s,p,h,C));const _=[s,...S],F=await Eee(t,v),P=[];let U=((r=a.flip)==null?void 0:r.overflows)||[];if(A&&P.push(F[m]),u){const $=D6e(i,o,C);P.push(F[$[0]],F[$[1]])}if(U=[...U,{placement:i,overflows:P}],!P.every($=>$<=0)){var T,O;const $=(((T=a.flip)==null?void 0:T.index)||0)+1,Z=_[$];if(Z&&(!(u==="alignment"&&w!==yu(Z))||U.every(ie=>yu(ie.placement)===w?ie.overflows[0]>0:!0)))return{data:{index:$,overflows:U},reset:{placement:Z}};let ae=(O=U.filter(ie=>ie.overflows[0]<=0).sort((ie,W)=>ie.overflows[1]-W.overflows[1])[0])==null?void 0:O.placement;if(!ae)switch(f){case"bestFit":{var H;const ie=(H=U.filter(W=>{if(k){const te=yu(W.placement);return te===w||te==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(te=>te>0).reduce((te,de)=>te+de,0)]).sort((W,te)=>W[1]-te[1])[0])==null?void 0:H[0];ie&&(ae=ie);break}case"initialPlacement":ae=s;break}if(i!==ae)return{reset:{placement:ae}}}return{}}}},q6e=new Set(["left","top"]);async function Y6e(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Lf(n),s=UB(n),c=yu(n)==="y",l=q6e.has(o)?-1:1,A=a&&c?-1:1,u=LB(t,e);let{mainAxis:d,crossAxis:f,alignmentAxis:h}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return s&&typeof h=="number"&&(f=s==="end"?h*-1:h),c?{x:f*A,y:d*l}:{x:d*l,y:f*A}}const X6e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=t,c=await Y6e(t,e);return o===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},J6e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:v=>{let{x:m,y:w}=v;return{x:m,y:w}}},...c}=LB(e,t),l={x:n,y:r},A=await Eee(t,c),u=yu(Lf(i)),d=See(u);let f=l[d],h=l[u];if(a){const v=d==="y"?"top":"left",m=d==="y"?"bottom":"right",w=f+A[v],B=f-A[m];f=zQ(w,f,B)}if(o){const v=u==="y"?"top":"left",m=u==="y"?"bottom":"right",w=h+A[v],B=h-A[m];h=zQ(w,h,B)}const p=s.fn({...t,[d]:f,[u]:h});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[d]:a,[u]:o}}}}}};function NB(){return typeof window<"u"}function Tg(e){return Tee(e)?(e.nodeName||"").toLowerCase():"#document"}function Co(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function al(e){var t;return(t=(Tee(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Tee(e){return NB()?e instanceof Node||e instanceof Co(e).Node:!1}function Zs(e){return NB()?e instanceof Element||e instanceof Co(e).Element:!1}function qc(e){return NB()?e instanceof HTMLElement||e instanceof Co(e).HTMLElement:!1}function YQ(e){return!NB()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Co(e).ShadowRoot}const Z6e=new Set(["inline","contents"]);function g1(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ec(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Z6e.has(i)}const eOe=new Set(["table","td","th"]);function tOe(e){return eOe.has(Tg(e))}const nOe=[":popover-open",":modal"];function MB(e){return nOe.some(t=>{try{return e.matches(t)}catch{return!1}})}const rOe=["transform","translate","scale","rotate","perspective"],iOe=["transform","translate","scale","rotate","perspective","filter"],aOe=["paint","layout","strict","content"];function o6(e){const t=s6(),n=Zs(e)?ec(e):e;return rOe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||iOe.some(r=>(n.willChange||"").includes(r))||aOe.some(r=>(n.contain||"").includes(r))}function oOe(e){let t=Wu(e);for(;qc(t)&&!Yp(t);){if(o6(t))return t;if(MB(t))return null;t=Wu(t)}return null}function s6(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sOe=new Set(["html","body","#document"]);function Yp(e){return sOe.has(Tg(e))}function ec(e){return Co(e).getComputedStyle(e)}function RB(e){return Zs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wu(e){if(Tg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||YQ(e)&&e.host||al(e);return YQ(t)?t.host:t}function _ee(e){const t=Wu(e);return Yp(t)?e.ownerDocument?e.ownerDocument.body:e.body:qc(t)&&g1(t)?t:_ee(t)}function Fv(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=_ee(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=Co(i);if(a){const s=kT(o);return t.concat(o,o.visualViewport||[],g1(i)?i:[],s&&n?Fv(s):[])}return t.concat(i,Fv(i,[],n))}function kT(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Pee(e){const t=ec(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=qc(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=C5(n)!==a||C5(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function c6(e){return Zs(e)?e:e.contextElement}function yp(e){const t=c6(e);if(!qc(t))return Hc(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=Pee(t);let o=(a?C5(n.width):n.width)/r,s=(a?C5(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const cOe=Hc(0);function Iee(e){const t=Co(e);return!s6()||!t.visualViewport?cOe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function lOe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Co(e)?!1:t}function Uf(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=c6(e);let o=Hc(1);t&&(r?Zs(r)&&(o=yp(r)):o=yp(e));const s=lOe(a,n,r)?Iee(a):Hc(0);let c=(i.left+s.x)/o.x,l=(i.top+s.y)/o.y,A=i.width/o.x,u=i.height/o.y;if(a){const d=Co(a),f=r&&Zs(r)?Co(r):r;let h=d,p=kT(h);for(;p&&r&&f!==h;){const v=yp(p),m=p.getBoundingClientRect(),w=ec(p),B=m.left+(p.clientLeft+parseFloat(w.paddingLeft))*v.x,C=m.top+(p.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,l*=v.y,A*=v.x,u*=v.y,c+=B,l+=C,h=Co(p),p=kT(h)}}return S5({width:A,height:u,x:c,y:l})}function DB(e,t){const n=RB(e).scrollLeft;return t?t.left+n:Uf(al(e)).left+n}function Fee(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-DB(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function AOe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=al(r),s=t?MB(t.floating):!1;if(r===o||s&&a)return n;let c={scrollLeft:0,scrollTop:0},l=Hc(1);const A=Hc(0),u=qc(r);if((u||!u&&!a)&&((Tg(r)!=="body"||g1(o))&&(c=RB(r)),qc(r))){const f=Uf(r);l=yp(r),A.x=f.x+r.clientLeft,A.y=f.y+r.clientTop}const d=o&&!u&&!a?Fee(o,c):Hc(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+A.x+d.x,y:n.y*l.y-c.scrollTop*l.y+A.y+d.y}}function uOe(e){return Array.from(e.getClientRects())}function dOe(e){const t=al(e),n=RB(e),r=e.ownerDocument.body,i=ff(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=ff(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+DB(e);const s=-n.scrollTop;return ec(r).direction==="rtl"&&(o+=ff(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}const XQ=25;function fOe(e,t){const n=Co(e),r=al(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;const A=s6();(!A||A&&t==="fixed")&&(s=i.offsetLeft,c=i.offsetTop)}const l=DB(r);if(l<=0){const A=r.ownerDocument,u=A.body,d=getComputedStyle(u),f=A.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,h=Math.abs(r.clientWidth-u.clientWidth-f);h<=XQ&&(a-=h)}else l<=XQ&&(a+=l);return{width:a,height:o,x:s,y:c}}const hOe=new Set(["absolute","fixed"]);function pOe(e,t){const n=Uf(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=qc(e)?yp(e):Hc(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,c=i*a.x,l=r*a.y;return{width:o,height:s,x:c,y:l}}function JQ(e,t,n){let r;if(t==="viewport")r=fOe(e,n);else if(t==="document")r=dOe(al(e));else if(Zs(t))r=pOe(t,n);else{const i=Iee(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return S5(r)}function Oee(e,t){const n=Wu(e);return n===t||!Zs(n)||Yp(n)?!1:ec(n).position==="fixed"||Oee(n,t)}function gOe(e,t){const n=t.get(e);if(n)return n;let r=Fv(e,[],!1).filter(s=>Zs(s)&&Tg(s)!=="body"),i=null;const a=ec(e).position==="fixed";let o=a?Wu(e):e;for(;Zs(o)&&!Yp(o);){const s=ec(o),c=o6(o);!c&&s.position==="fixed"&&(i=null),(a?!c&&!i:!c&&s.position==="static"&&i&&hOe.has(i.position)||g1(o)&&!c&&Oee(e,o))?r=r.filter(l=>l!==o):i=s,o=Wu(o)}return t.set(e,r),r}function mOe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?MB(t)?[]:gOe(t,this._c):[].concat(n),r],o=a[0],s=a.reduce((c,l)=>{const A=JQ(t,l,i);return c.top=ff(A.top,c.top),c.right=w5(A.right,c.right),c.bottom=w5(A.bottom,c.bottom),c.left=ff(A.left,c.left),c},JQ(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function vOe(e){const{width:t,height:n}=Pee(e);return{width:t,height:n}}function yOe(e,t,n){const r=qc(t),i=al(t),a=n==="fixed",o=Uf(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const c=Hc(0);function l(){c.x=DB(i)}if(r||!r&&!a)if((Tg(t)!=="body"||g1(i))&&(s=RB(t)),r){const f=Uf(t,!0,a,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else i&&l();a&&!r&&i&&l();const A=i&&!r&&!a?Fee(i,s):Hc(0),u=o.left+s.scrollLeft-c.x-A.x,d=o.top+s.scrollTop-c.y-A.y;return{x:u,y:d,width:o.width,height:o.height}}function zx(e){return ec(e).position==="static"}function ZQ(e,t){if(!qc(e)||ec(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return al(e)===n&&(n=n.ownerDocument.body),n}function Lee(e,t){const n=Co(e);if(MB(e))return n;if(!qc(e)){let i=Wu(e);for(;i&&!Yp(i);){if(Zs(i)&&!zx(i))return i;i=Wu(i)}return n}let r=ZQ(e,t);for(;r&&tOe(r)&&zx(r);)r=ZQ(r,t);return r&&Yp(r)&&zx(r)&&!o6(r)?n:r||oOe(e)||n}const bOe=async function(e){const t=this.getOffsetParent||Lee,n=this.getDimensions,r=await n(e.floating);return{reference:yOe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function wOe(e){return ec(e).direction==="rtl"}const COe={convertOffsetParentRelativeRectToViewportRelativeRect:AOe,getDocumentElement:al,getClippingRect:mOe,getOffsetParent:Lee,getElementRects:bOe,getClientRects:uOe,getDimensions:vOe,getScale:yp,isElement:Zs,isRTL:wOe};function Uee(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function BOe(e,t){let n=null,r;const i=al(e);function a(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();const l=e.getBoundingClientRect(),{left:A,top:u,width:d,height:f}=l;if(s||t(),!d||!f)return;const h=B2(u),p=B2(i.clientWidth-(A+d)),v=B2(i.clientHeight-(u+f)),m=B2(A),w={rootMargin:-h+"px "+-p+"px "+-v+"px "+-m+"px",threshold:ff(0,w5(1,c))||1};let B=!0;function C(S){const k=S[0].intersectionRatio;if(k!==c){if(!B)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!Uee(l,e.getBoundingClientRect())&&o(),B=!1}try{n=new IntersectionObserver(C,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,w)}n.observe(e)}return o(!0),a}function SOe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=c6(e),A=i||a?[...l?Fv(l):[],...Fv(t)]:[];A.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),a&&m.addEventListener("resize",n)});const u=l&&s?BOe(l,n):null;let d=-1,f=null;o&&(f=new ResizeObserver(m=>{let[w]=m;w&&w.target===l&&f&&(f.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var B;(B=f)==null||B.observe(t)})),n()}),l&&!c&&f.observe(l),f.observe(t));let h,p=c?Uf(e):null;c&&v();function v(){const m=Uf(e);p&&!Uee(p,m)&&n(),p=m,h=requestAnimationFrame(v)}return n(),()=>{var m;A.forEach(w=>{i&&w.removeEventListener("scroll",n),a&&w.removeEventListener("resize",n)}),u==null||u(),(m=f)==null||m.disconnect(),f=null,c&&cancelAnimationFrame(h)}}const xOe=X6e,kOe=J6e,EOe=G6e,TOe=(e,t,n)=>{const r=new Map,i={platform:COe,...n},a={...i.platform,_c:r};return W6e(e,t,{...i,platform:a})};var S2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nee(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ET={exports:{}},_Oe=ET.exports,e9;function POe(){return e9||(e9=1,function(e){(function(t,n){e.exports?e.exports=n():t.log=n()})(_Oe,function(){var t=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],a={},o=null;function s(p,v){var m=p[v];if(typeof m.bind=="function")return m.bind(p);try{return Function.prototype.bind.call(m,p)}catch{return function(){return Function.prototype.apply.apply(m,[p,arguments])}}}function c(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(p){return p==="debug"&&(p="log"),typeof console===n?!1:p==="trace"&&r?c:console[p]!==void 0?s(console,p):console.log!==void 0?s(console,"log"):t}function A(){for(var p=this.getLevel(),v=0;v<i.length;v++){var m=i[v];this[m]=v<p?t:this.methodFactory(m,p,this.name)}if(this.log=this.debug,typeof console===n&&p<this.levels.SILENT)return"No console available for logging"}function u(p){return function(){typeof console!==n&&(A.call(this),this[p].apply(this,arguments))}}function d(p,v,m){return l(p)||u.apply(this,arguments)}function f(p,v){var m=this,w,B,C,S="loglevel";typeof p=="string"?S+=":"+p:typeof p=="symbol"&&(S=void 0);function k(T){var O=(i[T]||"silent").toUpperCase();if(!(typeof window===n||!S)){try{window.localStorage[S]=O;return}catch{}try{window.document.cookie=encodeURIComponent(S)+"="+O+";"}catch{}}}function _(){var T;if(!(typeof window===n||!S)){try{T=window.localStorage[S]}catch{}if(typeof T===n)try{var O=window.document.cookie,H=encodeURIComponent(S),$=O.indexOf(H+"=");$!==-1&&(T=/^([^;]+)/.exec(O.slice($+H.length+1))[1])}catch{}return m.levels[T]===void 0&&(T=void 0),T}}function F(){if(!(typeof window===n||!S)){try{window.localStorage.removeItem(S)}catch{}try{window.document.cookie=encodeURIComponent(S)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function P(T){var O=T;if(typeof O=="string"&&m.levels[O.toUpperCase()]!==void 0&&(O=m.levels[O.toUpperCase()]),typeof O=="number"&&O>=0&&O<=m.levels.SILENT)return O;throw new TypeError("log.setLevel() called with invalid level: "+T)}m.name=p,m.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},m.methodFactory=v||d,m.getLevel=function(){return C??B??w},m.setLevel=function(T,O){return C=P(T),O!==!1&&k(C),A.call(m)},m.setDefaultLevel=function(T){B=P(T),_()||m.setLevel(T,!1)},m.resetLevel=function(){C=null,F(),A.call(m)},m.enableAll=function(T){m.setLevel(m.levels.TRACE,T)},m.disableAll=function(T){m.setLevel(m.levels.SILENT,T)},m.rebuild=function(){if(o!==m&&(w=P(o.getLevel())),A.call(m),o===m)for(var T in a)a[T].rebuild()},w=P(o?o.getLevel():"WARN");var U=_();U!=null&&(C=P(U)),A.call(m)}o=new f,o.getLogger=function(p){if(typeof p!="symbol"&&typeof p!="string"||p==="")throw new TypeError("You must supply a name when creating a logger.");var v=a[p];return v||(v=a[p]=new f(p,o.methodFactory)),v};var h=typeof window!==n?window.log:void 0;return o.noConflict=function(){return typeof window!==n&&window.log===o&&(window.log=h),o},o.getLoggers=function(){return a},o.default=o,o})}(ET)),ET.exports}var IOe=POe();const FOe=Nee(IOe);var TT=function(e,t){return TT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},TT(e,t)};function SA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");TT(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function OOe(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(A){try{l(r.next(A))}catch(u){o(u)}}function c(A){try{l(r.throw(A))}catch(u){o(u)}}function l(A){A.done?a(A.value):i(A.value).then(s,c)}l((r=r.apply(e,[])).next())})}function Mee(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(A){return c([l,A])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){n.label=l[1];break}if(l[0]===6&&n.label<a[1]){n.label=a[1],a=l;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(l);break}a[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(A){l=[6,A],i=0}finally{r=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Xp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jp(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function Ov(e,t,n){if(arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function bp(e){return this instanceof bp?(this.v=e,this):new bp(e)}function LOe(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(h){return Promise.resolve(h).then(f,u)}}function s(f,h){r[f]&&(i[f]=function(p){return new Promise(function(v,m){a.push([f,p,v,m])>1||c(f,p)})},h&&(i[f]=h(i[f])))}function c(f,h){try{l(r[f](h))}catch(p){d(a[0][3],p)}}function l(f){f.value instanceof bp?Promise.resolve(f.value.v).then(A,u):d(a[0][2],f)}function A(f){c("next",f)}function u(f){c("throw",f)}function d(f,h){f(h),a.shift(),a.length&&c(a[0][0],a[0][1])}}function UOe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Xp=="function"?Xp(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(s,c){o=e[a](o),i(s,c,o.done,o.value)})}}function i(a,o,s,c){Promise.resolve(c).then(function(l){a({value:l,done:s})},o)}}function On(e){return typeof e=="function"}function l6(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Wx=l6(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function x5(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var m1=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,a;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=Xp(o),c=s.next();!c.done;c=s.next()){var l=c.value;l.remove(this)}}catch(p){t={error:p}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}else o.remove(this);var A=this.initialTeardown;if(On(A))try{A()}catch(p){a=p instanceof Wx?p.errors:[p]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var d=Xp(u),f=d.next();!f.done;f=d.next()){var h=f.value;try{t9(h)}catch(p){a=a??[],p instanceof Wx?a=Ov(Ov([],Jp(a)),Jp(p.errors)):a.push(p)}}}catch(p){r={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(a)throw new Wx(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)t9(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&x5(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&x5(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Ree=m1.EMPTY;function Dee(e){return e instanceof m1||e&&"closed"in e&&On(e.remove)&&On(e.add)&&On(e.unsubscribe)}function t9(e){On(e)?e():e.unsubscribe()}var NOe={Promise:void 0},MOe={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Ov([e,t],Jp(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function Qee(e){MOe.setTimeout(function(){throw e})}function k5(){}function Cb(e){e()}var A6=function(e){SA(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Dee(n)&&n.add(r)):r.destination=QOe,r}return t.create=function(n,r,i){return new _T(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(m1),ROe=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){x2(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){x2(r)}else x2(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){x2(n)}},e}(),_T=function(e){SA(t,e);function t(n,r,i){var a=e.call(this)||this,o;return On(n)||!n?o={next:n??void 0,error:r??void 0,complete:i??void 0}:o=n,a.destination=new ROe(o),a}return t}(A6);function x2(e){Qee(e)}function DOe(e){throw e}var QOe={closed:!0,next:k5,error:DOe,complete:k5},u6=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function d6(e){return e}function jOe(e){return e.length===0?d6:e.length===1?e[0]:function(t){return e.reduce(function(n,r){return r(n)},t)}}var oi=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,a=$Oe(t)?t:new _T(t,n,r);return Cb(function(){var o=i,s=o.operator,c=o.source;a.add(s?s.call(a,c):c?i._subscribe(a):i._trySubscribe(a))}),a},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=n9(n),new n(function(i,a){var o=new _T({next:function(s){try{t(s)}catch(c){a(c),o.unsubscribe()}},error:a,complete:i});r.subscribe(o)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[u6]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return jOe(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=n9(t),new t(function(r,i){var a;n.subscribe(function(o){return a=o},function(o){return i(o)},function(){return r(a)})})},e.create=function(t){return new e(t)},e}();function n9(e){var t;return(t=e??NOe.Promise)!==null&&t!==void 0?t:Promise}function HOe(e){return e&&On(e.next)&&On(e.error)&&On(e.complete)}function $Oe(e){return e&&e instanceof A6||HOe(e)&&Dee(e)}function KOe(e){return On(e==null?void 0:e.lift)}function ys(e){return function(t){if(KOe(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function tc(e,t,n,r,i){return new VOe(e,t,n,r,i)}var VOe=function(e){SA(t,e);function t(n,r,i,a,o,s){var c=e.call(this,n)||this;return c.onFinalize=o,c.shouldUnsubscribe=s,c._next=r?function(l){try{r(l)}catch(A){n.error(A)}}:e.prototype._next,c._error=a?function(l){try{a(l)}catch(A){n.error(A)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=i?function(){try{i()}catch(l){n.error(l)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(A6),zOe=l6(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Nf=function(e){SA(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new r9(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new zOe},t.prototype.next=function(n){var r=this;Cb(function(){var i,a;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Xp(r.currentObservers),s=o.next();!s.done;s=o.next()){var c=s.value;c.next(n)}}catch(l){i={error:l}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;Cb(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;Cb(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,a=i.hasError,o=i.isStopped,s=i.observers;return a||o?Ree:(this.currentObservers=null,s.push(n),new m1(function(){r.currentObservers=null,x5(s,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,a=r.thrownError,o=r.isStopped;i?n.error(a):o&&n.complete()},t.prototype.asObservable=function(){var n=new oi;return n.source=this,n},t.create=function(n,r){return new r9(n,r)},t}(oi),r9=function(e){SA(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:Ree},t}(Nf),jee=function(e){SA(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,a=n._value;if(r)throw i;return this._throwIfClosed(),a},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Nf),WOe={now:function(){return Date.now()}},GOe=function(e){SA(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(m1),i9={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,Ov([e,t],Jp(n)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},qOe=function(e){SA(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var a=this.id,o=this.scheduler;return a!=null&&(this.id=this.recycleAsyncId(o,a,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,r),this},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i9.setInterval(n.flush.bind(n,this),i)},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&i9.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var i=!1,a;try{this.work(n)}catch(o){i=!0,a=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),a},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,a=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,x5(a,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(GOe),a9=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=WOe.now,e}(),YOe=function(e){SA(t,e);function t(n,r){r===void 0&&(r=a9.now);var i=e.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},t}(a9),XOe=new YOe(qOe);function JOe(e){return e&&On(e.schedule)}function ZOe(e){return e[e.length-1]}function f6(e){return JOe(ZOe(e))?e.pop():void 0}var h6=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Hee(e){return On(e==null?void 0:e.then)}function $ee(e){return On(e[u6])}function Kee(e){return Symbol.asyncIterator&&On(e==null?void 0:e[Symbol.asyncIterator])}function Vee(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function eLe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var zee=eLe();function Wee(e){return On(e==null?void 0:e[zee])}function Gee(e){return LOe(this,arguments,function(){var t,n,r,i;return Mee(this,function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,bp(t.read())];case 3:return n=a.sent(),r=n.value,i=n.done,i?[4,bp(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,bp(r)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function qee(e){return On(e==null?void 0:e.getReader)}function xA(e){if(e instanceof oi)return e;if(e!=null){if($ee(e))return tLe(e);if(h6(e))return nLe(e);if(Hee(e))return rLe(e);if(Kee(e))return Yee(e);if(Wee(e))return iLe(e);if(qee(e))return aLe(e)}throw Vee(e)}function tLe(e){return new oi(function(t){var n=e[u6]();if(On(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function nLe(e){return new oi(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function rLe(e){return new oi(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Qee)})}function iLe(e){return new oi(function(t){var n,r;try{for(var i=Xp(e),a=i.next();!a.done;a=i.next()){var o=a.value;if(t.next(o),t.closed)return}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function Yee(e){return new oi(function(t){oLe(e,t).catch(function(n){return t.error(n)})})}function aLe(e){return Yee(Gee(e))}function oLe(e,t){var n,r,i,a;return OOe(this,void 0,void 0,function(){var o,s;return Mee(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=UOe(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(o=r.value,t.next(o),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),i={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Nu(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var a=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(a),!i)return a}function Xee(e,t){return t===void 0&&(t=0),ys(function(n,r){n.subscribe(tc(r,function(i){return Nu(r,e,function(){return r.next(i)},t)},function(){return Nu(r,e,function(){return r.complete()},t)},function(i){return Nu(r,e,function(){return r.error(i)},t)}))})}function Jee(e,t){return t===void 0&&(t=0),ys(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function sLe(e,t){return xA(e).pipe(Jee(t),Xee(t))}function cLe(e,t){return xA(e).pipe(Jee(t),Xee(t))}function lLe(e,t){return new oi(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function ALe(e,t){return new oi(function(n){var r;return Nu(n,t,function(){r=e[zee](),Nu(n,t,function(){var i,a,o;try{i=r.next(),a=i.value,o=i.done}catch(s){n.error(s);return}o?n.complete():n.next(a)},0,!0)}),function(){return On(r==null?void 0:r.return)&&r.return()}})}function Zee(e,t){if(!e)throw new Error("Iterable cannot be null");return new oi(function(n){Nu(n,t,function(){var r=e[Symbol.asyncIterator]();Nu(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function uLe(e,t){return Zee(Gee(e),t)}function dLe(e,t){if(e!=null){if($ee(e))return sLe(e,t);if(h6(e))return lLe(e,t);if(Hee(e))return cLe(e,t);if(Kee(e))return Zee(e,t);if(Wee(e))return ALe(e,t);if(qee(e))return uLe(e,t)}throw Vee(e)}function F0(e,t){return t?dLe(e,t):xA(e)}function PT(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=f6(e);return F0(e,n)}function fLe(e){return e instanceof Date&&!isNaN(e)}var hLe=l6(function(e){return function(t){t===void 0&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function pLe(e,t){var n=fLe(e)?{first:e}:typeof e=="number"?{each:e}:e,r=n.first,i=n.each,a=n.with,o=a===void 0?gLe:a,s=n.scheduler,c=s===void 0?XOe:s,l=n.meta,A=l===void 0?null:l;if(r==null&&i==null)throw new TypeError("No timeout provided.");return ys(function(u,d){var f,h,p=null,v=0,m=function(w){h=Nu(d,c,function(){try{f.unsubscribe(),xA(o({meta:A,lastValue:p,seen:v})).subscribe(d)}catch(B){d.error(B)}},w)};f=u.subscribe(tc(d,function(w){h==null||h.unsubscribe(),v++,d.next(p=w),i>0&&m(i)},void 0,void 0,function(){h!=null&&h.closed||h==null||h.unsubscribe(),p=null})),!v&&m(r!=null?typeof r=="number"?r:+r-c.now():i)})}function gLe(e){throw new hLe(e)}function Or(e,t){return ys(function(n,r){var i=0;n.subscribe(tc(r,function(a){r.next(e.call(t,a,i++))}))})}var mLe=Array.isArray;function vLe(e,t){return mLe(t)?e.apply(void 0,Ov([],Jp(t))):e(t)}function yLe(e){return Or(function(t){return vLe(e,t)})}function bLe(e,t,n,r,i,a,o,s){var c=[],l=0,A=0,u=!1,d=function(){u&&!c.length&&!l&&t.complete()},f=function(p){return l<r?h(p):c.push(p)},h=function(p){l++;var v=!1;xA(n(p,A++)).subscribe(tc(t,function(m){t.next(m)},function(){v=!0},void 0,function(){if(v)try{l--;for(var m=function(){var w=c.shift();o||h(w)};c.length&&l<r;)m();d()}catch(w){t.error(w)}}))};return e.subscribe(tc(t,f,function(){u=!0,d()})),function(){}}function Lv(e,t,n){return n===void 0&&(n=1/0),On(t)?Lv(function(r,i){return Or(function(a,o){return t(r,a,i,o)})(xA(e(r,i)))},n):(typeof t=="number"&&(n=t),ys(function(r,i){return bLe(r,i,e,n)}))}function wLe(e){return Lv(d6,e)}function CLe(){return wLe(1)}function E5(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return CLe()(F0(e,f6(e)))}var BLe=["addListener","removeListener"],SLe=["addEventListener","removeEventListener"],xLe=["on","off"];function IT(e,t,n,r){if(On(n)&&(r=n,n=void 0),r)return IT(e,t,n).pipe(yLe(r));var i=Jp(TLe(e)?SLe.map(function(s){return function(c){return e[s](t,c,n)}}):kLe(e)?BLe.map(o9(e,t)):ELe(e)?xLe.map(o9(e,t)):[],2),a=i[0],o=i[1];if(!a&&h6(e))return Lv(function(s){return IT(s,t,n)})(xA(e));if(!a)throw new TypeError("Invalid event target");return new oi(function(s){var c=function(){for(var l=[],A=0;A<arguments.length;A++)l[A]=arguments[A];return s.next(1<l.length?l:l[0])};return a(c),function(){return o(c)}})}function o9(e,t){return function(n){return function(r){return e[n](t,r)}}}function kLe(e){return On(e.addListener)&&On(e.removeListener)}function ELe(e){return On(e.on)&&On(e.off)}function TLe(e){return On(e.addEventListener)&&On(e.removeEventListener)}function QB(e,t){return ys(function(n,r){var i=0;n.subscribe(tc(r,function(a){return e.call(t,a,i++)&&r.next(a)}))})}function _Le(e,t,n,r,i){return function(a,o){var s=n,c=t,l=0;a.subscribe(tc(o,function(A){var u=l++;c=s?e(c,A,u):(s=!0,A),o.next(c)},i))}}function PLe(e,t){return t===void 0&&(t=d6),e=e??ILe,ys(function(n,r){var i,a=!0;n.subscribe(tc(r,function(o){var s=t(o);(a||!e(i,s))&&(a=!1,i=s,r.next(o))}))})}function ILe(e,t){return e===t}function FLe(e){return ys(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}function Gx(e,t){return ys(_Le(e,t,arguments.length>=2,!0))}function OLe(e){return ys(function(t,n){var r=!1,i=tc(n,function(){i==null||i.unsubscribe(),r=!0},k5);xA(e).subscribe(i),t.subscribe(tc(n,function(a){return r&&n.next(a)}))})}function lc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=f6(e);return ys(function(r,i){(n?E5(e,r,n):E5(e,r)).subscribe(i)})}function s9(e){return ys(function(t,n){xA(e).subscribe(tc(n,function(){return n.complete()},k5)),!n.closed&&t.subscribe(n)})}var LLe=Object.defineProperty,ULe=Object.defineProperties,NLe=Object.getOwnPropertyDescriptors,c9=Object.getOwnPropertySymbols,MLe=Object.prototype.hasOwnProperty,RLe=Object.prototype.propertyIsEnumerable,l9=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),A9=(e,t,n)=>t in e?LLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lu=(e,t)=>{for(var n in t||(t={}))MLe.call(t,n)&&A9(e,n,t[n]);if(c9)for(var n of c9(t))RLe.call(t,n)&&A9(e,n,t[n]);return e},Qm=(e,t)=>ULe(e,NLe(t)),Bo=(e,t,n)=>new Promise((r,i)=>{var a=c=>{try{s(n.next(c))}catch(l){i(l)}},o=c=>{try{s(n.throw(c))}catch(l){i(l)}},s=c=>c.done?r(c.value):Promise.resolve(c.value).then(a,o);s((n=n.apply(e,t)).next())}),DLe=(e,t,n)=>(t=e[l9("asyncIterator")])?t.call(e):(e=e[l9("iterator")](),t={},n=(r,i)=>(i=e[r])&&(t[r]=a=>new Promise((o,s,c)=>(a=i.call(e,a),c=a.done,Promise.resolve(a.value).then(l=>o({value:l,done:c}),s)))),n("next"),n("return"),t),ete="lk";function ii(e){return typeof e>"u"?!1:QLe(e)||jLe(e)}function QLe(e){var t;return e?e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&e.hasOwnProperty("track")&&typeof((t=e.publication)==null?void 0:t.track)<"u":!1}function jLe(e){return e?e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&e.hasOwnProperty("publication")&&typeof e.publication<"u":!1}function Uv(e){return e?e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&typeof e.publication>"u":!1}function wi(e){if(typeof e=="string"||typeof e=="number")return`${e}`;if(Uv(e))return`${e.participant.identity}_${e.source}_placeholder`;if(ii(e))return`${e.participant.identity}_${e.publication.source}_${e.publication.trackSid}`;throw new Error(`Can't generate a id for the given track reference: ${e}`)}function HLe(e,t){return e===void 0||t===void 0?!1:ii(e)&&ii(t)?e.publication.trackSid===t.publication.trackSid:wi(e)===wi(t)}function tte(e,t){return typeof t>"u"?!1:ii(e)?t.some(n=>n.participant.identity===e.participant.identity&&ii(n)&&n.publication.trackSid===e.publication.trackSid):Uv(e)?t.some(n=>n.participant.identity===e.participant.identity&&Uv(n)&&n.source===e.source):!1}function $Le(e,t){return Uv(e)&&ii(t)&&t.participant.identity===e.participant.identity&&t.source===e.source}function KLe(){const e=document.createElement("p");e.style.width="100%",e.style.height="200px";const t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let r=e.offsetWidth;return n===r&&(r=t.clientWidth),document.body.removeChild(t),n-r}function VLe(){return typeof document<"u"}function zLe(e,t,n){return SOe(e,t,()=>Bo(this,null,function*(){const{x:r,y:i}=yield TOe(e,t,{placement:"top",middleware:[xOe(6),EOe(),kOe({padding:5})]});n==null||n(r,i)}))}function WLe(e,t){return!e.contains(t.target)}var GLe=[we.ConnectionStateChanged,we.RoomMetadataChanged,we.ActiveSpeakersChanged,we.ConnectionQualityChanged,we.ParticipantConnected,we.ParticipantDisconnected,we.ParticipantPermissionsChanged,we.ParticipantMetadataChanged,we.ParticipantNameChanged,we.ParticipantAttributesChanged,we.TrackMuted,we.TrackUnmuted,we.TrackPublished,we.TrackUnpublished,we.TrackStreamStateChanged,we.TrackSubscriptionFailed,we.TrackSubscriptionPermissionChanged,we.TrackSubscriptionStatusChanged],qLe=[...GLe,we.LocalTrackPublished,we.LocalTrackUnpublished];_e.TrackPublished,_e.TrackUnpublished,_e.TrackMuted,_e.TrackUnmuted,_e.TrackStreamStateChanged,_e.TrackSubscribed,_e.TrackUnsubscribed,_e.TrackSubscriptionPermissionChanged,_e.TrackSubscriptionFailed,_e.LocalTrackPublished,_e.LocalTrackUnpublished;var YLe=[_e.ConnectionQualityChanged,_e.IsSpeakingChanged,_e.ParticipantMetadataChanged,_e.ParticipantPermissionsChanged,_e.TrackMuted,_e.TrackUnmuted,_e.TrackPublished,_e.TrackUnpublished,_e.TrackStreamStateChanged,_e.TrackSubscriptionFailed,_e.TrackSubscriptionPermissionChanged,_e.TrackSubscriptionStatusChanged];[...YLe,_e.LocalTrackPublished,_e.LocalTrackUnpublished];var Lt=FOe.getLogger("lk-components-js");Lt.setDefaultLevel("WARN");var XLe=[{columns:1,rows:1},{columns:1,rows:2,orientation:"portrait"},{columns:2,rows:1,orientation:"landscape"},{columns:2,rows:2,minWidth:560},{columns:3,rows:3,minWidth:700},{columns:4,rows:4,minWidth:960},{columns:5,rows:5,minWidth:1100}];function nte(e,t,n,r){if(e.length<1)throw new Error("At least one grid layout definition must be provided.");const i=JLe(e);if(n<=0||r<=0)return i[0];let a=0;const o=n/r>1?"landscape":"portrait";let s=i.find((c,l,A)=>{a=l;const u=A.findIndex((d,f)=>{const h=!d.orientation||d.orientation===o,p=f>l,v=d.maxTiles===c.maxTiles;return p&&v&&h})!==-1;return c.maxTiles>=t&&!u});if(s===void 0)if(s=i[i.length-1],s)Lt.warn(`No layout found for: participantCount: ${t}, width/height: ${n}/${r} fallback to biggest available layout (${s}).`);else throw new Error("No layout or fallback layout found.");if((n<s.minWidth||r<s.minHeight)&&a>0){const c=i[a-1];s=nte(i.slice(0,a),c.maxTiles,n,r)}return s}function JLe(e){return[...e].map(t=>{var n,r;return{name:`${t.columns}x${t.rows}`,columns:t.columns,rows:t.rows,maxTiles:t.columns*t.rows,minWidth:(n=t.minWidth)!=null?n:0,minHeight:(r=t.minHeight)!=null?r:0,orientation:t.orientation}}).sort((t,n)=>t.maxTiles!==n.maxTiles?t.maxTiles-n.maxTiles:t.minWidth!==0||n.minWidth!==0?t.minWidth-n.minWidth:t.minHeight!==0||n.minHeight!==0?t.minHeight-n.minHeight:0)}function ZLe(){return typeof navigator<"u"&&navigator.mediaDevices&&!!navigator.mediaDevices.getDisplayMedia}var rte=(e=>(e.AgentState="lk.agent.state",e.PublishOnBehalf="lk.publish_on_behalf",e.TranscriptionFinal="lk.transcription_final",e.TranscriptionSegmentId="lk.segment_id",e.TranscribedTrackId="lk.transcribed_track_id",e))(rte||{}),ite=[],ate={showChat:!1,unreadMessages:0,showSettings:!1};function ote(e){return typeof e=="object"}function ste(e){return Array.isArray(e)&&e.filter(ote).length>0}function eUe(e,t){return t.audioLevel-e.audioLevel}function tUe(e,t){return e.isSpeaking===t.isSpeaking?0:e.isSpeaking?-1:1}function nUe(e,t){var n,r,i,a;return e.lastSpokeAt!==void 0||t.lastSpokeAt!==void 0?((r=(n=t.lastSpokeAt)==null?void 0:n.getTime())!=null?r:0)-((a=(i=e.lastSpokeAt)==null?void 0:i.getTime())!=null?a:0):0}function FT(e,t){var n,r,i,a;return((r=(n=e.joinedAt)==null?void 0:n.getTime())!=null?r:0)-((a=(i=t.joinedAt)==null?void 0:i.getTime())!=null?a:0)}function rUe(e,t){return ii(e)?ii(t)?0:-1:ii(t)?1:0}function iUe(e,t){const n=e.participant.isCameraEnabled,r=t.participant.isCameraEnabled;return n!==r?n?-1:1:0}function aUe(e){const t=[],n=[],r=[],i=[];e.forEach(s=>{s.participant.isLocal&&s.source===ve.Source.Camera?t.push(s):s.source===ve.Source.ScreenShare?n.push(s):s.source===ve.Source.Camera?r.push(s):i.push(s)});const a=oUe(n),o=sUe(r);return[...t,...a,...o,...i]}function oUe(e){const t=[],n=[];return e.forEach(r=>{r.participant.isLocal?t.push(r):n.push(r)}),t.sort((r,i)=>FT(r.participant,i.participant)),n.sort((r,i)=>FT(r.participant,i.participant)),[...n,...t]}function sUe(e){const t=[],n=[];return e.forEach(r=>{r.participant.isLocal?t.push(r):n.push(r)}),n.sort((r,i)=>r.participant.isSpeaking&&i.participant.isSpeaking?eUe(r.participant,i.participant):r.participant.isSpeaking!==i.participant.isSpeaking?tUe(r.participant,i.participant):r.participant.lastSpokeAt!==i.participant.lastSpokeAt?nUe(r.participant,i.participant):ii(r)!==ii(i)?rUe(r,i):r.participant.isCameraEnabled!==i.participant.isCameraEnabled?iUe(r,i):FT(r.participant,i.participant)),[...t,...n]}function cUe(e,t){return e.reduce((n,r,i)=>i%t===0?[...n,[r]]:[...n.slice(0,-1),[...n.slice(-1)[0],r]],[])}function u9(e,t){const n=Math.max(e.length,t.length);return new Array(n).fill([]).map((r,i)=>[e[i],t[i]])}function T5(e,t,n){return e.filter(r=>!t.map(i=>n(i)).includes(n(r)))}function OT(e){return e.map(t=>typeof t=="string"||typeof t=="number"?`${t}`:wi(t))}function lUe(e,t){return{dropped:T5(e,t,wi),added:T5(t,e,wi)}}function AUe(e){return e.added.length!==0||e.dropped.length!==0}function LT(e,t){const n=t.findIndex(r=>wi(r)===wi(e));if(n===-1)throw new Error(`Element not part of the array: ${wi(e)} not in ${OT(t)}`);return n}function uUe(e,t,n){const r=LT(e,n),i=LT(t,n);return n.splice(r,1,t),n.splice(i,1,e),n}function dUe(e,t){const n=LT(e,t);return t.splice(n,1),t}function fUe(e,t){return[...t,e]}function qx(e,t){return cUe(e,t)}function hUe(e,t,n){let r=pUe(e,t);if(r.length<t.length){const o=T5(t,r,wi);r=[...r,...o]}const i=qx(r,n),a=qx(t,n);if(u9(i,a).forEach(([o,s],c)=>{if(o&&s){const l=qx(r,n)[c],A=lUe(l,s);AUe(A)&&(Lt.debug(`Detected visual changes on page: ${c}, current: ${OT(o)}, next: ${OT(s)}`,{changes:A}),A.added.length===A.dropped.length&&u9(A.added,A.dropped).forEach(([u,d])=>{if(u&&d)r=uUe(u,d,r);else throw new Error(`For a swap action we need a addition and a removal one is missing: ${u}, ${d}`)}),A.added.length===0&&A.dropped.length>0&&A.dropped.forEach(u=>{r=dUe(u,r)}),A.added.length>0&&A.dropped.length===0&&A.added.forEach(u=>{r=fUe(u,r)}))}}),r.length>t.length){const o=T5(r,t,wi);r=r.filter(s=>!o.map(wi).includes(wi(s)))}return r}function pUe(e,t){return e.map(n=>t.find(i=>wi(n)===wi(i)||typeof n!="number"&&Uv(n)&&ii(i)&&$Le(n,i))??n)}function Ka(e){return`${ete}-${e}`}function gUe(e){const t=UT(e),n=cte(e.participant).pipe(Or(()=>UT(e)),lc(t));return{className:Ka(e.source===ve.Source.Camera||e.source===ve.Source.ScreenShare?"participant-media-video":"participant-media-audio"),trackObserver:n}}function UT(e){if(ii(e))return e.publication;{const{source:t,name:n,participant:r}=e;if(t&&n)return r.getTrackPublications().find(i=>i.source===t&&i.trackName===n);if(n)return r.getTrackPublicationByName(n);if(t)return r.getTrackPublication(t);throw new Error("At least one of source and name needs to be defined")}}function p6(e,...t){return new oi(n=>{const r=()=>{n.next(e)};return t.forEach(i=>{e.on(i,r)}),()=>{t.forEach(i=>{e.off(i,r)})}}).pipe(lc(e))}function jB(e,t){return new oi(n=>{const r=(...i)=>{n.next(i)};return e.on(t,r),()=>{e.off(t,r)}})}function mUe(e){return jB(e,we.ConnectionStateChanged).pipe(Or(([t])=>t),lc(e.state))}function vUe(e,t,n=!0){const r=new oi(a=>{hA.getLocalDevices(e,n).then(o=>{a.next(o),a.complete()}).catch(o=>{t==null||t(o),a.next([]),a.complete()})}),i=new oi(a=>{var o;const s=()=>Bo(this,null,function*(){try{const c=yield hA.getLocalDevices(e,n);a.next(c)}catch(c){t==null||t(c)}});if(typeof window<"u"){if(!window.isSecureContext)throw new Error("Accessing media devices is available only in secure contexts (HTTPS and localhost), in some or all supporting browsers. See: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/mediaDevices");(o=navigator==null?void 0:navigator.mediaDevices)==null||o.addEventListener("devicechange",s)}return()=>{var c;(c=navigator==null?void 0:navigator.mediaDevices)==null||c.removeEventListener("devicechange",s)}});return E5(r,i)}function yUe(e){return jB(e,we.DataReceived)}function bUe(e){return p6(e,we.AudioPlaybackStatusChanged).pipe(Or(t=>({canPlayAudio:t.canPlaybackAudio})))}function wUe(e){return p6(e,we.VideoPlaybackStatusChanged).pipe(Or(t=>({canPlayVideo:t.canPlaybackVideo})))}function CUe(e,t){return jB(e,we.ActiveDeviceChanged).pipe(QB(([n])=>n===t),Or(([n,r])=>(Lt.debug("activeDeviceObservable | RoomEvent.ActiveDeviceChanged",{kind:n,deviceId:r}),r)))}function BUe(e,t){return jB(e,we.ParticipantEncryptionStatusChanged).pipe(QB(([,n])=>(t==null?void 0:t.identity)===(n==null?void 0:n.identity)||!n&&(t==null?void 0:t.identity)===e.localParticipant.identity),Or(([n])=>n),lc(t!=null&&t.isLocal?t.isE2EEEnabled:!!(t!=null&&t.isEncrypted)))}function g6(e,...t){return new oi(n=>{const r=()=>{n.next(e)};return t.forEach(i=>{e.on(i,r)}),()=>{t.forEach(i=>{e.off(i,r)})}}).pipe(lc(e))}function cte(e){return g6(e,_e.TrackMuted,_e.TrackUnmuted,_e.ParticipantPermissionsChanged,_e.TrackPublished,_e.TrackUnpublished,_e.LocalTrackPublished,_e.LocalTrackUnpublished,_e.MediaDevicesError,_e.TrackSubscriptionStatusChanged).pipe(Or(t=>{const{isMicrophoneEnabled:n,isCameraEnabled:r,isScreenShareEnabled:i}=t,a=t.getTrackPublication(ve.Source.Microphone),o=t.getTrackPublication(ve.Source.Camera);return{isCameraEnabled:r,isMicrophoneEnabled:n,isScreenShareEnabled:i,cameraTrack:o,microphoneTrack:a,participant:t}}))}function SUe(e){return e?g6(e,_e.ParticipantMetadataChanged,_e.ParticipantNameChanged).pipe(Or(({name:t,identity:n,metadata:r})=>({name:t,identity:n,metadata:r})),lc({name:e.name,identity:e.identity,metadata:e.metadata})):void 0}function xUe(e){return m6(e,_e.ConnectionQualityChanged).pipe(Or(([t])=>t),lc(e.connectionQuality))}function m6(e,t){return new oi(n=>{const r=(...i)=>{n.next(i)};return e.on(t,r),()=>{e.off(t,r)}})}function lte(e){var t,n,r,i;return g6(e.participant,_e.TrackMuted,_e.TrackUnmuted,_e.TrackSubscribed,_e.TrackUnsubscribed,_e.LocalTrackPublished,_e.LocalTrackUnpublished).pipe(Or(a=>{var o,s;const c=(o=e.publication)!=null?o:a.getTrackPublication(e.source);return(s=c==null?void 0:c.isMuted)!=null?s:!0}),lc((i=(r=(t=e.publication)==null?void 0:t.isMuted)!=null?r:(n=e.participant.getTrackPublication(e.source))==null?void 0:n.isMuted)!=null?i:!0))}function kUe(e){return m6(e,_e.IsSpeakingChanged).pipe(Or(([t])=>t))}function EUe(e){return m6(e,_e.ParticipantPermissionsChanged).pipe(Or(()=>e.permissions),lc(e.permissions))}function TUe(e,t,n,r,i){const{localParticipant:a}=t,o=(A,u)=>{let d=!1;switch(A){case ve.Source.Camera:d=u.isCameraEnabled;break;case ve.Source.Microphone:d=u.isMicrophoneEnabled;break;case ve.Source.ScreenShare:d=u.isScreenShareEnabled;break}return d},s=cte(a).pipe(Or(A=>o(e,A.participant)),lc(o(e,a))),c=new Nf,l=(A,u)=>Bo(this,null,function*(){try{switch(u??(u=n),c.next(!0),e){case ve.Source.Camera:return yield a.setCameraEnabled(A??!a.isCameraEnabled,u,r),a.isCameraEnabled;case ve.Source.Microphone:return yield a.setMicrophoneEnabled(A??!a.isMicrophoneEnabled,u,r),a.isMicrophoneEnabled;case ve.Source.ScreenShare:return yield a.setScreenShareEnabled(A??!a.isScreenShareEnabled,u,r),a.isScreenShareEnabled;default:throw new TypeError("Tried to toggle unsupported source")}}catch(d){if(i&&d instanceof Error){i==null||i(d);return}else throw d}finally{c.next(!1)}});return{className:Ka("button"),toggle:l,enabledObserver:s,pendingObserver:c.asObservable()}}function _Ue(){let e=!1;const t=new Nf,n=new Nf,r=i=>Bo(this,null,function*(){n.next(!0),e=i??!e,t.next(e),n.next(!1)});return{className:Ka("button"),toggle:r,enabledObserver:t.asObservable(),pendingObserver:n.asObservable()}}function PUe(e,t,n){const r=new jee(void 0),i=CUe(t,e),a=(o,...s)=>Bo(this,[o,...s],function*(c,l={}){var A,u,d;if(t){const f=Ca();if(e==="audiooutput"&&((f==null?void 0:f.name)==="Safari"||(f==null?void 0:f.os)==="iOS")){Lt.warn("Switching audio output device is not supported on Safari and iOS.");return}Lt.debug(`Switching active device of kind "${e}" with id ${c}.`),yield t.switchActiveDevice(e,c,l.exact);const h=(A=t.getActiveDevice(e))!=null?A:c;h!==c&&c!=="default"&&Lt.info(`We tried to select the device with id (${c}), but the browser decided to select the device with id (${h}) instead.`);let p;e==="audioinput"?p=(u=t.localParticipant.getTrackPublication(ve.Source.Microphone))==null?void 0:u.track:e==="videoinput"&&(p=(d=t.localParticipant.getTrackPublication(ve.Source.Camera))==null?void 0:d.track);const v=c==="default"&&!p||c==="default"&&(p==null?void 0:p.mediaStreamTrack.label.startsWith("Default"));r.next(v?c:h)}});return{className:Ka("media-device-select"),activeDeviceObservable:i,setActiveMediaDevice:a}}function IUe(e){const t=n=>{e.disconnect(n)};return{className:Ka("disconnect-button"),disconnect:t}}function FUe(e){const t=Ka("connection-quality"),n=xUe(e);return{className:t,connectionQualityObserver:n}}function OUe(e){let t="track-muted-indicator-camera";switch(e.source){case ve.Source.Camera:t="track-muted-indicator-camera";break;case ve.Source.Microphone:t="track-muted-indicator-microphone";break}const n=Ka(t),r=lte(e);return{className:n,mediaMutedObserver:r}}function LUe(e){return{className:"lk-participant-name",infoObserver:SUe(e)}}function UUe(){return{className:Ka("participant-tile")}}var NUe={CHAT:"lk.chat"},MUe={CHAT:"lk-chat-topic"};function Ate(e,t){return Bo(this,arguments,function*(n,r,i={}){const{reliable:a,destinationIdentities:o,topic:s}=i;yield n.publishData(r,{destinationIdentities:o,topic:s,reliable:a})})}function RUe(e,t,n){const r=Array.isArray(t)?t:[t],i=yUe(e).pipe(QB(([,,,s])=>t===void 0||s!==void 0&&r.includes(s)),Or(([s,c,,l])=>({payload:s,topic:l,from:c})));let a;const o=new oi(s=>{a=s});return{messageObservable:i,isSendingObservable:o,send:(s,...c)=>Bo(this,[s,...c],function*(l,A={}){a.next(!0);try{yield Ate(e.localParticipant,l,lu({topic:r[0]},A))}finally{a.next(!1)}})}}var DUe=class{constructor(e,t){this._isResolved=!1,this.onFinally=t,this.promise=new Promise((n,r)=>Bo(this,null,function*(){this.resolve=n,this.reject=r,e&&(yield e(n,r))})).finally(()=>{var n;this._isResolved=!0,(n=this.onFinally)==null||n.call(this)})}get isResolved(){return this._isResolved}},k2=new WeakMap,E2=new Map;function QUe(e){return e.ignoreLegacy==!0}var jUe=e=>JSON.parse(new TextDecoder().decode(e)),HUe=e=>new TextEncoder().encode(JSON.stringify(e));function $Ue(e,t){var n,r,i,a,o,s;const c=()=>{var S,k,_;return((S=e.serverInfo)==null?void 0:S.edition)===1||!!((k=e.serverInfo)!=null&&k.version)&&Js((_=e.serverInfo)==null?void 0:_.version,"1.8.2")>0},l=new Nf,A=(n=t==null?void 0:t.channelTopic)!=null?n:NUe.CHAT,u=(r=t==null?void 0:t.channelTopic)!=null?r:MUe.CHAT;let d=!1;k2.has(e)||(d=!0);const f=(i=k2.get(e))!=null?i:new Map,h=(a=f.get(A))!=null?a:new Nf;f.set(A,h),k2.set(e,f);const p=(o=t==null?void 0:t.messageDecoder)!=null?o:jUe;if(d){e.registerTextStreamHandler(A,(k,_)=>Bo(this,null,function*(){const{id:F,timestamp:P,attributes:U,attachedStreamIds:T}=k.info,O=new Map((T??[]).map(H=>[H,new DUe]));E2.set(F,O),F0(k).pipe(Gx((H,$)=>H+$),Lv(H=>O.size===0?PT({chunk:H,attachedFiles:[]}):F0(O.values()).pipe(Lv($=>F0($.promise)),Gx(($,Z)=>[...$,new File(Z.buffer,Z.fileName)],[]),Or($=>({chunk:H,attachedFiles:$})))),Or(({chunk:H,attachedFiles:$})=>({id:F,timestamp:P,message:H,from:e.getParticipantByIdentity(_.identity),type:"chatMessage",attributes:U,attachedFiles:$})),FLe(()=>E2.delete(F))).subscribe({next:H=>h.next(H)})})),e.registerByteStreamHandler(A,k=>Bo(this,null,function*(){var _,F;const{id:P}=k.info,U=Array.from(E2).find(([,W])=>W.has(P));if(!U)return;const T=U[0],O=[];try{for(var H=DLe(k),$,Z,ae;$=!(Z=yield H.next()).done;$=!1){const W=Z.value;O.push(W)}}catch(W){ae=[W]}finally{try{$&&(Z=H.return)&&(yield Z.call(H))}finally{if(ae)throw ae[0]}}const ie=(_=E2.get(T))==null?void 0:_.get(P);ie&&((F=ie.resolve)==null||F.call(ie,{fileName:k.info.name,buffer:O}))}));const{messageObservable:S}=RUe(e,[u]);S.pipe(Or(k=>{const _=p(k.payload);return QUe(_)?void 0:Qm(lu({},_),{type:"chatMessage",from:k.from})}),QB(k=>!!k),s9(l)).subscribe(h)}const v=h.pipe(Gx((S,k)=>{if("id"in k&&S.find(_=>{var F,P;return((F=_.from)==null?void 0:F.identity)===((P=k.from)==null?void 0:P.identity)&&_.id===k.id})){const _=S.findIndex(F=>F.id===k.id);if(_>-1){const F=S[_];S[_]=Qm(lu({},k),{timestamp:F.timestamp,editTimestamp:k.timestamp})}return[...S]}return[...S,k]},[]),s9(l)),m=new jee(!1),w=(s=t==null?void 0:t.messageEncoder)!=null?s:HUe,B=(S,k)=>Bo(this,null,function*(){k||(k={}),k.topic!=null||(k.topic=A),m.next(!0);try{const _={id:(yield e.localParticipant.sendText(S,k)).id,timestamp:Date.now(),message:S},F=Qm(lu({},_),{attachedFiles:k.attachments}),P=Qm(lu({},F),{type:"chatMessage",from:e.localParticipant,attributes:k.attributes});h.next(P);const U=w(Qm(lu({},_),{ignoreLegacy:c()}));try{yield Ate(e.localParticipant,U,{reliable:!0,topic:u})}catch(T){Lt.info("could not send message in legacy chat format",T)}return P}finally{m.next(!1)}});function C(){l.next(),l.complete(),h.complete(),k2.delete(e),e.unregisterTextStreamHandler(A),e.unregisterByteStreamHandler(A)}return e.once(we.Disconnected,C),{messageObservable:v,isSendingObservable:m,send:B}}function KUe(){const e=t=>Bo(this,null,function*(){Lt.info("Start Audio for room: ",t),yield t.startAudio()});return{className:Ka("start-audio-button"),roomAudioPlaybackAllowedObservable:bUe,handleStartAudioPlayback:e}}function VUe(){const e=t=>Bo(this,null,function*(){Lt.info("Start Video for room: ",t),yield t.startVideo()});return{className:Ka("start-audio-button"),roomVideoPlaybackAllowedObservable:wUe,handleStartVideoPlayback:e}}function zUe(){return{className:[Ka("button"),Ka("chat-toggle")].join(" ")}}function WUe(){return{className:[Ka("button"),Ka("focus-toggle-button")].join(" ")}}function GUe(){return{className:"lk-room-container"}}function d9(e,t,n=!0){const r=[e.localParticipant,...Array.from(e.remoteParticipants.values())],i=[];return r.forEach(a=>{t.forEach(o=>{const s=Array.from(a.trackPublications.values()).filter(c=>c.source===o&&(!n||c.track)).map(c=>({participant:a,publication:c,source:c.source}));i.push(...s)})}),{trackReferences:i,participants:r}}function qUe(e,t,n){var r,i;const a=(r=n.additionalRoomEvents)!=null?r:qLe,o=(i=n.onlySubscribed)!=null?i:!0,s=Array.from(new Set([we.ParticipantConnected,we.ParticipantDisconnected,we.ConnectionStateChanged,we.LocalTrackPublished,we.LocalTrackUnpublished,we.TrackPublished,we.TrackUnpublished,we.TrackSubscriptionStatusChanged,...a]).values());return p6(e,...s).pipe(Or(c=>{const l=d9(c,t,o);return Lt.debug(`TrackReference[] was updated. (length ${l.trackReferences.length})`,l),l}),lc(d9(e,t,o)))}function YUe(e,t=1e3){if(e===null)return PT(!1);const n=IT(e,"mousemove",{passive:!0}).pipe(Or(()=>!0)),r=n.pipe(pLe({each:t,with:()=>E5(PT(!1),r.pipe(OLe(n)))}),PLe());return r}function XUe(e,t){if(typeof localStorage>"u"){Lt.error("Local storage is not available.");return}try{if(t){const n=Object.fromEntries(Object.entries(t).filter(([,r])=>r!==""));localStorage.setItem(e,JSON.stringify(n))}}catch(n){Lt.error(`Error setting item to local storage: ${n}`)}}function JUe(e){if(typeof localStorage>"u"){Lt.error("Local storage is not available.");return}try{const t=localStorage.getItem(e);if(!t){Lt.warn(`Item with key ${e} does not exist in local storage.`);return}return JSON.parse(t)}catch(t){Lt.error(`Error getting item from local storage: ${t}`);return}}function ZUe(e){return{load:()=>JUe(e),save:t=>XUe(e,t)}}var eNe=`${ete}-user-choices`,jm={videoEnabled:!0,audioEnabled:!0,videoDeviceId:"default",audioDeviceId:"default",username:""},{load:tNe,save:nNe}=ZUe(eNe);function rNe(e,t=!1){t!==!0&&nNe(e)}function iNe(e,t=!1){var n,r,i,a,o;const s={videoEnabled:(n=e==null?void 0:e.videoEnabled)!=null?n:jm.videoEnabled,audioEnabled:(r=e==null?void 0:e.audioEnabled)!=null?r:jm.audioEnabled,videoDeviceId:(i=e==null?void 0:e.videoDeviceId)!=null?i:jm.videoDeviceId,audioDeviceId:(a=e==null?void 0:e.audioDeviceId)!=null?a:jm.audioDeviceId,username:(o=e==null?void 0:e.username)!=null?o:jm.username};if(t)return s;{const c=tNe();return lu(lu({},s),c??{})}}function ute(e,t){if(t.msg==="show_chat")return{...e,showChat:!0,unreadMessages:0};if(t.msg==="hide_chat")return{...e,showChat:!1};if(t.msg==="toggle_chat"){const n={...e,showChat:!e.showChat};return n.showChat===!0&&(n.unreadMessages=0),n}else return t.msg==="unread_msg"?{...e,unreadMessages:t.count}:t.msg==="toggle_settings"?{...e,showSettings:!e.showSettings}:{...e}}function dte(e,t){return t.msg==="set_pin"?[t.trackReference]:t.msg==="clear_pin"?[]:{...e}}const HB=y.createContext(void 0);function fte(){const e=y.useContext(HB);if(!e)throw Error("Tried to access LayoutContext context outside a LayoutContextProvider provider.");return e}function aNe(e){const t=v1();if(e??(e=t),!e)throw Error("Tried to access LayoutContext context outside a LayoutContextProvider provider.");return e}function oNe(){const[e,t]=y.useReducer(dte,ite),[n,r]=y.useReducer(ute,ate);return{pin:{dispatch:t,state:e},widget:{dispatch:r,state:n}}}function sNe(e){const[t,n]=y.useReducer(dte,ite),[r,i]=y.useReducer(ute,ate);return e??{pin:{dispatch:n,state:t},widget:{dispatch:i,state:r}}}function v1(){return y.useContext(HB)}const v6=y.createContext(void 0);function $B(){return y.useContext(v6)}function _g(e){const t=$B(),n=e??t;if(!n)throw new Error("No TrackRef, make sure you are inside a TrackRefContext or pass the TrackRef explicitly");return n}const hte=y.createContext(void 0);function pte(){return y.useContext(hte)}function y1(e){const t=pte(),n=$B(),r=e??t??(n==null?void 0:n.participant);if(!r)throw new Error("No participant provided, make sure you are inside a participant context or pass the participant explicitly");return r}const y6=y.createContext(void 0);function b6(){const e=y.useContext(y6);if(!e)throw Error("tried to access room context outside of livekit room component");return e}function KB(){return y.useContext(y6)}function Pg(e){const t=KB(),n=e??t;if(!n)throw new Error("No room provided, make sure you are inside a Room context or pass the room explicitly");return n}y.createContext(void 0);const gte=y.createContext(void 0);function cNe(e){return y.useContext(gte)}var f9={};function mte(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=mte(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function vte(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=mte(e))&&(r&&(r+=" "),r+=t);return r}function lNe(...e){return(...t)=>{for(const n of e)if(typeof n=="function")try{n(...t)}catch(r){console.error(r)}}}function ol(...e){const t={...e[0]};for(let n=1;n<e.length;n++){const r=e[n];for(const i in r){const a=t[i],o=r[i];typeof a=="function"&&typeof o=="function"&&i[0]==="o"&&i[1]==="n"&&i.charCodeAt(2)>=65&&i.charCodeAt(2)<=90?t[i]=lNe(a,o):(i==="className"||i==="UNSAFE_className")&&typeof a=="string"&&typeof o=="string"?t[i]=vte(a,o):t[i]=o!==void 0?o:a}}return t}function ANe(e){return e!==void 0}function kA(...e){return ol(...e.filter(ANe))}function yte(e,t,n){return y.Children.map(e,r=>y.isValidElement(r)&&y.Children.only(e)?(r.props.className&&(t??(t={}),t.className=vte(r.props.className,t.className),t.style={...r.props.style,...t.style}),y.cloneElement(r,{...t,key:n})):r)}function uNe(e){var t,n;if(typeof window<"u"&&typeof process<"u"&&(((t=process==null?void 0:f9)==null?void 0:t.NODE_ENV)==="dev"||((n=process==null?void 0:f9)==null?void 0:n.NODE_ENV)==="development")){const r=document.querySelector(".lk-room-container");r&&!getComputedStyle(r).getPropertyValue("--lk-has-imported-styles")&&Lt.warn("It looks like you're not using the `@livekit/components-styles package`. To render the UI with the default styling, please import it in your layout or page.")}}function dNe(e,t){return e==="processor"&&t&&typeof t=="object"&&"name"in t?t.name:e==="e2ee"&&t?"e2ee-enabled":t}const fNe={connect:!0,audio:!1,video:!1};function hNe(e){const{token:t,serverUrl:n,options:r,room:i,connectOptions:a,connect:o,audio:s,video:c,screen:l,onConnected:A,onDisconnected:u,onError:d,onMediaDeviceFailure:f,onEncryptionError:h,simulateParticipants:p,...v}={...fNe,...e};r&&i&&Lt.warn("when using a manually created room, the options object will be ignored. set the desired options directly when creating the room instead.");const[m,w]=y.useState(),B=y.useRef(o);y.useEffect(()=>{w(i??new hA(r))},[i,JSON.stringify(r,dNe)]);const C=y.useMemo(()=>{const{className:S}=GUe();return ol(v,{className:S})},[v]);return y.useEffect(()=>{if(!m)return;const S=()=>{const U=m.localParticipant;Lt.debug("trying to publish local tracks"),Promise.all([U.setMicrophoneEnabled(!!s,typeof s!="boolean"?s:void 0),U.setCameraEnabled(!!c,typeof c!="boolean"?c:void 0),U.setScreenShareEnabled(!!l,typeof l!="boolean"?l:void 0)]).catch(T=>{Lt.warn(T),d==null||d(T)})},k=(U,T)=>{const O=Tv.getFailure(U);f==null||f(O,T)},_=U=>{h==null||h(U)},F=U=>{u==null||u(U)},P=()=>{A==null||A()};return m.on(we.SignalConnected,S).on(we.MediaDevicesError,k).on(we.EncryptionError,_).on(we.Disconnected,F).on(we.Connected,P),()=>{m.off(we.SignalConnected,S).off(we.MediaDevicesError,k).off(we.EncryptionError,_).off(we.Disconnected,F).off(we.Connected,P)}},[m,s,c,l,d,h,f,A,u]),y.useEffect(()=>{if(m){if(p){m.simulateParticipants({participants:{count:p},publish:{audio:!0,useRealTracks:!0}});return}if(o){if(B.current=!0,Lt.debug("connecting"),!t){Lt.debug("no token yet");return}if(!n){Lt.warn("no livekit url provided"),d==null||d(Error("no livekit url provided"));return}m.connect(n,t,a).catch(S=>{Lt.warn(S),B.current===!0&&(d==null||d(S))})}else Lt.debug("disconnecting because connect is false"),B.current=!1,m.disconnect()}},[o,t,JSON.stringify(a),m,d,n,p]),y.useEffect(()=>{if(m)return()=>{Lt.info("disconnecting on onmount"),m.disconnect()}},[m]),{room:m,htmlProps:C}}const pNe=y.forwardRef(function(e,t){const{room:n,htmlProps:r}=hNe(e);return y.createElement("div",{ref:t,...r},n&&y.createElement(y6.Provider,{value:n},y.createElement(gte.Provider,{value:e.featureFlags},e.children)))}),gNe=e=>{const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),t};function mNe(e,t){const n=yNe(),r=gNe(t);return y.useLayoutEffect(()=>{let i=!1;const a=e.current;if(!a)return;function o(s,c){i||r.current(s,c)}return n==null||n.subscribe(a,o),()=>{i=!0,n==null||n.unsubscribe(a,o)}},[e.current,n,r]),n==null?void 0:n.observer}function vNe(){let e=!1,t=[];const n=new Map;if(typeof window>"u")return;const r=new ResizeObserver((i,a)=>{t=t.concat(i),e||window.requestAnimationFrame(()=>{const o=new Set;for(let s=0;s<t.length;s++){if(o.has(t[s].target))continue;o.add(t[s].target);const c=n.get(t[s].target);c==null||c.forEach(l=>l(t[s],a))}t=[],e=!1}),e=!0});return{observer:r,subscribe(i,a){r.observe(i);const o=n.get(i)??[];o.push(a),n.set(i,o)},unsubscribe(i,a){const o=n.get(i)??[];if(o.length===1){r.unobserve(i),n.delete(i);return}const s=o.indexOf(a);s!==-1&&o.splice(s,1),n.set(i,o)}}}let h9;const yNe=()=>h9||(h9=vNe()),bte=e=>{const[t,n]=y.useState({width:0,height:0});y.useLayoutEffect(()=>{if(e.current){const{width:i,height:a}=e.current.getBoundingClientRect();n({width:i,height:a})}},[e.current]);const r=y.useCallback(i=>n(i.contentRect),[]);return mNe(e,r),t};function Va(e,t,n=!0){const[r,i]=y.useState(t);return y.useEffect(()=>{if(n&&i(t),typeof window>"u"||!e)return;const a=e.subscribe(i);return()=>a.unsubscribe()},[e,n]),r}function bNe(e){const t=a=>typeof window<"u"?window.matchMedia(a).matches:!1,[n,r]=y.useState(t(e));function i(){r(t(e))}return y.useEffect(()=>{const a=window.matchMedia(e);return i(),a.addListener?a.addListener(i):a.addEventListener("change",i),()=>{a.removeListener?a.removeListener(i):a.removeEventListener("change",i)}},[e]),n}function wNe(e={}){const t=y1(e.participant),{className:n,connectionQualityObserver:r}=y.useMemo(()=>FUe(t),[t]),i=Va(r,t.connectionQuality);return{className:n,quality:i}}function w6(e){const t=Pg(e),n=y.useMemo(()=>mUe(t),[t]);return Va(n,t.state)}function CNe(e){const t=b6(),n=w6(t);return{buttonProps:y.useMemo(()=>{const{className:r,disconnect:i}=IUe(t);return ol(e,{className:r,onClick:()=>i(e.stopTracks??!0),disabled:n===Kt.Disconnected})},[t,e,n])}}function BNe(e){if(e.publication instanceof m5){const t=e.publication.track;if(t){const{facingMode:n}=F6e(t);return n}}return"undefined"}function SNe({trackRef:e,props:t}){const n=_g(e),r=v1(),{className:i}=y.useMemo(()=>WUe(),[]),a=y.useMemo(()=>tte(n,r==null?void 0:r.pin.state),[n,r==null?void 0:r.pin.state]);return{mergedProps:y.useMemo(()=>ol(t,{className:i,onClick:o=>{var s,c,l,A,u;(s=t.onClick)==null||s.call(t,o),a?(l=r==null?void 0:(c=r.pin).dispatch)==null||l.call(c,{msg:"clear_pin"}):(u=r==null?void 0:(A=r.pin).dispatch)==null||u.call(A,{msg:"set_pin",trackReference:n})}}),[t,i,n,a,r==null?void 0:r.pin]),inFocus:a}}function xNe(e,t,n={}){const r=n.gridLayouts??XLe,{width:i,height:a}=bte(e),o=nte(r,t,i,a);return y.useEffect(()=>{e.current&&o&&(e.current.style.setProperty("--lk-col-count",o==null?void 0:o.columns.toString()),e.current.style.setProperty("--lk-row-count",o==null?void 0:o.rows.toString()))},[e,o]),{layout:o,containerWidth:i,containerHeight:a}}function p9(e,t={}){var n,r;const i=typeof e=="string"?t.participant:e.participant,a=y1(i),o=typeof e=="string"?{participant:a,source:e}:e,[s,c]=y.useState(!!((n=o.publication)!=null&&n.isMuted||(r=a.getTrackPublication(o.source))!=null&&r.isMuted));return y.useEffect(()=>{const l=lte(o).subscribe(c);return()=>l.unsubscribe()},[wi(o)]),s}function kNe(e){const t=y1(e),n=y.useMemo(()=>kUe(t),[t]);return Va(n,t.isSpeaking)}function ENe(){const e=b6(),t=y.useMemo(()=>EUe(e.localParticipant),[e]);return Va(t,e.localParticipant.permissions)}function TNe({kind:e,room:t,track:n,requestPermissions:r,onError:i}){const a=KB(),o=y.useMemo(()=>t??a??new hA,[t,a]),s=y.useMemo(()=>vUe(e,i,r),[e,r,i]),c=Va(s,[]),[l,A]=y.useState((o==null?void 0:o.getActiveDevice(e))??"default"),{className:u,activeDeviceObservable:d,setActiveMediaDevice:f}=y.useMemo(()=>PUe(e,o),[e,o,n]);return y.useEffect(()=>{const h=d.subscribe(p=>{p&&(Lt.info("setCurrentDeviceId",p),A(p))});return()=>{h==null||h.unsubscribe()}},[d]),{devices:c,className:u,activeDeviceId:l,setActiveMediaDevice:f}}function wte(e,t,n={}){const r=y.useRef([]),i=y.useRef(-1),a=t!==i.current,o=typeof n.customSortFunction=="function"?n.customSortFunction(e):aUe(e);let s=[...o];if(a===!1)try{s=hUe(r.current,o,t)}catch(c){Lt.error("Error while running updatePages(): ",c)}return a?r.current=o:r.current=s,i.current=t,s}function _Ne(e,t){const[n,r]=y.useState(1),i=Math.max(Math.ceil(t.length/e),1);n>i&&r(i);const a=n*e,o=a-e,s=A=>{r(u=>A==="next"?u===i?u:u+1:u===1?u:u-1)},c=A=>{A>i?r(i):A<1?r(1):r(A)},l=wte(t,e).slice(o,a);return{totalPageCount:i,nextPage:()=>s("next"),prevPage:()=>s("previous"),setPage:c,firstItemIndex:o,lastItemIndex:a,tracks:l,currentPage:n}}function PNe({trackRef:e,onParticipantClick:t,disableSpeakingIndicator:n,htmlProps:r}){const i=_g(e),a=y.useMemo(()=>{const{className:d}=UUe();return ol(r,{className:d,onClick:f=>{var h;if((h=r.onClick)==null||h.call(r,f),typeof t=="function"){const p=i.publication??i.participant.getTrackPublication(i.source);t({participant:i.participant,track:p})}}})},[r,t,i.publication,i.source,i.participant]),o=i.participant.getTrackPublication(ve.Source.Microphone),s=y.useMemo(()=>({participant:i.participant,source:ve.Source.Microphone,publication:o}),[o,i.participant]),c=p9(i),l=p9(s),A=kNe(i.participant),u=BNe(i);return{elementProps:{"data-lk-audio-muted":l,"data-lk-video-muted":c,"data-lk-speaking":n===!0?!1:A,"data-lk-local-participant":i.participant.isLocal,"data-lk-source":i.source,"data-lk-facing-mode":u,...a}}}function INe(e){return e=aNe(e),y.useMemo(()=>(e==null?void 0:e.pin.state)!==void 0&&e.pin.state.length>=1?e.pin.state:[],[e.pin.state])}function FNe({room:e,props:t}){const n=Pg(e),{className:r,roomAudioPlaybackAllowedObservable:i,handleStartAudioPlayback:a}=y.useMemo(()=>KUe(),[]),o=y.useMemo(()=>i(n),[n,i]),{canPlayAudio:s}=Va(o,{canPlayAudio:n.canPlaybackAudio});return{mergedProps:y.useMemo(()=>ol(t,{className:r,onClick:()=>{a(n)},style:{display:s?"none":"block"}}),[t,r,s,a,n]),canPlayAudio:s}}function ONe({room:e,props:t}){const n=Pg(e),{className:r,roomVideoPlaybackAllowedObservable:i,handleStartVideoPlayback:a}=y.useMemo(()=>VUe(),[]),o=y.useMemo(()=>i(n),[n,i]),{canPlayVideo:s}=Va(o,{canPlayVideo:n.canPlaybackVideo});return{mergedProps:y.useMemo(()=>ol(t,{className:r,onClick:()=>{a(n)},style:{display:s?"none":"block"}}),[t,r,s,a,n]),canPlayVideo:s}}function LNe(e,t={}){const n=y.useRef(null),r=y.useRef(null),i=t.minSwipeDistance??50,a=c=>{r.current=null,n.current=c.targetTouches[0].clientX},o=c=>{r.current=c.targetTouches[0].clientX},s=y.useCallback(()=>{if(!n.current||!r.current)return;const c=n.current-r.current,l=c>i,A=c<-i;l&&t.onLeftSwipe&&t.onLeftSwipe(),A&&t.onRightSwipe&&t.onRightSwipe()},[i,t]);y.useEffect(()=>{const c=e.current;return c&&(c.addEventListener("touchstart",a,{passive:!0}),c.addEventListener("touchmove",o,{passive:!0}),c.addEventListener("touchend",s,{passive:!0})),()=>{c&&(c.removeEventListener("touchstart",a),c.removeEventListener("touchmove",o),c.removeEventListener("touchend",s))}},[e,s])}function UNe({props:e}){const{dispatch:t,state:n}=fte().widget,{className:r}=y.useMemo(()=>zUe(),[]);return{mergedProps:y.useMemo(()=>ol(e,{className:r,onClick:()=>{t&&t({msg:"toggle_chat"})},"aria-pressed":n!=null&&n.showChat?"true":"false","data-lk-unread-msgs":n?n.unreadMessages<10?n.unreadMessages.toFixed(0):"9+":"0"}),[e,r,t,n])}}function NNe(e){var t,n;const r=_g(e),{className:i,mediaMutedObserver:a}=y.useMemo(()=>OUe(r),[wi(r)]);return{isMuted:Va(a,!!((t=r.publication)!=null&&t.isMuted||(n=r.participant.getTrackPublication(r.source))!=null&&n.isMuted)),className:i}}function MNe({source:e,onChange:t,initialState:n,captureOptions:r,publishOptions:i,onDeviceError:a,room:o,...s}){var c;const l=KB(),A=y.useMemo(()=>o??l,[o,l]),u=(c=A==null?void 0:A.localParticipant)==null?void 0:c.getTrackPublication(e),d=y.useRef(!1),{toggle:f,className:h,pendingObserver:p,enabledObserver:v}=y.useMemo(()=>A?TUe(e,A,r,i,a):_Ue(),[A,e,JSON.stringify(r),i]),m=Va(p,!1),w=Va(v,n??!!(u!=null&&u.isEnabled));y.useEffect(()=>{t==null||t(w,d.current),d.current=!1},[w,t]),y.useEffect(()=>{n!==void 0&&(Lt.debug("forcing initial toggle state",e,n),f(n))},[]);const B=y.useMemo(()=>ol(s,{className:h}),[s,h]),C=y.useCallback(S=>{var k;d.current=!0,f().catch(()=>d.current=!1),(k=s.onClick)==null||k.call(s,S)},[s,f]);return{toggle:f,enabled:w,pending:m,track:u,buttonProps:{...B,"aria-pressed":w,"data-lk-source":e,"data-lk-enabled":w,disabled:m,onClick:C}}}function Cte(e=[ve.Source.Camera,ve.Source.Microphone,ve.Source.ScreenShare,ve.Source.ScreenShareAudio,ve.Source.Unknown],t={}){const n=Pg(t.room),[r,i]=y.useState([]),[a,o]=y.useState([]),s=y.useMemo(()=>e.map(c=>ote(c)?c.source:c),[JSON.stringify(e)]);return y.useEffect(()=>{const c=qUe(n,s,{additionalRoomEvents:t.updateOnlyOn,onlySubscribed:t.onlySubscribed}).subscribe(({trackReferences:l,participants:A})=>{Lt.debug("setting track bundles",l,A),i(l),o(A)});return()=>c.unsubscribe()},[n,JSON.stringify(t.onlySubscribed),JSON.stringify(t.updateOnlyOn),JSON.stringify(e)]),y.useMemo(()=>{if(ste(e)){const c=DNe(e,a),l=Array.from(r);return a.forEach(A=>{c.has(A.identity)&&(c.get(A.identity)??[]).forEach(u=>{if(r.find(({participant:f,publication:h})=>A.identity===f.identity&&h.source===u))return;Lt.debug(`Add ${u} placeholder for participant ${A.identity}.`);const d={participant:A,source:u};l.push(d)})}),l}else return r},[r,a,e])}function RNe(e,t){const n=new Set(e);for(const r of t)n.delete(r);return n}function DNe(e,t){const n=new Map;if(ste(e)){const r=e.filter(i=>i.withPlaceholder).map(i=>i.source);t.forEach(i=>{const a=i.getTrackPublications().map(s=>{var c;return(c=s.track)==null?void 0:c.source}).filter(s=>s!==void 0),o=Array.from(RNe(new Set(r),new Set(a)));o.length>0&&n.set(i.identity,o)})}return n}function QNe(e){const t=Pg(e==null?void 0:e.room),n=w6(t),r=y.useMemo(()=>n===Kt.Disconnected,[n]),i=y.useMemo(()=>$Ue(t,e),[t,e,r]),a=Va(i.isSendingObservable,!1),o=Va(i.messageObservable,[]);return{send:i.send,chatMessages:o,isSending:a}}function jNe(e={}){const[t,n]=y.useState(iNe(e.defaults,e.preventLoad??!1)),r=y.useCallback(c=>{n(l=>({...l,audioEnabled:c}))},[]),i=y.useCallback(c=>{n(l=>({...l,videoEnabled:c}))},[]),a=y.useCallback(c=>{n(l=>({...l,audioDeviceId:c}))},[]),o=y.useCallback(c=>{n(l=>({...l,videoDeviceId:c}))},[]),s=y.useCallback(c=>{n(l=>({...l,username:c}))},[]);return y.useEffect(()=>{rNe(t,e.preventSave??!1)},[t,e.preventSave]),{userChoices:t,saveAudioInputEnabled:r,saveVideoInputEnabled:i,saveAudioInputDeviceId:a,saveVideoInputDeviceId:o,saveUsername:s}}function HNe(e,t={}){const n=y1(e),r=Pg(t.room),i=y.useMemo(()=>BUe(r,n),[r,n]);return Va(i,n.isLocal?n.isE2EEEnabled:!!(n!=null&&n.isEncrypted))}rte.AgentState;var T2={exports:{}},g9;function $Ne(){if(g9)return T2.exports;g9=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(C,S,k){return Function.prototype.apply.call(C,S,k)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:n=function(C){return Object.getOwnPropertyNames(C)};function r(C){console&&console.warn&&console.warn(C)}var i=Number.isNaN||function(C){return C!==C};function a(){a.init.call(this)}T2.exports=a,T2.exports.once=m,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(C){if(typeof C!="number"||C<0||i(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");o=C}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||i(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function c(C){return C._maxListeners===void 0?a.defaultMaxListeners:C._maxListeners}a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(C){for(var S=[],k=1;k<arguments.length;k++)S.push(arguments[k]);var _=C==="error",F=this._events;if(F!==void 0)_=_&&F.error===void 0;else if(!_)return!1;if(_){var P;if(S.length>0&&(P=S[0]),P instanceof Error)throw P;var U=new Error("Unhandled error."+(P?" ("+P.message+")":""));throw U.context=P,U}var T=F[C];if(T===void 0)return!1;if(typeof T=="function")t(T,this,S);else for(var O=T.length,H=h(T,O),k=0;k<O;++k)t(H[k],this,S);return!0};function l(C,S,k,_){var F,P,U;if(s(k),P=C._events,P===void 0?(P=C._events=Object.create(null),C._eventsCount=0):(P.newListener!==void 0&&(C.emit("newListener",S,k.listener?k.listener:k),P=C._events),U=P[S]),U===void 0)U=P[S]=k,++C._eventsCount;else if(typeof U=="function"?U=P[S]=_?[k,U]:[U,k]:_?U.unshift(k):U.push(k),F=c(C),F>0&&U.length>F&&!U.warned){U.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=C,T.type=S,T.count=U.length,r(T)}return C}a.prototype.addListener=function(C,S){return l(this,C,S,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(C,S){return l(this,C,S,!0)};function A(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(C,S,k){var _={fired:!1,wrapFn:void 0,target:C,type:S,listener:k},F=A.bind(_);return F.listener=k,_.wrapFn=F,F}a.prototype.once=function(C,S){return s(S),this.on(C,u(this,C,S)),this},a.prototype.prependOnceListener=function(C,S){return s(S),this.prependListener(C,u(this,C,S)),this},a.prototype.removeListener=function(C,S){var k,_,F,P,U;if(s(S),_=this._events,_===void 0)return this;if(k=_[C],k===void 0)return this;if(k===S||k.listener===S)--this._eventsCount===0?this._events=Object.create(null):(delete _[C],_.removeListener&&this.emit("removeListener",C,k.listener||S));else if(typeof k!="function"){for(F=-1,P=k.length-1;P>=0;P--)if(k[P]===S||k[P].listener===S){U=k[P].listener,F=P;break}if(F<0)return this;F===0?k.shift():p(k,F),k.length===1&&(_[C]=k[0]),_.removeListener!==void 0&&this.emit("removeListener",C,U||S)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(C){var S,k,_;if(k=this._events,k===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete k[C]),this;if(arguments.length===0){var F=Object.keys(k),P;for(_=0;_<F.length;++_)P=F[_],P!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(S=k[C],typeof S=="function")this.removeListener(C,S);else if(S!==void 0)for(_=S.length-1;_>=0;_--)this.removeListener(C,S[_]);return this};function d(C,S,k){var _=C._events;if(_===void 0)return[];var F=_[S];return F===void 0?[]:typeof F=="function"?k?[F.listener||F]:[F]:k?v(F):h(F,F.length)}a.prototype.listeners=function(C){return d(this,C,!0)},a.prototype.rawListeners=function(C){return d(this,C,!1)},a.listenerCount=function(C,S){return typeof C.listenerCount=="function"?C.listenerCount(S):f.call(C,S)},a.prototype.listenerCount=f;function f(C){var S=this._events;if(S!==void 0){var k=S[C];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function h(C,S){for(var k=new Array(S),_=0;_<S;++_)k[_]=C[_];return k}function p(C,S){for(;S+1<C.length;S++)C[S]=C[S+1];C.pop()}function v(C){for(var S=new Array(C.length),k=0;k<S.length;++k)S[k]=C[k].listener||C[k];return S}function m(C,S){return new Promise(function(k,_){function F(U){C.removeListener(S,P),_(U)}function P(){typeof C.removeListener=="function"&&C.removeListener("error",F),k([].slice.call(arguments))}B(C,S,P,{once:!0}),S!=="error"&&w(C,F,{once:!0})})}function w(C,S,k){typeof C.on=="function"&&B(C,"error",S,k)}function B(C,S,k,_){if(typeof C.on=="function")_.once?C.once(S,k):C.on(S,k);else if(typeof C.addEventListener=="function")C.addEventListener(S,function F(P){_.once&&C.removeEventListener(S,F),k(P)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}return T2.exports}$Ne();const Bte=y.forwardRef(function(e,t){const{mergedProps:n}=UNe({props:e});return y.createElement("button",{ref:t,...n},e.children)}),KNe=y.forwardRef(function(e,t){const{buttonProps:n}=CNe(e);return y.createElement("button",{ref:t,...n},e.children)}),VNe=e=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",...e},y.createElement("path",{d:"M1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708L11 10.293V4.5A1.5 1.5 0 0 0 9.5 3H3.707zM0 4.5a1.5 1.5 0 0 1 .943-1.393l9.532 9.533c-.262.224-.603.36-.975.36h-8A1.5 1.5 0 0 1 0 11.5z"}),y.createElement("path",{d:"m15.2 3.6-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),zNe=e=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",...e},y.createElement("path",{d:"M0 4.5A1.5 1.5 0 0 1 1.5 3h8A1.5 1.5 0 0 1 11 4.5v7A1.5 1.5 0 0 1 9.5 13h-8A1.5 1.5 0 0 1 0 11.5zM15.2 3.6l-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),WNe=e=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 24 24",...e},y.createElement("path",{fill:"#FFF",d:"M4.99 3.99a1 1 0 0 0-.697 1.717L10.586 12l-6.293 6.293a1 1 0 1 0 1.414 1.414L12 13.414l6.293 6.293a1 1 0 1 0 1.414-1.414L13.414 12l6.293-6.293a1 1 0 0 0-.727-1.717 1 1 0 0 0-.687.303L12 10.586 5.707 4.293a1 1 0 0 0-.717-.303z"})),GNe=e=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:18,fill:"none",...e},y.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 2.75A2.75 2.75 0 0 1 2.75 0h10.5A2.75 2.75 0 0 1 16 2.75v13.594a.75.75 0 0 1-1.234.572l-3.691-3.12a1.25 1.25 0 0 0-.807-.296H2.75A2.75 2.75 0 0 1 0 10.75v-8ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v8c0 .69.56 1.25 1.25 1.25h7.518c.65 0 1.279.23 1.775.65l2.457 2.077V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z",clipRule:"evenodd"}),y.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 4.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Z",clipRule:"evenodd"})),m9=e=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},y.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M5.293 2.293a1 1 0 0 1 1.414 0l4.823 4.823a1.25 1.25 0 0 1 0 1.768l-4.823 4.823a1 1 0 0 1-1.414-1.414L9.586 8 5.293 3.707a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})),qNe=e=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},y.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},y.createElement("path",{d:"M10 1.75h4.25m0 0V6m0-4.25L9 7M6 14.25H1.75m0 0V10m0 4.25L7 9"}))),YNe=e=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},y.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M8.961.894C8.875-.298 7.125-.298 7.04.894c-.066.912-1.246 1.228-1.76.472-.67-.99-2.186-.115-1.664.96.399.824-.465 1.688-1.288 1.289-1.076-.522-1.95.994-.961 1.665.756.513.44 1.693-.472 1.759-1.192.086-1.192 1.836 0 1.922.912.066 1.228 1.246.472 1.76-.99.67-.115 2.186.96 1.664.824-.399 1.688.465 1.289 1.288-.522 1.076.994 1.95 1.665.961.513-.756 1.693-.44 1.759.472.086 1.192 1.836 1.192 1.922 0 .066-.912 1.246-1.228 1.76-.472.67.99 2.186.115 1.664-.96-.399-.824.465-1.688 1.288-1.289 1.076.522 1.95-.994.961-1.665-.756-.513-.44-1.693.472-1.759 1.192-.086 1.192-1.836 0-1.922-.912-.066-1.228-1.246-.472-1.76.99-.67.115-2.186-.96-1.664-.824.399-1.688-.465-1.289-1.288.522-1.076-.994-1.95-1.665-.961-.513.756-1.693.44-1.759-.472ZM8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10Z",clipRule:"evenodd"})),XNe=e=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},y.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 2.75A2.75 2.75 0 0 1 4.75 0h6.5A2.75 2.75 0 0 1 14 2.75v10.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-.5a.75.75 0 0 1 1.5 0v.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25h-6.5c-.69 0-1.25.56-1.25 1.25v.5a.75.75 0 0 1-1.5 0v-.5Z",clipRule:"evenodd"}),y.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.78 7.47a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H1.75a.75.75 0 0 1 0-1.5h4.69l-.97-.97a.75.75 0 0 1 1.06-1.06l2.25 2.25Z",clipRule:"evenodd"})),JNe=e=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},y.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M4 6.104V4a4 4 0 1 1 8 0v2.104c1.154.326 2 1.387 2 2.646v4.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-4.5c0-1.259.846-2.32 2-2.646ZM5.5 4a2.5 2.5 0 0 1 5 0v2h-5V4Z",clipRule:"evenodd"})),ZNe=e=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",...e},y.createElement("path",{d:"M12.227 11.52a5.477 5.477 0 0 0 1.246-2.97.5.5 0 0 0-.995-.1 4.478 4.478 0 0 1-.962 2.359l-1.07-1.07C10.794 9.247 11 8.647 11 8V3a3 3 0 0 0-6 0v1.293L1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708zM8 12.5c.683 0 1.33-.152 1.911-.425l.743.743c-.649.359-1.378.59-2.154.66V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .995-.098A4.5 4.5 0 0 0 8 12.5z"}),y.createElement("path",{d:"M8.743 10.907 5 7.164V8a3 3 0 0 0 3.743 2.907z"})),e8e=e=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",...e},y.createElement("path",{fillRule:"evenodd",d:"M2.975 8.002a.5.5 0 0 1 .547.449 4.5 4.5 0 0 0 8.956 0 .5.5 0 1 1 .995.098A5.502 5.502 0 0 1 8.5 13.478V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .448-.547z",clipRule:"evenodd"}),y.createElement("path",{d:"M5 3a3 3 0 1 1 6 0v5a3 3 0 0 1-6 0z"})),t8e=e=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor",...e},y.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),y.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"})),n8e=e=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor",...e},y.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),y.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),y.createElement("g",{opacity:.25},y.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),y.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),r8e=e=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor",...e},y.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),y.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),y.createElement("g",{opacity:.25},y.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),y.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),y.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),i8e=e=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",...e},y.createElement("g",{opacity:.25},y.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}),y.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}))),Ste=e=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none",...e},y.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 2.75A2.75 2.75 0 0 1 2.75 0h14.5A2.75 2.75 0 0 1 20 2.75v10.5A2.75 2.75 0 0 1 17.25 16H2.75A2.75 2.75 0 0 1 0 13.25V2.75ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v10.5c0 .69.56 1.25 1.25 1.25h14.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z",clipRule:"evenodd"}),y.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.47 4.22a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1-1.06 1.06l-.97-.97v4.69a.75.75 0 0 1-1.5 0V6.56l-.97.97a.75.75 0 0 1-1.06-1.06l2.25-2.25Z",clipRule:"evenodd"})),a8e=e=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none",...e},y.createElement("g",{fill:"currentColor"},y.createElement("path",{d:"M7.28 4.22a.75.75 0 0 0-1.06 1.06L8.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L10 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L11.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L10 6.94z"}),y.createElement("path",{fillRule:"evenodd",d:"M2.75 0A2.75 2.75 0 0 0 0 2.75v10.5A2.75 2.75 0 0 0 2.75 16h14.5A2.75 2.75 0 0 0 20 13.25V2.75A2.75 2.75 0 0 0 17.25 0zM1.5 2.75c0-.69.56-1.25 1.25-1.25h14.5c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H2.75c-.69 0-1.25-.56-1.25-1.25z",clipRule:"evenodd"}))),v9=e=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},y.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 8 0Z",clipRule:"evenodd"}),y.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 12a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 8 12Z",clipRule:"evenodd",opacity:.7}),y.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 1.072a.75.75 0 0 1 .274 1.024l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 12 1.072Z",clipRule:"evenodd"}),y.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 11.464a.75.75 0 0 1 .274 1.025l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 6 11.464Z",clipRule:"evenodd",opacity:.6}),y.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.928 4a.75.75 0 0 1-.274 1.025l-2.165 1.25a.75.75 0 1 1-.75-1.3l2.165-1.25A.75.75 0 0 1 14.928 4Z",clipRule:"evenodd"}),y.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.536 10a.75.75 0 0 1-.275 1.024l-2.165 1.25a.75.75 0 0 1-.75-1.298l2.165-1.25A.75.75 0 0 1 4.536 10Z",clipRule:"evenodd",opacity:.5}),y.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16 8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 16 8Z",clipRule:"evenodd"}),y.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 8a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 8Z",clipRule:"evenodd",opacity:.4}),y.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.928 12a.75.75 0 0 1-1.024.274l-2.165-1.25a.75.75 0 0 1 .75-1.299l2.165 1.25A.75.75 0 0 1 14.928 12Z",clipRule:"evenodd",opacity:.9}),y.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.536 6a.75.75 0 0 1-1.025.275l-2.165-1.25a.75.75 0 1 1 .75-1.3l2.165 1.25A.75.75 0 0 1 4.536 6Z",clipRule:"evenodd",opacity:.3}),y.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 14.928a.75.75 0 0 1-1.024-.274l-1.25-2.165a.75.75 0 0 1 1.298-.75l1.25 2.165A.75.75 0 0 1 12 14.928Z",clipRule:"evenodd",opacity:.8}),y.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 4.536a.75.75 0 0 1-1.024-.275l-1.25-2.165a.75.75 0 1 1 1.299-.75l1.25 2.165A.75.75 0 0 1 6 4.536Z",clipRule:"evenodd",opacity:.2})),o8e=e=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},y.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},y.createElement("path",{d:"M13.25 7H9m0 0V2.75M9 7l5.25-5.25M2.75 9H7m0 0v4.25M7 9l-5.25 5.25"}))),s8e=y.forwardRef(function({trackRef:e,...t},n){const r=$B(),{mergedProps:i,inFocus:a}=SNe({trackRef:e??r,props:t});return y.createElement(HB.Consumer,null,o=>o!==void 0&&y.createElement("button",{ref:n,...i},t.children?t.children:a?y.createElement(o8e,null):y.createElement(qNe,null)))}),Yx=y.forwardRef(function({kind:e,initialSelection:t,onActiveDeviceChange:n,onDeviceListChange:r,onDeviceSelectError:i,exactMatch:a,track:o,requestPermissions:s,onError:c,...l},A){const u=KB(),d=y.useRef("default"),f=y.useCallback(k=>{u&&u.emit(we.MediaDevicesError,k),c==null||c(k)},[u,c]),{devices:h,activeDeviceId:p,setActiveMediaDevice:v,className:m}=TNe({kind:e,room:u,track:o,requestPermissions:s,onError:f});y.useEffect(()=>{t!==void 0&&v(t)},[v]),y.useEffect(()=>{typeof r=="function"&&r(h)},[r,h]),y.useEffect(()=>{p!==d.current&&(n==null||n(p)),d.current=p},[p]);const w=async k=>{try{await v(k,{exact:a??!0})}catch(_){if(_ instanceof Error)i==null||i(_);else throw _}},B=y.useMemo(()=>kA(l,{className:m},{className:"lk-list"}),[m,l]),C=!!h.find(k=>k.label.toLowerCase().startsWith("default"));function S(k,_,F){return k===_||!C&&F===0&&_==="default"}return y.createElement("ul",{ref:A,...B},h.map((k,_)=>y.createElement("li",{key:k.deviceId,id:k.deviceId,"data-lk-active":S(k.deviceId,p,_),"aria-selected":S(k.deviceId,p,_),role:"option"},y.createElement("button",{className:"lk-button",onClick:()=>w(k.deviceId)},k.label))))}),c8e=y.forwardRef(function({label:e,...t},n){const r=b6(),{mergedProps:i,canPlayAudio:a}=FNe({room:r,props:t}),{mergedProps:o,canPlayVideo:s}=ONe({room:r,props:i}),{style:c,...l}=o;return c.display=a&&s?"none":"block",y.createElement("button",{ref:n,style:c,...l},e??`Start ${a?"Video":"Audio"}`)});function xte(e,t){switch(e){case ve.Source.Microphone:return t?y.createElement(e8e,null):y.createElement(ZNe,null);case ve.Source.Camera:return t?y.createElement(zNe,null):y.createElement(VNe,null);case ve.Source.ScreenShare:return t?y.createElement(a8e,null):y.createElement(Ste,null);default:return}}function l8e(e){switch(e){case $s.Excellent:return y.createElement(t8e,null);case $s.Good:return y.createElement(n8e,null);case $s.Poor:return y.createElement(r8e,null);default:return y.createElement(i8e,null)}}const Xx=y.forwardRef(function({showIcon:e,...t},n){const{buttonProps:r,enabled:i}=MNe(t),[a,o]=y.useState(!1);return y.useEffect(()=>{o(!0)},[]),a&&y.createElement("button",{ref:n,...r},(e??!0)&&xte(t.source,i),t.children)}),A8e=y.forwardRef(function(e,t){const{className:n,quality:r}=wNe(e),i=y.useMemo(()=>({...kA(e,{className:n}),"data-lk-quality":r}),[r,e,n]);return y.createElement("div",{ref:t,...i},e.children??l8e(r))}),y9=y.forwardRef(function({participant:e,...t},n){const r=y1(e),{className:i,infoObserver:a}=y.useMemo(()=>LUe(r),[r]),{identity:o,name:s}=Va(a,{name:r.name,identity:r.identity,metadata:r.metadata}),c=y.useMemo(()=>kA(t,{className:i,"data-lk-participant-name":s}),[t,i,s]);return y.createElement("span",{ref:n,...c},s!==""?s:o,t.children)}),u8e=y.forwardRef(function({trackRef:e,show:t="always",...n},r){const{className:i,isMuted:a}=NNe(e),o=t==="always"||t==="muted"&&a||t==="unmuted"&&!a,s=y.useMemo(()=>kA(n,{className:i}),[i,n]);return o?y.createElement("div",{ref:r,...s,"data-lk-muted":a},n.children??xte(e.source,!a)):null}),d8e=e=>y.createElement("svg",{width:320,height:320,viewBox:"0 0 320 320",preserveAspectRatio:"xMidYMid meet",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},y.createElement("path",{d:"M160 180C204.182 180 240 144.183 240 100C240 55.8172 204.182 20 160 20C115.817 20 79.9997 55.8172 79.9997 100C79.9997 144.183 115.817 180 160 180Z",fill:"white",fillOpacity:.25}),y.createElement("path",{d:"M97.6542 194.614C103.267 191.818 109.841 192.481 115.519 195.141C129.025 201.466 144.1 205 159.999 205C175.899 205 190.973 201.466 204.48 195.141C210.158 192.481 216.732 191.818 222.345 194.614C262.703 214.719 291.985 253.736 298.591 300.062C300.15 310.997 291.045 320 280 320H39.9997C28.954 320 19.8495 310.997 21.4087 300.062C28.014 253.736 57.2966 214.72 97.6542 194.614Z",fill:"white",fillOpacity:.25}));function kte(e,t={}){const[n,r]=y.useState(UT(e)),[i,a]=y.useState(n==null?void 0:n.isMuted),[o,s]=y.useState(n==null?void 0:n.isSubscribed),[c,l]=y.useState(n==null?void 0:n.track),[A,u]=y.useState("landscape"),d=y.useRef(),{className:f,trackObserver:h}=y.useMemo(()=>gUe(e),[e.participant.sid??e.participant.identity,e.source,ii(e)&&e.publication.trackSid]);return y.useEffect(()=>{const p=h.subscribe(v=>{Lt.debug("update track",v),r(v),a(v==null?void 0:v.isMuted),s(v==null?void 0:v.isSubscribed),l(v==null?void 0:v.track)});return()=>p==null?void 0:p.unsubscribe()},[h]),y.useEffect(()=>{var p,v;return c&&(d.current&&c.detach(d.current),(p=t.element)!=null&&p.current&&!(e.participant.isLocal&&(c==null?void 0:c.kind)==="audio")&&c.attach(t.element.current)),d.current=(v=t.element)==null?void 0:v.current,()=>{d.current&&(c==null||c.detach(d.current))}},[c,t.element]),y.useEffect(()=>{var p,v;if(typeof((p=n==null?void 0:n.dimensions)==null?void 0:p.width)=="number"&&typeof((v=n==null?void 0:n.dimensions)==null?void 0:v.height)=="number"){const m=n.dimensions.width>n.dimensions.height?"landscape":"portrait";u(m)}},[n]),{publication:n,isMuted:i,isSubscribed:o,track:c,elementProps:kA(t.props,{className:f,"data-lk-local-participant":e.participant.isLocal,"data-lk-source":n==null?void 0:n.source,...(n==null?void 0:n.kind)==="video"&&{"data-lk-orientation":A}})}}var Jx,b9;function f8e(){if(b9)return Jx;b9=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,c=typeof S2=="object"&&S2&&S2.Object===Object&&S2,l=typeof self=="object"&&self&&self.Object===Object&&self,A=c||l||Function("return this")(),u=Object.prototype,d=u.toString,f=Math.max,h=Math.min,p=function(){return A.Date.now()};function v(S,k,_){var F,P,U,T,O,H,$=0,Z=!1,ae=!1,ie=!0;if(typeof S!="function")throw new TypeError(e);k=C(k)||0,m(_)&&(Z=!!_.leading,ae="maxWait"in _,U=ae?f(C(_.maxWait)||0,k):U,ie="trailing"in _?!!_.trailing:ie);function W(ce){var be=F,ee=P;return F=P=void 0,$=ce,T=S.apply(ee,be),T}function te(ce){return $=ce,O=setTimeout(R,k),Z?W(ce):T}function de(ce){var be=ce-H,ee=ce-$,ge=k-be;return ae?h(ge,U-ee):ge}function pe(ce){var be=ce-H,ee=ce-$;return H===void 0||be>=k||be<0||ae&&ee>=U}function R(){var ce=p();if(pe(ce))return z(ce);O=setTimeout(R,de(ce))}function z(ce){return O=void 0,ie&&F?W(ce):(F=P=void 0,T)}function X(){O!==void 0&&clearTimeout(O),$=0,F=H=P=O=void 0}function re(){return O===void 0?T:z(p())}function oe(){var ce=p(),be=pe(ce);if(F=arguments,P=this,H=ce,be){if(O===void 0)return te(H);if(ae)return O=setTimeout(R,k),W(H)}return O===void 0&&(O=setTimeout(R,k)),T}return oe.cancel=X,oe.flush=re,oe}function m(S){var k=typeof S;return!!S&&(k=="object"||k=="function")}function w(S){return!!S&&typeof S=="object"}function B(S){return typeof S=="symbol"||w(S)&&d.call(S)==n}function C(S){if(typeof S=="number")return S;if(B(S))return t;if(m(S)){var k=typeof S.valueOf=="function"?S.valueOf():S;S=m(k)?k+"":k}if(typeof S!="string")return S===0?S:+S;S=S.replace(r,"");var _=a.test(S);return _||o.test(S)?s(S.slice(2),_?2:8):i.test(S)?t:+S}return Jx=v,Jx}var h8e=f8e();const w9=Nee(h8e);function p8e(e){const t=y.useRef(e);t.current=e,y.useEffect(()=>()=>{t.current()},[])}function g8e(e,t=500,n){const r=y.useRef();p8e(()=>{r.current&&r.current.cancel()});const i=y.useMemo(()=>{const a=w9(e,t,n),o=(...s)=>a(...s);return o.cancel=()=>{a.cancel()},o.isPending=()=>!!r.current,o.flush=()=>a.flush(),o},[e,t,n]);return y.useEffect(()=>{r.current=w9(e,t,n)},[e,t,n]),i}function m8e(e,t,n){const r=(l,A)=>l===A,i=e instanceof Function?e():e,[a,o]=y.useState(i),s=y.useRef(i),c=g8e(o,t,n);return r(s.current,i)||(c(i),s.current=i),[a,c]}function v8e({threshold:e=0,root:t=null,rootMargin:n="0%",freezeOnceVisible:r=!1,initialIsIntersecting:i=!1,onChange:a}={}){var o;const[s,c]=y.useState(null),[l,A]=y.useState(()=>({isIntersecting:i,entry:void 0})),u=y.useRef();u.current=a;const d=((o=l.entry)==null?void 0:o.isIntersecting)&&r;y.useEffect(()=>{if(!s||!("IntersectionObserver"in window)||d)return;const p=new IntersectionObserver(v=>{const m=Array.isArray(p.thresholds)?p.thresholds:[p.thresholds];v.forEach(w=>{const B=w.isIntersecting&&m.some(C=>w.intersectionRatio>=C);A({isIntersecting:B,entry:w}),u.current&&u.current(B,w)})},{threshold:e,root:t,rootMargin:n});return p.observe(s),()=>{p.disconnect()}},[s,JSON.stringify(e),t,n,d,r]);const f=y.useRef(null);y.useEffect(()=>{var p;!s&&(p=l.entry)!=null&&p.target&&!r&&!d&&f.current!==l.entry.target&&(f.current=l.entry.target,A({isIntersecting:i,entry:void 0}))},[s,l.entry,r,d,i]);const h=[c,!!l.isIntersecting,l.entry];return h.ref=h[0],h.isIntersecting=h[1],h.entry=h[2],h}const y8e=y.forwardRef(function({onTrackClick:e,onClick:t,onSubscriptionStatusChanged:n,trackRef:r,manageSubscription:i,...a},o){const s=_g(r),c=y.useRef(null);y.useImperativeHandle(o,()=>c.current);const l=v8e({root:c.current}),[A]=m8e(l,3e3);y.useEffect(()=>{i&&s.publication instanceof v5&&(A==null?void 0:A.isIntersecting)===!1&&(l==null?void 0:l.isIntersecting)===!1&&s.publication.setSubscribed(!1)},[A,s,i]),y.useEffect(()=>{i&&s.publication instanceof v5&&(l==null?void 0:l.isIntersecting)===!0&&s.publication.setSubscribed(!0)},[l,s,i]);const{elementProps:u,publication:d,isSubscribed:f}=kte(s,{element:c,props:a});y.useEffect(()=>{n==null||n(!!f)},[f,n]);const h=p=>{t==null||t(p),e==null||e({participant:s==null?void 0:s.participant,track:d})};return y.createElement("video",{ref:c,...u,muted:!0,onClick:h})}),Ete=y.forwardRef(function({trackRef:e,onSubscriptionStatusChanged:t,volume:n,...r},i){const a=_g(e),o=y.useRef(null);y.useImperativeHandle(i,()=>o.current);const{elementProps:s,isSubscribed:c,track:l,publication:A}=kte(a,{element:o,props:r});return y.useEffect(()=>{t==null||t(!!c)},[c,t]),y.useEffect(()=>{l===void 0||n===void 0||(l instanceof wee?l.setVolume(n):Lt.warn("Volume can only be set on remote audio tracks."))},[n,l]),y.useEffect(()=>{A===void 0||r.muted===void 0||(A instanceof v5?A.setEnabled(!r.muted):Lt.warn("Can only call setEnabled on remote track publications."))},[r.muted,A,l]),y.createElement("audio",{ref:o,...s})});function b8e(e){const t=!!pte();return e.participant&&!t?y.createElement(hte.Provider,{value:e.participant},e.children):y.createElement(y.Fragment,null,e.children)}function w8e(e){const t=!!$B();return e.trackRef&&!t?y.createElement(v6.Provider,{value:e.trackRef},e.children):y.createElement(y.Fragment,null,e.children)}const NT=y.forwardRef(function({trackRef:e,children:t,onParticipantClick:n,disableSpeakingIndicator:r,...i},a){var o,s;const c=_g(e),{elementProps:l}=PNe({htmlProps:i,disableSpeakingIndicator:r,onParticipantClick:n,trackRef:c}),A=HNe(c.participant),u=v1(),d=(o=cNe())==null?void 0:o.autoSubscription,f=y.useCallback(h=>{c.source&&!h&&u&&u.pin.dispatch&&tte(c,u.pin.state)&&u.pin.dispatch({msg:"clear_pin"})},[c,u]);return y.createElement("div",{ref:a,style:{position:"relative"},...l},y.createElement(w8e,{trackRef:c},y.createElement(b8e,{participant:c.participant},t??y.createElement(y.Fragment,null,ii(c)&&(((s=c.publication)==null?void 0:s.kind)==="video"||c.source===ve.Source.Camera||c.source===ve.Source.ScreenShare)?y.createElement(y8e,{trackRef:c,onSubscriptionStatusChanged:f,manageSubscription:d}):ii(c)&&y.createElement(Ete,{trackRef:c,onSubscriptionStatusChanged:f}),y.createElement("div",{className:"lk-participant-placeholder"},y.createElement(d8e,null)),y.createElement("div",{className:"lk-participant-metadata"},y.createElement("div",{className:"lk-participant-metadata-item"},c.source===ve.Source.Camera?y.createElement(y.Fragment,null,A&&y.createElement(JNe,{style:{marginRight:"0.25rem"}}),y.createElement(u8e,{trackRef:{participant:c.participant,source:ve.Source.Microphone},show:"muted"}),y.createElement(y9,null)):y.createElement(y.Fragment,null,y.createElement(Ste,{style:{marginRight:"0.25rem"}}),y.createElement(y9,null,"'s screen"))),y.createElement(A8e,{className:"lk-participant-metadata-item"}))),y.createElement(s8e,{trackRef:c}))))});function C8e(e){const t=kA(e,{className:"lk-focus-layout"});return y.createElement("div",{...t},e.children)}function B8e({trackRef:e,...t}){return y.createElement(NT,{trackRef:e,...t})}function Tte({tracks:e,...t}){return y.createElement(y.Fragment,null,e.map(n=>y.createElement(v6.Provider,{value:n,key:wi(n)},yte(t.children))))}function S8e({totalPageCount:e,nextPage:t,prevPage:n,currentPage:r,pagesContainer:i}){const[a,o]=y.useState(!1);return y.useEffect(()=>{let s;return i&&(s=YUe(i.current,2e3).subscribe(o)),()=>{s&&s.unsubscribe()}},[i]),y.createElement("div",{className:"lk-pagination-control","data-lk-user-interaction":a},y.createElement("button",{className:"lk-button",onClick:n},y.createElement(m9,null)),y.createElement("span",{className:"lk-pagination-count"},`${r} of ${e}`),y.createElement("button",{className:"lk-button",onClick:t},y.createElement(m9,null)))}const x8e=y.forwardRef(function({totalPageCount:e,currentPage:t},n){const r=new Array(e).fill("").map((i,a)=>a+1===t?y.createElement("span",{"data-lk-active":!0,key:a}):y.createElement("span",{key:a}));return y.createElement("div",{ref:n,className:"lk-pagination-indicator"},r)});function k8e({tracks:e,...t}){const n=y.createRef(),r=y.useMemo(()=>kA(t,{className:"lk-grid-layout"}),[t]),{layout:i}=xNe(n,e.length),a=_Ne(i.maxTiles,e);return LNe(n,{onLeftSwipe:a.nextPage,onRightSwipe:a.prevPage}),y.createElement("div",{ref:n,"data-lk-pagination":a.totalPageCount>1,...r},y.createElement(Tte,{tracks:a.tracks},t.children),e.length>i.maxTiles&&y.createElement(y.Fragment,null,y.createElement(x8e,{totalPageCount:a.totalPageCount,currentPage:a.currentPage}),y.createElement(S8e,{pagesContainer:n,...a})))}const E8e=130,T8e=140,_8e=1,_te=16/10,P8e=(1-_te)*-1;function I8e({tracks:e,orientation:t,...n}){const r=y.useRef(null),[i,a]=y.useState(0),{width:o,height:s}=bte(r),c=t||(s>=o?"vertical":"horizontal"),l=c==="vertical"?Math.max(o*P8e,E8e):Math.max(s*_te,T8e),A=KLe(),u=Math.max(c==="vertical"?(s-A)/l:(o-A)/l,_8e);let d=Math.round(u);Math.abs(u-i)<.5?d=Math.round(i):i!==u&&a(u);const f=wte(e,d);return y.useLayoutEffect(()=>{r.current&&(r.current.dataset.lkOrientation=c,r.current.style.setProperty("--lk-max-visible-tiles",d.toString()))},[d,c]),y.createElement("aside",{key:c,className:"lk-carousel",ref:r,...n},y.createElement(Tte,{tracks:f},n.children))}function F8e({value:e,onPinChange:t,onWidgetChange:n,children:r}){const i=sNe(e);return y.useEffect(()=>{Lt.debug("PinState Updated",{state:i.pin.state}),t&&i.pin.state&&t(i.pin.state)},[i.pin.state,t]),y.useEffect(()=>{Lt.debug("Widget Updated",{widgetState:i.widget.state}),n&&i.widget.state&&n(i.widget.state)},[n,i.widget.state]),y.createElement(HB.Provider,{value:i},r)}function O8e({room:e,volume:t,muted:n}){const r=Cte([ve.Source.Microphone,ve.Source.ScreenShareAudio,ve.Source.Unknown],{updateOnlyOn:[],onlySubscribed:!0,room:e}).filter(i=>!i.participant.isLocal&&i.publication.kind===ve.Kind.Audio);return y.createElement("div",{style:{display:"none"}},r.map(i=>y.createElement(Ete,{key:wi(i),trackRef:i,volume:t,muted:n})))}function L8e(e){const t=y.useMemo(()=>kA(e,{className:"lk-toast"}),[e]);return y.createElement("div",{...t},e.children)}function U8e(e){const[t,n]=y.useState(void 0),r=w6(e.room);return y.useEffect(()=>{switch(r){case Kt.Reconnecting:n(y.createElement(y.Fragment,null,y.createElement(v9,{className:"lk-spinner"})," Reconnecting"));break;case Kt.Connecting:n(y.createElement(y.Fragment,null,y.createElement(v9,{className:"lk-spinner"})," Connecting"));break;case Kt.Disconnected:n(y.createElement(y.Fragment,null,"Disconnected"));break;default:n(void 0);break}},[r]),t?y.createElement(L8e,{className:"lk-toast-connection-state"},t):y.createElement(y.Fragment,null)}const N8e=y.forwardRef(function({entry:e,hideName:t=!1,hideTimestamp:n=!1,messageFormatter:r,...i},a){var o,s,c,l;const A=y.useMemo(()=>r?r(e.message):e.message,[e.message,r]),u=!!e.editTimestamp,d=new Date(e.timestamp),f=typeof navigator<"u"?navigator.language:"en-US",h=((o=e.from)==null?void 0:o.name)??((s=e.from)==null?void 0:s.identity);return y.createElement("li",{ref:a,className:"lk-chat-entry",title:d.toLocaleTimeString(f,{timeStyle:"full"}),"data-lk-message-origin":(c=e.from)!=null&&c.isLocal?"local":"remote",...i},(!n||!t||u)&&y.createElement("span",{className:"lk-meta-data"},!t&&y.createElement("strong",{className:"lk-participant-name"},h),(!n||u)&&y.createElement("span",{className:"lk-timestamp"},u&&"edited ",d.toLocaleTimeString(f,{timeStyle:"short"}))),y.createElement("span",{className:"lk-message-body"},A),y.createElement("span",{className:"lk-message-attachements"},(l=e.attachedFiles)==null?void 0:l.map(p=>p.type.startsWith("image/")&&y.createElement("img",{style:{maxWidth:"300px",maxHeight:"300px"},key:p.name,src:URL.createObjectURL(p),alt:p.name}))))});function M8e({messageFormatter:e,messageDecoder:t,messageEncoder:n,channelTopic:r,...i}){const a=y.useRef(null),o=y.useRef(null),s=y.useMemo(()=>({messageDecoder:t,messageEncoder:n,channelTopic:r}),[t,n,r]),{chatMessages:c,send:l,isSending:A}=QNe(s),u=v1(),d=y.useRef(0);async function f(h){h.preventDefault(),o.current&&o.current.value.trim()!==""&&(await l(o.current.value),o.current.value="",o.current.focus())}return y.useEffect(()=>{var h;a&&((h=a.current)==null||h.scrollTo({top:a.current.scrollHeight}))},[a,c]),y.useEffect(()=>{var h,p,v,m,w;if(!u||c.length===0)return;if((h=u.widget.state)!=null&&h.showChat&&c.length>0&&d.current!==((p=c[c.length-1])==null?void 0:p.timestamp)){d.current=(v=c[c.length-1])==null?void 0:v.timestamp;return}const B=c.filter(S=>!d.current||S.timestamp>d.current).length,{widget:C}=u;B>0&&((m=C.state)==null?void 0:m.unreadMessages)!==B&&((w=C.dispatch)==null||w.call(C,{msg:"unread_msg",count:B}))},[c,u==null?void 0:u.widget]),y.createElement("div",{...i,className:"lk-chat"},y.createElement("div",{className:"lk-chat-header"},"Messages",u&&y.createElement(Bte,{className:"lk-close-button"},y.createElement(WNe,null))),y.createElement("ul",{className:"lk-list lk-chat-messages",ref:a},i.children?c.map((h,p)=>yte(i.children,{entry:h,key:h.id??p,messageFormatter:e})):c.map((h,p,v)=>{const m=p>=1&&v[p-1].from===h.from,w=p>=1&&h.timestamp-v[p-1].timestamp<6e4;return y.createElement(N8e,{key:h.id??p,hideName:m,hideTimestamp:m===!1?!1:w,entry:h,messageFormatter:e})})),y.createElement("form",{className:"lk-chat-form",onSubmit:f},y.createElement("input",{className:"lk-form-control lk-chat-form-input",disabled:A,ref:o,type:"text",placeholder:"Enter a message...",onInput:h=>h.stopPropagation(),onKeyDown:h=>h.stopPropagation(),onKeyUp:h=>h.stopPropagation()}),y.createElement("button",{type:"submit",className:"lk-button lk-chat-form-button",disabled:A},"Send")))}function C9({kind:e,initialSelection:t,onActiveDeviceChange:n,tracks:r,requestPermissions:i=!1,...a}){const[o,s]=y.useState(!1),[c,l]=y.useState([]),[A,u]=y.useState(!0),[d,f]=y.useState(i),h=(w,B)=>{Lt.debug("handle device change"),s(!1),n==null||n(w,B)},p=y.useRef(null),v=y.useRef(null);y.useLayoutEffect(()=>{o&&f(!0)},[o]),y.useLayoutEffect(()=>{let w;return p.current&&v.current&&(c||A)&&(w=zLe(p.current,v.current,(B,C)=>{v.current&&Object.assign(v.current.style,{left:`${B}px`,top:`${C}px`})})),u(!1),()=>{w==null||w()}},[p,v,c,A]);const m=y.useCallback(w=>{v.current&&w.target!==p.current&&o&&WLe(v.current,w)&&s(!1)},[o,v,p]);return y.useEffect(()=>(document.addEventListener("click",m),()=>{document.removeEventListener("click",m)}),[m]),y.createElement(y.Fragment,null,y.createElement("button",{className:"lk-button lk-button-menu","aria-pressed":o,...a,onClick:()=>s(!o),ref:p},a.children),!a.disabled&&y.createElement("div",{className:"lk-device-menu",ref:v,style:{visibility:o?"visible":"hidden"}},e?y.createElement(Yx,{initialSelection:t,onActiveDeviceChange:w=>h(e,w),onDeviceListChange:l,kind:e,track:r==null?void 0:r[e],requestPermissions:d}):y.createElement(y.Fragment,null,y.createElement("div",{className:"lk-device-menu-heading"},"Audio inputs"),y.createElement(Yx,{kind:"audioinput",onActiveDeviceChange:w=>h("audioinput",w),onDeviceListChange:l,track:r==null?void 0:r.audioinput,requestPermissions:d}),y.createElement("div",{className:"lk-device-menu-heading"},"Video inputs"),y.createElement(Yx,{kind:"videoinput",onActiveDeviceChange:w=>h("videoinput",w),onDeviceListChange:l,track:r==null?void 0:r.videoinput,requestPermissions:d}))))}function R8e(){y.useEffect(()=>{uNe()},[])}function D8e({props:e}){const{dispatch:t,state:n}=fte().widget,r="lk-button lk-settings-toggle";return{mergedProps:y.useMemo(()=>ol(e,{className:r,onClick:()=>{t&&t({msg:"toggle_settings"})},"aria-pressed":n!=null&&n.showSettings?"true":"false"}),[e,r,t,n])}}const Q8e=y.forwardRef(function(e,t){const{mergedProps:n}=D8e({props:e});return y.createElement("button",{ref:t,...n},e.children)}),j8e=e=>{switch(e){case ve.Source.Camera:return 1;case ve.Source.Microphone:return 2;case ve.Source.ScreenShare:return 3;default:return 0}};function H8e({variation:e,controls:t,saveUserChoices:n=!0,onDeviceError:r,...i}){var a;const[o,s]=y.useState(!1),c=v1();y.useEffect(()=>{var P,U;((P=c==null?void 0:c.widget.state)==null?void 0:P.showChat)!==void 0&&s((U=c==null?void 0:c.widget.state)==null?void 0:U.showChat)},[(a=c==null?void 0:c.widget.state)==null?void 0:a.showChat]);const l=bNe(`(max-width: ${o?1e3:760}px)`)?"minimal":"verbose";e??(e=l);const A={leave:!0,...t},u=ENe();if(!u)A.camera=!1,A.chat=!1,A.microphone=!1,A.screenShare=!1;else{const P=U=>u.canPublish&&(u.canPublishSources.length===0||u.canPublishSources.includes(j8e(U)));A.camera??(A.camera=P(ve.Source.Camera)),A.microphone??(A.microphone=P(ve.Source.Microphone)),A.screenShare??(A.screenShare=P(ve.Source.ScreenShare)),A.chat??(A.chat=u.canPublishData&&(t==null?void 0:t.chat))}const d=y.useMemo(()=>e==="minimal"||e==="verbose",[e]),f=y.useMemo(()=>e==="textOnly"||e==="verbose",[e]),h=ZLe(),[p,v]=y.useState(!1),m=y.useCallback(P=>{v(P)},[v]),w=kA({className:"lk-control-bar"},i),{saveAudioInputEnabled:B,saveVideoInputEnabled:C,saveAudioInputDeviceId:S,saveVideoInputDeviceId:k}=jNe({preventSave:!n}),_=y.useCallback((P,U)=>U?B(P):null,[B]),F=y.useCallback((P,U)=>U?C(P):null,[C]);return y.createElement("div",{...w},A.microphone&&y.createElement("div",{className:"lk-button-group"},y.createElement(Xx,{source:ve.Source.Microphone,showIcon:d,onChange:_,onDeviceError:P=>r==null?void 0:r({source:ve.Source.Microphone,error:P})},f&&"Microphone"),y.createElement("div",{className:"lk-button-group-menu"},y.createElement(C9,{kind:"audioinput",onActiveDeviceChange:(P,U)=>S(U??"default")}))),A.camera&&y.createElement("div",{className:"lk-button-group"},y.createElement(Xx,{source:ve.Source.Camera,showIcon:d,onChange:F,onDeviceError:P=>r==null?void 0:r({source:ve.Source.Camera,error:P})},f&&"Camera"),y.createElement("div",{className:"lk-button-group-menu"},y.createElement(C9,{kind:"videoinput",onActiveDeviceChange:(P,U)=>k(U??"default")}))),A.screenShare&&h&&y.createElement(Xx,{source:ve.Source.ScreenShare,captureOptions:{audio:!0,selfBrowserSurface:"include"},showIcon:d,onChange:m,onDeviceError:P=>r==null?void 0:r({source:ve.Source.ScreenShare,error:P})},f&&(p?"Stop screen share":"Share screen")),A.chat&&y.createElement(Bte,null,d&&y.createElement(GNe,null),f&&"Chat"),A.settings&&y.createElement(Q8e,null,d&&y.createElement(YNe,null),f&&"Settings"),A.leave&&y.createElement(KNe,null,d&&y.createElement(XNe,null),f&&"Leave"),y.createElement(c8e,null))}function $8e({chatMessageFormatter:e,chatMessageDecoder:t,chatMessageEncoder:n,SettingsComponent:r,...i}){var a,o;const[s,c]=y.useState({showChat:!1,unreadMessages:0,showSettings:!1}),l=y.useRef(null),A=Cte([{source:ve.Source.Camera,withPlaceholder:!0},{source:ve.Source.ScreenShare,withPlaceholder:!1}],{updateOnlyOn:[we.ActiveSpeakersChanged],onlySubscribed:!1}),u=v=>{Lt.debug("updating widget state",v),c(v)},d=oNe(),f=A.filter(ii).filter(v=>v.publication.source===ve.Source.ScreenShare),h=(a=INe(d))==null?void 0:a[0],p=A.filter(v=>!HLe(v,h));return y.useEffect(()=>{var v,m,w,B,C,S;if(f.some(k=>k.publication.isSubscribed)&&l.current===null?(Lt.debug("Auto set screen share focus:",{newScreenShareTrack:f[0]}),(m=(v=d.pin).dispatch)==null||m.call(v,{msg:"set_pin",trackReference:f[0]}),l.current=f[0]):l.current&&!f.some(k=>{var _,F;return k.publication.trackSid===((F=(_=l.current)==null?void 0:_.publication)==null?void 0:F.trackSid)})&&(Lt.debug("Auto clearing screen share focus."),(B=(w=d.pin).dispatch)==null||B.call(w,{msg:"clear_pin"}),l.current=null),h&&!ii(h)){const k=A.find(_=>_.participant.identity===h.participant.identity&&_.source===h.source);k!==h&&ii(k)&&((S=(C=d.pin).dispatch)==null||S.call(C,{msg:"set_pin",trackReference:k}))}},[f.map(v=>`${v.publication.trackSid}_${v.publication.isSubscribed}`).join(),(o=h==null?void 0:h.publication)==null?void 0:o.trackSid,A]),R8e(),y.createElement("div",{className:"lk-video-conference",...i},VLe()&&y.createElement(F8e,{value:d,onWidgetChange:u},y.createElement("div",{className:"lk-video-conference-inner"},h?y.createElement("div",{className:"lk-focus-layout-wrapper"},y.createElement(C8e,null,y.createElement(I8e,{tracks:p},y.createElement(NT,null)),h&&y.createElement(B8e,{trackRef:h}))):y.createElement("div",{className:"lk-grid-layout-wrapper"},y.createElement(k8e,{tracks:A},y.createElement(NT,null))),y.createElement(H8e,{controls:{chat:!0,settings:!!r}})),y.createElement(M8e,{style:{display:s.showChat?"grid":"none"},messageFormatter:e,messageEncoder:n,messageDecoder:t}),r&&y.createElement("div",{className:"lk-settings-menu-modal",style:{display:s.showSettings?"block":"none"}},y.createElement(r,null))),y.createElement(O8e,null),y.createElement(U8e,null))}function K8e(e){return`${(e||"guest").toLowerCase().replace(/[^a-z0-9]+/g,"-").slice(0,24)||"guest"}-${Math.random().toString(36).slice(2,8)}`}function V8e({roomId:e,userName:t,roomOptions:n,onLeave:r}){const[i,a]=y.useState(null),[o,s]=y.useState(null),[c,l]=y.useState(null),A=y.useMemo(()=>K8e(t),[t]),u=typeof window<"u"?`${window.location.origin}/meeting/${e}?name=${encodeURIComponent(t)}&sfu=1`:"",d=y.useCallback(()=>{u&&navigator.clipboard.writeText(u).catch(()=>{})},[u]);return y.useEffect(()=>{let f=!1;return(async()=>{try{l(null);const h=await fetch("/livekit/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({room:e,identity:A,name:t})}),p=await h.json().catch(()=>({}));if(!h.ok)throw new Error((p==null?void 0:p.error)||`Token request failed (${h.status})`);if(f)return;a(p.token),s(p.url)}catch(h){if(f)return;l((h==null?void 0:h.message)||"Failed to start SFU meeting")}})(),()=>{f=!0}},[e,A,t,n==null?void 0:n.password]),c?L.jsxs("div",{className:"sfu-fallback",children:[L.jsx("h2",{children:"SFU meeting failed"}),L.jsx("p",{children:c}),L.jsx("button",{type:"button",onClick:r,children:"Back"}),L.jsx("style",{children:`
          .sfu-fallback { min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 12px; padding: 24px; background: #0d0f12; color: #e6e9ef; }
          .sfu-fallback h2 { margin: 0; }
          .sfu-fallback p { margin: 0; color: #8b92a0; max-width: 520px; text-align: center; }
          .sfu-fallback button { padding: 10px 18px; background: #5b7fff; color: white; border-radius: 8px; font-weight: 600; border: none; }
        `})]}):!i||!o?L.jsxs("div",{className:"sfu-fallback",children:[L.jsx("p",{children:"Connecting to SFU"}),L.jsx("button",{type:"button",onClick:r,children:"Cancel"}),L.jsx("style",{children:`
          .sfu-fallback { min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 12px; padding: 24px; background: #0d0f12; color: #e6e9ef; }
          .sfu-fallback button { padding: 10px 18px; background: #161a20; color: #e6e9ef; border-radius: 8px; font-weight: 600; border: 1px solid #2a313c; }
        `})]}):L.jsxs("div",{className:"sfu-room",children:[L.jsxs("header",{className:"sfu-header",children:[L.jsxs("span",{className:"sfu-id",children:["Meeting (SFU): ",e]}),L.jsx("button",{type:"button",className:"sfu-copy",onClick:d,children:"Copy invite link"})]}),L.jsx(pNe,{serverUrl:o,token:i,connect:!0,video:!0,audio:!0,onDisconnected:r,"data-lk-theme":"default",style:{flex:1,minHeight:0},children:L.jsx($8e,{})}),L.jsx("style",{children:`
        .sfu-room { height: 100vh; display: flex; flex-direction: column; background: #0d0f12; color: #e6e9ef; }
        .sfu-header { flex-shrink: 0; padding: 10px 20px; background: #161a20; border-bottom: 1px solid #2a313c; display: flex; justify-content: space-between; align-items: center; gap: 12px; }
        .sfu-id { font-size: 14px; color: #8b92a0; }
        .sfu-copy { padding: 8px 14px; background: #1c2129; color: #e6e9ef; border-radius: 8px; border: 1px solid #2a313c; font-size: 13px; font-weight: 500; }
        .lk-video-conference { flex: 1; min-height: 0; }
      `})]})}function z8e(e){const t=e.get("create")==="1",n=e.get("sfu")==="1";if(!t)return{create:!1,password:e.get("password")||null,sfu:n};const r=e.get("scheduled"),i=e.get("expiry");return{create:!0,password:e.get("password")||null,scheduledAt:r||null,expiryMinutes:i!=null?Number(i):30,waitingRoom:e.get("waiting")==="1",sfu:n}}function W8e(){const{roomId:e}=vae(),[t]=Dae(),n=t.get("name")||"Guest",r=U_(),i=y.useMemo(()=>z8e(t),[t]),a=i==null?void 0:i.sfu,[o,s]=y.useState(null),[c,l]=y.useState(null),A=y.useRef(null);y.useEffect(()=>{if(a)return;let d=null;return(async()=>{try{d=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0}),A.current=d,s(d)}catch(f){l((f==null?void 0:f.message)||"Camera/microphone access denied")}})(),()=>{d==null||d.getTracks().forEach(f=>f.stop())}},[a]);const u=()=>{o==null||o.getTracks().forEach(d=>d.stop()),r("/",{replace:!0})};return a?L.jsx(V8e,{roomId:e,userName:n,roomOptions:i,onLeave:()=>r("/",{replace:!0})}):c?L.jsxs("div",{className:"meeting-fallback",children:[L.jsx("p",{children:c}),L.jsx("button",{type:"button",onClick:()=>r("/"),children:"Back"}),L.jsx("style",{children:`.meeting-fallback { min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 16px; padding: 24px; }
.meeting-fallback button { padding: 10px 20px; background: var(--accent); color: white; border-radius: 8px; font-weight: 600; }
.meeting-fallback button:hover { background: var(--accent-hover); }`})]}):o?L.jsx(o_e,{roomId:e,userName:n,roomOptions:i,localStream:o,localStreamRef:A,onLeave:u}):L.jsxs("div",{className:"meeting-fallback",children:[L.jsx("p",{children:"Starting camera and microphone"}),L.jsx("style",{children:".meeting-fallback { min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 16px; padding: 24px; }"})]})}function G8e(){return L.jsxs(Lae,{children:[L.jsx(W3,{path:"/",element:L.jsx(Hae,{})}),L.jsx(W3,{path:"/meeting/:roomId",element:L.jsx(W8e,{})})]})}Zx.createRoot(document.getElementById("root")).render(L.jsx(O9.StrictMode,{children:L.jsx(Rae,{children:L.jsx(G8e,{})})}));export{pn as _,Y8e as c,Gu as g};
